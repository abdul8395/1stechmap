(self.webpackChunk=self.webpackChunk||[]).push([[3524],{44258:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});const r='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z"/>\n  <path fill="#ffffff" d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"/>\n  <path fill="currentColor" d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"/>\n  <path fill="#ffffff" d="M11 16C13.7614 16 16 13.7614 16 11C16 8.23858 13.7614 6 11 6C8.23858 6 6 8.23858 6 11C6 13.7614 8.23858 16 11 16Z"/>\n</svg>\n'},49185:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});const r='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"/>\n  <path fill="#ffffff" d="M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z"/>\n  <path fill="currentColor" d="M9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15Z"/>\n  <path fill="#ffffff" fill-opacity="0.5" d="M9 13C11.2091 13 13 11.2091 13 9C13 6.79086 11.2091 5 9 5C6.79086 5 5 6.79086 5 9C5 11.2091 6.79086 13 9 13Z"/>\n</svg>'},31629:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(61700);function i(){return(0,r.C)({isViewportChanged:!0})}},28956:(e,t,s)=>{"use strict";var r=s(31085),i=s(95305),a=s(25873),n=s(14041),o=s(68520),c=s(82393);function d(e){return t=>s=>r=>{switch(r.type){case"UI/SET_LANG":{const s=(0,c.n$)(t.getState()),i=s&&s.country_code||"ru";e.setLocale({lang:r.payload.lang,countryCode:i});break}case"I18N/SET_LOCALE":e.setLocale(r.payload);break;case"I18N/WITH_INTL":{const s=r.payload(e);if(s)return t.dispatch(s);break}}return s(r)}}var l=s(10753),u=s(46287),p=s(97980),m=s(42853),g=s(42793),h=s(79658);const f=function(){let e;return(t,s,r)=>{const i=function(e,t){const s=e.appContext.frames[0],{brandName:r}=t;if(!s){const t=(0,c.Pm)(e);return{title:`${t.admDiv.data&&t.admDiv.data.name||"Global"} — 1stech`}}switch(s.type){case"entity":case"gallery":return(({state:e,entityId:t,brandName:s})=>{const r=(0,u.DE)({state:e,entityId:t}).data;if(r)switch(r.type){case"branch":return r.name_ex.extension?{title:`${r.name_ex.primary}, ${r.name_ex.extension} — 1stech`}:{title:`${r.name_ex.primary} — 1stech`};case"attraction":return{title:`${(0,h.q)(r.name,r.subtype_name)} — 1stech`};case"building":case"route":case"station_platform":case"street":case"adm_div":case"crossroad":case"parking":case"gate":case"road":return r.name?{title:`${r.name} — 1stech`}:{title:"— 1stech"};default:return{title:"— 1stech"}}return{title:"— 1stech"}})({state:e,entityId:s.entityId,brandName:r});case"search":return((e,t)=>"search"===e.type&&e.query?{title:`${e.query} — 1stech`}:{title:"— 1stech"})(s);case"product":return(({state:e,productId:t,brandName:s})=>{const r=(0,p.z5)({state:e,productId:t}).data;return r?{title:`${r.product.name} — 1stech`}:{title:"— 1stech"}})({state:e,productId:s.productId,brandName:r});default:return{title:"— 1stech"}}}(t.getState(),r);i&&!(0,m.A)(e,i)&&(e=i,window.isServerRendered||(s.setTitle(i.title),t.dispatch((0,g.v)())))}}();function b(e,t){return s=>r=>i=>{r(i),f(s,e,t)}}const v=window,y=()=>({location:window.location,open:(e,t,s)=>window.open(e,t,s),reload(e=!1){window.location.reload(e)},delayClose(e=0){v.setTimeout((()=>v.close()),e)},historyPush(e,t){v.history.pushState(e,"",t)},historyReplace(e,t){v.history.replaceState(e,"",t)},historyBack(){v.history.back()},setTitle(e){v.document.title=e}});var x=s(60118),j=s(12017),w=s(12690),_=s(89415),C=s(29787),I=s(91565),k=s(66698),O=s(95993),S=s(51883),T=s(11776),E=s(63041),M=s(77027),P=s(9729),L=s(2575),N=s(51557),A=s(7335),R=s(57744),z=s(53157),U=s(1321),B=s(92854),H=s(46954),F=s(80905),D=s(72384);function V(){return(0,j._7)((0,H.l)({value:!1}),(0,U.Ip)({showSlugsNeededOnlyForStartup:!1}),(0,w.a6)({timezone:(new Date).getTimezoneOffset()}),(0,A.RC)({sessionId:e=>e.config.sessionId,tabId:e=>e.config.tabId,currentAdmDiv:c.Pm,refererHost:e=>e.session.refererHost,refererUrl:e=>e.session.refererUrl,utm:e=>e.session.utm,startURL:e=>e.session.startURL,dataLocale:R.u,statHash:e=>e.session.statHash,searchFrameQuery:e=>{const t=e.appContext.frames[0];return t&&"search"===t.type&&"query"===t.searchType?t:void 0}},(({sessionId:e,tabId:t,currentAdmDiv:s,refererHost:r,refererUrl:i,utm:a,startURL:n,dataLocale:o,statHash:c,searchFrameQuery:d})=>{window.__bss={tabId:t,sessionId:e};const l=s.admDiv.data&&s.admDiv.data.overlapRegionId||"0";let u;return c&&(u=function(e){try{return JSON.parse((0,z.y4)(e))}catch(e){return}}(c)),(0,L.O)({overlapRegionId:l,refererHost:r,refererUrl:i,utm:a,link:n,dataLocale:"0"===l?void 0:o,crossTab:u,searchFrameParams:d&&{frameId:d.id,query:d.query,rubricId:d.tabCatalog.rubricId||(0,F.al)(d)}})})),function(){const e="ryan";return(0,j._7)((0,O.q2)({id:e,type:"window:popstate",handler:e=>(0,C.Aw)(e.state)}),(0,O.q2)({id:e,type:"window:resize",handler:()=>(0,j.K2)((0,_.LS)((()=>{if("undefined"==typeof document)return{width:k.Xl,height:k.As};const e=document.body,t=document.documentElement;return{width:Math.max(e.offsetWidth,t.clientWidth,t.offsetWidth),height:Math.max(e.offsetHeight,t.clientHeight,t.offsetHeight)}})()),(0,I.M4)())}),(0,O.q2)({id:e,type:"window:message",handler:e=>function(e){if(e.data)try{const t=JSON.parse(e.data);if("mkb"===t.type&&t.id)return(0,j.K2)((0,M.S2)(),(0,E.UP)({id:t.id,type:"branch"}));if("state"===t.type&&t.url)return(0,T.v)({url:t.url})}catch(e){}return(0,j.lQ)()}(e)}),(0,O.q2)({id:e,type:"common:escapeKeyUp",handler:()=>(0,S.MP)()}),(0,O.q2)({id:e,type:"common:arrowLeftKeyDown",handler:()=>(0,S.gn)("backward")}),(0,O.q2)({id:e,type:"common:arrowRightKeyDown",handler:()=>(0,S.gn)("forward")}),(0,O.q2)({id:e,type:"common:spaceKeyDown",handler:()=>(0,S.gn)("forward")}),(0,O.q2)({id:e,type:"common:arrowUpKeyDown",handler:()=>(0,S.gn)("backward")}),(0,O.q2)({id:e,type:"common:arrowDownKeyDown",handler:()=>(0,S.gn)("forward")}),(0,O.q2)({id:e,type:"myGeolocation:update",handler:e=>(0,S.GO)(e)}),(0,O.q2)({id:e,type:"myGeolocation:error",handler:e=>(0,S.oz)(e)}))}(),(0,A.RC)({region:c.n$,lang:e=>e.appContext.lang},(({region:e,lang:t})=>{const s=e&&e.country_code||"ru";return(0,N.Zc)({lang:t,countryCode:s})})),(0,j.Q2)((e=>e.session.is3dEnabled?"force_3d"===(0,B.o)("is3dDisabled")?(0,_.Oo)({is3dEnabled:!0}):(0,_.Oo)({is3dEnabled:(0,P.isWebGlAvailable)()}):(0,j.lQ)())),(0,w.m8)({time:Date.now()}),(0,_.LS)({width:window.innerWidth,height:window.innerHeight}),(0,j.NV)((e=>(0,j.v6)((()=>{e.featureTestRemoteConfig})))))}(0,D.n)({name:"testRemoteConfig",percentRange:[0,0],groups:["cg","tg"]});var Z=s(15582),$=s(50432),q=s(35023);function W(e){const{activeLayer:t,activeSublayer:s,zoom:r,rotation:i,pitch:a,relief:n,showSnow:o}=e.appContext,c=(0,Z.hv)(e),d=t||o.allowSnowStyle?[{name:G(t,o.allowSnowStyle)}]:void 0,l=(0,q.oE)([s?{name:Q(s)}:void 0,n?{name:"reliefSubLayer"}:void 0]);return{map:{inviewport:c,zoomLevel:r,rotation:i,pitch:a,enabledMapLayers:d,enabledMapSubLayers:l.length?l:void 0}}}function G(e,t){if(t&&!e)return"winterLayer";switch(e){case"eta":return"ctxLayer";case"realty":return"realtyLayer";case"friends":return"friendsLayer";case"photos":return"photosLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"backTo2004":return"backTo2004Layer";case"roadAccident":return"trafficIncidentLayer";case"parkings":return"parkingLayer";case"tourism":return"touristLayer";default:return void(0,$.vV)({message:`Не удалось получить название слоя для поля map.enabledMapLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"q2ee0",payload:{type:"debug",subtype:"BssTrackerV3"}})}}function Q(e){switch(e){case"realtyPriceSale":return"realtyBuySubLayer";case"realtyPriceRent":return"realtyRentSubLayer";case"realtyWalkDistance":return"realtyWalkDistanceSubLayer";case"realtyIsochroneWalking":return"realtyPedestrianIsochrone";case"realtyIsochroneDriving":return"realtyCarIsochrone";default:return void(0,$.vV)({message:`Не удалось получить название подслоя для поля map.enabledMapSubLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"fw42g",payload:{type:"debug",subtype:"BssTrackerV3"}})}}var K=s(15401);const Y=[["search","entity"],["search","product"],["product","entity"],["directions","direction"],["userProfile","collection"],["userProfile","currentReview"],["userProfile","entity"],["userProfile","achievements"],["userProfile","userFriendsActivity"],["publicFavorites","collection"],["collection","entity"],["entity","collection"],["prices","offer"],["prices","offers"],["prices","offers","offer"],["directions","entity"],["rubricator","rubric"],["entity","unconfirmedReviews"],["directions","tUgc"],["search","tUgc"],["entity","unconfirmedReviews","currentReview"],["entity","currentReview"],["entity","offer"],["entity","userFriendsActivity"],["realty","realtyCard"],["realty","entity"],["exchange","entity"],["friendsList","userPublicProfile"],["friendsList","userPublicProfile","currentReview"],["userPublicProfile","currentReview"],["friendsList","userPublicProfile","entity"],["userPublicProfile","entity"]],X=[["entity","pending","direction","error","tUgc","realtyCard"]];function J(e,t){return e.reduce(((e,s)=>s.every((e=>!!t.find((t=>t.id===e.id))))?e:[...e,s]),[])}var ee=s(74182),te=s(96077),se=s(81181),re=s(84175),ie=s(79594),ae=s(82781),ne=s(13843),oe=s(49109),ce=s(77847),de=s(51021),le=s(16632),ue=s(72760),pe=s(41949),me=s(83663),ge=s(41283),he=s(39419),fe=s(24255);const be=({width:e=24,height:t=24,color:s="currentColor"})=>(0,r.jsx)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73743 3H15.2808L14.7808 5H21.4771L19.0953 10.9544L21.6181 16H10.2193L10.7193 14H7.38028L9.20249 21.7444L7.25565 22.2025L2.73743 3ZM6.90969 12H13.2808L12.7808 14H18.382L16.9048 11.0456L18.523 7H12.2193L12.7193 5H5.26263L6.90969 12Z",fill:s})}));var ve=s(20091),ye=s(55027),xe=s(46579),je=s(95920),we=s(85608);const _e=e=>{var{width:t=24,height:s=24,color:i="currentColor"}=e,a=(0,we.Tt)(e,["width","height","color"]);return(0,r.jsxs)("svg",Object.assign({width:t,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:[(0,r.jsx)("mask",Object.assign({id:"path-1-inside-1_420_7939",fill:"white"},{children:(0,r.jsx)("path",{d:"M12.9999 22.0171L11.0002 22.0193C10.9978 21.9191 10.9951 21.819 10.992 21.7188C10.986 21.5237 10.9761 21.2434 10.9608 20.9045C10.93 20.2255 10.8776 19.3175 10.7912 18.3931C10.7232 17.6664 10.3772 16.7732 9.63075 16.0656C8.90106 15.3738 7.72375 14.7982 5.875 14.7982H5.23145L4.96485 14.2125C4.195 12.5212 4 11.4004 4 9.84C4 5.76673 7.2499 2 12 2C16.7501 2 20 5.76673 20 9.84C20 11.4004 19.805 12.5212 19.0352 14.2125L18.7685 14.7982H18.125C16.2762 14.7982 15.0973 15.3739 14.3661 16.0661C13.6181 16.7741 13.2714 17.6673 13.2035 18.3931C13.1171 19.3167 13.066 20.2239 13.0366 20.9026C13.022 21.2412 13.0127 21.5214 13.0072 21.7163C13.0043 21.8166 13.0019 21.9168 12.9999 22.0171Z"})})),(0,r.jsx)("path",{d:"M12.9999 22.0171L13.002 24.0171L14.9591 24.015L14.9994 22.0584L12.9999 22.0171ZM11.0002 22.0193L9.00074 22.0663L9.04662 24.0215L11.0024 24.0193L11.0002 22.0193ZM10.992 21.7188L12.9911 21.6569V21.6569L10.992 21.7188ZM10.9608 20.9045L12.9587 20.814L10.9608 20.9045ZM10.7912 18.3931L12.7825 18.2069L10.7912 18.3931ZM9.63075 16.0656L8.25479 17.517L8.25479 17.517L9.63075 16.0656ZM5.23145 14.7982L3.41115 15.6268L3.94436 16.7982H5.23145V14.7982ZM4.96485 14.2125L6.78515 13.384L4.96485 14.2125ZM19.0352 14.2125L17.2148 13.384L17.2148 13.384L19.0352 14.2125ZM18.7685 14.7982V16.7982H20.0556L20.5889 15.6268L18.7685 14.7982ZM14.3661 16.0661L12.9911 14.6136L12.9911 14.6136L14.3661 16.0661ZM13.2035 18.3931L11.2122 18.2069V18.2069L13.2035 18.3931ZM13.0366 20.9026L11.0385 20.816V20.816L13.0366 20.9026ZM13.0072 21.7163L11.008 21.6594L11.008 21.6594L13.0072 21.7163ZM8.96282 20.995C8.97768 21.323 8.98722 21.5937 8.99301 21.7807L12.9911 21.6569C12.9848 21.4537 12.9746 21.1637 12.9587 20.814L8.96282 20.995ZM8.79987 18.5794C8.88235 19.4613 8.93294 20.335 8.96282 20.995L12.9587 20.814C12.9271 20.1159 12.8729 19.1738 12.7825 18.2069L8.79987 18.5794ZM8.25479 17.517C8.61893 17.8622 8.77291 18.2911 8.79987 18.5794L12.7825 18.2069C12.6735 17.0417 12.1355 15.6842 11.0067 14.6141L8.25479 17.517ZM5.875 16.7982C7.27613 16.7982 7.94084 17.2194 8.25479 17.517L11.0067 14.6141C9.86127 13.5283 8.17136 12.7982 5.875 12.7982V16.7982ZM5.23145 16.7982H5.875V12.7982H5.23145V16.7982ZM3.14454 15.0411L3.41115 15.6268L7.05176 13.9697L6.78515 13.384L3.14454 15.0411ZM2 9.84C2 11.671 2.25014 13.0761 3.14454 15.0411L6.78515 13.384C6.13985 11.9663 6 11.1297 6 9.84H2ZM12 0C6.08693 0 2 4.72149 2 9.84H6C6 6.81197 8.41288 4 12 4V0ZM22 9.84C22 4.72149 17.9131 0 12 0V4C15.5871 4 18 6.81197 18 9.84H22ZM20.8555 15.0411C21.7499 13.0761 22 11.671 22 9.84H18C18 11.1297 17.8601 11.9663 17.2148 13.384L20.8555 15.0411ZM20.5889 15.6268L20.8555 15.0411L17.2148 13.384L16.9482 13.9697L20.5889 15.6268ZM18.125 16.7982H18.7685V12.7982H18.125V16.7982ZM15.741 17.5185C16.0568 17.2196 16.7237 16.7982 18.125 16.7982V12.7982C15.8287 12.7982 14.1377 13.5282 12.9911 14.6136L15.741 17.5185ZM15.1948 18.5794C15.2215 18.2938 15.3751 17.8649 15.741 17.5185L12.9911 14.6136C11.8612 15.6833 11.3212 17.0408 11.2122 18.2069L15.1948 18.5794ZM15.0348 20.9891C15.0633 20.3304 15.1125 19.4587 15.1948 18.5794L11.2122 18.2069C11.1216 19.1747 11.0688 20.1174 11.0385 20.816L15.0348 20.9891ZM15.0064 21.7731C15.0117 21.5867 15.0206 21.3165 15.0348 20.9891L11.0385 20.816C11.0233 21.1659 11.0138 21.4561 11.008 21.6594L15.0064 21.7731ZM11.0024 24.0193L13.002 24.0171L12.9977 20.0171L10.998 20.0193L11.0024 24.0193ZM8.99301 21.7807C8.99594 21.8753 8.99849 21.9705 9.00074 22.0663L12.9996 21.9724C12.9972 21.8678 12.9944 21.7626 12.9911 21.6569L8.99301 21.7807ZM14.9994 22.0584C15.0014 21.9627 15.0037 21.8677 15.0064 21.7731L11.008 21.6594C11.005 21.7655 11.0024 21.871 11.0003 21.9759L14.9994 22.0584Z",fill:i,mask:"url(#path-1-inside-1_420_7939)"})]}))},Ce=e=>{var{width:t=24,height:s=24,color:i="currentColor"}=e,a=(0,we.Tt)(e,["width","height","color"]);return(0,r.jsx)("svg",Object.assign({width:t,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C13.8954 5 13 5.89543 13 7V17C13 19.2091 11.2091 21 9 21C6.79086 21 5 19.2091 5 17V15H7V17C7 18.1046 7.89543 19 9 19C10.1046 19 11 18.1046 11 17V7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7V10.126C20.7252 10.5701 22 12.1362 22 14C22 16.2091 20.2091 18 18 18C15.7909 18 14 16.2091 14 14C14 12.1362 15.2748 10.5701 17 10.126V7C17 5.89543 16.1046 5 15 5ZM2 10C2 7.79086 3.79086 6 6 6C8.20914 6 10 7.79086 10 10C10 12.2091 8.20914 14 6 14C3.79086 14 2 12.2091 2 10Z",fill:i})}))},Ie=e=>{var{width:t=24,height:s=24,color:i="currentColor"}=e,a=(0,we.Tt)(e,["width","height","color"]);return(0,r.jsx)("svg",Object.assign({width:t,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73743 3H15.2808L14.7808 5H21.4771L19.0953 10.9544L21.6181 16H10.2193L10.7193 14H7.38028L9.20249 21.7444L7.25565 22.2025L2.73743 3Z",fill:i})}))},ke=e=>{var{width:t=32,height:s=32,color:i="currentColor"}=e,a=(0,we.Tt)(e,["width","height","color"]);return(0,r.jsx)("svg",Object.assign({width:t,height:s,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 27V24H24C25.1046 24 26 23.1046 26 22V10.882L21 8.38197V8C21 5.23858 18.7614 3 16 3C13.5603 3 11.5287 4.74734 11.0884 7.05881C7.65314 7.50556 5 10.4429 5 14C5 16.38 6.18818 18.4814 8 19.7452V25.4648C8 26.1335 8.33421 26.758 8.8906 27.1289L11.6972 29H14C15.1046 29 16 28.1046 16 27ZM13.1398 7.09233C14.7598 7.35762 16.1928 8.17906 17.2362 9.35419C17.3212 9.25358 17.4275 9.1682 17.5528 9.10557L19 8.38197V8C19 6.34315 17.6569 5 16 5C14.6595 5 13.5244 5.87916 13.1398 7.09233ZM11 10C11 9.44772 11.4477 9 12 9C12.5523 9 13 9.44772 13 10V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V10ZM19 13.9999C19 12.9077 18.7499 11.874 18.3038 10.9528C18.3523 10.9372 18.4002 10.9178 18.4472 10.8943L20 10.1179L24 12.1179V21.9999H16V19.7451C17.8118 18.4813 19 16.3799 19 13.9999Z",fill:i})}))},Oe=e=>{var{width:t=32,height:s=32,color:i="currentColor"}=e,a=(0,we.Tt)(e,["width","height","color"]);return(0,r.jsxs)("svg",Object.assign({width:t,height:s,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13C22.933 13 24.5 11.433 24.5 9.5C24.5 7.567 22.933 6 21 6C19.067 6 17.5 7.567 17.5 9.5C17.5 11.433 19.067 13 21 13Z",fill:i}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12Z",fill:i}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411Z",fill:i}),(0,r.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z",fill:i}),(0,r.jsx)("path",{d:"M20.9672 14C24.4707 14 26.9673 16.2139 26.9672 19.7255C26.9672 20.9817 25.8768 22 24.5318 22H19.8866C19.7841 21.2971 19.6055 20.6275 19.354 20L18.489 18.5C18.6362 18.5 18.5 18.5 18.5 18.5L17.5551 17.3038C17.0845 16.8471 16.5627 16.4578 16 16.1363C16.9871 14.7754 18.666 14 20.9672 14Z",fill:i})]}))};var Se=s(55129),Te=s(81988);const Ee=e=>{switch(!0){case!!(t=e.frames).length&&(0,oe.Iz)(t[t.length-1]):return"routeSearchIcon";case"friends"===e.activeLayer:return"friendsLayerIcon";case(e=>{const[t,s]=e;return"publicFavorites"===(null==t?void 0:t.type)||"collection"===(null==t?void 0:t.type)&&"publicFavorites"===(null==s?void 0:s.type)||"entity"===(null==t?void 0:t.type)&&"collection"===(null==s?void 0:s.type)})(e.frames):return"interestingIcon";case"realty"===e.activeLayer:return"realtyLayerIcon"}var t;return"dashboardIcon"},Me=({tp:e,dispatch:t,isMobileDevice:s,featureGuide:i,featureReadOnly:a,featureRealty:n,lang:o,directionsStoreLink:c})=>{const d=[{title:e._t("Поиск"),name:"dashboardIcon",onClick:()=>t((0,j.K2)((0,S.sU)(),(0,ve.X_)({isMinimized:!1}))),urlParams:{type:"root"},getIcon:e=>e?(0,r.jsx)(me.U,{width:24,height:24,color:"currentColor"}):(0,r.jsx)(_e,{})},{title:e._t("Маршруты"),name:"routeSearchIcon",onClick:()=>{s?"ru"===o?t((0,je.t)("routeSearchFullscreenPopup")):window.open(c):t((0,j.K2)((0,C.PC)(),(0,ne.P)()))},urlParams:{type:"directions"},getIcon:e=>e?(0,r.jsx)(Ce,{}):(0,r.jsx)(ge.B,{})}];return a||d.push({title:e._t("Друзья"),name:"friendsLayerIcon",layerName:"friendsLayer",onClick:()=>t((0,j.K2)(!s&&Se.V.openFriendsList(Te.M.openPublicProfile),(0,ce.po)({newLayer:"friends"}))),urlParams:{type:"friends"},getIcon:e=>e?(0,r.jsx)(Oe,{}):(0,r.jsx)(he.m,{})}),!a&&i&&d.push({title:e._t("Гид"),name:"interestingIcon",onClick:()=>t((0,j.K2)((0,de.n)((0,j.v6)((()=>le.m.set((()=>!1))))),(0,C.PC)(),(0,ue.J)("interesting"))),urlParams:{type:"interesting"},getIcon:e=>e?(0,r.jsx)(Ie,{}):(0,r.jsx)(be,{})}),n&&d.push({title:e._t("Жильё"),name:"realtyLayerIcon",layerName:"realtyLayer",urlParams:{type:"realty"},getIcon:e=>e?(0,r.jsx)(ke,{}):(0,r.jsx)(fe.G,{}),onClick:()=>t((0,pe.P)())}),d};var Pe=s(1269),Le=s(7143),Ne=s(7044);const Ae=(0,Pe.V)("setNavigationIsFriendsClicked",(0,Le.T)("appContext",((e,{isClicked:t})=>Object.assign(Object.assign({},e),{navigation:Object.assign(Object.assign({},e.navigation),{isFriendsClicked:t})})))),Re=(0,j.n5)("setIsFriendsClicked",(({isClicked:e})=>(0,j.K2)((0,Ne.T)({name:"isFriendsClicked",value:e?"clicked":""}),Ae({isClicked:e}))));var ze=s(7540);const Ue=()=>({frameId:e},t,s)=>{if(!s)return;const{layerName:r,name:i,position:a}=s,n=(0,c.zN)(t),o=(0,R.u)(t);return Object.assign({action:"tap",uiElement:{name:i,ownerName:"sideIconMenu",position:a,frameUuid:e}},r?{payload:{mapLayer:{name:r,entity:{type:"mapLayer",segmentInfo:(0,ze.o)({locale:o,region_id:n})},enableMapLayer:!0}}}:{})};var Be=s(27248),He=s(71064),Fe=s(64099),De=s(99259),Ve=s(8365),Ze=s(81618),$e=s(80552);const qe=()=>{const{css:e,s:t}=(0,re.I)(We),s=(0,ie.d4)((e=>(e=>e.appContext.navigation)(e))).isFriendsClicked,{isMobileDevice:i}=(0,xe.U)(),{useBssHandler:a}=(0,Ve.E)(),o=(0,ie.wA)(),c=a(Ue),d=(0,ie.d4)((e=>"friends"===e.appContext.activeLayer));(0,n.useEffect)((()=>{d&&!s&&o(Re({isClicked:!0}))}),[o,s,d]);const{items:l,activeItem:u}=(()=>{const e=(0,ae.c)(),t=(0,ie.d4)((e=>e.session.platform)),s=(0,ye.zP)({platform:t,type:"modalGeoPromoDirect"}),{lang:r,isMobileDevice:i,featureReadOnly:a,featureRealty:n,featureGuide:o}=(0,xe.U)(),c=(0,ie.d4)((e=>e.appContext)),d=(0,ie.wA)();return{items:Me({tp:e,dispatch:d,isMobileDevice:i,featureGuide:o,featureReadOnly:a,featureRealty:n,directionsStoreLink:s,lang:r}),activeItem:Ee(c)}})();return(0,r.jsx)("div",Object.assign({className:e(t.wrapper)},{children:l.map(((a,l)=>(0,n.createElement)(Be.W,Object.assign({},a.urlParams,{key:`${a.name}_navigation_item`}),(n=>(0,r.jsxs)("div",Object.assign({},Ze.dx.n("wat-navigation-bar-item"),Ze.dx.t(`${a.name}`),Ze.dx.s(a.name===u?"active":"inactive"),{onClick:()=>(({layerName:e,name:t,onClick:s},r)=>{c({position:r,layerName:e,name:t}),o((0,ce.po)({newLayer:void 0})),s()})(a,l+1),className:e(t.item,u===a.name&&t.isActive)},{children:[(0,r.jsx)("div",Object.assign({className:e(t.icon)},{children:a.getIcon(a.name===u,i)})),(0,r.jsx)(He.A,Object.assign({color:"inherit",href:n},{children:a.title})),"friendsLayerIcon"===a.name&&!s&&!d&&(0,r.jsx)("div",{className:e(t.badge)})]}))))))}))},We=(0,re.r)((({mobile:e})=>({wrapper:Object.assign(Object.assign({boxSizing:"border-box"},e?{width:"100%",paddingTop:8,paddingBottom:8,paddingStart:16,paddingEnd:16,flexDirection:"row",justifyContent:"space-around",borderTop:"1px solid #E5E7EE"}:{height:"100%",width:Fe.Ej.navigationWidth,paddingTop:16,flexDirection:"column",boxShadow:"-1px 0px 0px 0px #0000000D inset"}),{display:"flex",gap:8,zIndex:Fe.fE.top,background:De.T.white}),item:Object.assign(Object.assign({},$e.uu),{boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:8,color:De.T.gray_989bab,gap:2,position:"relative",flexGrow:e?1:"unset","&:hover":{cursor:"pointer",color:De.T.green_30ad00}}),icon:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},isActive:{color:De.T.green_30ad00},badge:{position:"absolute",top:0,right:8,borderRadius:"100%",background:De.T.red_e10d0d,width:8,height:8}})));var Ge=s(63795);const Qe={frames:[],storiesPopupData:{},friendsOnMap:Ge.sT.defaultState,friendInOtherDomain:se.$.defaultState,navigation:{isFriendsClicked:!1},graveyard:[],staticFrames:{map:{id:""},sidebar:{id:""},dashboard:{id:""}},center:{lat:55.035257,lon:82.901115},zoom:11,rotation:0,pitch:0,lang:"ru",defaultLocale:"ru_RU",activeLayer:void 0,activeSublayer:void 0,showPrivacyPolicyBanner:!1,weak:{dashboard:{transitions:{rubricsId:(0,ee.vt)("")}},rubricator:{transition:(0,ee.vt)("")},rubric:{transition:(0,ee.vt)("")},markers:{catalog:{},realty:{}},suggests:{},notifications:[],productsSearchCount:0,emailVerificationStatus:void 0,mapInteractionStarted:!1,isMapViewRepresentedInOriginalRequest:!1,isClearRootPageStart:!1,showSlugsNeededOnlyForStartup:!0,isLangRepresentedInOriginalRequest:!0,wasBc:!1,newYearPlaceholder:{text:"",iconType:"tree"},favoritesUIState:{}},ruler:{isActive:!1,points:[]},showTrafficOnMap:!1,relief:!1,showAirplaneLogo:!0,showSnow:{status:"off",intensity:25,allowSnowStyle:!1},isImmersiveMapEnabled:!1,isImmersivePromoViewed:!1,isImmersivePromoRunning:!1},Ke=[function(e,t){switch(t.type){case"MAP/SYNC_VIEW":return function(e,t){const s={};return void 0!==t.lat&&void 0!==t.lon&&(s.center={lon:t.lon,lat:t.lat}),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.rotation&&(s.rotation=t.rotation),void 0!==t.pitch&&(s.pitch=t.pitch),Object.assign(Object.assign({},e),s)}(e,t.payload);case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{floors:{floorsId:t.id,currentFloor:t.currentFloor}})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{floors:void 0})}(e);case"MAP/SELECT_FLOOR":return function(e,t){return e.floors?Object.assign(Object.assign({},e),{floors:Object.assign(Object.assign({},e.floors),{currentFloor:t.floorIndex,isManuallySelected:t.isManuallySelected})}):e}(e,t.payload);case"UI/SET_DEFAULT_LOCALE":return Object.assign(Object.assign({},e),{defaultLocale:t.payload.locale});case"UI/SET_LANG":case"I18N/SYNC_LANG":return Object.assign(Object.assign({},e),{lang:t.payload.lang});case"UI/SET_STATIC_FRAMES_PARAMS":return Object.assign(Object.assign({},e),{staticFrames:{map:{id:t.payload.mapFrameId},sidebar:{id:t.payload.sidebarFrameId},dashboard:{id:t.payload.dashboardFrameId}}});case"UI/SET_RULER":return Object.assign(Object.assign({},e),{ruler:Object.assign(Object.assign({},e.ruler),t.payload)});case"UI/TOGGLE_TRAFFIC":return Object.assign(Object.assign({},e),{showTrafficOnMap:!e.showTrafficOnMap});case"UI/TOGGLE_AIRPLANE_LOGO":return Object.assign(Object.assign({},e),{showAirplaneLogo:!e.showAirplaneLogo});case"UI/SET_SHOW_SNOW":return Object.assign(Object.assign({},e),{showSnow:Object.assign(Object.assign({},e.showSnow),t.payload)});default:return e}},function(e,t){switch(t.type){case"UI/ADD_FRAME":return function(e,t){const s=e.frames,r=Object.assign({},t.payload),i=function(e,t){let s=[...e];var r,i;s[0]&&(r=s[0].type,i=t.type,r===i||X.find((e=>e.includes(r)&&e.includes(i))))&&(s[0].victimsId&&(t.victimsId=s[0].victimsId),s=s.slice(1)),s=[t,...s];const a=Y.find((e=>{const t=[...e].reverse();return!(s.length<t.length)&&t.every(((e,t)=>{return("search"===(r=s[t]).type&&"offers"===r.searchType?r.searchType:"pending"===r.type?"entity":r.type)===e;var r}))}));return a?s.slice(0,a.length):[t]}(e.frames,r),a=function(e,t){return!(!e.length||!t.length||e[e.length-1].id===t[t.length-1].id||1===e.length&&1===t.length&&e[0].type===t[0].type&&"tUgc"===e[0].type)}(s,i),n=a?[...e.graveyard,s]:e.graveyard;return a&&(r.victimsId=s.map((e=>e.id))),Object.assign(Object.assign({},e),{frames:i,graveyard:n})}(e,t);case"UI/REMOVE_FRAME":return function(e,t){const s=e.frames.find((e=>t.payload.id===e.id));if(!s)return e;const r=s.victimsId?(i=e.graveyard,a=s.victimsId,i.find((e=>e.every((e=>!!a.find((t=>t===e.id))))))):void 0;var i,a;return Object.assign(Object.assign({},e),{frames:r||e.frames.filter((e=>e.id!==t.payload.id)),graveyard:r?J(e.graveyard,r):e.graveyard})}(e,t);case"UI/REMOVE_RIGHT_FRAMES":return function(e,t){let s=-1;return e.frames.some(((e,r)=>e.id===t.payload.id&&(s=r,!0))),s<0?e:Object.assign(Object.assign({},e),{frames:e.frames.slice(s)})}(e,t);case"UI/REPLACE_FRAME":return function(e,t){const s=function(e,t){let s=!1;const r=e.map((e=>e.id!==t.id||e===t||(0,K.b)(e,t)?e:(s=!0,t)));return s?r:e}(e.frames,t.payload);return s===e.frames?e:Object.assign(Object.assign({},e),{frames:s})}(e,t);case"UI/CLEAR_FRAMES":return function(e){return e.frames.length?Object.assign(Object.assign({},e),{frames:[],graveyard:[]}):e}(e);case"UI/KILL_FRAMES":return function(e){if(!e.frames.length)return e;const t=e.frames;return Object.assign(Object.assign({},e),{frames:[],graveyard:[...e.graveyard,t]})}(e);case"UI/RESURRECT_FRAMES":return function(e){if(!e.graveyard.length)return Object.assign(Object.assign({},e),{frames:[],graveyard:[]});const t=e.graveyard[e.graveyard.length-1].map((t=>e.frames.find((e=>e.id===t.id))||t));return Object.assign(Object.assign({},e),{frames:t,graveyard:e.graveyard.slice(0,-1)})}(e);default:return e}},function(e,t){switch(t.type){case"UI/OPEN_POPUP":return function(e,t){return Object.assign(Object.assign({},e),{popup:"createReview"===t.type?Object.assign(Object.assign({},t),{isModal:!0}):t})}(e,t.payload);case"UI/CLOSE_POPUP":return function(e){return e.popup?Object.assign(Object.assign({},e),{popup:void 0}):e}(e)}return e},function(e,t){switch(t.type){case"WEAK/SET_DASHBOARD_RUBRICS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{rubricsId:t})})})})}(e,t.payload);case"WEAK/SET_RUBRICATOR_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubricator:Object.assign(Object.assign({},e.weak.rubricator),{transition:t})})})}(e,t.payload);case"WEAK/SET_RUBRIC_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubric:{transition:t}})})}(e,t.payload);case"SUGGEST/SET_SUGGEST_ID":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{suggestId:t.suggestId})})})})}(e,t.payload);case"SUGGEST/SET_QUERY":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{query:t.query})})})})}(e,t.payload);case"SUGGEST/TOGGLE":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};return s.show===t.show?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{show:t.show,highlightedIndex:void 0})})})})}(e,t.payload);case"SUGGEST/HIGHLIGHT_SUGGESTION":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};return s.highlightedIndex===t.index?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{highlightedIndex:t.index})})})})}(e,t.payload);case"UI/SHOW_NOTIFICATION":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:[...e.weak.notifications,t]})})}(e,t.payload);case"UI/HIDE_NOTIFICATION":return function(e,t){const s=e.weak.notifications.filter((e=>e.id!==t.id));return s.length===e.weak.notifications.length?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:s})})}(e,t.payload);case"WEAK/MAP_INTERACTION_START":return e.weak.mapInteractionStarted?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{mapInteractionStarted:!0})});case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:{floorNames:t.floorNames,firmsToFloorIndexMap:t.firmsToFloorIndexMap}})})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:void 0})})}(e);case"WEAK/PATCH":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),t)})}(e,t.payload);case"WEAK/SET_CATALOG_MARKERS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{markers:Object.assign(Object.assign({},e.weak.markers),{catalog:{[t.frameId]:t.markersId}})})})}(e,t.payload);case"WEAK/SET_REVIEW_RATING":return function(e,{rating:t}){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{reviewRating:t})})}(e,t.payload);case"WEAK/REMOVE_REVIEW_RATING":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{reviewRating:void 0})})}(e);case"BSS/TRACK_ACTION":return function(e,t){return e.weak.wasBc||t.autoEvent||"tap"!==t.action?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{wasBc:!0})})}(e,t.payload)}return e}];function Ye(e=Qe,t){return Ke.reduce(((e,s)=>s(e,t)),e)}const Xe=e=>({appContext:Ye,config:(0,te.R)(e)});var Je=s(89979);function et(e){return{locale:(0,R.u)(e)}}var tt=s(62200),st=s(26064),rt=s(88220),it=s(68076),at=s(7515),nt=s(21252),ot=s(99906),ct=s(10048),dt=s(58471),lt=s(78075),ut=s(52107),pt=s(25792),mt=s(47710),gt=s(3359);const ht=(0,n.memo)((e=>(0,r.jsx)(ct.w,{loader:dt.b.searchResults,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:ft(e)}))),ft=e=>t=>{var s;if("error"===t)throw ct.M;const i=(0,D.l)(mt.By,null===(s=e.config)||void 0===s?void 0:s.experiments),a="search"===e.frame.type&&"query"===e.frame.searchType&&e.frame.tabCatalog.rubricId?(0,pt.S)({rubricId:e.frame.tabCatalog.rubricId,rubricsWhiteListMap:(0,gt.p)(e.config),experimentGroup:i}):void 0;return(0,r.jsx)(lt.e,Object.assign({header:(0,r.jsx)("div",{style:{height:"105px",background:De.T.gray_f2f2f2,borderBottom:`1px solid ${De.T.gray_e6e6e6}`}}),sidebar:(0,r.jsx)("div",{}),areFiltersOpened:e.frameContext.areFiltersOpened},{children:(0,r.jsx)(r.Fragment,{children:Array(10).fill("").map(((e,t)=>(0,r.jsx)(ut.r,{withoutPhotos:!a,isMedia:null==a?void 0:a.isMedia},t)))})}))};var bt=s(26461),vt=s(66333),yt=s(33626),xt=s(71085),jt=s(74786),wt=s(47919),_t=s(36539);const Ct=(0,u.eJ)(),It=(0,vt.Mz)([({state:e,props:t})=>Ct({state:e,entityId:t.frame.entityId,searchId:t.frame.searchId}),({state:e})=>(0,xt.y)(e),({state:e,props:t})=>(0,wt.QW)(t.frame.entityId)(e),({state:e,props:t})=>{var s;return null===(s=e.data.reviewSearch[(0,_t.z)(t.frame,"reviews")||""])||void 0===s?void 0:s.meta.status}],((e,t,s,r)=>({entity:e,searchCtx:(0,jt.MV)(t),searchKeyword:s,reviewStatus:r}))),kt=(0,yt.tr)(((e,t)=>It({state:e,props:t})));var Ot=s(54477),St=s(92585);function Tt(e,t){const s=t.appContext.frames.find(St.n);if(!s||"geometry"!==e.origin||!e.geometry||"polyline"!==e.geometry.type)return;const r=e.geometry.eventData&&e.geometry.eventData.id;return"string"==typeof r&&r?(0,Ot.h)({activeDirectionId:r,frameId:s.id}):void 0}var Et=s(63536),Mt=s(13179);const Pt=(0,yt.Yn)((e=>({subscribeOnEvents:t=>e(function({id:e}){return(0,O.q2)({id:e,type:"map:click",handler:Tt,stopIfHandled:!0,priority:Et.b.Frame})}(t)),removeListeners:t=>e((0,O.f)(t)),fetchData({entityId:t,searchCtx:s,searchKeyword:r}){e((0,Mt.$D)({id:t,albumId:k.Qh,searchCtx:s,searchKeyword:r}))}})));var Lt=s(54914),Nt=s(88756),At=s(89446),Rt=s(56671),zt=s(78579),Ut=s(80333),Bt=s(86645),Ht=s(21409),Ft=s(11827),Dt=s(38132),Vt=s(98452),Zt=s(75370);const $t=[void 0,void 0];var qt=s(12043);function Wt(e,t,s){return[Math.round(255*e),Math.round(255*t),Math.round(255*s)]}function Gt(e,t,s){let r=s;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var Qt=s(9154),Kt=s(90618),Yt=s(10742),Xt=s(48699),Jt=s(50548),es=s(48914),ts=s(7818),ss=s(22163),rs=s(12222),is=s(33224),as=s(47070),ns=s(45641),os=s(82316),cs=s(25551),ds=s(19945),ls=s(89379);const us=(0,n.memo)((({children:e,styles:t,style:s,containerRef:i,allPhotosText:a})=>{const{css:n,s:o}=(0,re.I)(ps);return(0,r.jsx)("div",Object.assign({className:n(o.root,t),ref:i,style:s,"data-text":null!=a?a:""},{children:e}))}));us.displayName="SnapItem";const ps=(0,re.r)({root:{scrollSnapAlign:"center",scrollSnapStop:"always",flexBasis:"100%",flexShrink:0,flexGrow:0}});var ms=s(76504),gs=s(1243),hs=s(98379);const fs=e=>({frameId:t},s)=>{if(e.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{video:{entity:{id:e.videoId,type:"video"}},placeItem:(0,hs.t)({state:s,entityFrameId:t})}}},bs=({position:e,isVideo:t,media:s})=>({frameId:r},i)=>({uiElement:{name:t?"videoCardMini":"galleryPreview",ownerName:"placeCardFull",frameUuid:r,position:e},action:"tap",payload:Object.assign({placeItem:(0,hs.t)({state:i,entityFrameId:r,position:e})},t&&{video:{videoId:s.id}})}),vs=({position:e,media:t,isVideo:s})=>({frameId:r},i)=>({uiElement:{name:s?"videoCardMini":"photoCardMini",ownerName:"placeCardFull",frameUuid:r,position:e},payload:Object.assign({placeItem:(0,hs.t)({state:i,entityFrameId:r,position:e})},s?{video:{videoId:t.id}}:{photo:{photoId:t.id}})}),ys=()=>({showEventParams:e,frameId:t},s)=>{var r;if(!e)return;const i=null===(r=e.payload)||void 0===r?void 0:r.placeItem;if(i)return{uiElement:Object.assign(Object.assign({},e.uiElement),{frameUuid:t}),action:"tap",payload:{placeItem:i}};(0,$.vV)({message:"Не удалось сформировать payload.placeItem для события Тапнул в фотофон в шапке карточки (a-d2ub5)",level:"error",id:"mlksa",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,F.w1)(s.appContext.frames,t))}})},xs=(0,n.memo)((({photo:e,position:t})=>{const{css:s,s:i}=(0,re.I)(js),{lang:a}=(0,xe.U)(),{bssRef:n}=(0,Ve.E)(vs({position:t,media:e}),{threshold:.7}),o=(0,Ve.E)().useBssHandler(bs,{position:t,media:e}),c=(0,ie.wA)(),d=(0,Yt.D)((t=>{t.preventDefault(),t.stopPropagation(),c((0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"entity")),(t=>t&&(0,C.PC)((0,gs.z)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),o()}));return(0,r.jsx)("div",Object.assign({className:s(i.root),ref:n,onClick:d},Ze.dx.n("wat-firm-photo"),{children:(0,r.jsx)(ms.O,{src:e.preview_urls["328x170"],src2x:e.preview_urls["656x340"],lazyLoadVisibilityOffset:-50,borderRadius:"8px",backgroundColor:De.T.black_transparent_06,isLoadingForced:1===t,alt:"ru"===a?"Фото":void 0})}))}));xs.displayName="PhotoCaruselItem";const js=(0,re.r)({root:{width:"100%",height:"100%",cursor:"pointer"}});var ws=s(70356),_s=s(83438),Cs=s(33466),Is=s(69158);const ks=(0,n.memo)((({video:e})=>{var t,s;const{css:i,s:a}=(0,re.I)(Os),{lang:n}=(0,xe.U)(),o=(0,ie.wA)(),{bssRef:c,useBssHandler:d}=(0,Ve.E)((l={videoId:e.id},({frameId:e},t)=>{if(l.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:e},payload:{video:{entity:{id:l.videoId,type:"video"}},placeItem:(0,hs.t)({state:t,entityFrameId:e})}}}));var l;const u=d(fs,{videoId:e.id}),p=(0,Yt.D)((e=>{e.preventDefault(),e.stopPropagation(),o((0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"entity")),(e=>e&&(0,C.PC)((0,_s.X)({entityId:e.entityId,searchId:e.searchId}))))),u()}));return(0,r.jsxs)("div",Object.assign({className:i(a.root),ref:c,onClick:p},Ze.dx.n("wat-video-entry"),{children:[(0,r.jsx)(ms.O,{src:(null===(s=null===(t=e.videos)||void 0===t?void 0:t[0])||void 0===s?void 0:s.thumbnailUrl)||"",lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:De.T.black_transparent_06,isLoadingForced:!0,alt:"ru"===n?"Подложка":void 0}),(0,r.jsx)("div",Object.assign({className:i(a.playLayer)},{children:(0,r.jsx)("div",Object.assign({className:i(a.play)},{children:(0,r.jsx)(ws.j,{})}))}))]}))}));ks.displayName="AdsVideoCaruselItem";const Os=(0,re.r)({root:{width:"100%",height:"100%",cursor:"pointer",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},playLayer:{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},play:{display:"flex",justifyContent:"center",alignItems:"center",width:48,height:40,overflow:"hidden",borderRadius:8,background:(0,Is.m)(De.T.red_fe5000,.8),color:De.T.white,transition:`${Cs.S.short}ms ${Cs.l.base}`,"*:hover>&":{background:De.T.red_fe5000}}});var Ss=s(95885),Ts=s(66748);const Es=(0,n.memo)((({adsImage:e})=>{const{css:t,s:s}=(0,re.I)(Ms),{lang:i}=(0,xe.U)(),{bssRef:a,useBssHandler:n}=(0,Ve.E)((({frameId:e},t)=>{const s=(0,hs.t)({state:t,entityFrameId:e,position:1});if(s)return{uiElement:{position:1,ownerName:"placeCardFull",name:"photoBackground",frameUuid:e},payload:{placeItem:s}};(0,$.vV)({message:"Не удалось сформировать payload.placeItem для события Увидел фотофон в шапке карточки (v-yj0ye)",level:"error",id:"lkdaj",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,F.w1)(t.appContext.frames,e))}})})),o=n(ys),c=(0,ie.wA)(),d=(0,Yt.D)((e=>{e.preventDefault(),e.stopPropagation(),c((0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"entity")),(e=>e&&(0,C.PC)((0,gs.z)({entityId:e.entityId,searchId:e.searchId,entityType:e.entityType,photoId:Ts.F3}))))),o()}));return(0,r.jsx)("div",Object.assign({ref:a,className:t(s.root),onClick:d},{children:(0,r.jsx)(ms.O,{src:(0,Ss.m)(e.url,"328x170"),src2x:(0,Ss.m)(e.url,"656x340"),lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:De.T.black_transparent_06,isLoadingForced:!0,alt:"ru"===i?"Фото":void 0})}))}));Es.displayName="AdsImageCaruselItem";const Ms=(0,re.r)({root:{width:"100%",height:"100%",cursor:"pointer"}});var Ps=s(43322),Ls=s(90905),Ns=s(25698),As=s(46561);const Rs=(0,n.memo)((({scrollboxRef:e,maxDots:t=5,dotSize:s=6,smallDotSize:i=4,gap:a=4,color:o=De.T.white})=>{const{css:c,s:d,dir:l}=(0,re.I)(zs),[u,p]=function({scrollboxRef:e}){const{rtl:t}=(0,xe.U)(),s=t?-1:1,[r,i]=(0,n.useState)(0),[a,o]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const t=e.current;if(!t)return;o(t.children.length);const r=()=>{const e=t.offsetWidth/2+t.scrollLeft*s,r=t.scrollWidth/t.children.length,a=Math.floor(e/r);i(a)};return t.addEventListener("scroll",r),()=>{t.removeEventListener("scroll",r)}}),[e,s]),[r,a]}({scrollboxRef:e}),m=Math.floor(t/2),g=Math.max(0,Math.min(p-t,u-m)),h=Math.max(0,p-Math.max(t,u+1+m)),f=(s+a)*(h-g);return p?(0,r.jsx)("div",Object.assign({className:c(d.root),style:(0,st.mG)({gap:a,marginStart:f},l)},{children:(0,As.H)(p,(e=>{const t=g>0&&e<=g,a=h>0&&e+1>=p-h,n=t||a?i:s;return(0,r.jsx)("div",{className:c(d.dot,u===e&&d._active,e<g||e>=p-h?d._hidden:void 0),style:(0,st.mG)({width:n,height:n,marginStart:t?s-i:void 0,marginEnd:a?s-i:void 0,color:o},l)},e)}))})):null}));Rs.displayName="CarouselDots";const zs=(0,re.r)({root:{display:"flex",alignItems:"center",justifyContent:"center",transition:`${Cs.S.short}ms ${Cs.l.base}`},dot:{borderRadius:Fe.Vq.oval,overflow:"hidden",opacity:.3,background:De.T.white,transition:`${Cs.S.short}ms ${Cs.l.base}`},_active:{opacity:1},_hidden:{opacity:0}});var Us=s(21104);const Bs=(0,n.memo)((({media:e,position:t,activeVideoId:s,addVideoToSelectActive:i})=>{const{css:a,s:n}=(0,re.I)(Hs),o="video"===e.media_type,{bssRef:c}=(0,Ve.E)(vs({position:t,media:e,isVideo:o}),{threshold:.7}),d=(0,Ve.E)().useBssHandler(bs,{position:t,isVideo:o,media:e}),l=(0,ie.wA)(),u=(0,Yt.D)((t=>{t.preventDefault(),t.stopPropagation(),l((0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"entity")),(t=>t&&(0,C.PC)((0,gs.z)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),d()}));return(0,r.jsx)("div",Object.assign({className:a(n.root),ref:c,onClick:u},Ze.dx.n("wat-firm-photo"),{children:(0,r.jsx)(Us.I,{data:e,previewSize:["328x170","656x340"],activeVideoId:s,addVideoToSelectActive:i,externalOnClick:!0,mediaPosition:t,lazyLoadVisibilityOffset:-50,borderRadius:"8px",backgroundColor:De.T.black_transparent_06,isLoadingForced:1===t,visibilityThreshold:.7,isPlayOnHover:!1})}))}));Bs.displayName="MediaCaruselItem";const Hs=(0,re.r)({root:{width:"100%",height:"100%",cursor:"pointer"}}),Fs=(0,n.memo)((({entity:e,items:t,activeVideoId:s,addVideoToSelectActive:i})=>{const{css:a,s:o,dir:c}=(0,re.I)(Ds),d=(0,ae.c)(),l=(0,n.useRef)(null),{bssRef:u}=(0,Ve.E)((({frameId:e},t)=>({uiElement:{name:"galleryPreview",ownerName:"placeCardFull",frameUuid:e},payload:{placeItem:(0,hs.t)({state:t,entityFrameId:e})}}))),p=t.length,m=(0,n.useMemo)((()=>(0,st.mG)({flexBasis:p>1?272:"100%"},c)),[p,c]);return(0,r.jsxs)("div",Object.assign({className:a(o.root),ref:void 0!==t[0]?u:void 0},{children:[(0,r.jsx)(ls.h,Object.assign({offset:16,gap:16,containerRef:l},{children:t.map(((n,c)=>{var l;const u=c===t.length-1&&t.length>1&&n,p=null!==(l=null==n?void 0:n.key)&&void 0!==l?l:"skeletonId"+c;return(0,r.jsxs)(us,Object.assign({allPhotosText:u?d._t("Все фото"):void 0,styles:u?o.lastItemWithText:o.item,style:m},{children:[n?(0,r.jsx)(Vs,{item:n,activeVideoId:s,addVideoToSelectActive:i}):(0,r.jsx)(Ns.M,{height:170,borderRadius:8}),0===c&&(0,r.jsx)("div",Object.assign({className:a(o.logo)},{children:(0,r.jsx)(Ps.g,{size:64,entity:e,isLoadingForced:!0})}))]}),p)}))})),(0,r.jsx)(qt.j,{children:(0,r.jsx)(Ls.b,{offset:24,scrollboxRef:l},p)}),p>1&&(0,r.jsx)("div",Object.assign({className:a(o.dots)},{children:(0,r.jsx)(Rs,{scrollboxRef:l},p)}))]}))})),Ds=(0,re.r)({root:{position:"relative",marginBottom:12,marginStart:-24,marginEnd:-24},item:{position:"relative",height:170,transition:`flex-basis ${Cs.S.veryshort}ms ${Cs.l.base}`},lastItemWithText:{position:"relative",height:170,"&::before":{content:'""',position:"absolute",pointerEvents:"none",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:5},"&::after":{content:"attr(data-text)",position:"absolute",pointerEvents:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:De.T.white}},logo:{position:"absolute",bottom:12,start:12,width:64,height:64,pointerEvents:"none"},dots:{position:"absolute",start:0,end:0,bottom:8,display:"flex",justifyContent:"center",pointerEvents:"none"}}),Vs=({item:e,activeVideoId:t,addVideoToSelectActive:s})=>{let i=null;if(!e)return null;switch(!0){case"photo"in e:i=(0,r.jsx)(xs,{photo:e.photo,position:e.position},e.key);break;case"video"in e:i=(0,r.jsx)(ks,{video:e.video},e.key);break;case"media"in e:i=(0,r.jsx)(Bs,{media:e.media,position:e.position,activeVideoId:t,addVideoToSelectActive:s},e.key);break;case"adsImage"in e:i=(0,r.jsx)(Es,{adsImage:e.adsImage},e.key);break;default:i=null}return i};var Zs=s(90659),$s=s(53346),qs=s(87023),Ws=s(43819);const Gs=(0,n.memo)((()=>{const{css:e,s:t}=(0,re.I)(Qs),s=[(0,Zs.B)({isLabelShown:!0,isSmallIcon:!0}),(0,qs.e)({frameType:"entity",ownerName:"placeCardFull",isLabelShown:!0,isSmallIcon:!0}),(0,$s.y)({isLabelShown:!0,isSmallIcon:!0})];return(0,r.jsx)("div",Object.assign({className:e(t.actions)},{children:s.map(((s,i)=>!!s&&(0,r.jsx)("div",Object.assign({className:e(t.action)},{children:(0,r.jsx)(Ws.d,Object.assign({dataT:s.type,icon:s.icon,size:24,onClick:s.onClick,href:s.href},{children:s.label}))}),i)))}))})),Qs=(0,re.r)({actions:{display:"flex",marginBottom:12},action:{marginEnd:12}});var Ks=s(83044),Ys=s(39954),Xs=s(40360),Js=s(91255),er=s(88735),tr=s(24872),sr=s(51143);const rr=(0,j.n5)("fitAdsModelInMapView",(e=>(0,j.K2)((0,U.Ip)({dontUpdateResultsOnNextMapMove:!0}),(0,de.n)((0,ve.X_)({isMinimized:!0})),(0,er.o6)({entityId:e.entityId},((e,t)=>{const s=e.data;if(!s)return(0,j.lQ)();const r=(0,sr.d)({entity:s,state:t});return r?(0,tr.xZ)(Object.assign(Object.assign({},r),{zoom:18})):(0,j.lQ)()}))))),ir=(0,n.memo)((e=>{var t,s,i;const{entity:a,frame:o,frameContext:c}=e,{css:d,s:l}=(0,re.I)(ar),p=(0,ae.c)(),m=(0,xe.U)(),g=(0,ie.wA)(),{name:h,address:f}=(0,ds.wK)(a,p,{config:m,useSingleComponentForBranch:!0}),b=function(e){var t;const{frame:s,entity:r}=e,i="context"in r?null===(t=null==r?void 0:r.context)||void 0===t?void 0:t.entrance_id:void 0,a=s.entranceId||i;return a&&function(e,t){var s;const r="links"in e&&(null===(s=e.links)||void 0===s?void 0:s.database_entrances),i=t&&r?r.find((e=>e.id===t)):void 0;return null==i?void 0:i.entity_name}(r,a)}({frame:o,entity:a}),v=(0,rs.H)({entity:a,config:m,tp:p}),y="route"===a.type?(0,ns.J)(a):void 0,x=(0,is.I)(a,m.defaultCountryCode,o.point),w="is_deleted"in a&&!!a.is_deleted,{isSearchBot:_}=m,C=(0,Ut.X)(a),I="station"===a.type&&(0,cs.i)(a)?null===(t=a.routes)||void 0===t?void 0:t[0]:void 0,O=null===(i=null===(s=a.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.color,S=O?`radial-gradient(139.86% 100% at 26.96% 0%, ${function(e,t){const[s,r]=function(e){const t=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.max(t,s,r),a=Math.min(t,s,r),n=i-a;leto=0,0===n?o=0:i===t?o=(s-r)/n%6:i===s?o=(r-t)/n+2:i===r&&(o=(t-s)/n+4);const c=(a+i)/2;return[60*o,0===n?0:n/(1-Math.abs(2*c-1)),c]}((0,Qt.E)(e));return(0,Kt.O)(function(e){const t=e[0]/360,s=e[1],r=e[2];if(0===s)return Wt(r,r,r);const i=r<.5?r*(1+s):r+s-r*s,a=2*r-i;return Wt(Gt(a,i,t+1/3),Gt(a,i,t),Gt(a,i,t-1/3))}([s,r,.92]))}(O)} 0%, ${De.T.white} 100%)`:void 0,{hasAward:T,awardName:M,awardIconUrl:P,awardTag:L,awardLabelLink:N}=(0,n.useMemo)((()=>(0,Ys.a)(a)),[a])||{},A=(0,ie.d4)((e=>(0,wt.kR)(a)(e))),R=function(e){var t,s,r,i,a,o;const{entity:c}=e,{featureVideoInGallery:d}=(0,xe.U)(),{searchCtx:l,searchKeyword:p}=(0,Dt.Z)({entityId:c.id}),{data:m,isLoading:g}=(0,Mt.Sg)({id:c.id,albumId:k.Qh,searchCtx:l,searchKeyword:p},{enabled:!d}),{data:h,isLoading:f}=Vt.YD.useAlbum({objectId:c.id,albumId:k.Qh,searchCtx:l,searchKeyword:p},{enabled:d}),b=d?f:g,v=d?h:m,y=!!(null===(r=null===(s=null===(t=c.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.videos)||void 0===r?void 0:r[0]),x=(0,ie.d4)((e=>y?(0,u.g7)({state:e,entityId:c.id}):void 0)),j=null===(o=null===(a=null===(i=c.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.images)||void 0===o?void 0:o[0],w=y&&!(null==x?void 0:x.data)&&(!(null==x?void 0:x.meta)||"loading"===x.meta.status)||!j&&b,_=null==v?void 0:v.pages[0].items,C=(0,n.useMemo)((()=>{var e,t;if(w)return $t;const s=[];if((null===(t=null===(e=null==x?void 0:x.data)||void 0===e?void 0:e.videos)||void 0===t?void 0:t[0])?s.push({video:x.data,key:x.data.id}):j&&s.push({adsImage:j,key:j.url}),_){const e=Math.min(_.length,10-s.length);for(let t=0;t<e;t++){const e=_[t];if(!e)break;const r=(0,Zt.ED)(e)?{photo:e}:{media:e};s.push(Object.assign(Object.assign({},r),{position:s.length+1,key:e.id}))}}else b&&!s.length&&s.push(void 0);return s}),[w,_,x,j,b]);return{isShown:"__empty"!==c.id&&(w||!!C.length),items:C}}({entity:a}),z=(0,Yt.D)((()=>{var e;g((0,j.K2)((e={frameId:o.id},(0,es.cD)({uiElement:{name:"rating",ownerName:"placeCardFull",frameUuid:e.frameId},action:"tap"})),(0,Xt.TE)(["Card","Header_rating","Click"]),(0,Jt.s)({tab:"reviews",frame:o,entity:a})))})),U=(0,Yt.D)((()=>{I&&g((0,E.fV)({id:I.id,type:"route",searchId:o.searchId}))})),B=(0,as.K)((0,q.oE)([...h,b])),H=_?(0,F.n)(o,p,_,B):B,{addVideoToSelectActive:D,activeVideoId:V}=(0,Ks.X)();return(0,r.jsxs)("div",Object.assign({className:d(l.root),style:{background:S}},Ze.dx.n("wat-header-card"),{children:[(0,r.jsx)(Ft.z,{frame:o,frameContext:c}),(0,r.jsx)(qt.j,{children:(0,r.jsx)(Gs,{})}),R.isShown&&(0,r.jsx)(Fs,{entity:a,items:R.items,activeVideoId:V,addVideoToSelectActive:D}),(0,r.jsxs)(ss.W,Object.assign({className:d(l.name,w&&l.grayText)},{children:[(0,r.jsx)("span",Object.assign({},Ze.dx.n("wat-card-title"),{children:H}))," ",!w&&(0,r.jsx)(Ht.F,{entity:a})]})),["building","attraction"].includes(a.type)&&!!(null==f?void 0:f.length)&&(0,r.jsx)("div",Object.assign({className:d(l.address,w&&l.grayText)},{children:(0,r.jsx)(Nt.u,Object.assign({inline:!0},{children:f}))})),!!v.length&&(0,r.jsx)("div",Object.assign({className:d(l.extension)},{children:(0,r.jsx)(Nt.u,Object.assign({inline:!0},{children:[...v,!!I&&(0,r.jsx)(Be.W,Object.assign({type:"route",id:I.id},{children:e=>(0,r.jsx)(He.A,Object.assign({onClick:U,href:e},{children:I.name}))}),"metroLine")]}))})),!!y&&(0,r.jsx)("div",Object.assign({className:d(l.extension)},{children:y})),!!x&&(0,r.jsx)("div",Object.assign({className:d(l.extension)},{children:x})),!w&&!(!C&&!T)&&(0,r.jsxs)("div",Object.assign({className:d(l.row)},{children:[!!C&&(0,r.jsx)(Rt.P,{children:(0,r.jsxs)("div",Object.assign({className:d(l.rating)},Ze.dx.n("wat-rating"),{onClick:z},{children:[T?(0,r.jsx)("div",Object.assign({className:d(l.ratingAwards)},{children:(0,r.jsx)(os.F,{color:De.T.gray_262626,size:14})})):(0,r.jsx)(At.G,{color:De.T.gray_262626,size:14,rating:C.stars}),(0,r.jsx)("div",Object.assign({className:d(l.ratingValue)},{children:C.stars})),!!C.count&&(0,r.jsx)("div",Object.assign({className:d(l.ratingCount)},{children:p._nt(["%% оценка","%% оценки","%% оценок"],C.count)}))]}))}),T&&L&&M&&(0,r.jsx)("div",Object.assign({className:d(l.awards)},{children:(0,r.jsx)(Xs.O,{tag:L,name:M,ownerName:"placeCardFull",iconUrl:P,link:N})}))]})),!w&&A&&(0,r.jsx)("div",Object.assign({className:d(l.row)},{children:(0,r.jsx)(Js.Y,{onClick:()=>{g((0,j.K2)(function({entity:e,frameId:t}){return(0,es.cD)({uiElement:{name:"hasModelButton",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:(0,ts.ij)({entity:e})},action:"tap"})}({entity:a,frameId:o.id}),rr({entityId:a.id})))}})})),w&&(0,r.jsx)(zt.F,Object.assign({code:410},{children:(0,r.jsxs)("div",Object.assign({className:d(l.deleted)},Ze.dx.n("wat-deleted-entity-block"),{children:[(0,r.jsx)("div",Object.assign({className:d(l.redText)},{children:"branch"===a.type?p._t("Филиал удалён из справочника"):p._t("Объект удалён из справочника")})),"branch"===a.type&&(0,r.jsx)("div",{children:p._t("Возможно, он закрылся насовсем либо временно не работает")})]}))})),(0,r.jsx)(Bt.V,{entity:a,withoutLogo:R.isShown}),"branch"===a.type&&a.name_ex.legal_name&&!a.ads&&(0,r.jsx)("div",Object.assign({className:d(l.legalName)},{children:(0,r.jsx)("div",Object.assign({className:d(l.side)},{children:(0,r.jsx)("div",Object.assign({className:d(l.legalNameText,l.grayText)},{children:a.name_ex.legal_name}))}))}))]}))})),ar=(0,re.r)({root:{padding:"16px 24px"},name:Object.assign(Object.assign({},$e.Yn),{paddingTop:4}),extension:{marginTop:4,color:De.T.gray_5c5c5c},address:{marginTop:4,color:De.T.gray_262626},rating:{marginStart:-1,display:"flex",alignItems:"center",cursor:"pointer"},row:{display:"flex",alignItems:"center",marginTop:8},ratingValue:{marginStart:4},ratingCount:{marginStart:8,color:De.T.gray_5c5c5c},ratingAwards:{display:"flex"},awards:{display:"flex",marginInlineStart:12},deleted:{marginTop:8},redText:{color:De.T.red_fe5000},grayText:{color:De.T.gray_5c5c5c},legalName:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${De.T.gray_e6e6e6}`},side:{flexGrow:1},legalNameText:{marginBottom:4}});var nr=s(64033),or=s(27942),cr=s(3726);function dr(e){switch(e){case"services":case"providers":return"services";default:return e}}var lr=s(31222),ur=s(6276),pr=s(10011),mr=s(46516),gr=s(77017);const hr=["services"];function fr(e){switch(e){case"discounts":case"reviews":case"photos":case"inside":case"menu":case"prices":case"realty":return!0;default:return!1}}function br(e,t,s){const r=(0,ur.E)(e);switch(t){case"contacts":return r?s._t("Инфо"):s._t("Контакты");case"info":return s._t("Инфо");case"reviews":return s._t("Отзывы");case"photos":return s._t("Фото");case"menu":return(0,mr.O)(e)?function(e){const{rubrics:t,tp:s}=e;switch((0,gr.F)(t)){case"menu":return s._t("Меню");case"prices":return s._t("Цены");default:return""}}({rubrics:e.rubrics,tp:s}):"";case"prices":const{tabLabel:t}=(0,pr.z)({entity:e,tp:s});return t;case"realty":return s._t("Недвижимость");case"inside":return s._t("В здании");case"services":case"providers":return s._t("Службы");case"discounts":return s._t("Скидки")}}var vr=s(60116),yr=s(69969);function xr(e){return{isActive:e.isSelected||!1,amount:e.count||0,uploadPricesPromo:"menu"===e.key&&0===e.count||void 0}}const jr=e=>({frameId:t},s)=>{const r=(0,hs.t)({state:s,entityFrameId:t});if("menu"!==e.key||void 0!==e.count)return{uiElement:{name:wr(e.key),ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r,tabPreviewInfo:"menu"===e.key?xr(e):void 0},action:"tap"}};function wr(e){switch(e){case"info":return"cardInformation";case"contacts":return"cardContacts";case"discounts":return"cardDiscounts";case"reviews":return"cardReviews";case"photos":return"cardGallery";case"prices":case"menu":return"cardPrices";case"realty":return"cardRealty";case"inside":return"cardBuildingOrgs";case"providers":case"services":return"cardServiceOrgs"}}var _r=s(24896);const Cr=(0,n.memo)((e=>{const t=(0,ie.wA)(),{tab:s,onSelect:i,href:a,entityId:o,entityType:c}=e,{bssRef:d,useBssHandler:l}=(0,Ve.E)((e=>({frameId:t},s)=>{const r=(0,hs.t)({state:s,entityFrameId:t});switch(e.key){case"prices":return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r}};case"menu":if(void 0===e.count)return;return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r,tabPreviewInfo:xr(e)}};case"realty":return{uiElement:{name:"cardRealtyPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r}};default:return}})(s)),u=l(jr,s),p=(0,Yt.D)((e=>{e.isSelected||(u(),i(e))})),m=(0,_r.fu)({id:o,type:c});return(0,n.useEffect)((()=>{"realty"!==s.key||s.isSelected||window.setTimeout((()=>{d.current&&(m.isLoading||t((0,yr.y)({targetBoundingClientRect:d.current.getBoundingClientRect(),type:"realty",to:"bottomMiddle",offset:-12})))}),0)}),[d.current,m.isLoading]),(0,r.jsx)(vr.o,{tabRef:d,tab:s,href:a,onSelect:p})}));Cr.displayName="EntityCardTab";var Ir=s(63245),kr=s(8734),Or=s(76125);const Sr=({formattedTabs:e,entity:t,handleTabClick:s})=>{const{css:i,s:a}=(0,re.I)(Tr);return(0,r.jsx)(Ir.$,Object.assign({bgColor:De.T.gray_f2f2f2},{children:n=>(0,r.jsx)(nr.t,{tabs:e,renderTab:e=>{const o=i=>(0,r.jsx)(Cr,{href:i,tab:e,onSelect:s,entityType:t.type,entityId:t.id});return(0,r.jsx)("div",Object.assign({className:i(a.tabWrapper),onClick:e=>n(e.currentTarget.offsetWidth,e.currentTarget.offsetLeft)},{children:(()=>{switch(e.key){case"realty":return(0,r.jsx)(Be.W,Object.assign({type:"realty",entityId:(0,Or.$)(t)},{children:o}));case"photos":return(0,r.jsx)(Be.W,Object.assign({type:"gallery",entityId:t.id,entityType:t.type},{children:o}));default:return(0,r.jsx)(kr.p,Object.assign({entity:t,tab:e.isDefault?void 0:e.key},{children:o}))}})()}),e.key)}})}))};Sr.displayName=(0,bt.d)("src/modules/entity/containers/content/components/tabs");const Tr=(0,re.r)({tabWrapper:{margin:"0 8px",":first-child":{marginStart:0},":last-child":{marginEnd:0}}}),Er=(0,or.J)((({tabs:e,frameTab:t,entity:s},{tp:r})=>function(e,t,s,r){if(t.length<2)return;const i=function(e){return e.reduce(((e,t)=>{if(-1===hr.indexOf(t.uiKey))return e.concat(t);const s=e.find((e=>e.uiKey===t.uiKey));return s?(t.count&&(s.count=(s.count||0)+t.count),t.isSelected&&(s.isSelected=!0),e):e.concat(t)}),[])}(function(e,t,s,r){const i=(0,cr.c)(t,r);return t.map((t=>({key:t.tab,uiKey:dr(t.tab),label:br(e,t.tab,s),count:fr(t.tab)?t.count:void 0,badgeCount:t.badgeCount,isSelected:t.tab===i,isDefault:t.tab===(0,lr.w)(e)[0]})))}(e,t,s,r));return i.length<2?void 0:{formattedTabs:i}}(s,e,r,t)))((0,at.Q)()(Sr));var Mr=s(16546);const Pr=e=>(0,r.jsx)(ct.w,{loader:dt.b.contactsTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:t=>(0,r.jsx)(Mr.z,{asyncStatus:t,hasPinnedGoods:!!e.entity.has_pinned_goods})}),Lr=e=>(0,r.jsx)(ct.w,{loader:dt.b.infoTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Mr.z,{asyncStatus:e})});var Nr=s(9390),Ar=s(1626);const Rr=e=>(0,r.jsx)(ct.w,{loader:dt.b.pricesTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>"loading"===e?(0,r.jsx)(Nr.S,{}):(0,r.jsx)(Ar.$,{code:500})}),zr=e=>(0,r.jsx)(ct.w,{loader:dt.b.insideTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Mr.z,{asyncStatus:e})}),Ur=e=>(0,r.jsx)(ct.w,{loader:dt.b.servicesTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Mr.z,{asyncStatus:e})});var Br=s(33118);const Hr=e=>(0,r.jsx)(ct.w,{loader:dt.b.discountsTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Mr.z,{asyncStatus:e})}),Fr=e=>(0,r.jsx)(ct.w,{loader:dt.b.realtyTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Mr.z,{asyncStatus:e})});var Dr=s(11540),Vr=s(20487);const Zr=(e,{tp:t,dateFns:s})=>({headerText:(0,Vr.$)({entity:e.entity,format:"short",ctx:{dateFns:s,tp:t}}),bodyText:(0,Vr.$)({entity:e.entity,format:"long",ctx:{dateFns:s,tp:t}})}),$r=e=>{const{s:t,css:s}=(0,re.I)(qr),{headerText:i,bodyText:a}=(0,Dr.kc)(Zr,e);return i&&a?(0,r.jsxs)("div",Object.assign({className:s(t.root)},{children:[(0,r.jsx)("div",Object.assign({className:s(t.header)},{children:i})),(0,r.jsx)("div",Object.assign({className:s(t.body)},{children:a}))]})):null},qr=(0,re.r)({root:{background:De.T.gray_f2f2f2,textAlign:"center",paddingBottom:12},header:Object.assign(Object.assign({},$e.Co),{paddingTop:16,paddingBottom:12,paddingStart:0,paddingEnd:0}),body:Object.assign(Object.assign({},$e.Hg),{padding:"0 20px"})});var Wr=s(40837);const Gr=e=>(0,r.jsx)(ct.w,{loader:dt.b.menuTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),Qr=e=>(0,r.jsx)(ct.w,{loader:dt.b.mediaTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N});var Kr=s(76098),Yr=s(54684),Xr=s(62363),Jr=s(25346),ei=s(53790),ti=s(38900);const si=({entity:e,frame:t,featureReadOnly:s,frameContext:i})=>{const a=(0,ie.wA)(),{css:o,s:d}=(0,re.I)(ri),l=(0,n.useRef)(null),u=(0,xe.U)(),p=(0,Kr.f)({entityId:e.id,dataLocaleSelector:R.u,isEnabled:"branch"===e.type&&(0,Yr.Q)(e)&&!e.has_pinned_goods}),m="has_realty"in e&&e.has_realty,g=(0,ie.d4)(Xr.D8),{data:h}=(0,Xr.Is)(g,{enabled:!!(0,ei._)(e)||m}),f="undefined"==typeof window||window.isServerRendered,b=(0,ie.d4)(c.n$),{data:v}=(0,Jr.l7)({objectId:e.id},{enabled:!!e.id}),y=null==v?void 0:v.albums.find((e=>e.id===k.Qh)),x=y?y.count||0:void 0,j=null==v?void 0:v.albums.find((e=>e.id===k.ge)),w=v&&j?j.count:v?0:void 0,_=null==h?void 0:h.pages[0].total,C=(0,ie.d4)((r=>{var i;return(0,wt.OM)({state:r,entityId:e.id,entityReviewsSearchId:t.tabReviews?(0,ee.HX)(t.tabReviews.entityReviewsSearchId):"",orgReviewsSearchId:t.tabReviews?(0,ee.HX)(t.tabReviews.orgReviewsSearchId):"",featureReadOnly:s,photosCount:x,menuPhotosCount:w,offersCount:null===(i=p.data)||void 0===i?void 0:i.total,realtyCount:_})})),I=t.tab||(0,lr.w)(e)[0],O=(0,n.useCallback)((()=>{l.current&&l.current.scrollIntoView({behavior:"smooth"})}),[l]),S=(0,n.useRef)(null),T=(0,ti.e)(t,i,u),E=T?T+2:0,{isSticky:M}=(({stickyRef:e,offset:t=0})=>{const[s,r]=(0,n.useState)(!1),{isMobileDevice:i}=(0,xe.U)(),a=(0,ie.d4)((e=>e.appContext.isMobileAppBannerClosed)),o=i&&!a?88:0;return(0,n.useEffect)((()=>{const s=new IntersectionObserver((([e])=>{r(e.intersectionRatio<1)}),{rootMargin:`-${t+o+1}px 0px 0px 0px`,threshold:[1]}),i=e.current;return i&&s.observe&&s.observe(i),()=>{i&&s.unobserve&&s.unobserve(i)}}),[e,t,a,i,o]),{isSticky:s}})({stickyRef:S,offset:E});return(0,r.jsxs)("div",Object.assign({},Ze.dx.n("wat-entity-tab"),{className:o(d.contentContainer),ref:l},{children:[(0,r.jsx)($r,{entity:e}),(0,r.jsxs)("div",Object.assign({style:{top:E,"--sticky-offset":-E+"px","--sticky-height":`${E}px`},className:o(d.stickyWrapper,M&&d.isSticky)},{children:[(0,r.jsx)("div",{ref:S,className:o(d.empty)}),(0,r.jsx)(Er,{tabs:C,frameTab:I,handleTabClick:s=>{a((0,Jt.s)({tab:s.key,frame:t,entity:e}))},regionCode:null==b?void 0:b.uri_code,entity:e})]})),(()=>{switch(I){case"contacts":if((0,mr.O)(e))return(0,ur.E)(e)?(0,r.jsx)(Pr,{scrollToTabs:O,entity:e,frame:t}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Pr,{scrollToTabs:O,entity:e,frame:t}),f&&(0,r.jsx)(Lr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0})]});break;case"info":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Lr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId}),f&&(0,mr.O)(e)&&(0,r.jsx)(Pr,{scrollToTabs:O,entity:e,frame:t,isHidden:!0})]});case"reviews":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Br.j,{frame:t,entity:e}),f&&(0,r.jsx)(Lr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),f&&(0,mr.O)(e)&&(0,r.jsx)(Pr,{scrollToTabs:O,entity:e,frame:t,isHidden:!0})]});case"photos":return(0,r.jsx)(Qr,{frame:t,entity:e,searchId:t.searchId});case"inside":return(0,r.jsx)(zr,{frame:t});case"services":case"providers":return(0,r.jsx)(Ur,{frame:t,entity:e});case"discounts":if((0,mr.O)(e))return(0,r.jsx)(Hr,{entity:e});break;case"prices":if((0,mr.O)(e)&&t.tabPrices)return(0,r.jsx)(Rr,{frameId:t.id,entity:e,entitySearchId:t.searchId,offersSearchId:t.tabPrices.searchId});break;case"realty":if(t.tabRealty){const t=(0,ei._)(e);return(0,r.jsx)(Fr,{onlyFirstPage:t})}break;case"menu":if((0,mr.O)(e))return(0,r.jsx)(Gr,{entity:e,searchId:t.searchId});break;default:return null}})()]}))},ri=(0,re.r)({contentContainer:{display:"flex",flexDirection:"column",flexGrow:1,"@media print":{background:"#fff"}},stickyWrapper:{position:"sticky",top:0,zIndex:Fe.fE.top},isSticky:{"::after":{content:'""',position:"absolute",top:"var(--sticky-offset, 0px)",left:0,right:0,width:"100%",height:"var(--sticky-height, 0px)",backgroundColor:De.T.white}},empty:{width:"100%"},searchBackground:{position:"absolute",top:0,left:0,right:8,backgroundColor:De.T.white,zIndex:2}});var ii=s(18322),ai=s(21054),ni=s(4013),oi=s(69270),ci=s(80960),di=s(84593),li=s(44920),ui=s(98827);const pi=()=>{const e=[(0,li.A)({isLabelShown:!0}),(0,ui.n)({isLabelShown:!0})];return(0,r.jsx)(di.L,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,r.jsx)(di.j,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var mi=s(11042),gi=s(20113);const hi=({search:e})=>({frameId:t},s)=>{const r=(0,gi.z)({state:s,isSuccess:!0,search:e}),i=(0,hs.t)({state:s,entityFrameId:t});return{uiElement:{name:"moreProductOffers",ownerName:"cardRealty",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,ze.o)({locale:(0,R.u)(s),region_id:(0,c.MJ)(s)})},enableMapLayer:!0},productOffersList:r,placeItem:i},action:"tap"}};function fi(){const e=(0,ae.c)(),t=(0,ie.wA)(),{frame:s,entity:r}=(0,mi.Z)(),i=(0,ie.d4)(Xr.D8),{data:a}=(0,Xr.Is)(i),{isMobileDevice:n}=(0,xe.U)(),o=null==a?void 0:a.pages[0],{useBssHandler:c}=(0,Ve.E)(),d=c(hi,{search:o}),l=(0,Yt.D)((()=>{var e,i;s&&r&&(null==d||d(),t((0,j.K2)((0,ce.po)({newLayer:"realty"}),(0,pe.P)({suggestId:r.id,entity:{id:r.id,type:r.type},categoryId:null===(e=s.tabRealty)||void 0===e?void 0:e.currentCategoryValue,filters:null===(i=s.tabRealty)||void 0===i?void 0:i.currentFiltersValues}),(0,tr.TE)({entityId:r.id}))))}));if("realty"===(null==s?void 0:s.tab)&&r&&(0,ei._)(r))return{type:"seeRealtyAds",label:n?e._t("Смотреть всё"):e._t("Смотреть все объявления"),icon:void 0,href:void 0,onClick:l}}var bi=s(96141);const vi=(0,n.memo)((()=>{const e=fi();return e?(0,r.jsx)(bi.$,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));vi.displayName="OpenRealtyLayerBtn";var yi=s(21005),xi=s(72490),ji=s(33489),wi=s(27892);const _i=(0,j.n5)("choosePhonePopup",(({entityId:e})=>(0,C.PC)((0,wi.PB)({id:(0,q.W7)(),type:"choosePhone",entityId:e}))));function Ci({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18.896 4.039a2.54 2.54 0 00-.432-.035l-1.66.001L16.068 4a2.024 2.024 0 00-1.449.59C11.528 7.67 10 11.917 10 16.008c0 4.11 1.527 8.357 4.623 11.429.378.375.891.562 1.426.562h2.016c.291-.008.2-.018.512-.03a2.51 2.51 0 002.421-2.596l-.01-.139a3.01 3.01 0 00-.024-.188l-.782-4.516-.038-.185a3.02 3.02 0 00-2.925-2.308l-1.79-.011-.06-.188a7.923 7.923 0 01-.33-1.91l-.003-.25a5.282 5.282 0 01.29-1.589l.027-.073h1.846a3.018 3.018 0 002.982-2.502l.781-4.594a2.502 2.502 0 00-1.897-2.848l-.17-.034zM18.49 6.01a.5.5 0 01.417.486l-.007.09-.774 4.592a1 1 0 01-.866.827l-.12.007H14c-.718 1.388-1.051 2.718-1 3.99.046 1.145.32 2.343.824 3.592l.176.418 3.148.019a1 1 0 01.953.714l.027.116.776 4.515a.5.5 0 01-.474.584l-.872.029-.81.017c-.26.004-.509.006-.748.006-3-3-4-7-4-10.01 0-2.99 1-6.99 4-10.003l1.132.006 1.273-.002a.5.5 0 01.086.007z",clipRule:"evenodd"})}))}var Ii=s(4911),ki=s(45276);function Oi(){const e=(0,ie.wA)(),{entity:t}=(0,mi.Z)(),s=(0,Ii.X)({entity:t}).currentCongestion,i=(0,Ve.E)().useBssHandler(Si,{currentCongestion:s}),a=(0,ki.Y)(t,"phone"),n=(0,Yt.D)((()=>{t&&(i(),a.length>1?e(_i({entityId:t.id})):window.location.assign(`tel:${a[0].value}`))}));if(a.length)return{type:"phone",label:void 0,icon:(0,r.jsx)(Ci,{color:De.T.black}),href:void 0,onClick:n}}const Si=e=>({frameId:t},s)=>{const{currentCongestion:r}=e,i=(0,hs.t)({state:s,entityFrameId:t,currentCongestion:r});return i||(0,$.vV)({message:"Не удалось сформировать placeItem для событие для UiElement.name: showPhone (a-d67cp)",level:"error",id:"fgd7e",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,F.w1)(s.appContext.frames,t))}}),{uiElement:{name:"showPhone",ownerName:"cardContacts",frameUuid:t},action:"tap",payload:{placeItem:i}}},Ti=(0,n.memo)((()=>{const e=[(0,li.A)(),(0,ji.j)({isLabelShown:!0}),fi(),(0,xi.w)(),(0,yi.F)(),(0,$s.y)({color:De.T.black,isLabelShown:!0}),Oi(),(0,Zs.B)({color:De.T.black}),(0,qs.e)({frameType:"entity",ownerName:"actionBar",color:De.T.black})];return(0,r.jsx)(di.L,{children:e.map(((e,t)=>e&&(0,r.jsx)(di.j,Object.assign({dataT:e.type,dataPs:Mi(e),type:Ei(e.type),grow:!0,icon:e.icon,href:e.href,containerRef:"bssRef"in e?e.bssRef:void 0,onClick:e.onClick},{children:e.label}),t)))})}));function Ei(e){switch(e){case"back":case"map":return"gray";case"addPhoto":case"seeRealtyAds":case"addMenuPhoto":return"blue";default:return"whiteWithBorder"}}function Mi(e){return"bookmark"===e.type&&e.isBookmarked}const Pi=(0,n.memo)((()=>(0,ie.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(pi,{}):(0,r.jsx)(Ti,{}))),Li=(0,n.memo)((()=>{const e=(0,yi.F)();return e?(0,r.jsx)(bi.$,Object.assign({appearance:"secondary",wide:!0,sharp:!0,containerRef:e.bssRef,onClick:e.onClick},{children:e.label})):null})),Ni=(0,n.memo)((()=>{const e=(0,xi.w)();return e?(0,r.jsx)(bi.$,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));function Ai(){window.clickstream&&window.clickstream.sendEvent({eventCategory:"2GIS_Online",eventAction:"Показ страницы",value:"",properties:[{key:"URL",value:window.location.href}]})}const Ri=(0,n.memo)((({entityId:e})=>{const t=(0,ie.d4)((t=>{var s;const r=(0,u.DE)({state:t,entityId:e});return"branch"===(null===(s=null==r?void 0:r.data)||void 0===s?void 0:s.type)?r.data:void 0}));return(0,n.useEffect)((()=>{const e=(null==t?void 0:t.rubrics.find((({kind:e})=>"primary"===e)))||(null==t?void 0:t.rubrics[0]);var s;t&&e&&(s={eventCategory:"2GIS_Online",eventAction:"Показ карточки организации",value:"",properties:[{key:"organizationCategory",value:e.name},{key:"organizationName",value:t.name_ex.primary}]},window.clickstream&&window.clickstream.sendEvent(s))}),[e]),null}));class zi extends n.PureComponent{constructor(){super(...arguments),this.listenersId=(0,q.W7)()}componentDidMount(){this.props.subscribeOnEvents({id:this.listenersId}),this.props.fetchData({entityId:this.props.frame.entityId,searchCtx:this.props.searchCtx,searchKeyword:this.props.searchKeyword})}componentWillUnmount(){this.props.removeListeners({id:this.listenersId})}render(){const{entity:e,errorCode:t,status:s,frame:i,s:a}=this.props;return e?(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(a.root)},(0,Ze.n)("wat-entity-card"),(0,Ze.t)(e.type),{children:[(0,r.jsx)(Lt.z,{statusIds:i.statusId}),(0,r.jsx)(oi.M,Object.assign({contentScrollId:(0,ii.e)(i),fixedContentFooter:this.renderFixedFooter()},{children:this.renderContent()})),(0,r.jsx)(Ri,{entityId:e.id})]})):"error"===s?(0,r.jsx)("div",Object.assign({className:(0,it.AH)(a.error)},(0,Ze.n)("wat-entity-card-error"),{children:(0,r.jsx)(Ar.$,{code:t,type:"entity"})})):(0,r.jsx)(ai.r,{})}renderContent(){const{entity:e,frame:t,frameContext:s,s:i,bssRef:a,featureReadOnly:n}=this.props;return(0,r.jsx)(ci.V.Provider,Object.assign({value:{showEventOrdinal:this.props.showEventOrdinal}},{children:(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(i.entity),ref:a},{children:[(0,r.jsx)(ir,{entity:e,frame:t,frameContext:s}),(0,r.jsx)(si,{entity:e,frame:t,frameContext:s,featureReadOnly:n})]}))}))}renderFixedFooter(){const{frame:e,entity:t}=this.props,s=(0,ei._)(t);return(0,r.jsxs)(r.Fragment,{children:["photos"===e.tab&&(0,r.jsx)(qt.j,{children:(0,r.jsx)(Ni,{})}),"menu"===e.tab&&(0,r.jsx)(qt.j,{children:(0,r.jsx)(Li,{})}),"realty"===e.tab&&s&&(0,r.jsx)(qt.j,{children:(0,r.jsx)(vi,{})}),(0,r.jsx)(qt.h,{children:(0,r.jsx)(Pi,{})})]})}}zi.displayName=(0,bt.d)("src/modules/entity");const Ui=(0,nt.f)(ni.K7)((0,rt.N)(kt,Pt)((0,or.J)((({frame:e,entity:t},{config:s})=>{const{meta:r,data:i}=t,a=s.featureReadOnly;return"point"===e.entityType?{entity:{id:"__empty",type:"point",point:i&&"point"in i&&i.point||e.point,region_id:"0",segment_id:"0"},status:"success",errorCode:void 0,featureReadOnly:a}:{entity:i,status:r&&r.status,errorCode:r&&"error"===r.status?r.code:void 0,featureReadOnly:a}}))((0,it.Xy)({root:{height:"100%"},entity:{minHeight:"100%",display:"flex",flexDirection:"column"},error:{marginTop:100}})((0,at.Q)()(zi)))));var Bi=s(46033);class Hi extends n.PureComponent{render(){const{s:e}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(e.gta)},{children:[(0,r.jsx)("div",{className:(0,it.AH)(e.gtaContent)}),(0,r.jsx)("div",{className:(0,it.AH)(e.gtaLink)})]}))}}Hi.displayName=(0,bt.d)("src/shared/kit/skeletons");const Fi={gta:{margin:8,borderRadius:Fe.Vq.default,overflow:"hidden"},gtaContent:{height:168,background:De.T.gray_f2f2f2},gtaLink:{height:40,backgroundColor:De.T.blue_028eff}},Di=(0,it.Xy)(Fi)(Hi);class Vi extends n.PureComponent{render(){const{s:e}=this.props;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.row)},{children:(0,r.jsx)("div",{className:(0,it.AH)(e.cityBlock)})})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.row)},{children:(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.rubricatorWrapper)},{children:(0,r.jsx)(Bi.j,{})}))})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.row)},{children:(0,r.jsx)("div",{className:(0,it.AH)(e.feedback)})})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.row)},{children:(0,r.jsx)(Di,{})}))]})}}Vi.displayName=(0,bt.d)("src/shared/kit/skeletons");const Zi={cityBlock:{background:De.T.gray_929292,width:"100%",height:228},row:{marginBottom:"8px"},rubricatorWrapper:{marginTop:16,marginBottom:8,marginStart:8,marginEnd:8},feedback:{background:De.T.gray_929292,padding:"12px 16px",marginTop:16,marginBottom:8,marginStart:8,marginEnd:8,height:132,borderRadius:Fe.Vq.default}},$i=(0,it.Xy)(Zi)(Vi);function qi(e){return"error"===e?(0,r.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,r.jsx)(Ar.$,{code:500})})):(0,r.jsx)($i,{})}const Wi=e=>(0,r.jsx)(ct.w,{loader:dt.b.dashboard,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:qi});function Gi(e){return"error"===e?(0,r.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,r.jsx)(Ar.$,{code:500})})):(0,r.jsx)("div",{})}const Qi=e=>(0,r.jsx)(ct.w,{loader:dt.b.product,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Gi}),Ki=e=>(0,r.jsx)(ct.w,{loader:dt.b.offer,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N});class Yi extends n.PureComponent{render(){if("entity"===this.props.frame.subtype)return(0,r.jsx)(ai.r,{})}}Yi.displayName=(0,bt.d)("src/modules/pending");const Xi=Yi,Ji=e=>(0,r.jsx)(ct.w,{loader:dt.b.directions,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),ea=e=>(0,r.jsx)(ct.w,{loader:dt.b.publicFavorites,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),ta=e=>(0,r.jsx)(ct.w,{loader:dt.b.collection,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),sa=e=>(0,r.jsx)(ct.w,{loader:dt.b.direction,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),ra=e=>(0,r.jsx)(ct.w,{loader:dt.b.prices,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),ia=e=>(0,r.jsx)(ct.w,{loader:dt.b.rubricator,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),aa=e=>(0,r.jsx)(ct.w,{loader:dt.b.rubric,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),na=e=>(0,r.jsx)(ct.w,{loader:dt.b.userProfile,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N});var oa=s(2390),ca=s(50472),da=s(3127);const la=(0,n.memo)((()=>{const e=(0,ae.c)(),{s:t,css:s}=(0,re.I)(ua);return(0,r.jsx)(da.e,{title:e._gg("Что-то пошло не так"),message:e._gg("Чтобы оставить отзыв, найдите компанию по названию или адресу через строку поиска"),code:500,additionalContent:(0,r.jsxs)("div",Object.assign({className:s(t.logos)},{children:[(0,r.jsx)(oa.t,{height:20}),(0,r.jsx)(ca.r,{height:20})]}))})})),ua=(0,re.r)({logos:{marginTop:40,display:"flex",alignItems:"center",justifyContent:"center"}}),pa=({frame:e,frameContext:t})=>{const{code:s,subtype:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(Ft.z,{frame:e,frameContext:t}),(0,r.jsx)("div",Object.assign({style:{paddingTop:44}},{children:"sbol-review"===i?(0,r.jsx)(la,{}):(0,r.jsx)(Ar.$,{code:s,type:i})}))]})},ma=e=>(0,r.jsx)(ct.w,{loader:dt.b.unconfirmedReviews,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),ga=e=>(0,r.jsx)(ct.w,{loader:dt.b.currentReview,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),ha=e=>(0,r.jsx)(ct.w,{loader:dt.b.tUgcCard,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),fa=n.memo((e=>(0,r.jsx)(lt.e,Object.assign({sidebar:(0,r.jsx)("div",{}),areFiltersOpened:e.areFiltersOpened},{children:(0,r.jsx)(Nr.S,{squareLogo:e.squareLogo,logoSize:e.logoSize})}))));fa.displayName="SearchSkeleton";const ba=e=>(0,r.jsx)(ct.w,{loader:dt.b.realty,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:va(e.frameContext.areFiltersOpened)}),va=e=>t=>"loading"===t?(0,r.jsx)(fa,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,r.jsx)(Ar.$,{code:500}),ya=e=>(0,r.jsx)(ct.w,{loader:dt.b.realtyCard,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:xa}),xa=e=>"loading"===e?(0,r.jsx)(ai.r,{}):(0,r.jsx)(Ar.$,{code:500}),ja=e=>(0,r.jsx)(ct.w,{loader:dt.b.achievementsFrame,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),wa=e=>(0,r.jsx)(ct.w,{loader:dt.b.userFriendsActivity,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N});var _a=s(11264);const Ca=e=>(0,r.jsx)(ct.w,{loader:dt.b.exchange,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Ia(e.frameContext.areFiltersOpened)}),Ia=e=>t=>"loading"===t?(0,r.jsx)(fa,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,r.jsx)(Ar.$,{code:500}),ka=e=>(0,r.jsx)(ct.w,{loader:dt.b.galleryAlbum,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),Oa=e=>(0,r.jsx)(ct.w,{loader:dt.b.friendsListFrame,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N}),Sa=e=>(0,r.jsx)(ct.w,{loader:dt.b.userPublicProfileFrame,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N});s(42586);var Ta=s(21959),Ea=s(22665),Ma=s(38793),Pa=s(78425),La=s(69405);const Na=({id:e,onClose:t})=>{var s,i,a,o,c,d,l;const p=(0,ae.c)(),m=(0,ie.wA)(),{css:g,s:h}=(0,re.I)(Aa),{friendsDebugToken:f,isMobileDevice:b,rtl:v,featurePublicProfile:y}=(0,xe.U)(),{profile:x,state:j,isMyProfile:w,selfState:_,isMyFriendProfile:C}=Pa.vK.useUserProfile(e),I=Pa.vK.useIsMyFriend(e);Pa.vK.useMoveToUserMarker(j);const k=y?C:I,{profiles:O,sharedRoute:S}=(0,ie.d4)(Ge.sT.getFriendsOnMap),T="work"===(null===(i=null===(s=null==j?void 0:j.locationPlace)||void 0===s?void 0:s.status)||void 0===i?void 0:i.id)||"home"===(null===(o=null===(a=null==j?void 0:j.locationPlace)||void 0===a?void 0:a.status)||void 0===o?void 0:o.id)||null===(d=null===(c=null==j?void 0:j.locationPlace)||void 0===c?void 0:c.object)||void 0===d?void 0:d.id,E=(0,ie.d4)(Ta.x3)||!!f,M=(0,ie.d4)((e=>T?(0,u.Tq)({state:e,entityId:T}):void 0)),P=null===(l=O[e])||void 0===l?void 0:l.session,L=P&&P.expiresAt&&P.expiresAt-P.serverTime,N=P&&(()=>{var t,s;return Ma.L.bss.showSharerProfile({publicProfileId:e,expirationTime:P.expiresAt?Math.round((P.expiresAt-P.serverTime)/1e3):void 0,sessionId:P.sessionId,sharerLocationPlace:null===(s=null===(t=null==j?void 0:j.locationPlace)||void 0===t?void 0:t.status)||void 0===s?void 0:s.id})}),{bssRef:A,useBssHandler:R}=(0,Ve.E)(b?Ma.L.bss.showSharingGeoFrame():void 0),z=R(Ma.L.bss.sendFriendRequestFromProfile,{publicProfileId:e});(0,n.useEffect)((()=>{T&&!w&&m((0,La.J)({id:T,searchId:void 0}))}),[m,T,w]);const U=()=>{var e;if(x.isError)return(0,r.jsx)(Pa.eo,{});if(x.isSuccess){const{public_user:s}=x.data,i=(null==S?void 0:S.sharerId)===(null==j?void 0:j.id),a=i&&(null===(e=null==S?void 0:S.pointB)||void 0===e?void 0:e.title)||((null==M?void 0:M.data)&&"name"in M.data?M.data.name:void 0),n=w||null==_?void 0:_.location,o=Pa.Vw.getUserStatus({state:j,entityName:a,selfUserLocation:n,eta:i?null==S?void 0:S.eta:void 0,tp:p,rtl:v});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Pa.Pq,{isAuthorized:E,isMyFriendProfile:k,avatarUrl:Pa.Vw.getUserAvatar(s,b),status:o,user:s,isMyProfile:w,broadcastTime:L,onClose:t,onAddFriend:z,bssShowFunction:N}),!b&&!w&&(0,r.jsx)("div",Object.assign({className:g(h.banner)},{children:(0,r.jsx)(Pa.Oc,{userId:s.public_user_id,userName:s.name})}))]})}return(0,r.jsx)(Pa.fZ,{})};return b?(0,r.jsx)("div",Object.assign({className:g(h.mobileWrapper),ref:A},{children:U()})):(0,r.jsx)("div",Object.assign({className:g(h.wrapper)},{children:U()}))},Aa=(0,re.r)({wrapper:{display:"flex",flexDirection:"column",padding:24},mobileWrapper:{backgroundColor:De.T.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},banner:{marginTop:24}}),Ra=({frame:e})=>{var t,s;const i=(0,ie.wA)(),{isMobileDevice:a}=(0,xe.U)(),o=(0,ie.d4)(Ta.ug),c=(0,ie.d4)(Ea.W),d=(0,ie.d4)(Ta.Us),l=null===(t=o.data)||void 0===t?void 0:t.access_token,u=(null===(s=o.data)||void 0===s?void 0:s.public_user_id)||c,{data:p,isError:m}=Ma.L.useSubscribeSessionQuery({token:l,userId:u,sessionId:e.sessionId},{enabled:!d});return(0,n.useEffect)((()=>{p&&p.isFriend&&!a?(i((0,M.wU)({id:e.id})),i(Te.M.openPublicProfile({userId:p.id})),i((0,ce.po)({newLayer:"friends"}))):p?(i(Ge.sT.updateFriendsOnMapModel({type:"sharer"})),i((0,M.oy)(e.id,(e=>Object.assign(Object.assign({},e),{userId:null==p?void 0:p.id}))))):m&&(i((0,M.wU)({id:e.id})),i(Ma.L.openBroadcastEndedPopup({sessionId:e.sessionId})))}),[m,i,e,p,a]),!p||p.isFriend&&!a?(0,r.jsx)(Pa.fZ,{}):(0,r.jsx)(Na,{id:p.id,onClose:()=>{i((0,j.K2)((0,C.PC)(),(0,M.wU)({id:e.id})))}})},za=e=>[...e.featurePublicProfile?[]:["userPublicProfile"]];class Ua extends n.PureComponent{constructor(){super(...arguments),this.state={errorMessage:"",error:""}}render(){const e=this.props.s,t="entity"===this.props.frame.type?this.props.frame.entityType:this.props.frame.type;return(0,n.createElement)("div",Object.assign({className:(0,st.AH)(e.frame,za(this.props.config).includes(this.props.frame.type)&&e.frameOverflowHidden)},Ze.p({n:"wat-frame",t:t}),{ref:this.props.bssRef,key:this.props.frame.id}),this.renderContent())}componentDidCatch(e,t){if(this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`}),e===ct.M)return;const s=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"",r=e.stack&&-1!==e.stack.indexOf("removeChild")?e.stack.replace("Error: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","removeChild").replace(/https:\/\/d-assets\.2gis\.ru/g,"assets").replace(/vendor/g,"v"):e.stack;(0,$.vV)({message:s,level:"fatal",id:"m8bkw",payload:{type:"exception",subtype:"FrameRenderFailed",stack:r}})}renderContent(){if(this.state.error)return(0,r.jsxs)("div",Object.assign({style:{padding:"16px"}},Ze.p({n:"wat-error-frame",v:this.state.errorMessage}),{children:[(0,r.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,r.jsx)(Ar.$,{code:500})})),(0,r.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,r.jsx)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:`Session id: ${this.props.config.sessionId}\n            User id: ${this.props.config.userId}\n            ${this.state.error}`}))]}));switch(this.props.frame.type){case"gallery":return(0,r.jsx)(ka,{frame:this.props.frame,frameContext:this.props.frameContext,isMenuPhoto:"menu"===this.props.frame.entityType});case"dashboard":return(0,r.jsx)(Wi,{frame:this.props.frame,frameContext:this.props.frameContext});case"search":return(0,r.jsx)(ht,{frame:this.props.frame,frameContext:this.props.frameContext,config:this.props.config});case"directions":return(0,r.jsx)(Ji,{frame:this.props.frame,frameContext:this.props.frameContext});case"direction":return(0,r.jsx)(sa,{frame:this.props.frame});case"entity":return(0,r.jsx)(Ui,{frame:this.props.frame,frameContext:this.props.frameContext});case"product":return(0,r.jsx)(Qi,{frame:this.props.frame,frameContext:this.props.frameContext});case"offer":return(0,r.jsx)(Ki,{frame:this.props.frame});case"pending":return(0,r.jsx)(Xi,{frame:this.props.frame});case"publicFavorites":return(0,r.jsx)(ea,{frame:this.props.frame,frameContext:this.props.frameContext});case"collection":return(0,r.jsx)(ta,{frame:this.props.frame,frameContext:this.props.frameContext});case"prices":return(0,r.jsx)(ra,{frame:this.props.frame});case"rubricator":return(0,r.jsx)(ia,{frame:this.props.frame,frameContext:this.props.frameContext});case"rubric":return(0,r.jsx)(aa,{frame:this.props.frame,frameContext:this.props.frameContext});case"userProfile":return(0,r.jsx)(na,{frame:this.props.frame});case"unconfirmedReviews":return(0,r.jsx)(ma,{frame:this.props.frame});case"currentReview":return(0,r.jsx)(ga,{frame:this.props.frame});case"tUgc":return(0,r.jsx)(ha,{frame:this.props.frame});case"error":return(0,r.jsx)(pa,{frame:this.props.frame,frameContext:this.props.frameContext});case"realty":return(0,r.jsx)(ba,{frame:this.props.frame,frameContext:this.props.frameContext});case"realtyCard":return(0,r.jsx)(ya,{frame:this.props.frame});case"exchange":return(0,r.jsx)(Ca,{frame:this.props.frame,frameContext:this.props.frameContext});case"achievements":return(0,r.jsx)(ja,{frame:this.props.frame});case"userFriendsActivity":return(0,r.jsx)(wa,{frame:this.props.frame});case"friendsList":return(0,r.jsx)(Oa,{frame:this.props.frame});case"userPublicProfile":return(0,r.jsx)(Sa,{frame:this.props.frame});case"sharingGeo":return(0,r.jsx)(Ra,{frame:this.props.frame})}}}const Ba=(0,nt.f)(((e,t)=>(0,ot.f_)({state:t,frame:e.frame})))((0,it.Xy)({frame:{background:"#fff",flex:"1 1 100%",height:"100%",overflowX:"hidden",overflowY:"auto"},frameOverflowHidden:{overflowY:"hidden"}})((0,at.Q)()((0,_a.N)()(Ua))));var Ha=s(15471),Fa=s(12175);const Da=e=>(0,r.jsx)(ct.w,{loader:dt.b.suggestList,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Wr.N});var Va=s(52870),Za=s(45469),$a=s(56803);const qa=(0,vt.Mz)([({state:e})=>(0,Za.WY)(e,"primary"),({state:e})=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.text},({state:e,props:t})=>"search"===t.frame.type&&"query"===t.frame.searchType?(0,$a.s8)({state:e,searchId:(0,F.Xk)(t.frame,"actual")}):void 0],((e,t,s)=>{var r,i;return{suggest:e,newYearPlaceholder:t,queryFix:null===(i=null===(r=null==s?void 0:s.data)||void 0===r?void 0:r.searchAttributes)||void 0===i?void 0:i.query_fix}}));var Wa=s(12579),Ga=s(69395),Qa=s(17640),Ka=s(85356);const Ya="primary",Xa=(0,j.n5)("handleInput",(({query:e})=>(0,j.K2)((0,Ga.Tl)({suggesterKey:Ya,query:e}),(0,Ga.r_)({suggesterKey:Ya,index:void 0}),(0,Wa.TJ)({suggesterKey:Ya,show:!0}),(0,Wa.ti)()))),Ja=(0,j.n5)("handleSubmit",(({frameId:e})=>(0,N.QY)((({tp:t})=>(0,A.RC)({suggest:e=>(0,Za.WY)(e,Ya),primarySuggestions:e=>(0,Za.gD)(e),searchAttributes:e=>(0,Za.oJ)(e,"primary"),featureRealty:e=>e.config.featureRealty},(({suggest:s,primarySuggestions:r,searchAttributes:i,featureRealty:a})=>{if(!s||!s.query)return(0,j.lQ)();const n=a&&r?(0,Ka.P)(r,t):r?[...r]:[],{highlightedIndex:o,query:c}=s;if(void 0!==o){const t=n[o];if(t)return(0,Wa.iz)({suggestion:t,query:c,pickedIndex:o,frameId:e,suggestions:n||[],searchAttributes:i})}return c?(0,j.K2)((0,Qa.bp)({query:c,frameId:e}),(0,Wa.TJ)({suggesterKey:Ya,show:!1}),(0,Wa.bP)({query:c})):(0,j.lQ)()})))))),en="primary",tn=(0,yt.Yn)(((e,t)=>({handleInput(t){e(Xa({query:t}))},handleSubmit(){e(Ja({frameId:t.frame.id}))},handleInputClick(t){e((0,Wa.t7)({query:t,suggesterKey:en}))},handleNavigation(t){e((0,Wa.hQ)({suggesterKey:en,keyCode:t}))}})));var sn=s(71053),rn=s(88096);class an extends n.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.handleInput(e),this.props.bssSearchBarInput({query:e})},this.handleKeyUp=e=>{e.stopPropagation()},this.handleKeyDown=e=>{if(e.stopPropagation(),[rn.En,rn.vx,rn.aH].indexOf(e.keyCode)>-1)return e.preventDefault(),void(this.props.suggest&&this.props.suggest.show&&this.props.handleNavigation(e.keyCode));e.keyCode,rn.jD},this.handleSubmit=e=>{var t;e.preventDefault(),this.props.isMobileDevice&&this.props.inputRef&&(null===(t=this.props.inputRef.current)||void 0===t||t.blur()),this.props.handleSubmit()},this.handleClick=()=>{this.props.handleInputClick(this.props.query||""),this.props.bssSearchBarTap()},this.onClear=()=>{this.props.bssClearSearchBarTap()}}render(){var e;const{query:t,autoFocus:s,lightText:i,inputRef:a,withH1Header:n,placeholder:o}=this.props;return(0,r.jsx)("form",Object.assign({onSubmit:this.handleSubmit},{children:(0,r.jsx)(sn.D,{placeholder:o,value:t||"",onChange:this.handleChange,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,autoFocus:s,lightText:i,onClick:this.handleClick,onClear:this.onClear,inputRef:a,displayH1Header:n,showHamburger:!(null===(e=this.props.suggest)||void 0===e?void 0:e.show)})}))}}an.displayName=(0,bt.d)("src/modules/searchBar/containers/suggestInput");const nn=(0,at.Q)()((0,nt.f)(void 0,((e,t)=>({bssSearchBarInput({query:s}){e((0,es.cD)({uiElement:{name:"searchBar",ownerName:"searchBarWrapper",frameUuid:t.ownerFrameId},action:"textInput",payload:{searchRequest:{text:s}}}))},bssSearchBarTap(){const s=(0,ot.DR)(t.frame);e((0,es.cD)({uiElement:{name:"searchBar",ownerName:s,frameUuid:t.ownerFrameId},action:"tap"}))},bssClearSearchBarTap(){e((0,es.cD)({uiElement:{name:"clear",ownerName:"searchBar",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,ie.Ng)(((e,t)=>qa({state:e,props:t})),tn)((0,or.J)((({suggest:e,frame:t,customPlaceholder:s,newYearPlaceholder:r,queryFix:i},{config:a,tp:n})=>{const o=t&&i&&((e,t)=>{if("search"===e.type&&"query"===e.searchType&&t)return t.corrected_query})(t,i),c=t&&function(e){switch(e.type){case"search":return"inbuilding"===e.searchType?e.parentSearchQuery:e.query;case"entity":case"product":return e.query}}(t),d=n._pt("Поиск в 2ГИС","Поиск в %1",[a.brandName]),l=(({customPlaceholder:e,newYearPlaceholder:t,astronauticsDayPlaceholder:s})=>{switch(!0){case void 0!==e:return e;case void 0!==t:return t;case void 0!==s:return s;default:return}})({customPlaceholder:s,newYearPlaceholder:a.featureNewYear?r:void 0,astronauticsDayPlaceholder:a.featureAstronauticsDay?"Поехали":void 0});return{query:o||(e&&void 0!==e.query?e.query:c)||"",placeholder:l||d,isMobileDevice:a.isMobileDevice}}))(an))));var on=s(82559),cn=s(60077);const dn="primary",ln=["tree","bag","hat","sock","toy","mandarins"],un=((0,j.n5)("getNewYearRandomSearchBarDecor",(()=>(0,j.NV)((({featureNewYear:e})=>e?(0,N.QY)((({tp:e})=>{const t=[e._gg("3-я ул. Строителей, 25, кв.12"),e._gg("Если снежинка не растает"),e._gg("Загадайте желание"),e._gg("Мы дождались 2024!")];return(0,U.Ip)({newYearPlaceholder:{text:t[Math.floor(Math.random()*t.length)],iconType:ln[Math.floor(Math.random()*ln.length)]}})})):(0,j.lQ)())))),{framesLength:e=>e.appContext.frames.length,isDataViewerMinimized:e=>e.appContext.isDataViewerMinimized||!1,suggest:e=>(0,Za.WY)(e,"primary")}),pn={subscribeOnPopState:e=>(0,O.q2)({id:e,type:"window:popstate",handler:()=>(0,Ga.TJ)({suggesterKey:dn,show:!1})}),unsubscribeOnPopState:e=>(0,O.f)({id:e}),hideSuggest:()=>(0,Ga.TJ)({suggesterKey:dn,show:!1}),handleLogoClick:S.sU,closeLastFrame:S.kD};class mn extends n.PureComponent{constructor(){super(...arguments),this.state={isDataViewerMinimized:this.props.isDataViewerMinimized,forceFocus:!1},this.popStateListenerId=(0,q.W7)(),this.inputRef=n.createRef(),this.closeSuggest=()=>{this.props.showSuggest&&this.props.hideSuggest()},this.handleBackClick=()=>{var e;const{config:{isMobileDevice:t}}=this.props;this.props.showSuggest&&(t&&(null===(e=this.inputRef.current)||void 0===e||e.blur()),this.props.hideSuggest())},this.handleLogoClick=()=>{this.props.handleLogoClick()},this.handleBlur=()=>{this.props.hideSuggest()}}static getDerivedStateFromProps(e,t){return e.autoFocus&&!e.isDataViewerMinimized&&t.isDataViewerMinimized?Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!0}):Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!1})}componentDidMount(){this.props.subscribeOnPopState(this.popStateListenerId)}componentWillUnmount(){this.props.unsubscribeOnPopState(this.popStateListenerId)}componentDidUpdate(){this.state.forceFocus&&this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}render(){const{frame:e,showSuggest:t,autoFocus:s,isInputWithH1Header:i,wrapperHeight:a,showBackButton:n,showBorder:o,s:c}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,it.AH)(c.root),style:{height:a}},Ze.dx.n("wat-search-bar-wrapper"),Ze.dx.t(e.type),{children:(0,r.jsxs)(on.H,Object.assign({onBlur:this.handleBlur,initialFocus:s},{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(c.focusController)},{children:(0,r.jsx)(Fa.G,Object.assign({showBackButton:n,showLogo:!n,showBorder:o,handleBackClick:this.handleBackClick,handleLogoClick:this.handleLogoClick},{children:(0,r.jsx)(nn,{frame:e,autoFocus:s,inputRef:this.inputRef,withH1Header:i})}))})),t&&(0,r.jsx)(Va.K,Object.assign({onBackgroundClick:this.closeSuggest,stretchContent:!0},{children:(0,r.jsx)(Da,{frame:e,inputRef:this.inputRef})}))]}))}))}}const gn=(0,cn.M)({selectors:un,handlers:pn})((0,_a.N)()((0,or.J)(((e,{config:t})=>{const{frame:s,frameContext:r,isDataViewerMinimized:i,framesLength:a,suggest:n}=e,o=(0,ti.e)(s,r,t);if(!o)return;const c=!(!n||!n.show);return{wrapperHeight:o,autoFocus:!t.isMobileDevice&&!i&&0===a,isInputWithH1Header:"search"===s.type&&"query"===s.searchType&&1===a,showSuggest:c,showBackButton:c,showBorder:!c}}))((0,it.Xy)((({mobile:e})=>({root:{paddingTop:16,margin:e?"0 12px":"0 16px",pointerEvents:"auto",boxSizing:"border-box"},focusController:{position:"relative",zIndex:Fe.fE.top},promo:{paddingTop:16,paddingBottom:0,paddingStart:12,paddingEnd:12}})))(mn))));var hn=s(70498),fn=s(46383),bn=s(23124);class vn extends n.PureComponent{constructor(){super(...arguments),this.state={doNotRender:"undefined"!=typeof window&&!window.isServerRendered,isActive:!!this.props.frameContext&&this.props.frameContext.isRightMost}}componentDidMount(){this.props.fadeInWithoutDelay?this.setState({doNotRender:!1}):this.fadeInTimer=window.setTimeout((()=>this.setState({doNotRender:!1})),Cs.S.long)}componentDidUpdate(){const{frameContext:e}=this.props;e&&e.isRightMost!==this.state.isActive&&(e.isRightMost?this.stylesTimer=window.setTimeout((()=>{this.setState({isActive:e.isRightMost}),this.stylesTimer=void 0}),Cs.S.long):this.setState({isActive:!1}))}componentWillUnmount(){this.fadeInTimer&&window.clearTimeout(this.fadeInTimer),this.stylesTimer&&window.clearTimeout(this.stylesTimer)}render(){const{frameWidth:e,frameContext:t,children:s,s:i}=this.props;if(!t)return null;const{isActive:a}=this.state;return(0,r.jsx)("div",Object.assign({className:(0,st.AH)(i.panel,this.state.doNotRender&&i._fadedOut),style:{width:e}},{children:!this.state.doNotRender&&(0,r.jsx)("div",Object.assign({className:(0,st.AH)(i.content,a?i._highlighted:i._regular)},{children:s({frameContext:t})}))}))}}const yn={panel:{width:"352px",minWidth:"352px",height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:`opacity ${Cs.S.short}ms`,opacity:1,zIndex:1},content:{height:"100%"},_regular:{":before":{content:'""',position:"absolute",start:"-1px",top:"0",bottom:"0",width:"1px",height:"100%",background:(0,Is.m)(De.T.black,.1)},":after":{content:'""',position:"absolute",top:"0",end:"-1px",bottom:"0",width:"1px",height:"100%",background:(0,Is.m)(De.T.black,.1)}},_highlighted:{boxShadow:hn.E.outerLeft},_fadedOut:{opacity:0}},xn=(0,ie.Ng)((()=>{const e=(0,fn.S)(),t=(0,vt.Mz)([({props:t,state:s})=>e({state:s,frameId:t.frameId}),({state:e,props:t})=>(0,bn.q)(t.frameId)(e)],((e,t)=>({frameContext:e,frameWidth:t})));return(0,yt.tr)(((e,s)=>t({state:e,props:s})))}))((0,it.Xy)(yn)(vn));var jn=s(46501),wn=s(848);const _n={container:{cursor:"pointer",background:"rgba(255, 255, 255, .85)",width:"24px",height:"24px",padding:"8px 0",borderRadius:`logical ${Fe.Vq.default} 0 0 ${Fe.Vq.default}`,textAlign:"center",boxShadow:hn.E.popup,color:De.T.gray_262626}};function Cn(e){switch(e){case"minimize":return(0,r.jsx)(wn.i,{direction:"start"});case"maximize":return(0,r.jsx)(wn.i,{direction:"end"});default:return(0,r.jsx)(jn.b,{})}}const In=(0,it.Xy)(_n)((function(e){const{type:t,onClick:s,s:i}=e;return(0,r.jsx)("div",Object.assign({},Ze.dx.n("wat-ear"),{className:(0,st.AH)(i.container),onClick:s},{children:Cn(t)}))}));class kn extends n.PureComponent{render(){const{width:e,children:t,s:s}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,st.AH)(s.root),style:{width:e}},{children:[(0,r.jsx)("div",{className:(0,st.AH)(s.bg)}),(0,r.jsx)("div",Object.assign({className:(0,st.AH)(s.children)},{children:t}))]}))}}const On={root:{position:"absolute",top:0,start:0,bottom:0,zIndex:Fe.fE.base},bg:{width:"100%",height:"100%",position:"relative",background:De.T.white,boxShadow:hn.E.outerRight,zIndex:Fe.fE.base},children:{position:"absolute",top:"16px",end:"-24px",zIndex:Fe.fE.bottom}},Sn=(0,it.Xy)(On)(kn);var Tn=s(55839),En=s(88817),Mn=s(8951),Pn=s(31897);class Ln extends n.PureComponent{constructor(){super(...arguments),this.prevFrames=[],this.handleMinimizeClick=()=>{const{frames:e,isMinimized:t,bssOnMinimizeClick:s,handleMinimizeClick:r}=this.props;s(e,t),r()}}UNSAFE_componentWillReceiveProps(){this.prevFrames=this.props.frames.slice().reverse()}componentDidUpdate(){this.props.isMinimized&&function(e,t){if(e.length!==t.length)return!0;for(let s=0;s<e.length;s++)if(e[s].id!==t[s].id)return!0;return!1}(this.prevFrames,this.props.frames.slice().reverse())&&this.props.unMinimize()}render(){const{frames:e,isMinimized:t,s:s,dataViewerWidth:i,transform:a,config:n}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(s.root,t&&s._minimized),style:{transform:a,pointerEvents:t?"none":"all"}},{children:[(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:(0,q.W7)()}},{children:(0,r.jsx)(qe,{})})),(0,r.jsx)(Sn,Object.assign({width:i||Pn.k.width},{children:this.renderEars()})),(0,r.jsx)("div",Object.assign({style:{display:"flex",height:"100%",overflow:"hidden",width:i?i-Pn.k.width+"px":0}},Ze.dx.n("wat-frames"),{children:e.slice().reverse().map(((e,t)=>{return(0,r.jsx)(xn,Object.assign({frameId:e.id,fadeInWithoutDelay:this.prevFrames[t]&&(s=e,i=this.prevFrames[t],"search"===s.type&&"search"===i.type?s.searchType===i.searchType:s.type===i.type)},{children:({frameContext:t})=>(0,r.jsxs)(Ha.X.Provider,Object.assign({value:{frameId:e.id}},{children:[(0,Mn.F)(e,t,n)&&(0,r.jsx)("div",Object.assign({style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:Fe.fE.top}},{children:(0,r.jsx)(gn,{frame:e,frameContext:t})})),(0,r.jsx)("div",Object.assign({style:{position:"relative",zIndex:Fe.fE.base,height:"100%"}},{children:(0,r.jsx)(Ba,{frame:e,frameContext:t})}))]}))}),e.id);var s,i}))}))]}))}renderEars(){const{showArrowEar:e,showCloseEar:t,arrowEarType:s}=this.props;if(e||t)return(0,r.jsxs)("div",{children:[t&&(0,r.jsx)("div",Object.assign({},Ze.dx.n("wat-close-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,r.jsx)(In,{type:"close",onClick:this.props.handleCloseClick})})),e&&(0,r.jsx)("div",Object.assign({},Ze.dx.n("wat-minimize-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,r.jsx)(In,{type:s,onClick:this.handleMinimizeClick})}))]})}}Ln.displayName=(0,bt.d)("src/modules/dataViewer");const Nn={root:{height:"100%",display:"flex",position:"absolute",transition:`transform ${Cs.S.short}ms`,zIndex:Fe.fE.base},_minimized:{"@media print":{display:"none !important"}}},An=(0,nt.f)(void 0,(e=>({bssOnMinimizeClick(t,s){if(!t[0])return;const r={action:"tap",uiElement:{name:s?"expandArrow":"collapseArrow",ownerName:(0,ot.DR)(t[0]),frameUuid:t[0].id}};return e((0,es.cD)(r))}})))((0,rt.N)((e=>({frames:(0,Tn.t)(e),dataViewerWidth:(0,En.b)(e),isMinimized:e.appContext.isDataViewerMinimized})),((e,t)=>({handleCloseClick(){e((0,S.kD)())},handleMinimizeClick(){e((0,ve.X_)({isMinimized:!t.isMinimized}))},unMinimize(){e((0,ve.X_)({isMinimized:!1}))}})))((0,or.J)((function({frames:e,isMinimized:t,dataViewerWidth:s},{config:{rtl:r}}){let i="none";return t&&(i=r?`translate3d(${s}px, 0, 0)`:`translate3d(-${s}px, 0, 0)`),{arrowEarType:t?"maximize":"minimize",showCloseEar:!(e[0]&&"dashboard"===e[0].type),showArrowEar:!0,transform:i}}))((0,_a.N)()((0,it.Xy)(Nn)(Ln)))));var Rn=s(15344),zn=s(80376),Un=s(9255);function Bn({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.466.27 1 1.732-2.464 1.423v4.844l4.196-2.422V3.002h2v2.845l2.465 1.423-1 1.732-2.465-1.423-4.196 2.423 4.196 2.423 2.465-1.423 1 1.732-2.465 1.423v2.845h-2v-2.845l-4.196-2.423v4.845l2.464 1.423-1 1.732-2.464-1.423-2.464 1.423-1-1.732 2.464-1.423v-4.845l-4.196 2.422v2.846h-2v-2.846L.342 12.734l1-1.732 2.464 1.422 4.196-2.423L3.806 7.58 1.342 9.002l-1-1.732 2.464-1.422V3.002h2v2.846l4.196 2.421V3.425L6.538 2.002l1-1.732 2.464 1.423L12.466.27Z",fill:e})}))}var Hn=s(7491),Fn=s(92942);class Dn extends n.PureComponent{constructor(){super(...arguments),this.state={isActive:{min:this.props.currentValue.min!==this.props.min,max:this.props.currentValue.max!==this.props.max&&this.props.currentValue.max!==this.props.min},value:this.props.currentValue},this.boxRef=n.createRef(),this.handleSideMouseDown=e=>{if(this.props.isDisabled||!this.boxRef.current)return;const t="rtl"===this.props.dir?this.boxRef.current.getBoundingClientRect().left+this.boxRef.current.clientWidth-e.pageX:e.pageX-this.boxRef.current.getBoundingClientRect().left,s=this.pxToValue(t);this.setState({moving:{side:"max",sliderStart:t,mouseStart:e.pageX}}),this.updateSide(s,"max"),window.document.addEventListener("mouseup",this.handleSideUp),window.document.addEventListener("mousemove",this.handleSideMove)},this.handleSideUp=()=>{window.document.removeEventListener("mousemove",this.handleSideMove),window.document.removeEventListener("mouseup",this.handleSideUp),this.applyChanges(this.state.value),this.setState({moving:void 0})},this.handleSideMove=e=>{const{moving:t}=this.state;if(!t)return;const{side:s,sliderStart:r,mouseStart:i}=t,a=r+(e.pageX-i);this.updateSide(this.pxToValue(a),s)},this.updateSide=(e,t)=>{const{value:s,isActive:r}=this.state,i=this.limitSideValue(Math.round(e)),a=Object.assign(Object.assign({},r),{[t]:i!==this.props.max&&i!==this.props.min});if("min"===t&&i>s.max||"max"===t&&i<s.min)return this.applyChanges({min:i,max:i}),void this.setState({isActive:a,value:{min:i,max:i}});this.applyChanges(Object.assign(Object.assign({},s),{[t]:i})),this.setState({isActive:a,value:Object.assign(Object.assign({},s),{[t]:i})})},this.applyChanges=e=>{const{onChange:t,tag:s}=this.props,r=this.props.min===e.min&&this.props.max===e.max;t({valueType:"single",name:s,value:(0,Hn.N)(e.min,e.max),isChecked:!r})},this.limitSideValue=(e,t=!0)=>{if(!t)return e<0?0:e;const{min:s,max:r}=this.props;return e<s?s:e>r?r:e},this.valueToPercent=e=>{const t=Math.round(100*this.valueToProgress(e));return t>100?100:t<0?0:t}}static getDerivedStateFromProps(e,t){return t.moving?t:Object.assign(Object.assign({},t),{isActive:{min:e.currentValue.min!==e.min,max:e.currentValue.max!==e.max&&e.currentValue.max!==e.min}})}render(){const{isDisabled:e,s:t,dir:s}=this.props,{value:i,isActive:a,moving:n}=this.state,o=this.valueToPercent(i.min),c=this.valueToPercent(i.max),d=(0,st.mG)({start:`${o}%`,width:c-o+"%"},s);return(0,r.jsx)("div",Object.assign({},Ze.dx.n("wat-filter-widget-slider"),Ze.dx.t(this.props.tag),{children:(0,r.jsxs)("div",Object.assign({className:(0,st.AH)(t.barWrapper,e&&t._disabledBarWrapper),onMouseDown:this.handleSideMouseDown},{children:[(0,r.jsx)("div",{className:(0,st.AH)(t.bar)}),(0,r.jsxs)("div",Object.assign({className:(0,st.AH)(t.valueBox),ref:this.boxRef},{children:[(0,r.jsx)("div",{className:(0,st.AH)(t.bar,!e&&t._activeBar),style:d}),(0,r.jsx)("div",{className:(0,st.AH)(t.slider,t._sliderMax,a.max&&t._activeSlider,e&&t._disabledSlider,n&&t._movingSlider),style:(0,st.mG)({start:`${c}%`},s)})]}))]}))}))}pxToValue(e){if(!this.boxRef.current)return 0;const{isLog:t,min:s,max:r}=this.props;return t?s*Math.pow(2,e*Math.log2(r/s)/this.boxRef.current.clientWidth):(r-s)*e/this.boxRef.current.clientWidth+s}valueToProgress(e){const{isLog:t,min:s,max:r}=this.props,i=this.limitSideValue(e);return t?Math.log2(i/s)/Math.log2(r/s):(i-s)/(r-s)}}const Vn={barWrapper:{height:"24px",position:"relative",cursor:"pointer",userSelect:"none"},_disabledBarWrapper:{cursor:"auto"},bar:{width:"100%",height:"8px",position:"absolute",top:"8px",background:De.T.gray_e6e6e6,borderRadius:Fe.Vq.default,marginStart:-4,paddingEnd:8},_activeBar:{background:De.T.blue_028eff,borderRadius:Fe.Vq.defaultOnlyEnd},fillBar:{height:"8px",position:"absolute",top:"8px"},valueBox:{position:"absolute",height:"100%",left:0,right:0},slider:{width:"24px",height:"24px",border:`2px solid ${De.T.blue_028eff}`,boxSizing:"border-box",position:"absolute",borderRadius:"50%",backgroundColor:"#fff",cursor:"grab"},_movingSlider:{cursor:"grabbing"},_sliderMin:{marginStart:"-24px"},_sliderMax:{marginStart:"-12px"},_activeSlider:{":before":{content:'""',display:"block",backgroundColor:De.T.blue_028eff,borderRadius:"50%",position:"absolute",width:"8px",height:"8px",top:0,bottom:0,start:0,end:0,margin:"auto"}},_disabledSlider:{border:`1px solid ${De.T.gray_f2f2f2}`,pointerEvents:"none",cursor:"auto",":before":{backgroundColor:De.T.gray_bbbbbb}}},Zn=(0,or.J)((({min:e,max:t,currentValue:s})=>{const r=s?(0,Fn.a)(s):[],i=r[0]?Number(r[0]):void 0,a=r[1]?Number(r[1]):void 0;return{currentValue:{min:void 0!==i?i:e,max:void 0!==a?a:t}}}))((0,it.Xy)(Vn)(Dn));var $n=s(6028);const qn=e=>({frameId:t},s)=>{const r=(0,R.u)(s),i=(0,c.zN)(s);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:t},action:"tap",payload:{mapLayer:{name:"winterLayer",enableMapLayer:e,entity:{type:"mapLayer",segmentInfo:(0,ze.o)({locale:r,region_id:i})}}}}},Wn=(0,n.memo)((()=>{const e=(0,ae.c)(),{css:t,s:s}=(0,re.I)(Gn),i=(0,ie.wA)(),{bssRef:a,useBssHandler:o}=(0,Ve.E)((({frameId:e},t)=>{const s=(0,R.u)(t),r=(0,c.zN)(t);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:e},payload:{mapLayer:{name:"winterLayer",entity:{type:"mapLayer",segmentInfo:(0,ze.o)({locale:s,region_id:r})}}}}})),d=o(qn,!0),l=o(qn,!1),u=(0,ie.d4)((e=>e.appContext.showSnow)),{isMobileDevice:p}=(0,xe.U)(),m=(0,n.useCallback)((()=>{const e="on"===u.status||p?"off":"on";i((0,$n.a1)(e,!u.allowSnowStyle)),u.allowSnowStyle?l():d()}),[i,d,l,u.status,u.allowSnowStyle,p]),g=(0,n.useCallback)((e=>{var t;i((0,$n.Xp)({intensity:Number(null===(t=e.value)||void 0===t?void 0:t.split(",")[1])}))}),[i]),h=u.allowSnowStyle;return(0,r.jsxs)("div",Object.assign({className:t(s.root),ref:a},{children:[(0,r.jsx)(qt.j,{children:(0,r.jsx)("div",{children:h&&(0,r.jsxs)("div",Object.assign({className:t(s.slider,h&&s._slider_active)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.sliderHeader)},{children:e._t("Интенсивность снегопада")})),(0,r.jsx)(Zn,{onChange:g,min:0,max:200,currentValue:`0,${u.intensity}`})]}))})}),(0,r.jsxs)("div",Object.assign({className:t(s.control,h&&s._control_active),onClick:m},{children:[(0,r.jsx)(Bn,{color:h?De.T.blue_c5eeff:De.T.blue_028eff}),(0,r.jsx)(qt.j,{children:(0,r.jsx)("div",Object.assign({className:t(s.controlText)},{children:e._t("Новогоднее настроение")}))})]}))]}))}));Wn.displayName="SnowControl";const Gn=(0,re.r)((({mobile:e})=>({root:{position:"relative"},control:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:e?40:211,color:De.T.gray_929292,background:De.T.white,boxShadow:hn.E.popup,borderRadius:e?"50%":Fe.Vq.default,cursor:"pointer",zIndex:Fe.fE.base,":hover":{color:De.T.gray_262626}},controlText:{marginStart:8},sliderHeader:{marginBottom:4},slider:{position:"absolute",top:48,end:0,display:"flex",flexDirection:"column",justifyContent:"center",width:179,height:64,paddingStart:16,paddingEnd:16,borderRadius:Fe.Vq.default,background:De.T.white,boxShadow:hn.E.popup,transition:"width 200ms"},_slider_active:{width:179,paddingStart:16,paddingEnd:16},_control_active:{backgroundColor:De.T.blue_028eff,color:De.T.white,":hover":{backgroundColor:De.T.blue_0070cc,color:De.T.white}}}))),Qn=(0,vt.Mz)([({state:e})=>e.appContext.zoom,({state:e})=>(0,c.n$)(e),({state:e})=>e.session.is3dEnabled],((e,t,s)=>({zoom:e,projectData:t,is3d:s}))),Kn=(0,yt.tr)(((e,t)=>Qn({state:e,props:t}))),Yn=(0,yt.Yn)((e=>({onZoomChange:t=>e((0,j.K2)((0,tr.$b)({zoom:t}),(0,j.Q2)((e=>(0,O.c)({type:"map:moveend",event:{center:[e.appContext.center.lon,e.appContext.center.lat],zoom:t,rotation:e.appContext.rotation,pitch:e.appContext.pitch}})))))})));var Xn=s(90408),Jn=s(78076);function eo({color:e="currentColor",width:t=32,height:s=32}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:t,height:s},{children:(0,r.jsx)("path",{d:"M8 15h16v2H8z"})}))}var to=s(92920),so=s(95792);const ro=e=>{const{title:t,to:s,children:i,delay:a,offset:n,fixedWidth:o,isNowraped:c}=e,{ref:d,addTooltip:l}=(0,so.J)({title:t,to:s,delay:a,offset:n,fixedWidth:o,isNowraped:c});return(0,r.jsxs)(r.Fragment,{children:[i(d),l]})};class io extends n.Component{constructor(){super(...arguments),this.step=1,this.onZoomInClick=()=>{const{zoom:e,onZoomChange:t,maxZoom:s}=this.props,r=e+this.step;t(r>s?s:r)},this.onZoomOutClick=()=>{const{zoom:e,onZoomChange:t,minZoom:s}=this.props,r=e-this.step;t(r<s?s:r)}}render(){const{zoom:e,maxZoom:t,minZoom:s,i18n:{tp:i}}=this.props,a=i._t("Изменить масштаб");return(0,r.jsx)(ro,Object.assign({title:a,to:"centerStart"},{children:i=>(0,r.jsxs)(Un.H,Object.assign({isVertical:!0,innerRef:i},{children:[(0,r.jsx)(to.E,Object.assign({onClick:this.onZoomInClick,dataT:"zoom-in",disabled:e>=t,ariaLabel:a},{children:(0,r.jsx)(Jn.T,{})})),(0,r.jsx)(to.E,Object.assign({onClick:this.onZoomOutClick,dataT:"zoom-out",disabled:e<=s,ariaLabel:a},{children:(0,r.jsx)(eo,{})}))]}))}))}}io.displayName=(0,bt.d)("src/features/mapControl/zoom");const ao=(0,yt.Ng)(Kn,Yn)((0,or.J)((({projectData:e,is3d:t,zoom:s})=>{const r=(0,Xn.m)({project:e,is3d:t});return{zoom:s,minZoom:r.min,maxZoom:r.max}}))((0,at.Q)()(io)));class no extends n.PureComponent{constructor(){super(...arguments),this.beforeMoveState=void 0,this.onChangeStartHandler=e=>{this.bindHandlers(),this.beforeMoveState={x:e.clientX,y:e.clientY},this.props.onChangeStart&&this.props.onChangeStart(e)},this.onChangeHandler=(0,q.nF)((e=>{this.beforeMoveState&&this.props.onChange&&this.props.onChange({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})}),1e3/60),this.onChangeEndHandler=e=>{this.unbindHandlers(),this.beforeMoveState&&this.props.onChangeEnd&&this.props.onChangeEnd({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})},this.unbindHandlers=()=>{window.removeEventListener("mouseup",this.onChangeEndHandler),window.removeEventListener("mousemove",this.onChangeHandler)},this.bindHandlers=()=>{window.addEventListener("mouseup",this.onChangeEndHandler),window.addEventListener("mousemove",this.onChangeHandler)}}render(){const{children:e,dataN:t}=this.props;return(0,r.jsx)("div",Object.assign({onMouseDown:this.onChangeStartHandler},t?Ze.dx.n(t):{},{children:e}))}componentWillUnmount(){this.unbindHandlers()}}no.displayName=(0,bt.d)("src/shared/kit/mouseMoveHandler");const oo=no,co=(0,vt.Mz)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),lo=(0,yt.tr)(((e,t)=>co({state:e,props:t})));var uo=s(8335),po=s(93067);const mo=(0,yt.Yn)((e=>({onCenterClick({pitch:t}){const s=(0,po.d)(t);e((0,uo.m3)({pitch:s?0:45,duration:2e3,animate:!0,zoom:s?void 0:17,rotation:0}))},onRingRotate({rotation:t}){e((0,uo.m3)({rotation:t}))},pushToHistory(){e((0,C.PC)())},toggle3d(){e((0,A.eU)((e=>e.session.is3dEnabled),(e=>(0,_.Oo)({is3dEnabled:!e}))))}})));function go({disabled:e=!1}){return(0,r.jsxs)("svg",Object.assign({width:"58",height:"58",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("path",{d:"M26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 Z M26,42 C34.836556,42 42,34.836556 42,26 C42,17.163444 34.836556,10 26,10 C17.163444,10 10,17.163444 10,26 C10,34.836556 17.163444,42 26,42 Z",id:"path-1"}),(0,r.jsxs)("filter",Object.assign({x:"-8.7%",y:"-8.7%",width:"117.3%",height:"117.3%",filterUnits:"objectBoundingBox",id:"filter-2"},{children:[(0,r.jsx)("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608   0 0 0 0 0.149019608   0 0 0 0 0.149019608  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})]})),(0,r.jsxs)("linearGradient",Object.assign({x1:"50%",y1:"81.6633181%",x2:"50%",y2:"0%",id:"linearGradient-3"},{children:[(0,r.jsx)("stop",{stopColor:"#E33B1E",offset:"0%"}),(0,r.jsx)("stop",{stopColor:"#F7561B",offset:"100%"})]}))]}),(0,r.jsx)("g",Object.assign({id:"Map-Controls",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},{children:(0,r.jsx)("g",Object.assign({id:"2gis5-map-controls-elements",transform:"translate(-317.000000, -901.000000)"},{children:(0,r.jsx)("g",Object.assign({id:"Group-2-Copy-7",transform:"translate(320.000000, 904.000000)"},{children:(0,r.jsxs)("g",Object.assign({id:"outer-ring"},{children:[(0,r.jsxs)("g",Object.assign({id:"Combined-Shape"},{children:[(0,r.jsx)("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-1"}),(0,r.jsx)("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})]})),(0,r.jsx)("rect",{id:"Rectangle-13",fill:"#E6E6E6",x:"45",y:"24",width:"4",height:"4",rx:"2"}),(0,r.jsx)("rect",{id:"Rectangle-13-Copy-2",fill:"#E6E6E6",x:"3",y:"24",width:"4",height:"4",rx:"2"}),(0,r.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"#000000",points:"29 44 26 50 23 44"}),(0,r.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"url(#linearGradient-3)",points:"29 8 23 8 26 2"})]}))}))}))}))]}))}function ho({color:e="currentColor",fill:t="#FFFFFF"}){return(0,r.jsxs)("svg",Object.assign({width:"38",height:"38",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("circle",{id:"rotate-inner-ring-b",cx:"16",cy:"16",r:"16"}),(0,r.jsxs)("filter",Object.assign({x:"-14.1%",y:"-14.1%",width:"128.1%",height:"128.1%",filterUnits:"objectBoundingBox",id:"rotate-inner-ring-a"},{children:[(0,r.jsx)("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}))]}),(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsxs)("g",Object.assign({transform:"translate(3 3)"},{children:[(0,r.jsx)("use",{fill:"#000",filter:"url(#rotate-inner-ring-a)",xlinkHref:"#rotate-inner-ring-b"}),(0,r.jsx)("use",{style:{fill:t,transition:"fill .25s linear"},xlinkHref:"#rotate-inner-ring-b"})]})),(0,r.jsx)("path",{d:"M15.759 21.144c0-1.19-1.106-1.666-2.548-1.666h-.406v-1.512h.336c1.456 0 2.366-.532 2.366-1.484 0-.882-.77-1.358-1.61-1.358-1.162 0-1.904.742-2.002 1.792h-1.834c.224-2.016 1.624-3.248 3.948-3.248 1.694 0 3.444.812 3.444 2.73 0 .98-.602 1.806-1.372 2.226a2.656 2.656 0 0 1 1.638 2.464c0 2.058-1.778 3.094-3.92 3.094-2.324 0-3.696-1.512-3.822-3.374h1.82c.14 1.022.798 1.918 2.058 1.918 1.05 0 1.904-.63 1.904-1.582zm6.426-7.294c3.22 0 5.642 1.05 5.642 5.068 0 4.032-2.422 5.082-5.642 5.082h-3.01V13.85h3.01zm-.084 1.568h-.924v7.014h.924c1.848 0 3.654-.462 3.654-3.514 0-3.038-1.806-3.5-3.654-3.5z",style:{fill:e,transition:"fill .25s linear"}})]}))]}))}var fo=s(30498),bo=s(2338);class vo extends n.PureComponent{constructor(){super(...arguments),this.state={isHoverOnClickableInner:!1,isRotationInProgress:!1},this.rotationState=void 0,this.renderControl=e=>{const{pitch:t,s:s}=this.props,i=this.setColors();return(0,r.jsxs)("div",Object.assign({ref:e,className:(0,it.AH)(s.root),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(s.inner),style:{transform:`rotateX(${t}deg)`}},{children:(0,r.jsx)(ho,{color:i.color,fill:i.fill})})),this.renderOuterRing(),(0,r.jsx)("div",{className:(0,it.AH)(s.clickableInner),onClick:this.handleCenterClick,onMouseEnter:this.onClickableInnerMouseEnter,onMouseLeave:this.onClickableInnerMouseLeave})]}))},this.onMouseEnter=()=>{this.props.hoverableHandlers.onMouseEnter()},this.onMouseLeave=()=>{this.props.hoverableHandlers.onMouseLeave(),this.state.isHoverOnClickableInner&&this.setState({isHoverOnClickableInner:!1})},this.onClickableInnerMouseEnter=()=>{this.setState({isHoverOnClickableInner:!0})},this.onClickableInnerMouseLeave=()=>{this.setState({isHoverOnClickableInner:!1})},this.setColors=()=>{const{isHoverOnClickableInner:e}=this.state,{pitch:t}=this.props;return e?{color:(0,Is.m)(De.T.white,.7),fill:De.T.blue_028eff}:(0,po.d)(t)?{color:De.T.white,fill:De.T.blue_028eff}:{color:De.T.gray_262626,fill:De.T.white}},this.onRotationStart=e=>{const t=e.currentTarget.children.item(0);if(t){const{left:s,width:r}=t.getBoundingClientRect(),i=e.clientX-s<=r/2?1:-1;this.rotationState={initialRotation:this.props.rotation,sign:i},this.setState({isRotationInProgress:!0})}},this.onRotationEnd=({y:e})=>{if(!this.rotationState)return;const{rotation:t,onRingRotate:s}=this.props;0!==t&&0===e&&s({rotation:0}),this.rotationState=void 0,this.props.pushToHistory(),this.setState({isRotationInProgress:!1})},this.rotate=({y:e})=>{if(!this.rotationState)return;const t=180*e/(window.innerHeight/3),s=Math.round(this.rotationState.initialRotation+this.rotationState.sign*t)%360;this.props.onRingRotate({rotation:s})},this.handleCenterClick=e=>{const{is3d:t}=this.props;return this.props.bssOn3dControlClick(),t?t&&0===e.button&&e.altKey?((0,bo.S)("is3dDisabled","1"),this.props.toggle3d(),void location.reload()):void this.props.onCenterClick({rotation:this.props.rotation,pitch:this.props.pitch}):((0,bo.S)("is3dDisabled",void 0),this.props.toggle3d(),void location.reload())}}render(){const{i18n:e,is3d:t,s:s}=this.props,{isRotationInProgress:i}=this.state;return t?i?this.renderControl():(0,r.jsx)(ro,Object.assign({title:e.tp._t("Чтобы вращать карту, зажимайте Ctrl вместе с кнопкой мыши и двигайте курсор"),to:"centerStart",offset:12,fixedWidth:273},{children:e=>this.renderControl(e)})):(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(s.root),onClick:this.handleCenterClick},{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(s.inner)},{children:(0,r.jsx)(ho,{color:De.T.gray_929292,fill:De.T.gray_f2f2f2})})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(s.ring)},{children:(0,r.jsx)(go,{disabled:!0})}))]}))}renderOuterRing(){const{rotation:e,s:t}=this.props,s=(0,r.jsx)("div",Object.assign({className:(0,it.AH)(t.ring),style:{transform:`rotate(${e}deg)`}},{children:(0,r.jsx)(go,{})}));return(0,r.jsx)(oo,Object.assign({onChangeStart:this.onRotationStart,onChange:this.rotate,onChangeEnd:this.onRotationEnd,dataN:"wat-map-controls-3d-outer-ring"},{children:s}))}}vo.displayName=(0,bt.d)("src/features/mapControl/rotate");const yo=(0,yt.Ng)(lo,mo)((0,fo.B)((0,at.Q)()((0,it.Xy)({root:{position:"relative",width:58,height:58},ring:{position:"absolute",top:0,start:0,lineHeight:0,cursor:"pointer"},inner:{width:38,height:38,position:"absolute",top:10,start:10},clickableInner:{width:32,height:32,position:"absolute",top:13,borderRadius:"50%",cursor:"pointer",start:0,end:0,margin:"auto"},tooltip:{width:273,padding:16}})((0,nt.f)(void 0,((e,t)=>({bssOn3dControlClick(){e((0,es.cD)({uiElement:{name:"map3DControl",frameUuid:t.ownerFrameId},action:"tap"}))}})))(vo))))),xo=(0,vt.Mz)([({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.floorNames,({state:e})=>e.appContext.floors&&e.appContext.floors.currentFloor,({state:e})=>(0,Z.o5)(e)],((e,t,s)=>({floorNames:e,currentFloor:t,markersOnFloors:s}))),jo=(0,yt.tr)(((e,t)=>xo({state:e,props:t}))),wo=(0,yt.Yn)((e=>({onClickFloor(t){e((0,uo.Jc)({floorIndex:t,isManuallySelected:!0}))}})));class _o extends n.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{onClick:e,index:t}=this.props;e(t)}}render(){const{disabled:e,label:t,s:s,hasResults:i}=this.props;return(0,r.jsx)("button",Object.assign({className:(0,it.AH)(s.control),disabled:e,onClick:this.handleClick},{children:(0,r.jsx)("div",Object.assign({className:(0,it.AH)(s.label,i&&s._hasResults)},{children:t}))}))}}_o.displayName=(0,bt.d)("src/features/mapControl/floorsControl/ui/desktop");const Co={control:{background:De.T.white,height:32,width:32,color:De.T.gray_262626,cursor:"pointer",borderBottom:`1px solid ${De.T.gray_e6e6e6}`,boxSizing:"border-box",flexShrink:0,":first-child":{borderBottom:"none"},":hover":{color:(0,Is.m)(De.T.gray_262626,.7)},":active":{color:De.T.blue_028eff},":disabled":{background:De.T.gray_f2f2f2,color:De.T.gray_929292,cursor:"default"}},label:Object.assign(Object.assign({},$e.HI),{position:"relative",lineHeight:"32px",textAlign:"center",height:"100%"}),_hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:De.T.blue_028eff}}},Io=(0,it.Xy)(Co)(_o),ko=(e,t)=>(null==e?void 0:e.reduce(((e,s,r)=>{const i=!!(t&&t[r]||[]).length;return e.push({floorName:s,hasResults:i}),e}),[]))||[];class Oo extends n.PureComponent{constructor(){super(...arguments),this.state={noScroll:!0,scrollPosition:"top"},this.scrollerContainer=n.createRef(),this.contentContainer=n.createRef(),this.onClickFloor=e=>{this.props.onClickFloor(e)},this.detectHasScroll=()=>{const e=this.scrollerContainer.current,t=this.contentContainer.current;e&&t&&e.clientHeight<t.clientHeight&&this.setState({noScroll:!1})},this.onScroll=e=>{const t=this.scrollerContainer.current;if(this.state.noScroll||!t)return;const s=e.currentTarget.scrollTop;0!==s?s+t.clientHeight!==t.scrollHeight?this.setState({scrollPosition:"middle"}):this.setState({scrollPosition:"bottom"}):this.setState({scrollPosition:"top"})}}componentDidMount(){setTimeout(this.detectHasScroll,0)}componentDidUpdate(e){e.floors.length!==this.props.floors.length&&setTimeout(this.detectHasScroll,0)}render(){const{s:e,floors:t,currentFloor:s}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.root)},{children:(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(e.container)},{children:[!this.state.noScroll&&(0,r.jsx)(r.Fragment,{children:"top"!==this.state.scrollPosition&&(0,r.jsx)("div",{className:(0,it.AH)(e.scrollGradientTop)})}),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.scroller),ref:this.scrollerContainer,onScroll:this.onScroll},{children:(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.content),ref:this.contentContainer},{children:t.map(((e,t)=>(0,r.jsx)(Io,{label:e.floorName,disabled:t===s,onClick:this.onClickFloor,index:t,hasResults:e.hasResults},t)))}))})),!this.state.noScroll&&(0,r.jsx)(r.Fragment,{children:"bottom"!==this.state.scrollPosition&&(0,r.jsx)("div",{className:(0,it.AH)(e.scrollGradientBottom)})})]}))}))}}Oo.displayName=(0,bt.d)("src/features/mapControl/floorsControl/ui/desktop");const So={root:{position:"relative"},container:{display:"flex",maxHeight:"40vh",background:De.T.white,width:32,overflow:"hidden",borderRadius:Fe.Vq.default,boxShadow:hn.E.popup},scroller:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingEnd:17,marginEnd:-17},content:{display:"flex",flexDirection:"column-reverse"},scrollGradientTop:{pointerEvents:"none",height:40,width:32,position:"absolute",backgroundImage:`linear-gradient(to bottom, ${De.T.gray_f2f2f2}, ${De.T.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`},scrollGradientBottom:{height:40,width:32,position:"absolute",bottom:0,pointerEvents:"none",backgroundImage:`linear-gradient(to top, ${De.T.gray_f2f2f2}, ${De.T.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`}},To=(0,yt.Ng)(jo,wo)((0,or.J)((({markersOnFloors:e,floorNames:t,currentFloor:s})=>{if(t)return{floors:ko(t,e),currentFloor:s}}))((0,it.Xy)(So)(Oo))),Eo=()=>{const e=(0,ie.wA)(),{css:t,s:s}=(0,re.I)(Mo),i=(0,n.useRef)(null),a=(0,n.useRef)(null),o=(0,ie.d4)((e=>{var t,s;return null===(s=null===(t=e.appContext)||void 0===t?void 0:t.floors)||void 0===s?void 0:s.currentFloor}))||0,c=(0,ie.d4)((e=>{var t,s,r;return null===(r=null===(s=null===(t=e.appContext)||void 0===t?void 0:t.weak)||void 0===s?void 0:s.floors)||void 0===r?void 0:r.floorNames})),d=(0,ie.d4)(Z.o5),l=(0,ie.d4)((e=>!!e.appContext.weak.floors)),u=ko(c,d),p=(0,n.useCallback)((()=>{if(i.current){const t=i.current.offsetHeight/2+i.current.scrollTop,s=Math.abs(Math.floor(t/40)-1);s!==o&&e((0,uo.Jc)({floorIndex:s,isManuallySelected:!0}))}}),[o,e]);return(0,n.useEffect)((()=>{const e=i.current;if(e)return e.addEventListener("scrollend",p),()=>e.removeEventListener("scrollend",p)}),[p,l]),(0,n.useEffect)((()=>{if(i.current&&a.current){const e=i.current;e.style.scrollBehavior="auto",a.current.scrollIntoView({block:"center"}),e.style.scrollBehavior="smooth"}}),[u]),l?(0,r.jsx)("div",Object.assign({className:t(s.control)},{children:(0,r.jsxs)("ul",Object.assign({className:t(s.list),ref:i},{children:[(0,r.jsx)("li",{className:t(s.item)}),u.map((({floorName:e,hasResults:n},c)=>{return(0,r.jsx)("li",Object.assign({className:t(s.item,c===o&&s.active,n&&s.hasResults),onClick:(d=c,()=>{if(d!==o&&i.current){const e=d>o?-40:40;i.current.scrollBy({top:e})}}),ref:c===o?a:void 0},{children:e}),e);var d})),(0,r.jsx)("li",{className:t(s.item)})]}))})):null},Mo=(0,re.r)({control:{position:"relative",width:40,borderRadius:4,backgroundColor:De.T.white,boxShadow:hn.E.popup,"&:before":{position:"absolute",content:'""',width:32,height:1,left:"50%",top:40,transform:"translate(-50%, 0)",backgroundColor:De.T.gray_e6e6e6},"&:after":{position:"absolute",content:'""',width:32,height:1,left:"50%",top:80,transform:"translate(-50%, 0)",backgroundColor:De.T.gray_e6e6e6}},list:{height:120,position:"relative",overflow:"auto",display:"flex",flexDirection:"column-reverse",scrollSnapType:"y mandatory","&::-webkit-scrollbar":{display:"none"}},item:{position:"relative",height:40,display:"flex",flex:"0 0 40px",alignItems:"center",justifyContent:"center",scrollSnapAlign:"center",fontSize:18,color:De.T.gray_929292},active:{color:De.T.black},hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:De.T.blue_028eff}}});var Po=s(33662);const Lo=(0,yt.Yn)((e=>({onFeedbackClick(){e((0,Po.A)("online5"))}})));class No extends n.PureComponent{constructor(){super(...arguments),this.state={expand:!0===this.props.expand||void 0===this.props.expand,leftPosition:void 0,doNotAnimate:!0,expandExternal:!!this.props.expand},this.initialTimeout=void 0,this.setSizeTimeout=void 0,this.textContainer=n.createRef(),this.onMouseEnter=()=>{this.initialTimeout&&clearTimeout(this.initialTimeout),this.state.doNotAnimate||this.setState({expand:!0})},this.onMouseLeave=()=>{this.state.doNotAnimate?this.setState({doNotAnimate:!1,expand:!1}):this.setState({expand:!1})},this.onClick=()=>{this.props.onClick()}}static getDerivedStateFromProps(e,t){return!1===e.expand?Object.assign(Object.assign({},t),{expandExternal:!1}):null}componentDidMount(){const e=this.textContainer.current;e&&(this.initialTimeout=setTimeout((()=>{this.setState({doNotAnimate:!1,expand:!1})}),3e3),this.setSizeTimeout=setTimeout((()=>{const t=e.offsetWidth>220?220:e.offsetWidth;this.setState({leftPosition:-t})}),0))}componentWillUnmount(){this.initialTimeout&&clearTimeout(this.initialTimeout),this.setSizeTimeout&&clearTimeout(this.setSizeTimeout)}render(){const{text:e,s:t,href:s,dir:i,icon:a,color:n,bgColor:o,withShadow:c}=this.props,{expand:d,expandExternal:l,doNotAnimate:u}=this.state,p=n?{color:n}:{},m=o?{backgroundColor:o}:{};return(0,r.jsx)("a",Object.assign({href:s,onClick:this.onClick,target:s?"_blank":void 0,className:(0,it.AH)(t.wrapper),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(t.inner,!u&&t._hasTransition,c&&t._withShadow),style:(0,st.mG)(Object.assign(Object.assign({start:d||l?this.state.leftPosition:void 0},p),m),i)},{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(t.icon)},{children:a})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(t.text,(d||l)&&t._showed),ref:this.textContainer},{children:e}))]}))}))}}No.displayName=(0,bt.d)("src/shared/components/expandControl");const Ao={wrapper:Object.assign(Object.assign({},$e.Hg),{cursor:"pointer",position:"relative",display:"block",width:40,height:40}),inner:{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,start:0,end:0,display:"flex",flexDirection:"row-reverse",alignItems:"center",paddingTop:8,paddingBottom:8,paddingStart:4,paddingEnd:0,boxSizing:"border-box",opacity:1,borderRadius:Fe.Vq.oval,color:De.T.white,background:(0,Is.m)(De.T.black,.85),overflow:"hidden"},_hasTransition:{transition:"left 200ms"},icon:{flex:"0 0 40px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},text:{flex:"0 0 auto",display:"inline-block",paddingTop:0,paddingBottom:0,paddingStart:24,paddingEnd:8,transform:"translateZ(0)",pointerEvents:"none",opacity:0},_showed:{opacity:1,transition:"opacity 200ms 75ms"},_withShadow:{boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)"}},Ro=(0,fo.B)((0,it.Xy)(Ao)(No));function zo({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M4.92 27.08l2.25-6.77A10.5 10.5 0 1 1 16.5 26a10.57 10.57 0 0 1-4.81-1.17zm7-4.43l.39.22a8.52 8.52 0 1 0-3.15-3.15l.22.39-1.3 3.81z"})}))}class Uo extends n.PureComponent{constructor(){super(...arguments),this.onFeedbackClick=()=>{const{onFeedbackClick:e,bssOnFeedbackClick:t}=this.props;e(),t()}}render(){const{i18n:e}=this.props;return(0,r.jsx)("div",Object.assign({},Ze.dx.n("wat-feedback-btn"),{children:(0,r.jsx)(Ro,{onClick:this.onFeedbackClick,icon:(0,r.jsx)(zo,{}),text:e.tp._t("Обратная связь")},"feedback")}))}}Uo.displayName=(0,bt.d)("src/features/mapControl/feedbackControl");const Bo=(0,nt.f)(void 0,((e,t)=>({bssOnFeedbackClick(){e((0,es.cD)({uiElement:{name:"feedbackButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,yt.Ng)(void 0,Lo)((0,at.Q)()(Uo)));var Ho=s(24787),Fo=s(50570),Do=s(37700);function Vo({allowed:e,position:t}){return{isEnabled:!!e&&(!!t||void 0)}}const Zo=n.memo((()=>{const{geolocation:e}=(0,ie.d4)((e=>e.session)),{isEnabled:t}=(0,Dr.kc)(Vo,e),s=(0,ie.wA)(),i=(0,ae.c)()._t("Моё местоположение"),a=()=>s(!1===t?(0,Do.S8)():(0,Do.Vu)()),{css:n,s:o}=(0,re.I)($o);return(0,r.jsx)(ro,Object.assign({to:"centerStart",title:i,isNowraped:!0},{children:e=>(0,r.jsx)("div",Object.assign({className:n(o.root),ref:e},(0,Fo.a)({label:i}),{children:(0,r.jsx)("button",Object.assign({onClick:a,className:n(o.control),disabled:!1},Ze.n("wat-control-my-geolocation"),{children:void 0===t?(0,r.jsx)("span",{className:n(o.loader)}):(0,r.jsx)("span",Object.assign({className:n(o.icon,t&&o._active)},{children:(0,r.jsx)(Ho.a,{})}))}))}))}))})),$o=(0,re.r)((({mobile:e})=>({root:{width:e?40:32,background:De.T.white,boxShadow:hn.E.popup,borderRadius:Fe.Vq.default,display:"flex",flexDirection:"column",overflow:"hidden"},control:Object.assign(Object.assign({},$e.HI),{position:"relative",background:De.T.white,height:e?40:32,width:e?40:32,cursor:"pointer",color:De.T.gray_262626,borderBottom:`1px solid ${De.T.gray_e6e6e6}`,boxSizing:"border-box",":last-child":{borderBottom:"none"}}),icon:{display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7},":active":{color:De.T.blue_028eff}},_active:{color:De.T.blue_028eff},loader:{position:"absolute",boxSizing:"content-box",borderWidth:2,borderRadius:"50%",borderStyle:"solid",borderColor:De.T.blue_028eff,color:"transparent",top:0,right:0,bottom:0,left:0,opacity:0,transition:`top, right, bottom, left, opacity ${Cs.l.base}`,animationIterationCount:"infinite",animationDuration:`${Cs.S.spinner}ms`,animationName:{"0%":{top:14,right:14,bottom:14,left:14,opacity:1},"50%":{top:2,right:2,bottom:2,left:2,opacity:0}}}})));var qo=s(59543);const Wo=(0,vt.Mz)([({state:e})=>(0,Ta.ug)(e).data,({state:e})=>(0,Ta.Us)(e)],((e,t)=>({user:e,userStatusIsUnknown:t}))),Go=(0,yt.tr)(((e,t)=>Wo({state:e,props:t})));var Qo=s(91818),Ko=s(77314);const Yo=(0,yt.Yn)((e=>({onLogin(){e((0,Qo.oC)())},openUserProfile(){e((0,j.NV)((({featureChronologyPlaces:e})=>(0,Ko.x)(e?"places":"favorites"))))}})));var Xo=s(40819),Jo=s(23098),ec=s(50593),tc=s(99949),sc=s(85724),rc=s(80774),ic=s(72616);function ac({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 14h2v5h-2v-5z"}),(0,r.jsx)("path",{d:"M28.3 23.6L19.6 7.7c-.8-1.5-2.6-2-4.1-1.2-.5.3-.9.7-1.2 1.2L5.7 23.6c-.5.9-.5 2.1 0 3 .6.9 1.6 1.4 2.7 1.4h17.3c1.1 0 2-.6 2.6-1.5.5-.9.5-2 0-2.9zm-1.8 2c-.2.3-.5.4-.9.4H8.4c-.6 0-1-.4-1-1 0-.2 0-.3.1-.5l8.6-15.9c.3-.4.9-.6 1.4-.3.2.1.3.2.4.4l8.6 15.8c.2.3.2.7 0 1.1z"}),(0,r.jsx)("path",{d:"M16 21h2v2h-2v-2z"})]}))}function nc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M24.2 28.5L16 23.3l-8.2 5.2 2.2-9.7-7.6-6.1 9.9-.8L16 3l3.7 9 9.9.8-7.6 6 2.2 9.7zM16 20.9l5.2 3.3-1.4-6.2 4.6-3.7-6-.5L16 8.2l-2.4 5.7-6 .5 4.6 3.7-1.5 6.2 5.3-3.4z"})}))}function oc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M20.6 11.5l4.3-6.7-1.7-1.1-4.4 7c-.8-.2-1.6-.4-2.4-.4l3.5-5.5-1.7-1.1L16 7.1l-2.2-3.4-1.7 1.1L14.8 9l-1 1.6-.6.1-4.4-7-1.6 1.1 4.3 6.7c-4.3 2.5-5.7 8-3.2 12.3s8 5.7 12.3 3.2 5.7-8 3.2-12.3c-.8-1.3-1.9-2.4-3.2-3.2zM16 26.3c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"})}))}function cc({color:e="#262626"}){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 23c0-5.6324 4.5314-9 9-9v2c-3.2531 0-6.45281 2.2338-6.93702 6H14v2H6v-1ZM24 13.5l4.5 4.5-7.4196 7.2481L18.8246 26H16v-2.8246l.7519-2.2558L24 13.5Zm0 3 1.5 1.5-5.5 5.5-1.5.5H18v-.5l.5-1.5 5.5-5.5Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 11c0 2.7614-2.2386 5-5 5s-5-2.2386-5-5c0-2.76142 2.2386-5 5-5s5 2.23858 5 5Zm-5 3c1.6569 0 3-1.3431 3-3 0-1.65685-1.3431-3-3-3s-3 1.34315-3 3c0 1.6569 1.3431 3 3 3Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m18.2336 16.7664 1.4693-1.4693C18.2766 14.4503 16.6341 14 15 14v2c1.1205 0 2.2346.265 3.2336.7664Z",fill:e})]}))}function dc({color:e="#262626"}){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"m22.2929 11.2919 4.707 4.707-4.707 4.707-1.414-1.414 2.292-2.293h-11.585v-2h11.585l-2.292-2.293 1.414-1.414Z",fill:e}),(0,r.jsx)("path",{d:"M18.216 5.222c-1.455-.296-2.976-.296-4.431 0-.704.144-1.399.36-2.067.642-.654.276-1.283.618-1.869 1.015-.583.393-1.13.844-1.627 1.342-.497.497-.948 1.043-1.343 1.627-.395.585-.737 1.214-1.013 1.869-.283.668-.498 1.363-.642 2.066C5.076 14.51 5 15.256 5 15.999c0 .743.076 1.489.224 2.216.144.703.359 1.398.642 2.066.276.654.618 1.283 1.014 1.869.394.583.845 1.13 1.342 1.627.497.497 1.044.948 1.628 1.343.585.395 1.214.737 1.868 1.014.668.282 1.363.498 2.067.641.727.149 1.472.224 2.215.224.744 0 1.489-.075 2.216-.224.703-.143 1.399-.359 2.067-.641.654-.277 1.631-.938 2.217-1.334l-1.468-1.338c-.48.324-.994.603-1.529.83-.546.23-1.113.407-1.687.524-1.19.242-2.442.242-3.631 0-.574-.117-1.142-.294-1.688-.524-.535-.227-1.048-.506-1.527-.829-.478-.324-.928-.694-1.334-1.1-.406-.406-.776-.855-1.099-1.333-.324-.479-.603-.993-.83-1.528-.23-.546-.407-1.114-.524-1.688C7.062 17.22 7 16.608 7 15.999c0-.61.062-1.221.183-1.816.117-.574.294-1.141.524-1.687.227-.535.506-1.049.83-1.527.323-.479.693-.928 1.099-1.334.406-.407.856-.777 1.333-1.099.48-.324.993-.604 1.528-.83.546-.231 1.114-.407 1.688-.525 1.189-.242 2.441-.242 3.631 0 .574.118 1.141.294 1.687.525.535.226 1.049.506 1.528.829L22.5 7.2c-.585-.396-1.563-1.06-2.217-1.336-.668-.282-1.364-.498-2.067-.642Z",fill:e})]}))}const lc=()=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,r.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M6.05 17.001C6.551 22.054 10.814 26 16 26s9.448-3.946 9.95-8.999h2.009C27.45 23.16 22.29 28 16 28S4.55 23.16 4.041 17zM27.621 13c.166.647.28 1.315.337 2l-3.14-.001-.517 2.59a3 3 0 01-2.764 2.406L21.36 20H20a3 3 0 01-2.995-2.824L17 17v-2.001h-2V17a3 3 0 01-2.824 2.995L12 20h-1.36a3 3 0 01-2.902-2.238l-.04-.174L7.18 15H4.041c.057-.684.17-1.352.337-2h23.244zm-14.623 1.999H9.22l.44 2.197a1 1 0 00.863.797l.118.007H12a1 1 0 00.993-.883L13 17v-2.001zm9.781 0H19V17a1 1 0 00.883.993L20 18h1.36a1 1 0 00.951-.69l.03-.114.44-2.197zM16 4c4.843 0 9.016 2.869 10.912 7h-2.25A9.995 9.995 0 0016 6a9.996 9.996 0 00-8.662 5h-2.25C6.984 6.869 11.158 4 16 4z"})})),uc=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{d:"M8 5a1 1 0 011.341-.94l.106.046 16 8a1 1 0 01.14 1.705l-.113.07-13 7-.948-1.761 11.303-6.088L10 6.618V27H8V5z",fill:e,fillRule:"evenodd"})}));var pc=s(9181);const mc={handleOpenProfile:tc.U,handleEditUserProfile:sc.v,handleLogout:pc.r},gc=e=>{switch(e){case"edit":return(0,r.jsx)(cc,{});case"achievements":return(0,r.jsx)(oc,{});case"photos":return(0,r.jsx)(ic.$,{});case"reviews":return(0,r.jsx)(nc,{});case"feedbacks":return(0,r.jsx)(ac,{});case"favorites":return(0,r.jsx)(rc.X,{});case"missions":return(0,r.jsx)(lc,{});case"places":return(0,r.jsx)(uc,{});case"logout":return(0,r.jsx)(dc,{})}};class hc extends n.PureComponent{render(){const{s:e,listsToRender:t}=this.props;return(0,r.jsx)("nav",Object.assign({className:(0,it.AH)(e.root)},Ze.dx.n("wat-avatar-toast"),{children:t.map(((t,s)=>(0,r.jsx)("ul",Object.assign({className:(0,it.AH)(e.list)},{children:t.map(((t,s)=>(0,r.jsxs)("li",Object.assign({className:(0,it.AH)(e.item),onClick:this.handleMenuItemClick(t.type)},Ze.dx.n("wat-avatar-toast-item"),Ze.dx.t(t.type),{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.icon)},{children:gc(t.type)})),t.title]}),s)))}),s)))}))}handleMenuItemClick(e){return()=>{const{handleOpenProfile:t,handleEditUserProfile:s,handleLogout:r}=this.props;"logout"!==e?("edit"===e&&s(),t(e)):r()}}}const fc={root:{display:"block",boxShadow:hn.E.popup,borderRadius:Fe.Vq.default,background:De.T.white,padding:"12px 0",minWidth:192},list:{boxSizing:"border-box",position:"relative",boxShadow:hn.E.innerBorderBottomBase,"&:not(:last-child)":{paddingBottom:8},"&:nth-child(1n+2)":{paddingTop:12},"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",paddingTop:0,paddingBottom:0,paddingStart:16,paddingEnd:8,listStyleType:"none",color:De.T.gray_929292,cursor:"pointer",":hover":{color:De.T.blue_028eff}},icon:{postion:"absolute",height:32,width:32,color:De.T.gray_262626,start:0,marginEnd:16}},bc=(0,it.Xy)(fc)(hc),vc=(0,cn.M)({selectors:()=>({isUserAuthorized:Ta.x3}),handlers:mc})((0,or.J)((({isUserAuthorized:e},{tp:t,config:s})=>{if(!e)return;const r=[{title:t._t("Награды"),type:"achievements"},{title:t._t("Отзывы"),type:"reviews"},{title:t._t("Фотографии"),type:"photos"},{title:t._t("Уточнения"),type:"feedbacks"}];return s.featureAgents&&s.dashboardCarouselItems.includes("agents2020")&&r.unshift({title:t._gg("Миссии"),type:"missions"}),r.unshift({title:t._t("Избранное"),type:"favorites"}),s.featureChronologyPlaces&&r.unshift({title:t._t("Мои места"),type:"places"}),{listsToRender:[r,[{title:t._t("Редактировать"),type:"edit"},{title:t._t("Выйти"),type:"logout"}]]}}))((0,at.Q)()(bc)));class yc extends n.PureComponent{constructor(){super(...arguments),this.avatarRef=n.createRef(),this.renderInner=()=>{const{showAvatar:e,avatar:t,userStatusIsUnknown:s,i18n:i,s:a}=this.props;return s?null:e?(0,r.jsx)(Jo.e,{initials:this.renderInitials,src:t}):(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(a.button)},{children:[(0,r.jsx)(qo.G,{}),(0,r.jsx)(qt.j,{children:(0,r.jsx)("div",Object.assign({className:(0,it.AH)(a.buttonName)},Ze.dx.n("wat-enter"),{children:i.tp._t("Войти")}))})]}))},this.onLogin=()=>{const{showAvatar:e,onLogin:t,openUserProfile:s,trackLoginClick:r}=this.props;e?s():(r(),t())},this.renderInitials=()=>this.props.initials}render(){const{s:e,showRedOutline:t,showAvatar:s,i18n:{tp:i}}=this.props;return(0,r.jsx)(ec.t,{children:({isHovered:a,hoverHandlers:n})=>(0,r.jsxs)("div",Object.assign({},n,{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.root,t&&e._redOutline),onClick:this.onLogin},Ze.dx.n("wat-auth-control"),{ref:this.avatarRef},{children:s?this.renderInner():(0,r.jsx)(ro,Object.assign({to:"bottomMiddle",title:i._t("Вход в аккаунт"),offset:8,isNowraped:!0},{children:e=>(0,r.jsx)("div",Object.assign({ref:e,style:{display:"flex"}},{children:this.renderInner()}))}))})),a&&(0,r.jsx)(qt.j,{children:(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.tooltip)},{children:(0,r.jsx)(vc,{})}))})]}))})}}yc.displayName=(0,bt.d)("src/features/mapControl/authControl");const xc={root:Object.assign(Object.assign({},$e.Hg),{display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40,borderRadius:Fe.Vq.oval,color:De.T.gray_262626,background:De.T.white,boxShadow:hn.E.popup,overflow:"hidden",":hover":{color:(0,Is.m)(De.T.gray_262626,.7)}}),_redOutline:{outline:"2px solid red"},tooltip:{position:"absolute",top:40,end:0,paddingTop:8,zIndex:Fe.fE.top},button:{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 4px"},buttonName:Object.assign({paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8},$e.Co)},jc=(0,nt.f)(void 0,((e,t)=>({trackLoginClick(){const s={uiElement:{name:"authorisationButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"};return e((0,es.cD)(s))}})))((0,yt.Ng)(Go,Yo)((0,or.J)((({user:e,userStatusIsUnknown:t},{config:s,tp:r})=>{const i=s.isConfigOverridden,a=(null==e?void 0:e.avatar_preview_tpl)?e.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):null==e?void 0:e.avatar;return t||!e?{userStatusIsUnknown:t,showAvatar:!1,showRedOutline:i}:{userStatusIsUnknown:!1,showAvatar:!0,initials:(0,Xo.Z)(e,r),avatar:a,showRedOutline:i}}))((0,it.Xy)(xc)((0,at.Q)()(yc)))));function wc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:32,height:32},{children:(0,r.jsx)("path",{d:"M19 5.59L5.59 19 13 26.41 26.41 13zM8.41 19L10 17.41l2.29 2.3 1.42-1.42-2.3-2.29L13 14.41l2.29 2.3 1.42-1.42-2.3-2.29L16 11.41l2.29 2.3 1.42-1.42-2.3-2.29L19 8.41 23.59 13 13 23.59z"})}))}const _c={activate:function(){return(0,ve.JE)({isActive:!0})},deactivate:function(){return(0,ve.JE)({isActive:!1,points:[]})}};class Cc extends n.Component{constructor(){super(...arguments),this.onClick=()=>(this.props.bssOnClick(),this.props.ruler.isActive?this.props.deactivate():this.props.activate())}render(){const{i18n:e,ruler:t}=this.props,s=e.tp._t("Линейка");return(0,r.jsx)(ro,Object.assign({to:"centerStart",title:s},{children:e=>(0,r.jsx)(Un.H,{children:(0,r.jsx)(to.E,Object.assign({isActive:t.isActive,onClick:this.onClick,dataT:"ruler",innerRef:e,ariaLabel:s},{children:(0,r.jsx)(wc,{})}))})}))}}Cc.displayName=(0,bt.d)("src/features/mapControl/rulerControl");const Ic=(0,nt.f)(void 0,((e,t)=>({bssOnClick(){e((0,es.cD)({action:"tap",uiElement:{name:"ruler",frameUuid:t.ownerFrameId}}))}})))((0,at.Q)()(Cc)),kc=(0,cn.M)({selectors:{ruler:e=>e.appContext.ruler},handlers:_c})(Ic);var Oc=s(10232),Sc=s(96690),Tc=s(18887);const Ec=e=>({frameId:t})=>{if(e.mode)return{action:"tap",uiElement:{name:"trafficJam",frameUuid:t},payload:{trafficJam:{turnedOn:!!e.active,mode:e.mode}}}};var Mc=s(11990),Pc=s(56190);const Lc=(0,vt.Mz)([e=>{const t=(0,c.n$)(e);return t?(0,Mc.q)(t.code)(e):Pc.d},e=>e.appContext.showTrafficOnMap,e=>{var t;return null===(t=(0,F.bB)(e.appContext.frames,"directions"))||void 0===t?void 0:t.tab}],((e,t,s)=>({traffic:e,isTrafficOn:t,directionsFrameTab:s})));function Nc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({viewBox:"0 0 18 18",width:"18",height:"18"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M5 10h1a3 3 0 0 1 3-3V6a4 4 0 0 0-4 4m4 6A6 6 0 0 1 9 4a6 6 0 0 1 0 12M9 0a9 9 0 0 0-9 9c0 .688.084 1.355.23 2h.839c.493 3.945 3.852 7 7.931 7 4.079 0 7.438-3.055 7.931-7h.839c.146-.645.23-1.312.23-2a9 9 0 0 0-9-9"})}))}const Ac=({onClick:e,title:t,href:s,active:i,disabled:a,dimension:n=0})=>{const{css:o,s:c}=(0,re.I)(Rc),d=(e=>{switch(e){case 0:return"zero";case 1:return"low";case 2:case 3:return"normal";case 4:case 5:return"medium";case 6:return"mediumHigh";case 7:return"high";case 8:case 9:case 10:case 11:return"critical";default:throw new Error("Ошибка получения трафика")}})(n);return(0,r.jsx)(ro,Object.assign({title:t,to:"bottomMiddle"},{children:l=>(0,r.jsx)(He.A,Object.assign({href:s,onClick:e},{children:(0,r.jsx)("button",Object.assign({type:"button",className:o(c.root,d&&c[d],d&&i&&c[`active_${d}`]),disabled:a},Ze.dx.n("wat-traffic-control"),{ref:l},(0,Fo.a)({label:t}),{children:n||(0,r.jsx)(Nc,{})}))}))}))},Rc=(0,re.r)((({mobile:e})=>({root:{fontSize:20,lineHeigh:"16px",fontWeight:400,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:Fe.Vq.oval,color:De.T.gray_262626,background:De.T.white,boxShadow:hn.E.popupBorderBottom,overflow:"hidden",border:"solid 4px",":hover":Object.assign({},e?{}:{color:(0,Is.m)(De.T.gray_262626,.7)}),":disabled":{background:De.T.white,borderColor:De.T.gray_e6e6e6,color:De.T.gray_929292,cursor:"default"}},zero:{borderColor:De.T.white},low:{borderColor:"#00991C"},normal:{borderColor:"#53B551"},medium:{borderColor:"#F0B61E"},mediumHigh:{borderColor:De.T.red_fe5000},high:{borderColor:"#E10D0D"},critical:{borderColor:"#8C1010"},active_zero:{color:De.T.green_299400},active_low:{backgroundColor:"#00991C",color:De.T.white},active_normal:{backgroundColor:"#53B551",color:De.T.white},active_medium:{backgroundColor:"#F0B61E",color:De.T.black},active_mediumHigh:{backgroundColor:De.T.red_fe5000,color:De.T.white},active_high:{backgroundColor:"#E10D0D",color:De.T.white},active_critical:{backgroundColor:"#8C1010",color:De.T.white}}))),zc=()=>{const e=(0,ae.c)(),t=(0,ie.wA)(),{traffic:s,isTrafficOn:i,directionsFrameTab:a}=(0,ie.d4)(Lc),n=s&&s.data&&s.data.score,o=(0,Oc.Nm)(s)||(0,Sc.b)(s),c=(e=>{switch(e){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian";default:return"default"}})(a),d=(0,Tc.P)({type:"traffic"}),l=e._t("Пробки"),{useBssHandler:u}=(0,Ve.E)(),p=u(Ec,{mode:c,active:i}),m=(0,Yt.D)((()=>{p(),t((0,S.GN)())}));return(0,r.jsx)(Ac,{active:i,onClick:m,title:l,href:d,dimension:n,disabled:o})};var Uc=s(333),Bc=s(32065);const Hc=(0,j.n5)("switchLanguage",(e=>(0,j.K2)((0,Ne.T)({name:"lang",value:e.lang}),(0,j.v6)((()=>{const e=window.location.pathname+window.location.search,{payload:t}=(0,Uc.q)(e);t.lang=void 0;const s=(0,Uc.w)((0,q.oE)((0,Bc.sm)(t)));return(0,T.v)({url:s,name:"_self"})})))));var Fc=s(68913);function Dc(e){switch(e){case"ru":return"Русский";case"en":return"English";case"ar":return"Arabic";case"cs":return"Čeština";case"es":return"Español";case"az":return"Azərbaycanca";case"uz":return"O'zbek";case"kk":return"Қазақ";case"hy":return"Հայերեն";case"ka":return"ქართული";default:return}}const Vc=({currentLang:e},{config:t})=>{const s=t.supportedLangs;return{langs:(0,q.oE)(s.map((t=>{const s=Dc(t);if(s)return{caption:s,code:t,isActive:t===e}})))}},Zc={root:{display:"inline-flex",flexDirection:"column",boxShadow:hn.E.popup,borderRadius:Fe.Vq.default,background:De.T.white,padding:"4px",cursor:"pointer"},item:{display:"block",whiteSpace:"nowrap",paddingTop:4,paddingBottom:4,paddingStart:36,paddingEnd:12,":hover":{color:De.T.gray_929292},position:"relative",color:De.T.gray_262626},icon:{position:"absolute",height:24,width:24,top:0,start:4,color:De.T.green_299400}},$c=(0,it.Xy)(Zc)((function(e){const{s:t,onSelect:s}=e,{langs:i}=(0,Dr.kc)(Vc,e);return(0,r.jsx)("ul",Object.assign({className:(0,st.AH)(t.root)},{children:i.map((({caption:e,code:i,isActive:a})=>(0,n.createElement)("li",Object.assign({className:(0,st.AH)(t.item)},Ze.dx.n("wat-language-item"),Ze.dx.v(e),{key:i,onClick:()=>s({lang:i})}),a&&(0,r.jsx)("div",Object.assign({className:(0,st.AH)(t.icon)},{children:(0,r.jsx)(Fc.J,{})})),e)))}))}));function qc(e){switch(e){case"ru":return"Ру";case"en":return"En";case"ar":return"Ar";case"cs":return"Cs";case"es":return"Es";case"az":return"Az";case"uz":return"Uz";case"kk":return"Kz";default:return e}}const Wc={onLanguageSelect:Hc},Gc={root:{position:"relative"},tooltip:{position:"absolute",end:40,bottom:0},text:{fontWeight:$e.Wy.bold}},Qc=(0,cn.M)({handlers:Wc,selectors:{lang:e=>e.appContext.lang}})((0,it.Xy)(Gc)((function({lang:e,onLanguageSelect:t,s:s}){const[i,a]=n.useState(!1),o=(0,Yt.D)((()=>a(!i))),c="Change language",{ref:d,addTooltip:l}=(0,so.J)({title:c,to:"centerStart"});return(0,r.jsxs)("div",Object.assign({className:(0,st.AH)(s.root)},{children:[(0,r.jsx)("div",Object.assign({ref:d},{children:(0,r.jsx)(Un.H,Object.assign({isVertical:!0},{children:(0,r.jsx)(to.E,Object.assign({isActive:i,onClick:o,dataT:"language",ariaLabel:c},{children:(0,r.jsx)("div",Object.assign({className:(0,st.AH)(s.text)},{children:qc(e)}))}))}))})),i&&(0,r.jsx)("div",Object.assign({className:(0,st.AH)(s.tooltip)},{children:(0,r.jsx)($c,{currentLang:e,onSelect:t})})),l]}))})));var Kc=s(84963),Yc=s(64197);const Xc={openSharingPopup:Kc.T},Jc=(0,cn.M)({handlers:Xc,selectors:{frameId:e=>(e=>{const t=e.appContext.frames;return t&&t[0]&&"direction"===t[0].type?t&&t[1]&&t[1].id:t&&t[0]&&t[0].id})(e)}})((function({openSharingPopup:e,frameId:t}){const s=(0,ae.c)()._t("Поделиться"),i=(0,n.useCallback)((()=>e({frameId:t})),[e,t]),{ref:a,addTooltip:o}=(0,so.J)({title:s,to:"centerStart"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(to.E,Object.assign({onClick:i,dataT:"share",innerRef:a,ariaLabel:s},{children:(0,r.jsx)(Yc.S,{color:De.T.gray_262626})})),o]})}));function ed({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M6 13v6a3 3 0 0 0 3 3h1v3h12v-3h1a3 3 0 0 0 3-3v-6zm14 10h-8v-4h8zm4-4a1 1 0 0 1-1 1h-1v-3H10v3H9a1 1 0 0 1-1-1v-4h16zM12 8h8v3h2V6H10v5h2V8z"})}))}const td=(0,nt.f)(void 0,((e,t)=>({bssOnClick(){e((0,es.cD)({action:"tap",uiElement:{name:"print",frameUuid:t.ownerFrameId}}))}})))((e=>{const t=(0,ae.c)()._t("Печать"),{ref:s,addTooltip:i}=(0,so.J)({title:t,to:"centerStart"}),a=(0,n.useCallback)((()=>{e.bssOnClick(),window.print()}),[e.ownerFrameId]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(to.E,Object.assign({onClick:a,dataT:"print",innerRef:s,ariaLabel:t},{children:(0,r.jsx)(ed,{color:De.T.gray_262626})})),i]})}));var sd=s(86817);function rd(){return(0,r.jsxs)("svg",Object.assign({width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M0 8.588c0-3.006 0-4.51.585-5.657A5.367 5.367 0 0 1 2.931.585C4.079 0 5.58 0 8.587 0h6.825c3.006 0 4.51 0 5.658.585a5.367 5.367 0 0 1 2.345 2.346C24 4.079 24 5.58 24 8.587v6.825c0 3.006 0 4.51-.585 5.658a5.367 5.367 0 0 1-2.345 2.345C19.92 24 18.418 24 15.412 24H8.587c-3.005 0-4.508 0-5.656-.585A5.367 5.367 0 0 1 .585 21.07C0 19.92 0 18.418 0 15.412V8.587Z",fill:"#7FE740"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.703 11.625c0-2.906 1.875-4.688 4.594-4.688 2.11 0 3.712 1.073 4.323 2.912.054.161.2.276.37.276h7.213c.207 0 .375.168.375.375v2.063a.375.375 0 0 1-.375.374h-1.568a.375.375 0 0 0-.375.354l-.146 2.481a.375.375 0 0 1-.374.353h-1.636a.375.375 0 0 1-.375-.353l-.146-2.482a.375.375 0 0 0-.374-.352h-2.16a.395.395 0 0 0-.375.29c-.566 1.944-2.201 3.085-4.377 3.085-2.72 0-4.594-1.782-4.594-4.688Zm1.969-.008c0 .664.215 1.508 1.312 1.508 1.098 0 1.313-.844 1.313-1.508 0-.648-.215-1.492-1.313-1.492-1.098 0-1.312.844-1.312 1.492Z",fill:"#224249"})]}))}const id=()=>({frameId:e})=>({uiElement:{name:"otelloPromoButton",ownerName:"map",frameUuid:e},action:"tap"}),ad={32:"4504222397630173",38:"5348647327760881",9:"1267260165455895",1:"141360258613345"},nd=(e,t)=>{const s=e&&ad[e];if(s)return`${t}search/?geo_id=${s}&utm_source=2gis-mapbutton`},od=(0,n.memo)((({projectId:e,isMobile:t})=>{const s=(0,ae.c)(),{s:i,css:a}=(0,re.I)(cd),{featureOtelloMapControl:n,otelloUrl:o}=(0,xe.U)(),{bssRef:c,useBssHandler:d}=(0,Ve.E)((({frameId:e})=>({uiElement:{name:"otelloPromoButton",ownerName:"map",frameUuid:e}}))),l=d(id),u=(0,Yt.D)((()=>{l()})),p=n&&(e=>e&&ad[e])(e);return p?(0,r.jsx)("div",Object.assign({ref:c},{children:(0,r.jsxs)(He.A,Object.assign({href:nd(e,o),onClick:u,external:!0,styles:i.link,dataN:"wat-otello-map-control"},{children:[(0,r.jsx)(rd,{}),(0,r.jsx)("div",Object.assign({className:a(i.text)},{children:t?s._gg("Отелло 2ГИС"):s._gg("Отели с кешбэком 10%")}))]}))})):null}));od.displayName="OtelloMapControl";const cd=(0,re.r)({link:{display:"flex",alignItems:"center",gap:6,paddingTop:8,paddingStart:8,paddingEnd:4,paddingBottom:8,backgroundColor:"#2A5860",color:De.T.white,borderRadius:Fe.Vq.default,boxShadow:"0px 1px 3px 0px rgba(38, 38, 38, 0.50)",whiteSpace:"nowrap",transition:"background-color 250ms ease","&:hover":{color:De.T.white,backgroundColor:"#2A626A"}},text:{paddingEnd:12}});var dd=s(68887);function ld({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:[(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M7.592 12.758a1 1 0 01.97-.758h6.439v4H6.78l.81-3.242zM6.282 18l-.69 2.758A1 1 0 006.562 22h8.439v-4H6.28zm2.28-8a3 3 0 00-2.91 2.272l-2 8A3 3 0 006.562 24H17V10H8.563z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M19.707 5.293l-.905-.906-.66 1.098-3 5-.142.238V24h10.438a3 3 0 002.91-3.728L28 18.877v-5.154l-.142-.238-3-5L24.566 8h-2.152l-2.707-2.707zM26 17v-2.723L23.434 10H21.586l-.293-.293-2.095-2.094L17 11.277v4.105l2.553-1.277.553-.276.494.37 3.733 2.8H26zm-9 .618V22h8.438a1 1 0 00.97-1.243l-.378-1.515-.03-.119V19h-2.333l-.267-.2-3.506-2.63L17 17.619z",clipRule:"evenodd"})]}))}var ud=s(84815);const pd={30:{center:[40.26825,43.64086],zoom:13.61,rotation:8},1267655302447129:{center:[40.26825,43.64086],zoom:13.61,rotation:8},131:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447105:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447113:{center:[41.62489,43.28599],zoom:13},134:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},89:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447111:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447119:{center:[44.55747,42.73412],zoom:13.084,rotation:138},1267655302447133:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},154:{center:[44.90747,42.73412],zoom:13.084,rotation:138},114:{center:[44.90747,42.73412],zoom:13.084,rotation:138},1267655302447110:{center:[44.90747,42.73412],zoom:13.084,rotation:138},115:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},1267655302447124:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},151:{center:[46.8992,42.8473],zoom:12.612,rotation:11},113:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447109:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447164:{center:[35.11619,69.17253],zoom:13.516,rotation:1},9:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},109:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},1267655302447178:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},15:{center:[59.80304,55.2568],zoom:13.134},"87 ":{center:[59.80304,55.2568],zoom:13.134},1267655302447186:{center:[59.80304,55.2568],zoom:13.134},11260016975675394:{center:[88.22694,50.91009],zoom:13.635,rotation:75},20:{center:[84.92519,51.93505],zoom:13.559},4:{center:[84.92519,51.93505],zoom:13.559},1267655302447126:{center:[84.92519,51.93505],zoom:13.559},206:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},1267655302447155:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},69:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},1267655302447123:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},7:{center:[92.80989,55.89808],zoom:13.357,rotation:5},1267655302447130:{center:[92.80989,55.89808],zoom:13.357,rotation:5},130:{center:[94.42404,51.73232],zoom:12.828,rotation:10},1267655302447121:{center:[94.42404,51.73232],zoom:12.828,rotation:10},11:{center:[104.84251,51.8636],zoom:13.275,rotation:10},1267655302447152:{center:[104.84251,51.8636],zoom:13.275,rotation:10},37:{center:[107.5801,51.86159],zoom:12.784,rotation:3},1267655302447108:{center:[107.5801,51.86159],zoom:12.784,rotation:3},88:{center:[154.72168,49.3321],zoom:13},1267655302447177:{center:[154.72168,49.3321],zoom:13},25:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},1267655302447132:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},82:{center:[150.82871,59.47647],zoom:12.821,rotation:5},158:{center:[150.82871,59.47647],zoom:12.821,rotation:5},1267655302447162:{center:[150.82871,59.47647],zoom:12.821,rotation:5},95:{center:[160.53667,54.72734],zoom:13},1267655302447128:{center:[160.53667,54.72734],zoom:13},563967860670632:{center:[83.4322,49.6307],zoom:12.45,rotation:22},91:{center:[83.4322,49.6307],zoom:12.45,rotation:22},67:{center:[76.96932,43.11889],zoom:13.099,rotation:-57},"70030076149164491":{center:[76.96932,43.11889],zoom:13.099,rotation:-57},112:{center:[78.5421,42.3947],zoom:13.804,rotation:5},99:{center:[56.13557,25.92894],zoom:13.505},237:{center:[56.13557,25.92894],zoom:13.505},sa:{center:[39.60383,24.46559],zoom:14.098,rotation:-4}},md={zoom:13,pitch:45,rotation:0};var gd=s(4340),hd=s(27016),fd=s(19952),bd=s(89712);const vd=(0,n.memo)((()=>{var e;const{s:t,css:s}=(0,re.I)(yd),i=(0,ie.wA)(),a=(0,ae.c)(),{feature3dRelief:o}=(0,xe.U)(),[d,l]=(0,n.useState)(!1);(0,ud.e)(((e,{isTerrainSupported:t})=>{if(!o)return;let s=gd.IG.local.getItem("isTerrainSupported");null==s&&(s=t(),gd.IG.local.setItem("isTerrainSupported",s)),l(s)}),[]);const u=(0,ie.d4)((e=>e.appContext.relief)),p=(0,ie.d4)((e=>e.appContext.activeLayer)),m=(0,Ve.E)().useBssHandler(hd.s),g=(0,Ve.E)().useBssHandler(bd.pe,{type:"roadAccident",enableMapLayer:!1,autoEvent:!0}),h=(0,Yt.D)((()=>{i((0,fd.g)(!u)),m({isActive:!u}),u||"roadAccident"!==p||(i((0,ce.SP)({layer:"roadAccident"})),g())})),f=null===(e=(0,ie.d4)(c.Hv))||void 0===e?void 0:e.data,b=(0,ie.d4)(c.n$),v=(0,n.useMemo)((()=>{var e,t;return null===(t=null===(e=null==f?void 0:f.admDiv)||void 0===e?void 0:e.find((({type:e})=>"region"===e)))||void 0===t?void 0:t.id}),[f]),y=(0,n.useMemo)((()=>function(e){const t=function(e){return e.projectId&&pd[e.projectId]||e.regionId&&pd[e.regionId]||e.countryCode&&pd[e.countryCode]||void 0}(e);if(!t)return;const{center:s,zoom:r,pitch:i,rotation:a}=Object.assign(Object.assign({},md),t);return[{main:[{center:s,zoom:r-1,pitch:i-30,rotation:a,duration:1},...new Array(1).fill(null).map(((e,t)=>({zoom:r-1+2*(t+1)/1,pitch:i-30+30*(t+1)/1,rotation:a-0*(t+1)/1,duration:5e3,easing:"easeInOutSine"})))]}]}({regionId:v,projectId:null==b?void 0:b.id,countryCode:null==b?void 0:b.country_code})),[v,b]);return o&&d&&(y||u)?(0,r.jsxs)("div",Object.assign({className:s(t.root,u&&t._active),onClick:h},{children:[(0,r.jsx)(ld,{}),(0,r.jsx)(qt.j,{children:(0,r.jsx)("div",Object.assign({className:s(t.label)},{children:a._t("3D-рельеф")}))})]})):null}));vd.displayName="ReliefControl";const yd=(0,re.r)({root:Object.assign(Object.assign({paddingStart:8,paddingEnd:16,display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40},$e.Hg),{borderRadius:dd.V.default,color:De.T.gray_262626,background:De.T.white,boxShadow:hn.E.popup,overflow:"hidden",":hover":{background:De.T.gray_f2f2f2}}),label:{marginStart:4},_active:{color:De.T.white,background:De.T.blue_028eff,":hover":{background:De.T.blue_0070cc}}});var xd=s(24571),jd=s(71483);function wd(){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("g",Object.assign({filter:"url(#Awards2gisA)"},{children:(0,r.jsx)("path",{d:"M18.254 30h-3.12V2h1.733C24.071 2 29 7.643 29 13.484c0 2.238-.565 4.137-1.733 6.563l-.867 2.078h-1.733c-2.804 0-4.333 1.64-4.333 1.64-1.575 1.41-2.08 4.237-2.08 6.235Z",fill:"url(#Awards2gisB)"})})),(0,r.jsx)("g",Object.assign({filter:"url(#Awards2gisC)"},{children:(0,r.jsx)("path",{d:"M15.554 30H12.98c-.319-2.107-.324-4.683-1.931-6.234-.23-.222-1.42-1.641-4.024-1.641h-1.61l-.804-2.078C3.525 17.62 3 15.722 3 13.484 3 7.643 7.577 2 14.267 2c6.69 0 11.266 5.643 11.266 11.484 0 2.238-.525 4.137-1.61 6.563l-.804 2.078h-1.61c-2.603 0-4.023 1.64-4.023 1.64-1.462 1.41-1.932 4.237-1.932 6.235Z",fill:"url(#Awards2gisD)"})})),(0,r.jsx)("path",{d:"m16.408 10.318-1.894-3.784a.271.271 0 0 0-.494 0l-1.894 3.784-3.679.48c-.237.03-.332.346-.156.52l2.765 2.743-.932 4.191c-.056.248.182.454.395.342l3.748-1.966 3.748 1.966c.213.111.45-.094.395-.342l-.932-4.19 2.765-2.743c.176-.175.08-.49-.156-.522l-3.68-.479Z",fill:"url(#Awards2gisE)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"Awards2gisB",x1:"22.067",y1:"2",x2:"13.248",y2:"29.952",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#59471A"}),(0,r.jsx)("stop",{offset:".396",stopColor:"#7C5A0C"}),(0,r.jsx)("stop",{offset:".634",stopColor:"#422F04"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#352A0C"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"Awards2gisD",x1:"19.095",y1:"2",x2:"9.733",y2:"29.553",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#C3A966"}),(0,r.jsx)("stop",{offset:".396",stopColor:"#F4D181"}),(0,r.jsx)("stop",{offset:".615",stopColor:"#CFB468"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#A28C54"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"Awards2gisE",x1:"14.267",y1:"5.68",x2:"10.583",y2:"18.385",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#271C03"}),(0,r.jsx)("stop",{offset:".356",stopColor:"#705310"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#4E3805"})]})),(0,r.jsxs)("filter",Object.assign({id:"Awards2gisA",x:"15.134",y:"2",width:"14.866",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dx:"1",dy:"2"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_624_7579"})]})),(0,r.jsxs)("filter",Object.assign({id:"Awards2gisC",x:"3",y:"2",width:"23.533",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dx:"1",dy:"2"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_624_7579"})]}))]})]}))}const _d=()=>({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e},action:"tap"});var Cd=s(57366);const Id=(0,n.memo)((()=>{const{s:e,css:t}=(0,re.I)(kd),{_t:s}=(0,ae.c)(),i=(0,ie.wA)(),{bssRef:a,useBssHandler:o}=(0,Ve.E)((({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e}}))),d=o(_d),l=s("Премия 2ГИС"),u=(0,Tc.P)({type:"catalogSearch",query:l}),p=(0,ie.d4)(c.Hv),m=null==p?void 0:p.data,g=Cd.s.checkAwardRegion(m),h=(0,n.useCallback)((()=>{i((0,j.Q2)((e=>(0,A.Cl)((t=>(0,xd.q_)({query:l,viewpoint:t,regionId:(0,jd.O)(e)})))))),d()}),[i,l,d]);return g?(0,r.jsx)("div",Object.assign({ref:a},{children:(0,r.jsxs)(He.A,Object.assign({href:u,onClick:h,styles:e.root},{children:[(0,r.jsx)(wd,{}),(0,r.jsx)("span",Object.assign({className:t(e.text)},{children:l}))]}))})):null})),kd=(0,re.r)({root:{display:"flex",alignItems:"center",paddingStart:4,paddingEnd:12,paddingBottom:4,paddingTop:4,borderRadius:Fe.Vq.default,color:De.T.white,backgroundColor:"#222A51",boxShadow:"0px 1px 3px rgba(38, 38, 38, 0.5)",transition:"background-color 250ms ease","&:hover":{color:De.T.white,backgroundColor:"#2F3A6F"}},text:{paddingInlineStart:4,paddingInlineEnd:4,whiteSpace:"nowrap"},streamIcon:{paddingStart:8,"& > svg":{display:"block"}}});var Od=s(37163),Sd=s(64433);const Td=({hasLongFrame:e})=>{const{_t:t}=(0,ae.c)(),{s:s,css:i}=(0,re.I)(Md),a=(0,Sd.I)(Od.cK,"friends"),n=e?s.hasLongFrame:s.link;return(0,r.jsx)(He.A,Object.assign({onClick:a,styles:n},{children:(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t("Дружите и выигрывайте!")}))}))};Td.displayName="FriendsPromoCompetitionControl";const Ed={display:"block",paddingTop:10,paddingStart:36,paddingEnd:36,paddingBottom:10,color:De.T.white,backgroundColor:De.T.green_002400,backgroundImage:"url(/public/promo/friendsPromoCompetitionButton.png)",backgroundSize:"cover",borderRadius:Fe.Vq.default,boxShadow:hn.E.popup,"&:hover":{color:De.T.white,backgroundColor:De.T.green_007000}},Md=(0,re.r)({link:Object.assign(Object.assign({},Ed),{"@media (max-width: 1350px)":{display:"none"}}),hasLongFrame:Object.assign(Object.assign({},Ed),{"@media (max-width: 1580px)":{display:"none"}}),text:Object.assign({},$e._w)}),Pd=(0,n.memo)((({hasLongFrame:e})=>{const{_t:t}=(0,ae.c)(),{s:s,css:i}=(0,re.I)(Nd),{featureFriendsPromo:a}=(0,xe.U)(),n=(0,Sd.I)(Od.cK,"friends");if(!a)return null;const o=e?s.hasLongFrame:s.link;return(0,r.jsx)(He.A,Object.assign({onClick:n,styles:o},{children:(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t("Ваши друзья на карте!")}))}))}));Pd.displayName="FriendsPromoControl";const Ld={display:"block",paddingTop:10,paddingStart:36,paddingEnd:36,paddingBottom:10,color:De.T.white,backgroundColor:"#0B3045",backgroundImage:"url(/public/promo/friendsPromoButton.png)",backgroundSize:"cover",borderRadius:Fe.Vq.default,boxShadow:hn.E.popup,"&:hover":{color:De.T.white,backgroundColor:"#061B26"}},Nd=(0,re.r)({link:Object.assign(Object.assign({},Ld),{"@media (max-width: 1350px)":{display:"none"}}),hasLongFrame:Object.assign(Object.assign({},Ld),{"@media (max-width: 1580px)":{display:"none"}}),text:Object.assign({},$e._w)});var Ad=s(47817);function Rd({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,d:"M8 10.143v12.824l5.065-2.17 6 3L24 21.68V8.857l1.303-.558a.5.5 0 01.697.46V23l-7 3-6-3-6.303 2.701a.5.5 0 01-.697-.46V11l2-.857zm12.243 5.1L16 19.485l-4.243-4.242a6 6 0 118.486 0zM16 16.657l2.828-2.829a4 4 0 10-5.656 0L16 16.657z"})}))}const zd=(0,n.memo)((()=>{const e=(0,ae.c)(),t=Ad.j.$isEnabled.use(),s=t?e._t("Отключить реалистичные дороги"):e._t("Включить реалистичные дороги"),{ref:i,addTooltip:a}=(0,so.J)({title:s,to:"centerStart"}),n=(0,Sd.I)(Ad.j.$isEnabled.set,!t);return(0,r.jsx)(Un.H,{children:(0,r.jsxs)(to.E,Object.assign({onClick:n,dataT:"immersion",ariaLabel:s,innerRef:i,isActive:t},{children:[(0,r.jsx)(Rd,{}),a]}))})}));zd.displayName="ImmersionControl";var Ud=s(64372);const Bd=(0,n.memo)((e=>{const{dataViewerWidth:t}=e,{css:s,s:i,inline:a}=(0,re.I)(Hd),{godmode:o,supportedLangs:d,featureNewYear:l,feature2gisAwardPromoMain:u,featureFriendsPromoCompetition:p,featureSelfPromo:m}=(0,xe.U)(),g=(0,ie.d4)((e=>e.appContext.frames)),h=(0,n.useMemo)((()=>!!g.find((e=>"search"===e.type||"exchange"===e.type||"realty"===e.type))),[g]),f=d.length>1,b=(0,ie.d4)((e=>e.session.is3dEnabled)),v=o||b||(0,q.O9)((0,B.o)("is3dDisabled")),y=(0,ie.d4)((e=>"backTo2004"===e.appContext.activeLayer)),x=(0,ie.d4)((e=>!!e.appContext.weak.floors)),j=!y&&x,w=(0,ie.d4)(c.n$),_=b&&l,C=u,I=(0,ie.d4)(Ad.j.getIsAvailable);return(0,r.jsxs)("div",Object.assign({className:s(i.root),style:a({start:t})},{children:[(0,r.jsx)("div",Object.assign({className:s(i.top,i.row)},{children:(0,r.jsx)(zn.Y,Object.assign({justifyContent:"flex-end"},{children:(0,r.jsxs)("div",Object.assign({className:s(i._pointerNone,i.viewControls,i.topControls)},{children:[(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:m?(0,r.jsx)(Ud.St,{}):p?(0,r.jsx)(Td,{hasLongFrame:h}):(0,r.jsx)(Pd,{hasLongFrame:h})})),_&&(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(Wn,{})})),(0,r.jsxs)(Rt.P,{children:[(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(od,{projectId:null==w?void 0:w.id})})),C&&(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(Id,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(vd,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(sd.In,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(zc,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(jc,{})}))]})]}))}))})),(0,r.jsx)("div",Object.assign({className:s(i.middle,i._pointerNone)},{children:(0,r.jsxs)("div",Object.assign({className:s(i.middleControls)},{children:[(0,r.jsxs)("div",Object.assign({className:s(i.viewControls)},{children:[j&&(0,r.jsx)("div",Object.assign({className:s(i.controlFloors)},{children:(0,r.jsx)(To,{})})),(0,r.jsxs)("div",{children:[b&&(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(kc,{})})),(0,r.jsx)(Rt.P,{children:(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(Zo,{})}))}),(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(ao,{})}))]})]})),v&&(0,r.jsx)(Rt.P,{children:(0,r.jsx)("div",Object.assign({className:s(i.rotationControl)},{children:(0,r.jsx)(Rn.l,{children:({rotation:e,pitch:t})=>(0,r.jsx)(yo,{rotation:e,pitch:t})})}))}),I&&(0,r.jsx)("div",Object.assign({className:s(i.immersionControl)},{children:(0,r.jsx)(zd,{})}))]}))})),(0,r.jsxs)("div",Object.assign({className:s(i.bottom,i._pointerNone)},{children:[(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsxs)(Un.H,Object.assign({isVertical:!0},{children:[(0,r.jsx)(Jc,{}),(0,r.jsx)(td,{})]}))})),f&&(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(Qc,{})})),(0,r.jsx)(Rt.P,{children:(0,r.jsx)("div",Object.assign({className:s(i.feedbackControl)},{children:(0,r.jsx)(Bo,{})}))})]}))]}))}));Bd.displayName="DesktopMapControls";const Hd=(0,re.r)({root:{position:"absolute",top:0,bottom:0,end:16,pointerEvents:"none","& *":{userSelect:"none"},"@media print":{display:"none !important"}},top:{position:"absolute",top:16,start:0,end:0},row:{marginEnd:40,"&:not(:first-child)":{paddingTop:16,marginEnd:-40}},middle:{position:"absolute",top:0,end:4,bottom:"25%",display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-end",height:"50%",transform:"translateY(25%)"},bottom:{position:"absolute",end:0,bottom:16,display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"column"},control:{width:32,padding:"8px 0"},feedbackControl:{paddingTop:8},topControl:{marginEnd:16,":empty":{display:"none",margin:0}},controlFloors:{width:32,padding:8},middleControls:{display:"flex",flexDirection:"column",alignItems:"flex-end"},viewControls:{display:"flex",alignItems:"flex-end"},rotationControl:{display:"flex",flexDirection:"column",alignItems:"center",width:32,padding:"8px 0"},immersionControl:{width:32,padding:"6px 0"},topControls:{position:"fixed"},_pointerNone:{pointerEvents:"none","& > *":{pointerEvents:"auto"}}}),Fd={layout:{overflowY:"hidden",position:"absolute",top:0,start:0,width:"100%",height:"100%",overflow:"hidden",zIndex:Fe.fE.base,pointerEvents:"none"},layer:{transform:"translateZ(0px)",width:"100%",height:"100%",position:"absolute",top:0,start:0,overflow:"hidden","& > *":{position:"relative",pointerEvents:"auto",zIndex:Fe.fE.base}},bottom:{zIndex:Fe.fE.bottom},base:{zIndex:Fe.fE.base},top:{zIndex:Fe.fE.top,visibility:"hidden","& > *":{position:"absolute",visibility:"visible",zIndex:Fe.fE.top,"&:empty":{visibility:"hidden"}}}},Dd=(0,it.Xy)(Fd)((function(e){const{bottom:t,base:s,top:i,s:a}=e;return(0,r.jsxs)("div",Object.assign({className:(0,st.AH)(a.layout)},Ze.dx.n("wat-layout"),{children:[(0,r.jsx)("div",Object.assign({className:(0,st.AH)(a.layer,a.base)},{children:s})),(0,r.jsx)("div",Object.assign({className:(0,st.AH)(a.layer,a.bottom)},{children:t})),(0,r.jsx)("div",Object.assign({className:(0,st.AH)(a.layer,a.top)},{children:i}))]}))})),Vd=(0,vt.Mz)([({state:e})=>(0,c.n$)(e),({state:e})=>e.session.godmode||!1,({state:e})=>(0,Ta.x3)(e),({state:e})=>0===e.appContext.frames.length,({state:e})=>e.appContext.lang],((e,t,s,r,i)=>({region:e,godmode:t,showLogoutButton:s,isDashboard:r,lang:i}))),Zd=(0,yt.tr)(((e,t)=>Vd({state:e,props:t})));var $d=s(85005);const qd=e=>(0,j.K2)((0,C.PC)(),(0,ue.J)(e)),Wd=(0,yt.Yn)((e=>({showFeedback(){e((0,j.K2)((0,de.n)((0,j.v6)((()=>le.m.set((()=>!1))))),(0,Po.A)("online5")))},openInteresting(){e((0,j.K2)((0,de.n)((0,j.v6)((()=>le.m.set((()=>!1))))),qd("interesting")))},openGuidebook(){e((0,j.K2)((0,de.n)((0,j.v6)((()=>le.m.set((()=>!1))))),qd("guidebook")))},openPopupAddOrg(){e((0,j.K2)((0,de.n)((0,j.v6)((()=>le.m.set((()=>!1))))),(0,$d.Y)({subtype:"addOrg"})))},openPrintWindow(){e((0,j.v6)((()=>{le.m.set((()=>!1)),window.print()})))},onLogoutClick(){e((0,pc.r)())}})));class Gd extends n.PureComponent{render(){const{s:e}=this.props;return(0,r.jsx)("div",{className:(0,it.AH)(e.root)})}}Gd.displayName=(0,bt.d)("src/modules/sideBar/components/underHamburger");const Qd={root:{position:"absolute",top:"16px",end:"16px",width:"40px",height:"40px",borderRadius:Fe.Vq.oval,background:"#fff",boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)",cursor:"pointer"},logo:{margin:8,width:"24px",height:"24px",display:"inline-block",verticalAlign:"middle"}},Kd=(0,it.Xy)(Qd)(Gd);class Yd extends n.PureComponent{render(){const{s:e,isSideBarShown:t,isIndicatorShown:s,onClick:i,i18n:{tp:a}}=this.props,n=a._t("Меню");return(0,r.jsx)("button",Object.assign({className:(0,it.AH)(e.root),onClick:i,"data-hamburger":!0},Ze.n("wat-hamburger"),(0,Fo.a)({label:n}),{children:(0,r.jsx)(ro,Object.assign({title:n,to:"bottomBottomEnd",offset:12},{children:i=>(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(e.hamburger,s&&e._withDot),ref:i},{children:[(0,r.jsx)("span",{className:(0,it.AH)(e.hamburgerLine,e._line1,t&&e._opened)}),(0,r.jsx)("span",{className:(0,it.AH)(e.hamburgerLine,e._line2,t&&e._opened)}),(0,r.jsx)("span",{className:(0,it.AH)(e.hamburgerLine,e._line3,t&&e._opened)}),(0,r.jsx)("span",{className:(0,it.AH)(e.hamburgerLine,e._line4,t&&e._opened)})]}))}))}))}}Yd.displayName=(0,bt.d)("src/modules/sideBar/components/hamburger");const Xd=(0,it.Xy)((e=>({root:{position:"absolute",top:"16px",end:"16px",width:"24px",height:"24px",padding:8,cursor:"pointer"},hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:De.T.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:De.T.gray_262626,borderRadius:Fe.Vq.oval,start:0,transition:`background ${Cs.S.short}ms ease-in-out,\n      transform ${Cs.S.short}ms ease-in-out,\n      left ${Cs.S.short}ms ease-in-out,\n      top ${Cs.S.short}ms ease-in-out`,transform:"translateZ(0)","[data-hamburger]:hover &":{background:e.colors.green_299400_brand}},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"6px"},_line4:{top:"12px"},_opened:{background:e.colors.green_299400_brand,"&:nth-child(1)":{transform:"scale(0)",left:"50%",top:"6px"},"&:nth-child(2)":{transform:"rotate(45deg)"},"&:nth-child(3)":{transform:"rotate(-45deg)"},"&:nth-child(4)":{transform:"scale(0)",left:"50%",top:"6px"}}})))((0,at.Q)()(Yd));var Jd=s(53898);const el=(0,it.Xy)((({mobile:e})=>({root:{height:"100%",flexDirection:"column",position:"absolute",top:0,end:0,bottom:0,background:De.T.white,transition:e?"initial":`transform ${Cs.S.short}ms ease-in-out, visibility ${Cs.S.short}ms`,boxShadow:hn.E.popup,"@media print":{display:"none !important"}}})))((function(e){const[t,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>s(!0)),[]);const{isMobileDevice:i}=(0,xe.U)(),{children:a,type:o,isHidden:c,s:d,dir:l}=e,u=function(e,t){return t?"100%":"sideMenu"===e?Fe.Ej.sideMenuWidth:void 0}(o,i),p={width:u,display:t?"flex":"none",transform:c?`logical translateX(${u}px)`:"logical translateX(0)",visibility:c?"hidden":"visible"};return(0,r.jsx)("div",Object.assign({className:(0,it.AH)(d.root),style:(0,st.mG)(p,l)},{children:a}))}));function tl({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 5a11 11 0 1 0 11 11A11 11 0 0 0 16 5zm0 20a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"}),(0,r.jsx)("path",{d:"M11.07 20.93l7.74-2.12 2.12-7.74-7.74 2.12zm3.74-6.12l3.26-.88-.88 3.26-3.26.88z"})]}))}function sl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25 14V6H7v8H5v9a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3v-9zM9 8h14v6h-5v1a2 2 0 0 1-4 0v-1H9zm16 15a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-7h5.13a4 4 0 0 0 7.74 0H25z"})}))}var rl=s(76552);function il({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M19 18V6H5v15a5 5 0 0 0 5 5h12a5 5 0 0 0 5-5v-3zm-6 3a3 3 0 0 1-6 0V8h10v10h-4zm12 0a3 3 0 0 1-3 3h-8a5 5 0 0 0 1-3v-1h10z"}),(0,r.jsx)("path",{d:"M9 10h6v2H9zM9 14h4v2H9z"})]}))}function al({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M5 7v15a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V7zm20 2v2.32l-9 3.6-9-3.6V9zm-1 14H8a1 1 0 0 1-1-1v-8.52l9 3.6 9-3.6V22a1 1 0 0 1-1 1z"})}))}var nl=s(57354);class ol extends n.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{bssName:e,bssPayload:t,onClick:s,bssOnClick:r}=this.props;e&&r(e,t),s&&s()}}render(){const{href:e,text:t,icon:s,tall:i,checkMark:a,color:n,s:o,theme:c,dataN:d,description:l}=this.props;return(0,r.jsxs)("li",Object.assign({className:(0,it.AH)(o.item,i&&o._tall,s&&o._withIcon),style:{color:n}},{children:[!!s&&(0,r.jsx)("div",Object.assign({className:(0,it.AH)(o.icon)},{children:s})),(0,r.jsxs)("div",{children:[(0,r.jsx)(He.A,Object.assign({color:n?"inherit":"gray",external:!0,href:e,dataN:d,onClick:this.onClick},{children:t})),a&&(0,r.jsx)("div",Object.assign({className:(0,it.AH)(o.check)},{children:(0,r.jsx)("div",Object.assign({className:(0,it.AH)(o.checkInner)},{children:(0,r.jsx)(Fc.J,{color:c.colors.green_30ad00_brand})}))})),l&&(0,r.jsx)("div",Object.assign({className:(0,it.AH)(o.description)},{children:l}))]})]}))}}const cl={item:{paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0,display:"flex",alignItems:"center",position:"relative",":hover":{cursor:"pointer"}},_withIcon:{paddingStart:20},_tall:{paddingTop:12,paddingBottom:20,paddingStart:72,paddingEnd:0},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:$e.Hg.lineHeight,marginEnd:20,color:De.T.gray_262626,zIndex:Fe.fE.base},check:{display:"inline-block",position:"relative",width:24,height:10,marginStart:4},checkInner:{position:"absolute",bottom:-10},description:Object.assign({marginTop:4,color:De.T.gray_929292},$e.EX)},dl=(0,nt.f)(void 0,(e=>({bssOnClick(t,s){e((0,A.eU)((e=>e.appContext.staticFrames.sidebar.id),(e=>{const r={action:"tap",uiElement:{name:t,ownerName:"sidebar",frameUuid:e},payload:s};return(0,es.cD)(r)})))}})))((0,it.Xy)(cl)(ol));var ll=s(5438);const ul=e=>{const{cookieName:t,text:s,reload:i}=e,[a,o]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,B.o)(t)&&o(!0)}),[]);const c=(0,n.useCallback)((()=>{a?(0,bo.S)(t,void 0):(0,bo.S)(t,"1"),o(!a),i&&location.reload()}),[a]);return(0,r.jsx)(dl,{color:a?De.T.gray_262626:void 0,text:s,onClick:c,icon:a?(0,r.jsx)(ll.J,{width:30,height:30}):void 0})},pl=e=>Object.keys(e).map((t=>encodeURIComponent(`${t}=${JSON.stringify(e[t])}`))).join("&");var ml=s(180);s(24645);const gl=e=>{const{overrideConfig:t,config:s}=e;if(!t)return{};const r=t.split("&"),i={};for(const t of r){const[r,a]=decodeURIComponent(t).split("=");let n;try{n=(0,ml.g$)(s[r],decodeURIComponent(a),r)}catch(e){}void 0!==n&&(i[r]=n)}return Object.keys(i).length?Object.assign(Object.assign({},i),{isConfigOverridden:!0}):{}},hl=(0,n.memo)((({defaultValue:e,experiment:t,isMonline:s})=>{const{css:i,s:a}=(0,re.I)(fl),o=(0,xe.U)(),c=(0,B.o)("overrideConfig"),d=gl({overrideConfig:c,config:o}),[l,u]=(0,n.useState)(!1),p=(0,n.useCallback)((e=>{let s=d.experiments;if(d.experiments){const r=d.experiments.find((e=>e.name===t.name));if(r){const i=s.indexOf(r);s[i]={name:t.name,value:e}}else s.push({name:t.name,value:e})}else s=[{name:t.name,value:e}];const r=Object.assign(Object.assign({},d),{experiments:s}),i=pl(r);location.href=`/_/config/set?${i}`}),[d]);return(0,r.jsxs)("div",Object.assign({className:i(a.list,s&&a._wide)},{children:[(0,r.jsx)(He.A,Object.assign({onClick:()=>u((e=>!e)),styles:a.button},{children:t.name})),l&&t.values.map((s=>(0,r.jsx)("div",Object.assign({onClick:()=>p(`${s}_1`)},{children:(0,r.jsxs)("label",Object.assign({className:i(a.item)},{children:[(0,r.jsx)("input",{type:"radio",value:s,defaultChecked:`${s}_1`===e,name:t.name}),(0,r.jsx)("span",{children:`${s}_1`})]}))}),s)))]}))}));hl.displayName="ExperimentRadio";const fl=(0,re.r)({button:{background:"transparent",color:De.T.gray_262626},list:{display:"flex",flexDirection:"column",paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0},_wide:{paddingStart:24},item:{cursor:"pointer",color:De.T.gray_929292,wordBreak:"break-all",":hover":{color:De.T.gray_262626},"& > input:checked + span":{color:De.T.gray_262626}}}),bl=(0,n.memo)((()=>{const{css:e,s:t}=(0,re.I)(vl),s=(0,xe.U)(),i=s.availableExperiments,{clientId:a,experiments:n}=s,o="30"===a;return(0,r.jsx)(r.Fragment,{children:!!i.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:e(t.title,o&&t._wide)},{children:"🔬 Эксперименты"})),i.map((e=>{const t=((e,t)=>{const s=e.find((e=>e.name===t.name));return s?s.value:`${t.values.filter((e=>e.match(/without/)))[0]}_1`})(n,e);return(0,r.jsx)(hl,{experiment:e,defaultValue:t,isMonline:o},e.name)}))]})})}));bl.displayName="Experiments";const vl=(0,re.r)({title:{paddingTop:4,paddingBottom:4,paddingStart:28,paddingEnd:0},_wide:{paddingStart:0}}),yl=(0,n.memo)((({name:e,isDefaultEnabled:t,isMonline:s})=>{const i=(0,xe.U)(),{css:a,s:o}=(0,re.I)(xl),c=(0,B.o)("overrideConfig"),d=gl({overrideConfig:c,config:i}),[l,u]=(0,n.useState)(t),p=(0,n.useCallback)((()=>{u(!l);const t=Object.assign(Object.assign({},d),{[e]:!l}),s=pl(t);location.href=`/_/config/set?${s}`}),[l,e,d]);return(0,r.jsxs)("li",Object.assign({className:a(o.item,s&&o._mobile,l&&o._withIcon,l&&s&&o._mobileWithIcon)},{children:[l&&(0,r.jsx)("div",Object.assign({className:a(o.icon,s&&o._mobileIcon)},{children:(0,r.jsx)(ll.J,{width:s?16:30,height:s?16:30})})),(0,r.jsx)(He.A,Object.assign({color:l?"inherit":"gray",onClick:p,styles:o._button},{children:e}))]}))}));yl.displayName="FeatureCheckbox";const xl=(0,re.r)({item:{paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0,display:"flex",alignItems:"center",position:"relative",":hover":{cursor:"pointer"}},_button:{background:"transparent"},icon:{display:"flex",height:16,width:32,alignItems:"center",lineHeight:"16px",marginEnd:20,color:De.T.gray_262626,zIndex:0},_withIcon:{paddingStart:20,width:16},_mobileIcon:{marginEnd:8},_mobile:{paddingStart:24},_mobileWithIcon:{paddingStart:0}}),jl=(0,n.memo)((()=>{const e=(0,xe.U)(),{clientId:t}=e,s="30"===t,i=Object.keys(e).filter((e=>e.match(/^feature/gi)));i.sort();const{css:a,s:n}=(0,re.I)(wl);return(0,r.jsx)(r.Fragment,{children:!!i.length&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:a(n.title,s&&n._wide)},{children:"👷‍♂️ Фиче-свитчер"})),i.map((t=>(0,r.jsx)(yl,{name:t,isDefaultEnabled:!!e[t],isMonline:s},t)))]})})}));jl.displayName="Features";const wl=(0,re.r)({title:{paddingTop:4,paddingBottom:4,paddingStart:28,paddingEnd:0},_wide:{paddingTop:4,paddingBottom:4,paddingStart:0,paddingEnd:0}}),_l=(0,n.memo)((()=>{const{godmode:e}=(0,xe.U)();return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(jl,{}),(0,r.jsx)(bl,{})]}):null}));_l.displayName="FeatureAndExperimentsSwitcher";var Cl=s(71739);const Il=(0,s(806).e)(!0),kl=n.memo((()=>{const e=Il.use();return(0,r.jsx)(Cl.ReactQueryDevtools,{initialIsOpen:!1,toggleButtonProps:{style:{display:e?"block":"none"}}})})),Ol=()=>{const{s:e,css:t}=(0,re.I)(Sl);return(0,r.jsxs)("ul",Object.assign({className:t(e.list)},{children:[(0,r.jsx)(dl,{text:"Визуализатор моков",href:"/_/mocks/explore"}),(0,r.jsx)(dl,{text:"Config debug",href:"/_/config"}),(0,r.jsx)(dl,{text:"Config reset",href:"/_/config/reset"}),(0,r.jsx)(ul,{cookieName:"bssDebugMode",text:"Логгировать BSS в консоль",reload:!0}),(0,r.jsx)(ul,{cookieName:"is3dDisabled",text:"Включить 2D-карту",reload:!0}),(0,r.jsx)(ul,{cookieName:"mapDebugMode",text:"Включить дебаг карты",reload:!0}),(0,r.jsx)(ul,{cookieName:"searchDebugMode",text:"Включить дебаг поиска",reload:!0}),(0,r.jsx)(dl,{text:"react-query devtools",onClick:()=>{Il.set((e=>!e))}}),(0,r.jsx)(_l,{})]}))},Sl=(0,re.r)({list:{boxSizing:"border-box",padding:"28px 0",position:"relative",borderBottom:`1px solid ${De.T.gray_e6e6e6}`,"&:last-child":{borderBottom:"none"}}}),Tl=()=>(0,r.jsx)("img",{src:"/images/logo.png",alt:"1stech logo",width:"120",height:"30"});function El({height:e=24,width:t=78}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 78 24",fill:"none"},{children:[(0,r.jsx)("mask",Object.assign({id:"mask0_205_485",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},{children:(0,r.jsx)("path",{d:"M18.0408 23.9889C18.5711 23.9778 19.1051 23.9444 19.6279 23.8518C20.1582 23.7554 20.6551 23.6072 21.1372 23.3589C21.6156 23.1217 22.0494 22.8067 22.424 22.4361C22.7985 22.0655 23.1174 21.6356 23.3548 21.1649C23.5995 20.6868 23.7553 20.2014 23.8517 19.6751C23.9481 19.1563 23.9778 18.63 23.9889 18.1038C23.9963 17.8629 23.9963 17.622 24 17.3811V6.6152C24 6.37431 24 6.13342 23.9889 5.89253C23.9778 5.36998 23.9444 4.84003 23.8517 4.32119C23.7553 3.79494 23.5995 3.30574 23.3548 2.83138C23.1137 2.36442 22.7985 1.93453 22.424 1.56022C22.0494 1.18962 21.6119 0.874614 21.1372 0.637431C20.6514 0.396541 20.1582 0.240889 19.6279 0.144534C19.1051 0.0518839 18.5711 0.01853 18.0408 0.00741198C17.9407 0.00741198 17.8405 0.00370599 17.6774 0H6.99011L5.96663 0.011118C5.43634 0.022236 4.90235 0.0555899 4.37948 0.14824C3.8492 0.244595 3.35229 0.396541 2.87021 0.641137C2.39184 0.87832 1.95797 1.19333 1.58344 1.56393C1.2089 1.93453 0.889988 2.36442 0.652658 2.83508C0.404203 3.31316 0.252163 3.79864 0.155748 4.32489C0.0556242 4.84373 0.025958 5.36998 0.0111248 5.89623C0.00370828 6.13712 0.00370828 6.37801 0 6.6189V17.3848C0 17.6257 0.00370828 17.8666 0.0111248 18.1075C0.0222497 18.63 0.0556242 19.16 0.148331 19.6788C0.244747 20.2051 0.400494 20.6943 0.645241 21.1686C0.886279 21.6356 1.20148 22.0655 1.57602 22.4398C1.95056 22.8104 2.38813 23.1254 2.86279 23.3626C3.34858 23.6035 3.84178 23.7591 4.37206 23.8555C4.89493 23.9481 5.42892 23.9815 5.95921 23.9926C6.05933 23.9926 6.15946 23.9963 6.32262 24H16.4425L18.0334 23.9926L18.0408 23.9889Z",fill:"#299400"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#mask0_205_485)"},{children:[(0,r.jsx)("rect",{width:"24",height:"24",fill:"#19AA1E"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H24V7.875L0 4.125V0Z",fill:"#FFB919"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 21.375L24 17.625V24H0V21.375Z",fill:"#82D714"})]})),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.0202 4C31.2805 4 28.476 6.30318 28.5002 10.3031H31.9757C31.9277 8.70305 32.9347 7.15154 35.0202 7.15154C36.6023 7.15154 37.6089 8.21811 37.6089 9.57586C37.6089 10.9818 36.5063 11.7575 34.7326 12.6303C32.4073 13.7695 31.0171 14.303 28.5002 15.1517V19.7577H41.2046V16.3635H33.1985C34.3967 16.0001 35.5715 15.5396 36.6261 15.0302C39.4309 13.6728 41.0848 12.1454 41.0848 9.40582C41.0848 6.10906 38.6397 4 35.0202 4ZM57.8403 12.727V11.5152H49.8342V14.4241H54.3886C53.9091 15.9275 52.3511 16.8485 50.4815 16.8485C47.485 16.8485 45.759 14.4727 45.759 11.9998C45.759 9.52697 47.4609 7.15154 50.5053 7.15154C52.279 7.15154 53.7655 7.95138 54.3644 9.33321H57.8403C57.2169 6.4484 54.6043 4 50.4093 4C45.5194 4 42.4032 7.36975 42.4032 11.9998C42.4032 16.6303 45.615 20 50.2895 20C55.1556 20 57.8403 16.7273 57.8403 12.727ZM59.6624 19.7577H63.0182V4.24229H59.6624V19.7577ZM74.4281 8.84864H77.904C77.5443 5.89085 74.9794 4 71.2642 4C67.5007 4 64.9596 5.79379 64.9596 8.72713C64.9596 11.9757 68.0279 12.9697 70.2093 13.3335C72.2947 13.6728 74.4281 13.9881 74.4281 15.394C74.4281 16.5091 73.4453 17.0907 71.6954 17.0907C69.8737 17.0907 68.6033 16.1698 68.1715 14.9091H64.6959C65.0314 17.9636 68.0997 20 71.5276 20C75.2431 20 78 18.4 78 15.0302C78 11.3941 75.0992 10.9332 72.2947 10.4483C70.1851 10.0849 68.5074 9.74554 68.5074 8.55746C68.5074 7.58795 69.3942 6.90889 71.1441 6.90889C73.1815 6.90889 74.0922 7.80615 74.4281 8.84864Z",fill:"#262626"})]}))}const Ml=(0,n.memo)((()=>{const{brandCode:e,defaultCountryCode:t}=(0,xe.U)();return"urbi"===e?(0,r.jsx)(Tl,{}):"RU"===t?(0,r.jsx)(oa.t,{}):(0,r.jsx)(El,{})}));function Pl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:32,height:32,xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 7H4v2h11.888c-.354 1.65-1.528 3.559-3.283 5.674-.154.187-.312.373-.473.56A32.076 32.076 0 0 1 9.172 11H6.895c1.125 2.13 2.497 4.066 3.89 5.736-1.29 1.388-2.7 2.785-4.101 4.174-.466.462-.932.923-1.391 1.383l1.414 1.414c.444-.444.898-.894 1.357-1.349 1.354-1.341 2.75-2.725 4.048-4.113a36.89 36.89 0 0 0 3.128 3.011l.738-2.008a35.821 35.821 0 0 1-2.521-2.49c.235-.269.465-.538.688-.807 1.861-2.245 3.414-4.625 3.776-6.951H20V7h-7V5h-2v2Zm11.566 6h-2.13l-5.134 14h2.13l1.284-3.5h5.57l1.283 3.5H27.7l-2-5.5h-.019L22.566 13Zm.986 8.5L21.5 15.904 19.45 21.5h4.103Z",fill:e})}))}Ml.displayName="Logo";const Ll=n.memo((()=>{const{lang:e,supportedLangs:t}=(0,xe.U)(),s=(0,ie.wA)();return(0,r.jsx)(r.Fragment,{children:t.map(((t,i)=>{const a=Dc(t);if(!a)return null;const n=t===e;return(0,r.jsx)(dl,{text:a,icon:0===i?(0,r.jsx)(Pl,{}):void 0,checkMark:n,onClick:()=>(t=>{t!==e&&s(Hc({lang:t}))})(t)},t)}))})}));function Nl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M7 25h18v2H7zM14 9V8a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3v1a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9zM7 7h4a1 1 0 0 1 1 1v5H6V8a1 1 0 0 1 1-1zm-1 9v-1h6v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm17 4a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-1h2a3 3 0 0 0 3-3v-5h9z"})}))}const Al=(0,n.memo)((({blockStyles:e})=>{const t=(0,ae.c)(),{css:s}=(0,re.I)(Rl),{desktopAppLink:i}=(0,xe.U)(),a=(0,ye.zP)({platform:"android",type:"sideMenu"}),n=(0,ye.zP)({platform:"ios",type:"sideMenu"});return(0,r.jsx)(Rt.P,{children:(0,r.jsxs)("ul",Object.assign({className:s(e)},{children:[a&&(0,r.jsx)(dl,{text:t._t("Android"),href:a,bssName:"Android2gis",icon:(0,r.jsx)(Nl,{})}),n&&(0,r.jsx)(dl,{text:t._t("iOS"),href:n,bssName:"iOS2gis"}),i&&(0,r.jsx)(dl,{text:t._t("ПК-версия"),href:`${i}?utm_source=online&utm_medium=product&utm_campaign=sidebar`,bssName:"PC2gis"})]}))})})),Rl=(0,re.r)({});var zl=s(96863),Ul=s(475);const Bl=({place:e})=>{var t,s;const r=(0,xe.U)(),{zoom:i}=(0,ie.d4)(Z.iK),a=null===(s=null===(t=(0,ie.d4)(c.Hv))||void 0===t?void 0:t.data)||void 0===s?void 0:s.countryCode,n=`?utm_medium=${e}&utm_campaign=2gis5`;return!(i>8)||a&&Ul.qo.includes(a)?{licenseAgrUrl:`${r.licenseAgr}${n}`,privacyUrl:`${r.privacyUrl}${n}`}:{licenseAgrUrl:`https://law.2gis.com.cy/licensing-agreement${n}`,privacyUrl:`https://law.2gis.com.cy/privacy${n}`}};var Hl=s(83113);const Fl=({color:e="currentColor",width:t="24",height:s="24"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12 3a7 7 0 0 0-6.49 9.626l.217.538.576.078C9.471 13.668 11 15.798 11 20h2c0-4.202 1.53-6.332 4.697-6.758l.576-.078.217-.538A7 7 0 0 0 12 3zm0 2a5 5 0 0 1 5 5l-.008.278c-.02.37-.08.732-.181 1.086l-.17.035c-2.12.471-3.652 1.633-4.58 3.43l-.061.123-.061-.124c-.928-1.796-2.46-2.958-4.58-3.429l-.171-.035A5 5 0 0 1 12 5z"})})),Dl=[{key:"2ГИС Армения",href:"https://2gis.am/",domain:"2gis.am"},{key:"2ГИС Казахстан",href:"https://2gis.kz/",domain:"2gis.kz"},{key:"2ГИС Киргизия",href:"https://2gis.kg/",domain:"2gis.kg"},{key:"2ГИС ОАЭ",href:"https://2gis.ae/",domain:"2gis.ae"},{key:"2ГИС Узбекистан",href:"https://2gis.uz/",domain:"2gis.uz"},{key:"2ГИС Беларусь",href:"https://2gis.by/",domain:"2gis.by"},{key:"2ГИС Азербайджан",href:"https://2gis.az/",domain:"2gis.az"},{key:"2ГИС Россия",href:"https://2gis.ru/",domain:"2gis.ru"}],Vl=(0,n.memo)((e=>{const{css:t,s:s}=(0,re.I)(Zl),i=(0,ae.c)(),{baseDomain:a}=(0,xe.U)(),{region:o,godmode:c,lang:d,openGuidebook:l,openPopupAddOrg:u,openInteresting:p,showFeedback:m,openPrintWindow:g,showLogoutButton:h,onLogoutClick:f}=e,b="2gis.ru"===a&&"ru"===d,v="2gis.ru"===a&&"ru"===d,{regionName:y,regionId:x,showJobLink:j,showApi2gisLink:w,licenseAgrUrl:_,privacyUrl:C,showGuidebook:I,showInteresting:k,dataSalesLink:O,brandName:S,showLanguageSwitcher:T,adsLink:E}=(({region:e})=>{const t=(0,ie.d4)((0,zl.g7)("interesting")),s=(0,ie.d4)((0,zl.g7)("guidebook")),{licenseAgrUrl:r,privacyUrl:i}=Bl({place:"sidebar"}),a=(0,xe.U)();return(0,n.useMemo)((()=>{var n,o;const{brandName:c,dataSales:d,showDataSalesLink:l,showJobLink:u,showApi2gisLink:p,dashboardCarouselItems:m,featureCart:g,adsLink:h}=a,f=-1!==m.indexOf("guidebook"),b=-1!==m.indexOf("interesting");return{regionId:e&&e.id||"0",brandName:c,licenseAgrUrl:r,privacyUrl:i,showJobLink:u,showApi2gisLink:p,regionName:null==e?void 0:e.name,showGuidebook:f&&!!(null===(n=null==s?void 0:s.collections)||void 0===n?void 0:n.length),showInteresting:b&&!!(null===(o=null==t?void 0:t.collections)||void 0===o?void 0:o.length),dataSalesLink:l?`${d}?utm_source=online&utm_medium=product&utm_campaign=sidebar`:void 0,showCart:g,showLanguageSwitcher:a.supportedLangs.length>1,adsLink:h}}),[a,r,i,s,t,e])})({region:o});return(0,r.jsxs)("div",Object.assign({className:t(s.container)},Ze.dx.n("wat-sidebar"),{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},{children:(0,r.jsx)("a",Object.assign({href:"/",className:t(s.logo)},{children:(0,r.jsx)(Ml,{})}))})),(0,r.jsx)("div",Object.assign({className:t(s.listWrap)},{children:(0,r.jsxs)(nl.OY,{children:[c&&(0,r.jsx)(Ol,{}),(I||k)&&(0,r.jsxs)("ul",Object.assign({className:t(s.list,s._tallList)},{children:[I&&(0,r.jsx)(Rt.P,{children:(0,r.jsx)(dl,{text:i._t("Путеводитель по городу"),icon:(0,r.jsx)(tl,{}),bssName:"guidebookIcon",tall:!0,onClick:l})}),k&&(0,r.jsx)(Rt.P,{children:(0,r.jsx)(dl,{text:i._t("Интересные места"),icon:(0,r.jsx)(sl,{}),bssName:"interestingIcon",tall:!0,onClick:p})})]})),(0,r.jsx)(Al,{blockStyles:s.list}),(0,r.jsxs)("ul",Object.assign({className:t(s.list)},{children:[(0,r.jsxs)(Rt.P,{children:[(0,r.jsx)(dl,{text:i._t("Добавить организацию"),icon:(0,r.jsx)(rl.P,{}),dataN:"wat-add-org-button",bssName:"addFirm2gis",onClick:u}),(0,r.jsx)(dl,{text:i._t("Вход для бизнеса"),href:`http://account.2gis.com/?language=${d}&id=${x}&utm_source=2gisonline&utm_medium=products&utm_campaign=sidebar`,bssName:"businessAuthIcon"}),(0,r.jsx)(dl,{text:i._t("Реклама"),href:`${E}?language=${d}&id=${x}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,bssName:"ads2gis"})]}),w&&(0,r.jsx)(dl,{text:i._t("API %1",[S]),href:`http://redirect.2gis.com/api/?language=${d}&id=${x}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,bssName:"API2gis"}),O&&(0,r.jsx)(dl,{text:i._t("Данные %1",[S]),href:O})]})),j&&(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(dl,{text:i._t("Работа в %1",[S]),href:`http://job.2gis.ru/?city=${y}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,icon:(0,r.jsx)(il,{}),bssName:"job2gis"})})),(0,r.jsxs)("ul",Object.assign({className:t(s.list)},{children:[(0,r.jsx)(Rt.P,{children:(0,r.jsx)(dl,{text:i._t("Обратная связь"),onClick:m,icon:(0,r.jsx)(al,{}),bssName:"feedback2gis"})}),"ru"===d&&(0,r.jsx)(dl,{text:i._t("Справка"),href:"https://help.2gis.ru/",bssName:"helpIcon"}),(0,r.jsx)(dl,{href:_,text:i._t("Лицензионное соглашение"),bssName:"license2gis"}),(0,r.jsx)(dl,{href:C,text:i._t("Политика конфиденциальности")})]})),(0,r.jsx)(qt.j,{children:(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(dl,{text:i._t("Печать"),onClick:g,icon:(0,r.jsx)(ed,{}),bssName:"print"})}))}),(0,r.jsxs)(r.Fragment,{children:[v&&(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(dl,{text:i._gg("Отели и гостиницы"),href:"https://otello.ru/",icon:(0,r.jsx)(Hl.w,{color:"#262626"}),dataN:"wat-hotels"})})),b&&(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:Dl.filter((({domain:e})=>e!==a)).map((({key:e,href:t,domain:s},a)=>(0,r.jsx)(dl,Object.assign({text:i._gg(e),href:t,dataN:"wat-domain"},0===a?{icon:(0,r.jsx)(Fl,{width:"32px",height:"32px"})}:null),s)))}))]}),T&&(0,r.jsx)(qt.h,{children:(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(Ll,{})}))}),h&&(0,r.jsx)(Rt.P,{children:(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(dl,{text:i._t("Выйти"),onClick:f,dataN:"wat-logout-button"})}))})]})}))]}))})),Zl=(0,re.r)({container:{height:"100%"},header:{padding:"20px 24px"},list:{boxSizing:"border-box",padding:"28px 0",position:"relative",borderBottom:`1px solid ${De.T.gray_e6e6e6}`,"&:last-child":{borderBottom:"none"}},_tallList:{padding:"16px 0"},listWrap:{flex:"1 1 auto",position:"relative",height:"calc(100% - 72px)"},logo:{display:"flex",width:120,height:28,alignItems:"center",cursor:"pointer"}}),$l=n.memo((e=>{const{lang:t,region:s,godmode:i,openPopupAddOrg:a,showLogoutButton:n,openInteresting:o,openGuidebook:c,openPrintWindow:d,onLogoutClick:l,bssOnFeedbackClick:u,showFeedback:p}=e,m=le.m.use(),g=(0,Yt.D)((()=>{const{bssSideMenuClick:t}=e;le.m.set((e=>!e)),m||t()})),h=(0,Yt.D)((()=>{p(),u()}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qt.j,{children:(0,r.jsx)(Kd,{})}),(0,r.jsx)(el,Object.assign({type:"sideMenu",isHidden:!m},{children:(0,r.jsx)(Vl,{lang:t,region:s,showFeedback:h,openPopupAddOrg:a,godmode:i,showLogoutButton:n,openInteresting:o,openGuidebook:c,openPrintWindow:d,onLogoutClick:l})})),m?(0,r.jsx)(Xd,{isSideBarShown:m,onClick:g}):(0,r.jsx)(qt.j,{children:(0,r.jsx)(Xd,{isSideBarShown:m,onClick:g})})]})}));$l.displayName="Sidebar";const ql=(0,nt.f)(void 0,Jd.N)((0,yt.Ng)(Zd,Wd)($l));var Wl=s(36250),Gl=s(43657);const Ql=(0,yt.tr)((e=>({notifications:e.appContext.weak.notifications})));var Kl=s(29094);const Yl=(0,yt.Yn)((e=>({onNotificationClick(t){e((0,Kl._)({id:t}))}})));function Xl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M19.19 12.14l.44-2.21a3 3 0 0 0-2-3.44l-2.15-.71-.38.77a22.31 22.31 0 0 1-4.75 6.18L10 13v11.94l10.17.61h.31a5 5 0 0 0 4.88-3.93l1.85-8.49zm4.21 9.06a3 3 0 0 1-3.11 2.36l-8.29-.5V14a24.08 24.08 0 0 0 4.48-5.75l.53.18a1 1 0 0 1 .66 1.15l-.86 4.32 8 1zM6 13h2v12H6z"})}))}class Jl extends n.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.notification.id)}}render(){const{title:e,message:t,icon:s,s:i,bssRef:a}=this.props;return(0,r.jsxs)("div",Object.assign({ref:a,className:(0,it.AH)(i.notification)},Ze.dx.n("wat-notification"),Ze.dx.t("error"===s?"error":"success"),{onClick:this.handleClick},{children:[(0,r.jsx)("div",Object.assign({className:(0,it.AH)(i.icon,"error"===s&&i._error)},{children:(0,r.jsx)(Xl,{})})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(i.title)},{children:e})),(0,r.jsx)("div",Object.assign({className:(0,it.AH)(i.message)},{children:t}))]}))}componentDidMount(){this.hideTimer=window.setTimeout((()=>{this.handleClick()}),6e3)}componentWillUnmount(){window.clearTimeout(this.hideTimer)}}Jl.displayName=(0,bt.d)("src/modules/notifications/components/notification");const eu={notification:{background:De.T.white,paddingTop:20,paddingBottom:20,paddingStart:56,paddingEnd:12,boxShadow:hn.E.popup,borderRadius:Fe.Vq.isolate,cursor:"pointer",position:"relative",animationName:{from:{transform:"translateY(30px)",opacity:0},to:{transform:"translateY(0)",opacity:1}},animationDuration:`${Cs.S.short}ms`},icon:{color:De.T.green_299400,position:"absolute",top:16,start:12},_error:{color:De.T.red_fe5000,transform:"rotate(180deg)"},title:Object.assign(Object.assign({},$e.Co),{marginBottom:4}),message:Object.assign({},$e.Hg)},tu=(0,nt.f)((e=>{const{notification:t}=e,s=t.payload.bssName;if(s)return{uiElement:{name:s,frameUuid:e.notification.id},payload:t.payload.payload}}))((0,or.J)((({notification:e})=>{const{type:t,payload:s}=e;return{title:s.title,message:s.message,icon:"success"===t?"success":"error"}}))((0,it.Xy)(eu)(Jl)));class su extends n.PureComponent{constructor(){super(...arguments),this.handleNotificationClick=e=>{this.props.onNotificationClick(e)}}render(){const{notifications:e,s:t}=this.props;return e.length?(0,r.jsx)("div",Object.assign({className:(0,it.AH)(t.root)},{children:e.slice(-3).map((e=>(0,r.jsx)("div",Object.assign({className:(0,it.AH)(t.item)},{children:(0,r.jsx)(tu,{notification:e,onClick:this.handleNotificationClick},e.id)}),e.id)))})):null}}su.displayName=(0,bt.d)("src/modules/notifications");const ru=(0,yt.Ng)(Ql,Yl)((0,it.Xy)((({mobile:e})=>({root:{position:"absolute",top:72,end:e?"initial":16,width:e?"100%":304,boxSizing:"border-box",paddingStart:e?20:0,paddingEnd:e?20:0},item:{marginBottom:16}})))(su));function iu(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"46",height:"20",viewBox:"0 0 46 20",fill:"none"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.94557 4C3.10921 4 0.981934 5.72727 1.00012 8.72727H3.63648C3.60012 7.52727 4.36375 6.36364 5.94557 6.36364C7.14557 6.36364 7.90921 7.16364 7.90921 8.18182C7.90921 9.23636 7.07284 9.81818 5.72739 10.4727C3.96375 11.3273 2.90921 11.7273 1.00012 12.3636V15.8182H10.4547V13.4545H4.56375C5.47513 13.0746 6.3622 12.6575 7.16375 12.2727C9.29102 11.2545 10.5456 10.1091 10.5456 8.05455C10.5456 5.58182 8.69102 4 5.94557 4ZM14.6365 6.54545H20.091V4.18182H12.091V15.8182H14.6365V6.54545ZM23.9092 4.18182H21.3638V15.8182H23.891L28.6365 8.38182V15.8182H31.1819V4.18182H28.6365L23.9092 11.6182V4.18182ZM43.9637 11.4545H41.3274C40.9274 12.7455 39.7092 13.6364 38.2728 13.6364C36.1819 13.6364 34.8183 11.8364 34.8183 10C34.8183 8.16364 36.1456 6.36364 38.3456 6.36364C39.8001 6.36364 40.9274 7.25455 41.3274 8.54545H43.9637C43.5819 5.94545 41.5274 4 38.2728 4C34.6728 4 32.2728 6.52727 32.2728 10C32.2728 13.4727 34.6728 16 38.2728 16C41.5274 16 43.5819 14.0909 43.9637 11.4545Z",fill:"currentColor"})}))}function au(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"20",fill:"none",viewBox:"0 0 40 20"},{children:(0,r.jsx)("path",{fill:"currentColor",d:"M2 8.727C1.982 5.727 4.05 4 6.808 4c2.669 0 4.472 1.582 4.472 4.054 0 2.055-1.22 3.2-3.288 4.219-.778.382-1.644.909-2.527 1.181h5.903V16H2v-3.34c1.856-.636 2.881-1.333 4.596-2.187 1.308-.655 2.12-1.237 2.12-2.291 0-1.018-.742-1.818-1.908-1.818-1.538 0-2.28 1.163-2.245 2.363H2zM23.635 9.636v.91c0 3-1.98 5.454-5.568 5.454-3.447 0-5.815-2.527-5.815-6s2.298-6 5.903-6c3.094 0 5.02 1.836 5.48 4h-2.563c-.442-1.036-1.538-1.636-2.846-1.636-2.245 0-3.5 1.781-3.5 3.636 0 1.854 1.273 3.636 3.483 3.636 1.378 0 2.527-.69 2.88-1.818h-3.358V9.636h5.904zM27.453 16h-2.475V4h2.475v12zM38.43 7.636h-2.564c-.248-.781-.919-1.454-2.421-1.454-1.29 0-1.945.509-1.945 1.236 0 .891 1.237 1.146 2.793 1.418l.068.012c2.047.36 4.139.727 4.139 3.425C38.5 14.8 36.467 16 33.727 16c-2.527 0-4.79-1.527-5.037-3.818h2.563c.318.945 1.255 1.636 2.598 1.636 1.29 0 2.015-.436 2.015-1.272 0-1.032-1.505-1.28-3.01-1.53l-.1-.016c-1.61-.273-3.872-1.018-3.872-3.455 0-2.2 1.874-3.545 4.65-3.545 2.739 0 4.63 1.418 4.895 3.636z"})}))}const nu=(0,n.memo)((()=>{const{brandName:e,lang:t}=(0,xe.U)();return"Urbi"===e?null:"ru"===t?(0,r.jsxs)(ou,{children:[(0,r.jsx)(iu,{}),!1]}):(0,r.jsxs)(ou,{children:[(0,r.jsx)(au,{}),!1]})})),ou=({children:e})=>{const{css:t,s:s}=(0,re.I)(cu),{lang:i}=(0,xe.U)(),a="ru"===i?"https://dev.2gis.ru":"https://dev.2gis.com";return(0,r.jsx)(He.A,Object.assign({external:!0,href:a,styles:s.root},{children:(0,q.oE)(e).map(((e,i)=>(0,r.jsx)("div",Object.assign({className:t(s.item)},{children:e}),i)))}))},cu=(0,re.r)({root:{display:"flex",justifyContent:"flex-end",height:16,marginBottom:3},item:{marginStart:8,color:De.T.gray_262626}}),du=(0,n.memo)((()=>{const{s:e,css:t}=(0,re.I)(lu),{comma:s}=(0,xe.U)(),i=(0,ae.c)(),{licenseAgrUrl:a,privacyUrl:n}=Bl({place:"map-footer"});return(0,r.jsxs)("div",Object.assign({className:t(e.copyright)},{children:[(0,r.jsx)(nu,{}),(0,r.jsx)(He.A,Object.assign({color:"dark",external:!0,href:a},{children:i._t("Лицензионное соглашение")})),s," ",(0,r.jsx)(He.A,Object.assign({color:"dark",external:!0,href:n},{children:i._t("Политика конфиденциальности").toLowerCase()}))]}))})),lu=(0,re.r)({copyright:Object.assign(Object.assign({position:"absolute",bottom:16,end:72,textAlign:"right"},$e.nU),{userSelect:"none"})});class uu extends n.PureComponent{render(){const{s:e,links:t}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,it.AH)(e.root)},Ze.dx.n("wat-awesome-dash"),{children:t.map((({url:t,name:s},i)=>(0,r.jsx)("a",Object.assign({className:(0,it.AH)(e.item),href:t},{children:s}),i)))}))}}uu.displayName=(0,bt.d)("src/modules/seoDash");const pu={root:{position:"absolute",bottom:0,left:0,right:0,height:21,overflowY:"scroll",background:De.T.white},item:Object.assign(Object.assign({},$e.HI),{display:"inline-block",margin:"0 4px",color:De.T.blue_0072ce})},mu=(0,cn.M)({selectors:()=>({seoStoreData:e=>e.data.seoStore}),handlers:{}})((0,or.J)((({seoStoreData:e})=>{var t,s;if(null===(s=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.links)||void 0===s?void 0:s.length)return{links:e.data.links}}))((0,it.Xy)(pu)(uu)));var gu=s(84082),hu=s(52342),fu=s(27127);const bu=(0,j.n5)("handleEditClick",(e=>(0,j.K2)((0,C.PC)(),(0,hu.D)(e),(0,fu.c)())));var vu=s(74887);const yu={onEditClick:bu};class xu extends n.PureComponent{constructor(){super(...arguments),this.handleEditClick=()=>{this.props.onEditClick(this.props.toast.item)}}render(){const{title:e,s:t,i18n:s}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,it.AH)(t.root)},Ze.dx.n("wat-added-to-collection"),{children:[(0,r.jsx)("span",Object.assign({className:(0,it.AH)(t.title)},{children:e})),(0,r.jsx)(bi.$,Object.assign({dataN:"wat-change-collection-button",onClick:this.handleEditClick,compact:!0,appearance:"primary"},{children:s.tp._t("Изменить")}))]}))}}const ju={root:{display:"flex",alignItems:"center",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:12,width:"max-content",maxWidth:312,boxSizing:"border-box",wordBreak:"break-word",background:De.T.white,borderRadius:Fe.Vq.default,boxShadow:hn.E.popup,"& > button":{flexShrink:0}},title:{marginEnd:12}},wu=(0,it.Xy)(ju)((0,at.Q)()(xu)),_u=(0,cn.M)({selectors:({toast:e})=>({collection:(0,gu.nq)(e.collectionId)}),handlers:yu})((0,or.J)(((e,t)=>{const{collection:s}=e,{tp:r}=t;if(s)return{title:r._t("Добавлено в «%1»",[(0,vu.j)(s,t)])}}))(wu));var Cu=s(24963),Iu=s(86291),ku=s(79086);const Ou=({onClose:e,timeout:t,children:s,targetBoundingClientRect:i,to:a,offset:o})=>{const c=n.useRef(null);return(0,Iu.o)(c,e,t),(0,Cu.W)(c,e),(0,r.jsx)(ku.w,Object.assign({innerRef:c,targetBoundingClientRect:i,to:a,offset:o||8},{children:s}))},Su=(0,n.memo)((({type:e,to:t})=>{const{css:s,s:i,dir:a}=(0,re.I)(Tu),o=(0,Sd.I)(fu.c),d=(0,ae.c)(),{bssRef:l}=(0,Ve.E)((u={type:e},(e,t)=>{const s=function(e){if("layer_exchange"===e)return"exchangeCurrencyLayerPromo"}(u.type);if(s)return{uiElement:{name:s,frameUuid:t.appContext.staticFrames.map.id}}}));var u;const p=(0,ie.d4)(c.n$),m=(0,n.useMemo)((()=>"centerEnd"===t?[i._center,"rtl"===a&&i._rtl]:i._default),[t]),g=(0,n.useMemo)((()=>{switch(e){case"layer_metro":return d._t("Включите&nbsp;слой&nbsp;с&nbsp;метро, так удобнее планировать маршруты");case"realty":return d._gg("Покажем, все объявления в этом доме");case"ppng":return d._gg("Теперь строим маршруты\n для грузового транспорта!");case"layer_realty_heatmap":return(null==p?void 0:p.flags.metro)?d._gg("Покажем,&nbsp;сколько&nbsp;минут&nbsp;идти&nbsp;пешком&nbsp;до&nbsp;метро"):d._gg("Недвижимость&nbsp;города&nbsp;теперь&nbsp;на&nbsp;карте.\nВыбирайте&nbsp;её&nbsp;в&nbsp;отдельном&nbsp;слое");case"layer_realty_sublayers":return(null==p?void 0:p.flags.metro)?d._gg("Включите&nbsp;тепловую&nbsp;карту&nbsp;доступности&nbsp;метро"):d._gg("Включите&nbsp;тепловую&nbsp;карту\nс&nbsp;ценами&nbsp;аренды&nbsp;или&nbsp;продажи");case"layer_photo":return d._t("Прекрасное&nbsp;рядом&nbsp;—&nbsp;посмотрите!\nПоказываем&nbsp;на&nbsp;карте&nbsp;фотографии&nbsp;города");case"layer_exchange":return d._gg("Курсы&nbsp;валют на&nbsp;карте");case"exchange_input":return d._gg("Курс&nbsp;выгодней\nпри&nbsp;обмене&nbsp;большей&nbsp;суммы");case"layer_road_accident":return d._gg("Аварийные места на карте");case"layer_tourism":return d._t("Туристические места")}}),[e]);return(0,r.jsx)("div",Object.assign({className:s(i.tooltip,m),onClick:o,ref:l},Ze.dx.n("wat-layer-promo"),Ze.dx.t(e),{children:g}))})),Tu=(0,re.r)({tooltip:{background:De.T.blue_028eff,color:De.T.white,borderRadius:Fe.Vq.default,boxShadow:hn.E.popup,paddingTop:12,paddingBottom:8,paddingStart:16,paddingEnd:16,boxSizing:"border-box",margin:"auto",userSelect:"none",position:"relative",whiteSpace:"pre-wrap","::before":{content:'""',width:0,height:0,border:"4px solid transparent",borderBottomColor:De.T.blue_028eff,position:"absolute"}},_default:{"::before":{top:0,start:"50%",marginTop:-8,marginStart:-4}},_center:{"::before":{marginTop:-4,marginStart:-8,top:"50%",start:0,transform:"rotate(-90deg)"}},_rtl:{"::before":{transform:"rotate(90deg)"}}}),Eu=()=>{const e=(0,ie.d4)((e=>e.appContext.weak.toast)),t=(0,Sd.I)(fu.c),s=n.useCallback((()=>{t()}),[]);if(!e)return null;switch(e.type){case"addedToCollection":return(0,r.jsx)(Ou,Object.assign({onClose:s,timeout:3e3,targetBoundingClientRect:e.targetBoundingClientRect,to:"bottomBottomStart"},{children:(0,r.jsx)(_u,{toast:e})}));case"showPromoToast":return(0,r.jsx)(Ou,Object.assign({onClose:s,timeout:2e4,targetBoundingClientRect:e.targetBoundingClientRect,to:e.to,offset:e.offset},{children:(0,r.jsx)(Su,{type:e.subtype,to:e.to})}));default:return null}};var Mu=s(99449),Pu=s(4986);const Lu=n.memo((()=>{const[e,t]=(0,n.useState)(void 0);(0,Mu.A)({type:"map:hint",handler:e=>{t(e)}});const{s:s,css:i}=(0,re.I)(Nu);if(!e||"undefined"==typeof window)return null;const a=(0,Pu.K)(e.point);return(0,r.jsx)(ku.w,Object.assign({targetBoundingClientRect:a,to:"bottomEnd",offset:8,pointerEvents:"none"},{children:(0,r.jsx)("div",Object.assign({className:i(s.hint)},{children:e.text}))}))}));Lu.displayName="Hint";const Nu=(0,re.r)({hint:Object.assign(Object.assign({},$e.Hg),{background:De.T.white,boxShadow:hn.E.popup,borderRadius:Fe.Vq.default,padding:"4px 8px",whiteSpace:"nowrap"})});var Au=s(53180),Ru=s(85616),zu=s(15714),Uu=s(35781),Bu=s(18396);const Hu=(0,j.n5)("replaceFrameInBuildingWithOriginalSearchIfNeeded",(e=>(0,j.Q2)((t=>{if(!e)return(0,j.lQ)();const s=t.appContext.frames.find(Uu.h);if(s){const r=function(e,t){for(const s of[...e].reverse())for(const e of s)if(t(e))return e}(t.appContext.graveyard,(t=>(0,Bu.O)(t)&&((0,F.Xk)(t)===e||(0,F.Rh)(t)===e)));if(r&&(0,Bu.O)(r))return(0,M.sr)(Object.assign(Object.assign({},r),{id:s.id}))}}))));var Fu=s(35606),Du=s(5096),Vu=s(60776);const Zu=(0,j.n5)("getEntityByPoint",(e=>(0,j.Q2)((t=>{const s=t.appContext.zoom,r=t.session.is3dEnabled;if(s)return(0,j.K2)((0,A.Cl)((i=>(0,Fu.tc)({point:e.point,zoom:Math.ceil(s),regionId:(0,c.MJ)(t)||"0",searchId:e.searchId,is3dEnabled:r,viewpoint:i}))),(0,j.Q2)((t=>{const s=(0,Du.A)({state:t,searchId:e.searchId});if(!s.meta||"error"===s.meta.status)return;if(!s.data||!s.data.items.length)return;const r=s.data.items[0],i=(0,u.Tq)({state:t,entityId:r});return i.data?"point"===i.data.type?(0,Vu.v)({point:e.point,shouldCenterMap:!1}):(0,E.BJ)({entityId:i.data.id,frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,isOpenedFromMap:e.isOpenedFromMap,trackBssOnLoading:e.trackBssOnLoading,skipFetchEntity:!0}):void 0})))})))),$u=(0,j.n5)("openEntityFromMap",(({mapAdsId:e,entityId:t,point:s,entityIcon:r,isCommercial:i,trackBssOnLoading:a})=>{const n=(0,q.W7)(),o=(0,q.W7)(),c=(0,q.W7)(),d=(0,q.W7)();return(0,j.K2)((0,C.PC)(),(0,tr.WH)(),(0,Ru.B)(),(0,A.eU)(Z.aF,Hu),(0,zu.BS)({frameId:n,entityId:t,searchId:c,gtaId:d,statusId:o,point:s,entityIcon:r,isCommercial:i}),t?qu({entityId:t,point:s,frameId:n,statusId:o,gtaId:d,searchId:c,mapAdsId:e,trackBssOnLoading:a}):Zu({point:s,frameId:n,statusId:o,searchId:c,gtaId:d,trackBssOnLoading:a,isOpenedFromMap:!0}))})),qu=(0,j.n5)("getEntityById",(e=>(0,j.K2)((0,E.BJ)({entityId:(0,q.ox)(e.entityId),frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,mapAdsId:e.mapAdsId,trackBssOnLoading:e.trackBssOnLoading,isOpenedFromMap:!0}),(0,A.kE)(e.frameId,(t=>{if(!t||"pending"!==t.type)return(0,j.lQ)();const s=(0,q.W7)(),r=(0,q.W7)(),i=(0,q.W7)();return Zu({point:e.point,frameId:e.frameId,statusId:s,searchId:r,gtaId:i,trackBssOnLoading:e.trackBssOnLoading})})))));var Wu=s(80556),Gu=s(11006);const Qu=(0,j.n5)("clickMap",(({entityId:e,point:t,center:s,type:r,isCommercial:i,sysCode:a,isPersonal:n,isCityCommercial:o,isPremiumCommercial:c,entityIcon:d})=>{const l=s?{lon:s[0],lat:s[1]}:t;return(0,es.Hw)((t=>(0,A.RC)({hashmap:e=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},isRealty:e=>"realty"===e.appContext.activeLayer,poiCategory:e=>(0,Gu.e)(e,{checkPremium:!1})},(({hashmap:s,isRealty:u,poiCategory:p})=>{const m=e=>{var s,d;return"rmbMenuItem"!==r?function(e){const{entity:t,type:s,sysCode:r,isCommercial:i,isPersonal:a,isCityCommercial:n,isPremiumCommercial:o,isModel3d:c,isContext:d,forcedEventOrdinal:l}=e;switch(s){case"poi":return(0,Au.CU)({sysCode:r,isCommercial:i,isPersonal:a,isCityCommercial:n,isPremiumCommercial:o,isContext:d,forcedEventOrdinal:l,entity:t});case"routePlatformPoint":return(0,Au.dH)({forcedEventOrdinal:l});default:return(0,Au.EQ)({entity:t,isModel3d:c,forcedEventOrdinal:l})}}({entity:e,type:r,sysCode:a,isCommercial:i,isPersonal:n,isCityCommercial:o,isPremiumCommercial:c,isModel3d:null===(d=null===(s=null==e?void 0:e.ads)||void 0===s?void 0:s.options)||void 0===d?void 0:d["3d"],isContext:p?"branch"===(null==e?void 0:e.type)&&e.poi_category===p:void 0,forcedEventOrdinal:t}):(0,j.lQ)()};return u&&s&&e&&void 0!==s[e]?(0,Wu.Z8)((t=>(0,pe.P)({entity:{id:e,type:"building"},suggestId:null==t?void 0:t.suggestId}))):u?(0,de.P)($u({entityId:e,point:l,entityIcon:d,isCommercial:i,trackBssOnLoading:m})):$u({entityId:e,point:l,entityIcon:d,isCommercial:i,trackBssOnLoading:m})}))))}));var Ku=s(38337),Yu=s(77424),Xu=s(75456);const Ju=e=>{const{type:t,lonLat:s}=e,r={type:"point",lonLat:s},i="dirTo"===t?[void 0,r]:[r,void 0];return(0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"directions")),(e=>{if(e){const r=e.points.length-1,i="dirTo"===t?r:0,a=(0,Yu.n)({type:"point",lonLat:s}),n=(0,Xu.b)(a,e.points,i)||e.points;return(0,Ku.J)({frameId:e.id,tab:e.tab,framePoints:n})}return(0,ne.P)({points:i})}))},ep=(0,j.n5)("contextMenuClick",(e=>{const{type:t,lonLat:s,entityId:r}=e;return tp(t,s,r)})),tp=(e,t,s)=>{switch(e){case"info":return Qu({type:"rmbMenuItem",point:t,entityId:s});case"dirTo":return Ju({type:"dirTo",lonLat:t});case"dirFrom":return Ju({type:"dirFrom",lonLat:t});case"share":return(0,j.K2)(Qu({type:"rmbMenuItem",point:t,entityId:s}),(0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"entity")),(e=>(0,Kc.T)({frameId:null==e?void 0:e.id}))))}};var sp=s(30158);const rp=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M17 3a4 4 0 1 1-3.017 6.626l-3.07 1.536a4.016 4.016 0 0 1 0 1.676l3.07 1.536a4 4 0 1 1-.895 1.789l-3.07-1.537a4 4 0 1 1 0-5.253l3.07-1.535A4 4 0 0 1 17 3zm0 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10-5a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})),ip=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 21a6 6 0 0 1-5.996-5.775L7 15l-.001-2.1A5.002 5.002 0 0 1 8 3a5 5 0 0 1 1 9.9V15a4 4 0 0 0 7.995.2L17 15v-4h2v4a6 6 0 0 1-6 6zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9-2V7h2v2h-2z"})})),ap=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M9 3c3.2 0 5.9 2.6 6 5.8V11.1c2.7.6 4.4 3.2 3.9 5.9-.5 2.3-2.5 4-4.9 4-2.8 0-5-2.2-5-5 0-2.4 1.7-4.4 4-4.9V9c0-2.2-1.8-4-4-4-2.1 0-3.9 1.7-4 3.8V13H3V9c0-3.3 2.7-6 6-6zm5 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-9 2v2H3v-2h2z"})}));var np=s(32288);function op(e){return{info:"whatIsHere",dirTo:"routeHere",dirFrom:"routeFromHere",share:"sendLink"}[e]}const cp=(0,re.r)({wrapper:{boxShadow:hn.E.popup,borderRadius:Fe.Vq.default,background:De.T.white,cursor:"pointer"},list:{boxSizing:"border-box",position:"relative",boxShadow:hn.E.innerBorderBottomBase,"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:8,paddingEnd:12,listStyleType:"none",userSelect:"none",":hover":{background:De.T.gray_f2f2f2,color:De.T.blue_0072ce}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,marginEnd:8}}),dp=(0,nt.f)((e=>({uiElement:{name:"placeCardMapActionsPopup",ownerName:void 0,frameUuid:e.ownerFrameId}})),((e,t)=>({trackRMBItemClick(s,r){e((0,A.eU)((e=>r?(0,u.Tq)({state:e,entityId:r}).data:void 0),(e=>{const r={uiElement:{name:op(s),ownerName:"placeCardMapActionsPopup",frameUuid:t.ownerFrameId},action:"tap",payload:e?{placeItem:(0,np.ij)({entity:e})}:void 0};return(0,es.cD)(r)})))},trackRMBClick(s,r){const i={uiElement:{name:"map"===s?"mapObject":"POI",ownerName:"map",frameUuid:t.ownerFrameId},action:"rightClick",payload:r?{POI:{category:r.sysCode?{id:r.sysCode}:void 0,adsHighlight:r.isCommercial||!1}}:void 0};return e((0,es.cD)(i))}})))((e=>{const{css:t,s:s}=(0,re.I)(cp),i=(0,ae.c)(),a=(0,n.useRef)(null),{trackRMBItemClick:o,trackRMBClick:c,bssRef:d}=e,[l,u]=(0,n.useState)(void 0),p=(0,Sd.I)(ep);(0,Mu.A)({type:"map:contextmenu",handler:e=>{var t;"map"!==e.origin&&"poi"!==e.origin||(u({lonLat:(0,sp.w)(e),point:(t=e,{x:t.point[0],y:t.point[1]}),entityId:"poi"===e.origin?e.target.id:void 0}),c(e.origin,"poi"===e.origin?e.target:void 0))}}),(0,Mu.A)({type:"common:escapeKeyUp",handler:()=>{u(void 0)},stopIfHandled:!0,priority:Et.b.FrameElement});const m=(0,n.useMemo)((()=>{if(l)return(0,Pu.K)({top:l.point.y,left:l.point.x})}),[l]),g=(0,Yt.D)((e=>{l&&l.lonLat&&(p({type:e.type,lonLat:l.lonLat,entityId:l.entityId}),o(e.type,l.entityId),u(void 0))}));(0,Cu.W)(a,(()=>u(void 0)));const h=[{title:i._t("Что здесь?"),type:"info"},{title:i._t("Маршрут сюда"),type:"dirTo"},{title:i._t("Маршрут отсюда"),type:"dirFrom"},{title:i._t("Отправить ссылку"),type:"share"}],f=(0,n.useCallback)((e=>{switch(e){case"info":return(0,r.jsx)(Fl,{color:De.T.gray_262626});case"dirTo":return(0,r.jsx)(ap,{color:De.T.gray_262626});case"dirFrom":return(0,r.jsx)(ip,{color:De.T.gray_262626});case"share":return(0,r.jsx)(rp,{color:De.T.gray_262626});default:return null}}),[]);return m?(0,r.jsx)(ku.w,Object.assign({targetBoundingClientRect:m,to:"bottomEnd",offset:0},{children:(0,r.jsx)("nav",Object.assign({className:t(s.wrapper),ref:a},Ze.dx.n("wat-context-menu"),{children:(0,r.jsx)("ul",Object.assign({className:t(s.list),ref:d},{children:h.map(((e,i)=>(0,n.createElement)("li",Object.assign({},Ze.dx.n("wat-context-menu-item"),Ze.dx.t(e.type),{key:i,className:t(s.item),onClick:()=>g(e)}),(0,r.jsx)("div",Object.assign({className:t(s.icon)},{children:f(e.type)})),e.title)))}))}))})):null}));var lp=s(39115),up=s(18909),pp=s(59954);const mp=(0,j.n5)("fetchEntityByEntranceIfNeeded",(e=>(0,A.eU)((0,up.v$)(e.id),(t=>t.data?(0,j.lQ)():(0,up.Rt)(e)))));function gp(e){const t=(0,lp.Zs)(e);if(!t)return(0,Ru.B)();const s="marker"in e?e.marker:void 0,{point:r,origin:i}=e,a="poi"===e.origin?{isCommercial:e.target.isCommercial,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial,isPremiumCommercial:e.target.isPremiumCommercial}:void 0;return(0,j.K2)(("poi"===i||"marker"===i)&&(0,j.v6)((()=>{Gl.o.set((()=>({id:t,point:r,marker:s,poi:a,origin:i})))})),(0,j.Q2)((i=>{var n;const o=i.data.entity.profile[t];if("marker"===e.origin&&"tUgc"===(null===(n=null==s?void 0:s.data)||void 0===n?void 0:n.source))return;const c=(0,Z.uI)(i),d=o&&o.data&&"success"===o.meta.status;if(d&&!c)return;const l=!!c&&i.data.searchContext[`${c}_${t}`];return d&&c&&l?void 0:"poi"===e.origin?e.target.sysCode===pp.lO?(0,j.K2)(mp({id:t}),(0,A.eU)((0,up.v$)(t),(e=>Gl.o.get()?(0,q.O9)(e.meta)&&"success"===e.meta.status&&(0,q.O9)(e.data)&&(0,q.O9)(e.data.id)?(0,j.v6)((()=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.id;if(!i)return(0,j.lQ)();Gl.o.set((()=>({id:i,poi:a,point:r,marker:s,origin:"poi"})))})):(0,Ru.B)():(0,j.lQ)()))):(0,E.x7)({id:t,searchId:void 0}):"marker"===e.origin&&(null==s?void 0:s.data)?(0,E.x7)({id:t,searchId:c,hash:(0,q.OV)(s.id)}):void 0})))}function hp(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas"),s=!(!t.getContext("webgl",e)&&!t.getContext("experimental-webgl",e)),r=document.createElement("canvas");return`${s?"available":"unavailable"},${r.getContext("webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0}))||r.getContext("experimental-webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0}))?"good-perf":"fail-perf"}`}}catch(e){}return"none"}var fp=s(44293),bp=s(84876),vp=s(94014);function yp(e){return e>=11}var xp=s(92695);const jp=36e5,wp={},_p=e=>{const{locale:t,segmentId:s}=e;if(t&&s)return{baseLocale:t,segmentId:s}};var Cp=s(88113),Ip=s(97435);const kp={},Op={};let Sp;setInterval((()=>{const e=+new Date-jp;for(const t of Object.keys(wp))wp[t]<e&&delete wp[t]}),jp);const Tp=e=>({mouseout:t=>{var s;if("marker"===t.origin&&"realty"===(null===(s=t.marker.data)||void 0===s?void 0:s.source)){if((0,Ip.rz)())return;return Ip.e1.set((()=>{})),(0,Ip.Hb)(),void(0,Ip.CI)((()=>{(0,Ip.rz)()||e((0,Cp.D)())}),200)}if("map"!==t.origin){if("ppnot"===t.origin)return e((0,O.c)({type:"map:mouseout",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,bp.I)());e((0,tr.tJ)()),Sp&&clearTimeout(Sp),Sp=setTimeout((()=>{e((0,Ru.B)()),Sp=void 0}),100)}},mouseover:t=>{var s,r;if("marker"===t.origin&&"realty"===(null===(s=t.marker.data)||void 0===s?void 0:s.source))return Ip.e1.set((()=>{})),Sp&&clearTimeout(Sp),(0,Ip.Hb)(),void(0,Ip.CI)((()=>{const s=(0,lp.Zs)(t);e((0,j._7)(gp(t),s&&(0,U.Ip)({realtyHoveredId:s})))}),50);if("marker"===t.origin&&"infrastructure"===(null===(r=t.marker.data)||void 0===r?void 0:r.source)&&(0,Ip.Hb)(),"map"===t.origin)return;if("ppnot"===t.origin)return e((0,O.c)({type:"map:mouseover",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,vp.V)({text:t.geometry.eventData.name,point:{lon:t.geometry.position[0],lat:t.geometry.position[1]}}));const i=(0,lp.Zs)(t);i&&("marker"===t.origin&&e((0,U.Ip)({hoveredId:i})),xp.k.stopTracker(e),Sp&&clearTimeout(Sp),Sp=setTimeout((()=>{e(gp(t)),Sp=void 0}),50))},click:t=>{e((0,j._7)((0,O.c)({type:"map:click",event:t}),(0,U.Ip)({hoveredId:void 0,realtyHoveredId:void 0})))},contextmenu:t=>{e((0,O.c)({type:"map:contextmenu",event:t}))},dragend:t=>{e((0,O.c)({type:"map:dragend",event:t}))},moveend(t){xp.p.stopTracker(e),e((0,tr.$b)(t)),e((0,O.c)({type:"map:moveend",event:t}))},move(t){e(function(e){return(0,j.K2)((0,Ru.B)(),(0,O.c)({type:"map:move",event:e}))}(t))},performancecaveat(){e((0,Xt.TE)(["Map","Performance","Slow",void 0,{nonInteraction:!0}]))},floorcomplexchange(t){var s;e((s=t.complex,(0,A.RC)({entityFrame:e=>(0,F.pS)(e.appContext.frames),floors:e=>e.appContext.floors,catalogMarkersData:Z.Tr},(({entityFrame:e,floors:t,catalogMarkersData:r})=>void 0!==s?(0,uo.iw)({currentFloor:(0,lp.GF)(s,t,e,r),floorNames:s.floorNames,firmsToFloorIndexMap:s.firmsToFloorIndexMap,id:s.id}):(0,uo.s_)()))))},rulerchange(t){e((0,ve.JE)({points:t.points}))},zoomend(t){yp(t.zoom)||e((0,bp.I)())},adsIconForPoiShown({adsId:t,ownerOrgId:s,donorBranchId:r,view:i,position:a,segmentId:n}){wp[r]||(function(e){wp[e]=+new Date}(r),e((0,A.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:R.u},(({mapBssUuid:e,dataLocale:o})=>(0,es.X_)({showEventKey:(0,q.W7)(),autoEvent:!0,uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:e},payload:{buyHereIcon:{commentShown:"iconWithLabel"===i,contentOwner:{adsPosition:"buyHereOnMap",adsId:t,org:s}},placeItem:{entity:{id:r,type:"branch",segmentInfo:_p({locale:o,segmentId:n})},geoPosition:(0,ts.U)({lon:a[0],lat:a[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}})))))},interactionstart(){e((0,O.c)({type:"map:interactionstart",event:void 0}))},commmodelshow({buildingId:t}){if(kp[t])return;!function(e){kp[e]=!0}(t);const s=(0,q.W7)();e((0,j.K2)((0,La.J)({id:t,searchId:s}),(0,Au.Ak)({entityId:t,searchId:s})))},commpoishow(t){t.commPois.forEach((({id:t,adsPriority:s})=>{(function(e){return!!Op[e]})(t)||(function(e){Op[e]=!0}(t),e((0,j.K2)((0,La.J)({id:t,searchId:(0,q.W7)()}),(0,Au.Br)({id:t,adsPriority:s}))))}))}});class Ep extends n.Component{shouldComponentUpdate(){return!1}render(){return(0,r.jsx)("div",Object.assign({className:(0,it.AH)(this.props.s.wrapper),style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#f6f2de"}},{children:(0,r.jsx)("div",{id:"map",style:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0}})}))}}Ep.displayName=(0,bt.d)("src/modules/map/components/mapWrapper");const Mp=(0,it.Xy)({wrapper:{"& *":{userSelect:"none"}}})(Ep);var Pp=s(95280),Lp=s(99445),Np=s(98638),Ap=s(57806),Rp=s(61700);const zp=(0,j.n5)("searchInBuildingFromMarker",(e=>{const{buildingId:t,entityId:s,entityIcon:r,isCommercial:i}=e;return(0,A.RC)({searchFrame:e=>(0,F.Su)(e.appContext.frames),currentMarkersId:Z.rL},(({searchFrame:e,currentMarkersId:a})=>{if(!e)return(0,j.lQ)();const n=(0,q.W7)(),o=(0,q.W7)(),c=(e=>{if(e&&"search"===e.type&&"offers"!==e.searchType)return"inbuilding"===e.searchType&&e.originalSearchId?e.originalSearchId:(0,F.Xk)(e)})(e),d=e.query,l=(0,Np.G)(e),u="rubricId"in e?e.rubricId:void 0,p=a||(0,q.W7)();return(0,j._7)((0,C.PC)(),(0,j.K2)((0,Lp.au)({searchId:n,buildingId:t,query:d,page:1,filterValues:l,hasSearchControls:!0,shouldNotFetchMarkers:!0}),(0,A.RC)({search:e=>(0,$a.s8)({state:e,searchId:n})},(({search:e})=>{const a=(0,E.UP)({id:(0,q.ox)(s),hash:(0,q.OV)(s),type:"branch",searchId:n,isOpenedFromMap:!0,entityIcon:r,isCommercial:i});return!e.data||!e.data.total||e.data.total<2?(0,j.K2)(Hu(c),a):(0,j.K2)((0,M.fL)({id:o,type:"search",searchType:"inbuilding",isOpenedFromMap:!0,query:d,buildingId:t,searchId:(0,ee.vt)(n),originalSearchId:c,page:(0,ee.vt)(1),gtaId:(0,q.W7)(),statusId:(0,q.W7)(),noSearchControls:!0,filterPanelState:"manuallyClosed",filterValues:l,rubricId:u}),(0,de.P)(a))})),(0,A.eU)(Ap.u,(e=>e&&(0,U.q)({frameId:e.id,markersId:p}))),(0,er.o6)({entityId:t},(e=>{if((0,Pp.P)(e))return(0,E.x7)({id:t,hash:(0,q.OV)(s),searchId:void 0})}))),a?void 0:(0,j.gd)((0,Rp.C)()))}))}));var Up=s(58309),Bp=s(823),Hp=s(73546),Fp=s(76666),Dp=s(47948),Vp=s(49726),Zp=s(76298),$p=s(47856),qp=s(73158);const Wp=(0,j.n5)("openCatalogEntityFromMarker",(e=>{const{eventMarkerId:t,markerData:s,point:r,entityIcon:i,isCommercial:a}=e;return(0,A.RC)({originalSearchId:Z.aF,querySearchFrame:e=>e.appContext.frames.find(Bu.O),buyHereSearchFrame:e=>e.appContext.frames.find(Fp.A)},(({originalSearchId:e,querySearchFrame:n,buyHereSearchFrame:o})=>{const c=e||n&&(0,F.Xk)(n)||(0,q.W7)();return(0,j.K2)(Hu(e),(0,E.UP)({id:(0,q.ox)(t),hash:(0,q.OV)(t),searchId:c,type:s.type,point:r,mapAdsId:(0,Dp.D)(o),isOpenedFromMap:!0,entityIcon:i,isCommercial:a}))}))})),Gp=(0,j.n5)("clickEntrance",(({id:e,point:t})=>{const s=(0,q.W7)(),r=(0,q.W7)();let i=(0,q.W7)(),a=(0,q.W7)();return(0,j.K2)((0,C.PC)(),(0,tr.WH)(),(0,Ru.B)(),(0,Au.CU)({sysCode:pp.lO}),(0,M.fL)({id:s,type:"pending",subtype:"entity",searchId:a,gtaId:r,statusId:i,point:t,entranceId:e}),mp({id:e,statusId:i}),(0,A.eU)((0,up.v$)(e),(({data:e,meta:n})=>!(0,q.O9)(e)||!(0,q.O9)(e.id)||n&&"error"===n.status?(0,M.oy)(s,(e=>Object.assign(Object.assign({},e),{type:"error",code:n&&"error"===n.status?n.code:500,subtype:"entity"}))):(i=(0,q.W7)(),a=(0,q.W7)(),(0,E.BJ)({entityId:e.id,isOpenedFromMap:!0,frameId:s,statusId:i,searchId:a,gtaId:r,clickPoint:t})))))}));var Qp=s(16205),Kp=s(9101);const Yp=(0,j.n5)("clickAdsIconForPoi",(({adsId:e,donorBranchId:t,position:s,ownerOrgId:r,view:i,segmentId:a})=>(0,j.K2)((0,A.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:R.u},(({mapBssUuid:n,dataLocale:o})=>(0,es.cD)({uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:n},action:"tap",payload:{buyHereIcon:{commentShown:"iconWithLabel"===i,contentOwner:{adsPosition:"buyHereOnMap",adsId:e,org:r}},placeItem:{entity:{id:t,type:"branch",segmentInfo:_p({locale:o,segmentId:a})},geoPosition:(0,ts.U)({lon:s[0],lat:s[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}}))),$u({entityId:t,mapAdsId:e,point:{lon:s[0],lat:s[1]}})))),Xp=(0,j.n5)("clickEtaMarker",(({routeId:e})=>(0,A.eU)((e=>(0,F.bB)(e.appContext.frames,"entity")),(t=>"route"===(null==t?void 0:t.entityType)?(0,j.lQ)():(0,E.UP)({type:"route",id:e,isOpenedFromMap:!0})))));function Jp(e,t){const s=(0,sp.w)(e);if(s)switch(e.origin){case"adsIconForPoi":return Yp(e.markerData);case"marker":return(e=>{if(!e)return!1;const t=e.currentTarget,s=e.target;if(!t||!s)return!1;if(!t.querySelector("[data-isctabutton]"))return!1;const r=(e=>{const{parentDataAtr:t,event:s}=e,r=s.currentTarget,i=s.target;if(!r||!i)return!1;let a=i.parentNode;for(;a;){if(a.dataset[t])return!0;if(a===r)return!1;a=a.parentNode}return!1})({parentDataAtr:"isctabutton",event:e});return r})(e.htmlLabelEvent)?(e=>{const t=(0,Zp.w)(e);if("catalog"!==(null==t?void 0:t.source))return;const s=(0,Qp.d)(t);if(!s)return;const r=(0,q.ox)(e.id);return(0,j.K2)((0,E.x7)({id:r,searchId:t.searchId,hash:(0,q.OV)(e.id)}),(0,Au.YJ)(e,t),(0,Kp.O)({actionType:s.type,value:s.value,entityId:r,ctaOwner:"mapMarker"}))})(e.marker):((e,{exchangeSearch:t})=>{const s=(0,Zp.w)(e);if(!s)return(0,j.lQ)("Marker with unknown type clicked");switch(s.source){case"catalog":return function(e,t){var s,r,i,a;const n=e.buildingId,o=(null===(a=null===(i=null===(r=null===(s=e.data)||void 0===s?void 0:s.ads)||void 0===r?void 0:r.options)||void 0===i?void 0:i.marker_logo)||void 0===a?void 0:a.url)?(0,$p.S)(e.data.ads.options.marker_logo.url,qp.mo):void 0,c="commercial"===e.currentType;return t.cluster&&n?(0,j.n5)("openFirmsInBuildingFromMarker",(()=>(0,j.K2)((0,Ru.B)(),(0,Au.Xy)(e,t),zp({buildingId:n,entityId:e.id,entityIcon:o,isCommercial:c}))))():(0,j.K2)((0,Ru.B)(),(0,Au.Xy)(e,t),Wp({eventMarkerId:e.id,markerData:t,entityIcon:o,isCommercial:c}))}(e,s);case"realty":return function(e){return(0,j.K2)((0,Ru.B)(),(0,Au.dh)(e),(0,Wu.Z8)((t=>{var s;return(0,pe.P)({suggestId:null==t?void 0:t.suggestId,entity:e.buildingId?{id:e.buildingId,type:"building"}:void 0,total:null===(s=e.data)||void 0===s?void 0:s.product_total,isOpenedFromMap:!0})})))}(e);case"favorites":return function(e){return(0,j.K2)((0,Ru.B)(),(0,Au.Xr)(),(0,Hp._)({type:(0,Vp.z)(e.type)?"private":"public",favoriteId:e.id,shouldCenterMap:!1,isOpenedFromMap:!0}))}(e);case"tUgc":return function(e,t){return(0,j.K2)((0,C.PC)(),(0,j.Q2)((e=>(0,es.cD)({uiElement:{name:"tUGCPOI",frameUuid:e.appContext.staticFrames.map.id},payload:{tUGC:{id:t.id,category:(0,Up.O)(t.event),mode:(0,Bp.$)(e)}},action:"tap"}))),function({id:e,isOpenedFromMap:t}){return(0,M.fL)({type:"tUgc",eventId:e,id:(0,q.W7)(),isOpenedFromMap:t})}({id:t.id,isOpenedFromMap:!0}))}(0,s);case"exchange":return function(e,t,s){return(0,j.K2)((0,Ru.B)(),(0,Au.$0)(e,s),(0,E.UP)({id:t.branch.id,type:"branch",point:{lon:e.lonLat[0],lat:e.lonLat[1]},isOpenedFromMap:!0}))}(e,s,t);case"infrastructure":return function(e,t){return(0,j.K2)((0,Au.hJ)(e),(0,de.P)((0,E.UP)({id:e.id,type:t.type,isOpenedFromMap:!0})))}(e,s);default:return(0,j.lQ)(`Click in marker ${JSON.stringify(s)} is unhandled`)}})(e.marker,t);case"photo":return(e=>{const{entityId:t,photoId:s}=e;return(0,j.K2)((0,E.lQ)({id:t,searchId:void 0}),(0,er.o6)({entityId:t},(e=>e.data?(0,gs.z)({entityId:t,photoId:s,entityType:e.data.type,searchId:(0,q.W7)()}):(0,j.lQ)())))})({entityId:e.markerData.objectId,photoId:e.markerData.photoId});case"poi":return e.target.sysCode===pp.lO?Gp({id:e.target.id,point:s}):Qu({entityId:e.target.id,point:s,center:e.target.center,type:"poi",entityIcon:e.poiIcon,isCommercial:e.target.isCommercial||!1,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial,isPremiumCommercial:e.target.isPremiumCommercial});case"etaMarker":return Xp({routeId:e.routeId});case"map":return Qu({entityId:e.targetId,point:s,type:"map"});case"geometry":return(0,j.K2)((0,bp.I)(),Qu({entityId:e.geometry.eventData.id,point:s,type:e.geometry.eventData.type}));default:return}}function em(e){return{id:e.id,type:"kilometer_road_sign"===e.type?"point":e.type,geometry:e.geometry&&e.geometry.selection}}var tm=s(60066),sm=s(73865);const rm=(0,vt.Mz)([({state:e})=>(0,F.K$)(e.appContext.frames,["entity","realtyCard"])],(e=>!(!e||!(0,tm.NL)(e)&&!(0,St.n)(e))&&e.showNearbyParkings)),im=(0,vt.Mz)([({state:e})=>function(e){const t=(0,F.pS)(e.appContext.frames),s=e.appContext.frames.find(tm.NL);if(!t&&!s)return;if(t&&s)return;const r=(null==t?void 0:t.entityId)||(0,sm.X)(e);return r?(0,u.DE)({state:e,entityId:r}).data:void 0}(e),({state:e})=>e.appContext.zoom<=12,({state:e})=>(0,F.Y4)(e.appContext.frames),rm],((e,t,s,r)=>{if(s&&s.entityId)return{items:[em({id:s.entityId})]};if(!e)return;const i=r&&"links"in e&&e&&e.links&&e.links.nearest_parking||[];if(!t&&"adm_div"===e.type&&("region"===e.subtype||"district_area"===e.subtype))return;var a,n;const o=("group"in e?(a=e.group,n="geometry"in e?e.geometry:void 0,a?a.reduce(((e,t)=>{const s=em({id:t.id,type:t.type,geometry:n});return s?e.concat(s):e}),[]):[]):[]).concat(em(e)||[],i);return o.length?{items:o}:void 0}));var am=s(18006),nm=s(73923),om=s(42494),cm=s(10330),dm=s(59620);const lm=e=>!!e&&"catalog"===e.data.source&&(0,dm.a)(e.data);var um=s(22758),pm=s(40931);function mm(e){const{marker:t,maxLines:s,tp:i,dateFns:a,time:n,is12h:o,MarkerLabel:c}=e,d=function(e){const{marker:t,time:s,maxLines:r,tp:i,dateFns:a,is12h:n}=e;if(0===r)return pp.Ml;const o=[],c=function(e){const{name:t,name_ex:s}=e;return s?s.primary:t||void 0}(t.data);if(!c)return pp.Ml;if(o.push([{type:"name",text:c}]),1===r)return o;const{ads:d}=t.data,l=(null==d?void 0:d.marker_microcomment)?[{type:"adsText",text:d.marker_microcomment}]:void 0;if(l&&o.push(l),2===r)return o;const u=((e,t,s,r,i)=>{var a;const n=[],{reviews:o,context:c}=e.data,d=o&&o.general_rating;d&&n.push({type:"rating",text:d.toString(10)});const l="branch"===e.data.type,u=l?2:5,p=null===(a=null==c?void 0:c.stop_factors)||void 0===a?void 0:a.slice(0,u).map((e=>e.name));p&&p.forEach((e=>{n.push({type:"stopFactor",text:e})}));const m=l?void 0:(e=>{const{marker:t,tp:s,time:r,dateFns:i,is12h:a}=e,n=lm(t),o=(0,Vr.$)({entity:t.data,format:"short",ctx:{dateFns:i,tp:s}});if(n&&o)return{text:o,color:(0,om.w)("closed"),type:"workingTime"};const{timezone_offset:c,schedule:d}=t.data;if(void 0===c||!d)return;const l=(0,cm.F)(r,c),u=(0,nm.v3)(d,!1,l,s,a),p=(0,am.f)(d,l);return u?{text:u,color:(0,om.w)(p),type:"workingTime"}:void 0})({marker:e,time:t,tp:s,dateFns:r,is12h:i});if(m&&n.push(m),n.length)return n})(t,s,i,a,n),p=((e,t)=>{const s=(0,Qp.d)(e),r=null==s?void 0:s.type;if("link"===r||"order"===r)return[{type:r,text:(null==s?void 0:s.caption)||(null==s?void 0:s.name)||t._t("Подробнее"),href:null==s?void 0:s.value}]})(t.data,i);if(l){const e=p||u;e&&o.push(e)}else u&&o.push(u),p&&o.push(p);return o.slice(0,r)}({marker:t,time:n,maxLines:s,tp:i,dateFns:a,is12h:o}),l=(0,um.k)(d),{width:u,height:p}=l,m=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,pm.qV)((0,r.jsx)(c,{labelLines:d,dbgSize:m?l:void 0})),width:u,height:p,offset:["commercial"===t.type?20:14,-7]}}const gm=(0,vt.Bj)((function(e,t){if(!(null==e?void 0:e.id)||!t)return;let s=[];return t.markers.forEach((r=>{if((0,q.lx)(r.lonLat[0],e.lonLat[0])&&(0,q.lx)(r.lonLat[1],e.lonLat[1])){const e=t.indexHashMap[(0,q.ox)(r.id)];"number"==typeof e&&(s=[...s,e])}})),s.length?s:void 0}));var hm=s(73766);const fm=[],bm=e=>e.point?[e.point.lon,e.point.lat]:e.source_point?[e.source_point.lon,e.source_point.lat]:[],vm=(e,t,s)=>{const r=e.map((e=>{var r;const i=e.collection_id&&(null===(r=null==s?void 0:s[e.collection_id])||void 0===r?void 0:r.color),a=(0,hm.si)(e.collection_id,i),n="public"===t?"public":function(e){return e&&hm.Tw.includes(e)?`personal_${e.slice(1)}`:"personal"}(a);return{key:e.id,id:e.id,lonLat:bm(e),type:n,data:{source:"favorites",entityId:e.object_id}}}));return{indexHashMap:e.reduce(((e,t,s)=>(t.object_id&&(e[t.object_id]=s),e)),{}),markers:r||fm}};var ym=s(74961);const xm=(0,ym.cq)(),jm=(0,vt.Mz)([({state:e})=>{const t=(0,Z.M_)(e),s=t&&(0,ee.HX)(t);return s?(0,ym.c_)(s)(e):xm(e)},({state:e})=>(0,gu.b1)(e)],((e,t)=>{if(e)return vm(e,"personal",t)}));var wm=s(96891);const _m=(0,vt.Mz)([({state:e})=>Cm(e),({state:e})=>(0,c.MJ)(e)],((e,t)=>{const s=e?(0,wm.q)(e,t):void 0;if(s)return vm(s,"public")})),Cm=(0,vt.Mz)([Z.M_,zl.vu,e=>e.data.entity.profile],((e,t,s)=>{const r=e&&(0,ee.HX)(e),i=r?t[r]:void 0;if(i)return i.map((e=>{if(e.object_id){const t=s[e.object_id];if(t){const s=t.data;return Object.assign(Object.assign({},e),{point:Im(s,e)})}}return e}))}));function Im(e,t){return t.point?t.point:e&&"point"in e?e.point:void 0}const km=1e3;var Om;!function(e){e[e.mon=1]="mon",e[e.tue=2]="tue",e[e.wed=3]="wed",e[e.thu=4]="thu",e[e.fri=5]="fri",e[e.sat=6]="sat",e[e.sun=7]="sun"}(Om||(Om={}));const Sm=(e,t,s)=>{if("number"!=typeof t)return!0;if("number"==typeof s&&t>=s)return!0;const r=s||Number.MAX_SAFE_INTEGER;if(e>=t&&e<=r)return!0;if(e>r)return!1;const i=r-t,a=t-e;return i<43200?a<=3600:i<172800?a<=21600:i<1209600?a<=86400:a<=604800};var Tm=s(74867);const Em=(e,t,s)=>{if(!(e=>{const{event:t,userId:s,zoomStyle:r}=e;return t.user.id===s||!!((e,t)=>{switch(t){case"SHOW_ALL_MARKERS":return!0;case"SHOW_SMALL_MARKERS":return[3,4,5,6,7].includes(e.road);case"SHOW_LARGE_MARKERS":return"camera"!==e.type&&[5,6,7].includes(e.road);case"SHOW_MAIN_MARKERS":return"camera"!==e.type&&"comment"!==e.type&&[5,6,7].includes(e.road);default:return!1}})(t,r)&&("restriction"!==t.type||((e,t)=>{if(!t)return!0;const{finish_time:s,start_time:r,wdays:i}=t,a=Math.floor(e/km);return Sm(a,r,s)&&((e,t)=>{if(!(null==t?void 0:t.length))return!0;const s=t.map((t=>((e,t)=>{const{day:s,start_hour:r,finish_hour:i,start_minute:a,finish_minute:n}=t,o=new Date(e*km);o.setSeconds(0),o.setMilliseconds(0);const c=o.getDay(),d=Om[s],l=o.getDate()+(d-c+7)%7;o.setDate(l),o.setHours(r,a,0,0);const u=Math.floor(o.getTime()/km),p=23===i&&59===n;return o.setHours(p?24:i,p?0:n,0,0),[u,Math.floor(o.getTime()/km)]})(e,t)));return s.sort(((e,t)=>e[0]-t[0])),(e=>e.reduce(((e,t)=>{if(!e.length)return[t];const s=e[e.length-1];return s[1]>=t[0]?[...e.slice(0,e.length-1),[s[0],t[1]]]:[...e,t]}),[]))(s).some((([t,s])=>Sm(e,t,s)))})(a,i)})(Date.now(),t.data))})({userId:s,zoomStyle:t,event:e}))return[];switch(e.location.type){case"MultiPoint":return((e,t)=>{if("Point"===e.location.type)return[];if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return[];const s="camera"===e.type?(0,Tm.e)(e):e.type;return e.location.coordinates.map(((t,r)=>({key:`${e.id}_${r}`,id:`${e.id}_${r}`,lonLat:t,immersiveHeight:e.location.height,type:s,data:{type:s,id:e.id,source:"tUgc",event:e}})))})(e,t);case"Point":const s=((e,t)=>{if("Point"!==e.location.type)return;if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return;const s="camera"===e.type?(0,Tm.e)(e):e.type;return{key:e.id,id:e.id,lonLat:e.location.coordinates,immersiveHeight:e.location.height,type:s,data:{type:s,id:e.id,source:"tUgc",event:e}}})(e,t);return s?[s]:[];default:return[]}},Mm=[],Pm=(0,vt.Mz)([({state:e})=>e.appContext.showTrafficOnMap,({state:e,tUgcMarkersState:t})=>{if((0,c.JC)(e))return t},({state:e})=>{return(t=(0,Z.jq)(e))>16?"SHOW_ALL_MARKERS":t>14?"SHOW_SMALL_MARKERS":t>12?"SHOW_LARGE_MARKERS":t>10?"SHOW_MAIN_MARKERS":"NO_MARKERS";var t},({state:e})=>(0,Ta.LE)(e),({state:e})=>{return!!(t=(0,F.K$)(e.appContext.frames,["product","search"]))&&("search"===t.type||"product"===t.type);var t}],((e,t,s,r,i)=>i?{markers:Mm,indexHashMap:{}}:e&&t&&"NO_MARKERS"!==s?((e,t,s)=>{const r=[],i={},a=[...e];return a.sort(((e,t)=>t.rate-e.rate)),a.forEach((e=>{const a=Em(e,t,s),n=r.length;return a.forEach(((e,t)=>{i[e.id]=n+t})),r.push(...a)})),{markers:r,indexHashMap:i}})(t,s,r):{markers:Mm,indexHashMap:{}}));var Lm=s(80473),Nm=s(48506),Am=s(87016),Rm=s(95455);const zm=(0,vt.Mz)([function({state:e}){const t=(0,Nm.q)({state:e});return t&&"point"in t?t.point:void 0},Am.a,function({state:e}){var t,s;const r=(0,Nm.q)({state:e});if(r)switch(r.type){case"realtyCard":return(0,sm.X)(e);case"realty":return"building"===(null===(t=r.entity)||void 0===t?void 0:t.type)?null===(s=r.entity)||void 0===s?void 0:s.id:void 0;case"product":return r.buildingId;default:return}},Z.Ae,Z._2,function(e){return!1}],((e,t,s,r,i,a)=>{var n,o,c;const d=null==t?void 0:t.data,l=(0,Rm.z)(d);return{entityId:(null==l?void 0:l.id)||(null==d?void 0:d.id),buildingId:d&&(0,mr.O)(d)?null===(n=d.address)||void 0===n?void 0:n.building_id:s,pointFromFrame:e,pointFromEntity:d&&"point"in d?d.point:void 0,withAds:d&&"ads"in d&&(0,Lm.J)(d.ads),adsStrokeColor:a?null===(c=null===(o=null==d?void 0:d.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.color:void 0,czarIcon:r,isCommercial:i}})),Um=(0,vt.Mz)([({state:e})=>e.appContext.floors],(e=>e?{id:e.floorsId,floorIndex:e.currentFloor}:void 0));function Bm({labelingWidth:e=6,labelingHeight:t=6,isDisabled:s=!1}){if(!s)return{width:e,height:t,offset:[-e/2,-t/2]}}const Hm=(0,vt.Bj)((function(e,t,s,i,a,n,o,c,d,l){var u,p,m,g,h,f,b,v,y,x,j,w,_;const C=(o.styles[c]||o.styles.default).icons,I="commercial-logo"===e&&Boolean(d)?"pin-commercial-logo":"commercial"===e?"pin-commercial":"pin",k=null!==(p=null===(u=null==C?void 0:C[I])||void 0===u?void 0:u.normal)&&void 0!==p?p:null===(g=null===(m=o.styles.pin.icons)||void 0===m?void 0:m[I])||void 0===g?void 0:g.normal,O=null!==(f=null===(h=(0,qp.$Y)(null==k?void 0:k.img))||void 0===h?void 0:h.cloneNode(!0))&&void 0!==f?f:(0,qp.BN)();if((null==d?void 0:d.fullUrl)&&"pin-commercial-logo"===I){null===(b=null==O?void 0:O.getElementById("icon_image"))||void 0===b||b.setAttribute("href",null==d?void 0:d.fullUrl);const e=(0,$p.S)(null==d?void 0:d.baseUrl);(null==e?void 0:e.fullUrl)&&d.width<$p.c&&(null===(v=null==O?void 0:O.getElementById("icon_image_hi_res"))||void 0===v||v.setAttribute("href",null==e?void 0:e.fullUrl))}l&&(null===(y=null==O?void 0:O.getElementById("marker_color_fill"))||void 0===y||y.setAttribute("fill",l),null===(x=null==O?void 0:O.getElementById("marker_color_fill2"))||void 0===x||x.setAttribute("fill",l),null===(j=null==O?void 0:O.getElementById("marker_color_stroke"))||void 0===j||j.setAttribute("stroke",l));const[S,T]=null!==(w=null==k?void 0:k.size)&&void 0!==w?w:[30,48],E=null!==(_=null==k?void 0:k.offset)&&void 0!==_?_:[.5,1];let M;try{M=O?(0,pm.qV)((0,r.jsx)(a,{icon:O,width:S,height:T})):""}catch(e){M=""}return[{html:M,width:S,height:T,offset:[-S*E[0],-T*E[1]],coordinates:[s,i],isInteractive:!0,isAnimated:!0,animationDuration:300,zIndex:n,data:{type:"czar",czarType:e,id:t},labeling:Bm("pin-commercial-logo"===I?{labelingWidth:S,labelingHeight:T}:{isDisabled:!0})}]}));function Fm(e,t){if(t&&t<25&&e>13)return 4;const s=[{zoom:17,maxLines:4},{zoom:15,maxLines:2},{zoom:4,maxLines:1},{zoom:1,maxLines:0}].find((t=>e>=t.zoom));return void 0!==s?s.maxLines:0}const Dm=(0,vt.Bj)((function(e,t){const s=e.entityId,r=s?null==t?void 0:t.markers[t.indexHashMap[s]]:void 0,i=(0,q.oE)([e.pointFromFrame,Vm(r),e.pointFromEntity]);if(!i||!i.length)return;const a=(({markerType:e,withAds:t,hasCzarIcon:s,isCommercial:r})=>("commercial"===e||t||r)&&s?"commercial-logo":"commercial"===e||t?"commercial":"default")({markerType:null==r?void 0:r.type,withAds:Boolean(e.withAds),hasCzarIcon:Boolean(e.czarIcon),isCommercial:e.isCommercial}),n=(()=>{if("catalog"===(null==r?void 0:r.data.source))return r.data.friends?De.T.green_1ba136:e.adsStrokeColor})();return{id:s,entityId:e.entityId,buildingId:e.buildingId,lonLat:[i[0].lon,i[0].lat],type:a,czarIcon:e.czarIcon,color:n}}));function Vm(e){if(!e)return;const[t,s]=e.lonLat;return{lon:t,lat:s}}const Zm="[[COUNT]]",$m="[[PRICE]]",qm=e=>{const{css:t,s:s}=(0,re.I)(Wm),{visited:i=!1,hovered:a=!1,normalPik:n=!1}=e;return(0,r.jsx)("div",Object.assign({className:t(s.root)},Ze.dx.n("wat-realty-html-marker"),Ze.dx.s(i?"visited":void 0),{children:(0,r.jsx)("div",Object.assign({"data-ismarkerlabel":!0},{children:(0,r.jsxs)("div",Object.assign({className:t(s.content,i&&s._visited,a&&s._hovered,n&&s._normalPik)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.count)},{children:Zm})),(0,r.jsx)("div",Object.assign({className:t(s.text)},{children:$m})),(0,r.jsx)("div",Object.assign({className:t(s.bullet)},{children:(0,r.jsx)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},{children:(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsx)("circle",{cx:"9",cy:"9",r:"8",fill:"currentColor"}),(0,r.jsx)("circle",{cx:"9",cy:"9",r:"5",fill:"#FFF"})]}))}))}))]}))}))}))},Wm=(0,re.r)({root:{background:"transparent",display:"flex",height:0,width:126,pointerEvents:"none",justifyContent:"center"},count:Object.assign(Object.assign({display:"flex",alignItems:"center",height:16},$e.Co),{lineHeight:$e.Co.fontSize,padding:"0 4px",marginTop:4,marginBottom:4,marginStart:-4,marginEnd:4,backgroundColor:De.T.white,borderRadius:1,":empty":{display:"none"}}),content:{height:24,display:"flex",alignItems:"center",pointerEvents:"visible",position:"relative",boxSizing:"border-box",textAlign:"center",backgroundColor:"#0F7DDC",color:"#0F7DDC",borderRadius:dd.V.default,padding:"4px 8px",cursor:"pointer",":hover":{background:"#e32508",color:"#e32508"}},_visited:{background:"#af7eb2",color:"#af7eb2",":hover":{background:"#e32508",color:"#e32508"}},_hovered:{background:"#e32508",color:"#e32508"},_normalPik:{background:"#FC4C02",color:"#FC4C02"},text:Object.assign(Object.assign({},$e.Hg),{lineHeight:$e.Hg.fontSize,color:De.T.white}),bullet:{position:"absolute",fontSize:0,left:"50%",top:19,transform:"translateX(-50%)"}}),Gm=Math.pow(10,3),Qm=Math.pow(10,6),Km=Math.pow(10,9),Ym={width:126,height:24,offset:[-63,-27]},Xm=function(){const e=(0,vt.Bj)((()=>(0,pm.qV)((0,r.jsx)(qm,{})))),t=(0,vt.Bj)((()=>(0,pm.qV)((0,r.jsx)(qm,{normalPik:!0})))),s=(0,vt.Bj)((()=>(0,pm.qV)((0,r.jsx)(qm,{visited:!0})))),i=(0,vt.Bj)((()=>(0,pm.qV)((0,r.jsx)(qm,{hovered:!0}))));return(r,a,n)=>{switch(!0){case a:return i();case r:return s();case n:return t();default:return e()}}}();function Jm(e,t,s,r,i){const a=((e,t,s)=>{const r=t&&t>=2;if(!e)return;if(e<Gm){const t=Math.round(e);return r?s._gg("от&nbsp;%1",[t]):t.toString()}if(e<Qm){const t=parseFloat((e/Gm).toFixed(1));return r?s._gg("от&nbsp;%1&nbsp;тыс.",[t]):s._gg("%1&nbsp;тыс.",[t])}if(e<Km){const t=parseFloat((e/Qm).toFixed(2));return r?s._gg("от&nbsp;%1&nbsp;млн",[t]):s._gg("%1&nbsp;млн",[t])}const i=Math.round(e/Km);return r?s._gg("от&nbsp;%1&nbsp;млрд",[i]):s._gg("%1&nbsp;млрд",[i])})(e.data.min_price,e.data.product_total,t),n=e.data.product_total>=2?e.data.product_total:"";if(!a)return e;const o=Xm(s,r,i),c=Object.assign({content:o.replace(Zm,n.toString()).replace($m,a)},Ym);return Object.assign(Object.assign({},e),{htmlLabel:c})}const eg="dg5_realty_visited_markers",tg=e=>e.appContext.weak.realtyVisited,sg=e=>e.appContext.weak.restoredRealtyVisited,rg=e=>(null==e?void 0:e.categoryId)?`${e.categoryId}_${e.buildingId}`:e.buildingId,ig=(0,j.n5)("restorePersistedVisitedMarkers",(()=>(0,j.gd)((0,A.RC)({restored:sg,visited:tg},(({restored:e,visited:t})=>{if(e)return(0,j.lQ)();const s=og();s.length>1e3&&(0,$.vV)({id:"owieb",message:"too many visited markers in realty",level:"error",payload:{type:"debug",subtype:"visited markers getFormattedDataFromStorage error"}});const r=s.reduce(((e,t)=>(e[t]=!0,e)),{});return(0,U.Ip)({realtyVisited:Object.assign(Object.assign({},t),r),restoredRealtyVisited:!0})}))))),ag=(0,j.n5)("saveVisitedMarker",(e=>(0,j.gd)((e=>{const t=rg({buildingId:e.buildingId,categoryId:e.categoryId}),s=ng();return-1===s.indexOf(t)&&gd.IG.local.setItem(eg,`${t};${s}`),(0,A.eU)(tg,(e=>(0,U.Ip)({realtyVisited:Object.assign(Object.assign({},e),{[t]:!0})})))})(e)))),ng=()=>gd.IG.local.getItem(eg)||"",og=()=>{const e=ng().split(";");if(e.length<300)return e;const t=e.slice(0,300);return gd.IG.local.setItem(eg,t.join(";")),t};var cg=s(37383),dg=s(54700);const lg=(0,vt.Mz)([({state:e})=>"realty"===e.appContext.activeLayer,({state:e})=>e.data.realty.markers.default,({state:e})=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},({state:e})=>tg(e),({state:e})=>e.appContext.weak.realtyHoveredId,({i18n:e})=>e,({isPikMarkersOnMap:e})=>e,({state:e})=>{var t;return null===(t=(0,F.bB)(e.appContext.frames,"realty"))||void 0===t?void 0:t.categoryId},({state:e})=>e.appContext.weak.infrastructureType,cg.h],((e,t,s,r,i,a,n,o,c,d)=>{var l;const u=null===(l=d.styles.default)||void 0===l?void 0:l.icons,p=null==t?void 0:t.data;if(!e||!p||c&&"allInfrastructure"!==c)return;const m=[];for(const e of p){const t=e.building_id,s={source:"realty",product_total:e.product_total,product_id:e.product_id,building_id:e.building_id,min_price:e.min_price},c=t,d=rg({buildingId:e.building_id,categoryId:o}),l=r&&r[d],p=l?"visited":n?"normal-pik":void 0,g={key:c,id:t,lonLat:[e.lon,e.lat],type:"bigbullet",buildingId:e.building_id,icon:u&&p?(0,dg.R)(u,p,"hover"):void 0,data:s},h=i?(0,q.ox)(i):void 0,f=Jm(g,a.tp,l,t===h,n);m.push(f)}return{indexHashMap:s,markers:m}})),ug=Object.freeze([]),pg=Object.freeze({}),mg=(0,vt.Mz)([({state:e})=>e.appContext.weak.realtyHoveredId,lg,zm],((e,t,s)=>{if(!t)return pg;const r=s.buildingId,i=e&&t.indexHashMap?t.indexHashMap[(0,q.ox)(e)]:void 0,a=r&&t.indexHashMap?t.indexHashMap[r]:void 0;return{hoveredMarkerIndices:void 0!==i?[i]:ug,hiddenMarkerIndices:void 0!==a?[a]:ug}})),gg=(0,vt.Mz)([({state:e})=>"exchange"===e.appContext.activeLayer,({exchangeMarkersState:e})=>e],((e,t)=>{if(e&&(null==t?void 0:t.markersData))return{indexHashMap:t.markersData.hashMap,markers:t.markersData.markers}})),hg=(0,vt.Mz)([({state:e})=>e.appContext.weak.hoveredId,gg,zm],((e,t,s)=>{if(!t)return pp.t0;const r=s.entityId,i=e&&t.indexHashMap?t.indexHashMap[e]:void 0,a=r&&t.indexHashMap?t.indexHashMap[r]:void 0;return{hoveredMarkerIndices:void 0!==i?[i]:pp.Ml,hiddenMarkerIndices:void 0!==a?[a]:pp.Ml}})),fg=({icon:e,width:t,height:s})=>{var i,a;const{css:n,s:o}=(0,re.I)(bg),c=null!==(a=null===(i=e.querySelector("svg"))||void 0===i?void 0:i.outerHTML)&&void 0!==a?a:"";return(0,r.jsx)("div",{className:n(o.scale),style:{width:t,height:s},dangerouslySetInnerHTML:{__html:c}})},bg=(0,re.r)({scale:{animationName:{"0%":{transform:"scale(0)"},"23%":{transform:"scale(1.15)"},"50%":{transform:"scale(0.96)"},"100%":{transform:"scale(1)"}},animationTimingFunction:"linear",animationDuration:"0.6s",animationIterationCount:1,transformOrigin:"bottom center"}});var vg=s(35602),yg=s(83500);const xg={offset:[20,-12]};function jg({formattedMarker:e,maxLines:t}){const s=(({formattedMarker:e,maxLines:t})=>{var s,r;const{data:i}=e;if(!t)return pp.Ml;const a=[],n=i.name,o=null===(r=null===(s=i.reviews)||void 0===s?void 0:s.general_rating)||void 0===r?void 0:r.toString();return n?(a.push([{type:"name",text:n}]),1===t?a:(o&&a.push([{type:"rating",text:o}]),2===t?a:a.slice(0,t))):pp.Ml})({formattedMarker:e,maxLines:t}),i=(0,pm.qV)((0,r.jsx)(vg.z,{labelLines:s})),a=(0,um.k)(s);return Object.assign(Object.assign({},e),{htmlLabel:Object.assign(Object.assign({content:i},xg),a)})}var wg=s(88842);const _g=(0,vt.Mz)([({state:e})=>(0,sm.X)(e),({state:e})=>e.data.realty.infrastructure,({state:e})=>e.appContext.weak.infrastructureType,({state:e})=>e.appContext.zoom,({state:e})=>e.data.entity.profile,({i18n:{tp:e}})=>e,({config:e})=>e],((e,t,s,r,i,a,n)=>{var o,c;if(!e||!t||!s)return;const d=null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.data;if(!d)return;const l=[],u=[];for(const e in d)for(const t of d[e]){const o=(0,q.ox)(t.id),d=null===(c=i[o])||void 0===c?void 0:c.data,p=e===s,m=p&&d?(0,wg.nD)(d,a,n)[0]:void 0,g=p&&d?null==d?void 0:d.reviews:void 0,h={source:"infrastructure",type:(0,yg.y)(t.type),searchId:o,name:m,reviews:g,mainInfrastructureType:e},f={key:o,id:o,lonLat:[t.lon,t.lat],type:`${e}_${e===s?"selected":"normal"}`,buildingId:t.geometry_id,data:h},b=p?Fm(r):0,v=b?jg({formattedMarker:f,maxLines:b}):f;e===s&&u.push(v),"allInfrastructure"===s&&l.push(v)}return{normal:{markers:l,indexHashMap:l.reduce(((e,t,s)=>(t.id&&(e[t.id]=s),e)),{})},selected:{markers:u,indexHashMap:u.reduce(((e,t,s)=>(t.id&&(e[t.id]=s),e)),{})}}})),Cg=(0,vt.Mz)([({state:e})=>e.appContext.weak.hoveredId,_g],((e,t)=>{if(!t)return{normal:pp.t0,selected:pp.t0};const s=e&&t.normal.indexHashMap?t.normal.indexHashMap[e]:void 0,r=e&&t.selected.indexHashMap?t.selected.indexHashMap[e]:void 0;return{normal:{hoveredMarkerIndices:void 0!==s?[s]:pp.Ml,hiddenMarkerIndices:pp.Ml},selected:{hoveredMarkerIndices:void 0!==r?[r]:pp.Ml,hiddenMarkerIndices:pp.Ml}}})),Ig=(0,vt.Mz)([({state:e})=>(0,Z.XZ)({state:e}),Um,({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.firmsToFloorIndexMap],((e,t,s)=>function(e,t,s){if(!e||!t||void 0===s)return e;const r={};let i=0;return{markers:e.markers.filter((e=>{const a=(0,q.ox)(e.id);return(void 0===t[a]||t[a]===s)&&(r[a]=i,i+=1,!0)})),indexHashMap:r}}(e,s,t&&t.floorIndex))),kg=(0,vt.Mz)([Ig,({state:e})=>(e=>{const t=(0,Ap.u)(e);if(t&&"query"===t.searchType&&"catalog"===t.tab)return(0,$a.s8)({state:e,searchId:(0,F.Xk)(t)}).data})(e)],((e,t)=>({markersData:e,profile:t}))),Og=(0,vt.Mz)([kg,({state:e})=>e.appContext.zoom,({config:e})=>e],(({markersData:e},t)=>{var s;return Fm(t,null===(s=null==e?void 0:e.markers)||void 0===s?void 0:s.length)}),{compareByFirstArgOnly:!0}),Sg=(0,vt.Mz)([Ig,Og,({state:e})=>e.session.time,({i18n:e})=>e,({is12h:e})=>e],((e,t,s,r,i)=>{if(!e)return;const a=function(e){const{markers:t,i18n:s,linesInLabel:r=0,time:i,is12h:a,MarkerLabel:n}=e;return r?t.map((e=>{const t=mm({marker:e,maxLines:r,time:i,tp:s.tp,dateFns:s.dateFns,is12h:a,MarkerLabel:n});return t?Object.assign(Object.assign({},e),{htmlLabel:t}):e})):t}({i18n:r,is12h:i,markers:e.markers,time:s,linesInLabel:t,MarkerLabel:vg.z});return{markers:a,indexHashMap:e.indexHashMap}}));let Tg;const Eg=(0,vt.Mz)([Sg,({state:e})=>(0,$a.Iv)({state:e,searchId:(0,Z.rL)(e)||""})],((e,t)=>(Tg&&t&&"loading"===t.meta.status||(Tg=e),Tg))),Mg=(0,vt.Mz)([zm,Eg,cg.h,({state:e})=>(0,Z.QS)(e)],((e,t,s,r)=>{const i=Dm(e,t);return(null==i?void 0:i.id)?Hm(i.type,i.entityId,i.lonLat[0],i.lonLat[1],fg,k.iF.czars,s,r,e.czarIcon,i.color):pp.Ml})),Pg=(0,vt.Mz)([Eg,({state:e})=>(0,Z.QS)(e),zm,({state:e})=>e.appContext.weak.hoveredId?(0,u.DE)({state:e,entityId:e.appContext.weak.hoveredId}).data:void 0,({state:e})=>e.appContext.weak.hoveredId,mg,hg,Cg,({state:e})=>"realty"===e.appContext.activeLayer],((e,t,s,r,i,a,n,o,c)=>{const d=Dm(s,e),l=gm(d,e),u=function(e){if(!e)return;const t=[];return e.markers.forEach((s=>{if(lm(s))return t.push(e.indexHashMap[(0,q.ox)(s.id)])})),t.length?t:void 0}(e),p=function(e,t,s){var r;const i=null==s?void 0:s.indexHashMap,a=null==s?void 0:s.markers;if(!e||!i||!a)return;const n=i[e],o=a[n];if(!lm(o)){if("number"==typeof n)return[n];if("branch"===(null==t?void 0:t.type)){const e=null===(r=t.address)||void 0===r?void 0:r.building_id,s=e?i[e]:void 0,n="number"==typeof s?a[s]:void 0;if(lm(n))return;return"number"==typeof s?[s]:void 0}}}(i,r,e);return{[t]:c?a:{hiddenMarkerIndices:l,hoveredMarkerIndices:p,activeMarkerIndices:u},exchange:n,infrastructureNormal:o.normal,infrastructureSelected:o.selected}})),Lg=(0,vt.Mz)([Eg,jm,_m,Pm,({state:e})=>(0,Z.QS)(e),lg,gg,_g],((e,t,s,r,i,a,n,o)=>{const c={};return c[i]=(null==a?void 0:a.markers)||(null==e?void 0:e.markers)||pp.Ml,c.favorites=s?s.markers:t?t.markers:pp.Ml,c.tUgc=r.markers||pp.Ml,c.exchange=(null==n?void 0:n.markers)||pp.Ml,c.infrastructureNormal=(null==o?void 0:o.normal.markers)||pp.Ml,c.infrastructureSelected=(null==o?void 0:o.selected.markers)||pp.Ml,c}));var Ng=s(19263);const Ag=Math.pow(2,32);function Rg(e,t,s){const r=Ug(s),i=2147483648;return[e*r-i,t*r-i]}function zg(e,t){const s=360*e/Ag,r=-2*Math.PI/Ag;return[s,90-Math.atan(Math.exp(t*r))/Math.PI*180*2]}function Ug(e){return Math.pow(2,32-e)}const Bg="#5d86dd",Hg=(0,vt.Mz)([e=>e.session.godmode,e=>(0,Z.n1)(e),Ap.u],((e,t,s)=>{var r;if(!e)return pp.Ml;if(!(0,B.o)("mapDebugMode")||!t||200!==t.code||!s||"query"!==s.searchType)return pp.Ml;const i=null===(r=t.search_attributes)||void 0===r?void 0:r.cluster_zoom;return i?t.items.map((e=>{const{lon:t,lat:s}=e,[r,a]=function(e,t,s){const r=function(e,t){const s=e*Ag/360,r=Math.sin(t*Math.PI/180);return[s,Math.log((1+r)/(1-r))*Ag/(4*Math.PI)]}(e,t),i=Ug(s),a=Math.floor((r[0]+Math.pow(2,31))/i),n=Math.floor((r[1]+Math.pow(2,31))/i),o=Rg(a,n,s),c=zg(o[0],o[1]),d=Rg(a+1,n+1,s);return[c,zg(d[0],d[1])]}(t,s,i);return{type:"polyline",points:[r,[a[0],r[1]],a,[r[0],a[1]],r],clickable:!1,style:{fillOpacity:.4,strokeOpacity:1,fillColor:Bg,strokeColor:Bg,width:2,strokeWidth:0}}})):pp.Ml})),Fg=(0,vt.Mz)([e=>e.session.godmode,Z.Tr],((e,t)=>e&&(0,B.o)("mapDebugMode")&&t?t.markers.map((e=>({type:"circleMarker",position:e.lonLat,radius:3,clickable:!1,style:{fillColor:"#ffffff",strokeColor:"#dd8a26",strokeWidth:1}}))):pp.Ml)),Dg=(0,vt.Mz)([Hg,Fg],((e,t)=>[...e,...t]));var Vg=s(38024),Zg=s(47054),$g=s(34179),qg=s(85153);const Wg=[],Gg="#ffffff",Qg={fillColor:"#3389ed",fillOpacity:1,strokeOpacity:1,strokeColor:De.T.white,strokeWidth:3,width:7},Kg={fillColor:De.T.blue_028eff,fillOpacity:1,strokeOpacity:.2,strokeColor:De.T.blue_028eff,strokeWidth:17,width:7},Yg=[["interpolate",["linear"],["zoom"],10,"#ff563180",12,"#ff563166",13,"#ff56314d",15,"#ff563133"],["interpolate",["linear"],["zoom"],10,"#ffd46c80",12,"#ffd46c66",13,"#ffd46c4d",15,"#ffd46c33"],["interpolate",["linear"],["zoom"],10,"#7fcd3380",12,"#7fcd3366",13,"#7fcd334d",15,"#7fcd3333"],["interpolate",["linear"],["zoom"],10,"#0c780580",12,"#0c780566",13,"#0c78054d",15,"#0c780533"]],Xg=(0,vt.Mz)([e=>e.session.geolocation.allowed,e=>e.session.geolocation.position,e=>e.session.geolocation.accuracy],((e,t,s)=>{if(!e||!t)return Wg;const r=[];return s&&r.push({type:"circleMarker",radius:Kg.width||0,position:[t.lon,t.lat],clickable:!1,style:Kg}),r.push({type:"circleMarker",radius:Qg.width||0,position:[t.lon,t.lat],clickable:!0,style:Qg}),r})),Jg=(0,vt.Mz)([function(e){const t=(0,F.pS)(e.appContext.frames);if(!t)return;const s=t.routeId||t.entityId;return(0,u.DE)({state:e,entityId:s}).data},e=>yp(e.appContext.zoom),function(e){const t=(0,F.pS)(e.appContext.frames);return t?t.activeDirectionId:void 0}],((e,t,s)=>{let r=[];if(!e)return Wg;const i=(e=>"route"===e.type?e:!(0,Vg.g)(e)||void 0===e.routes||"metro"!==e.subtype&&"mcc"!==e.route_type&&"mcd"!==e.route_type?void 0:e.routes[0])(e);if(!i)return Wg;const a="route"===e.type?i.route_logo:(0,Vg.g)(e)&&"metro"===e.subtype?e.route_logo:void 0,n=!!(0,Zg.C)(a),o=i.directions;if(!o||!o.length)return Wg;const c=s||o[0].id,d=i.color||"#5d86dd";let l=[];return o.forEach((e=>{const s=e.id===c,i=function(e,t,s,r){var i;if(!e.geometry.selection)return;const a=(0,Ng.sX)(e.geometry.selection);if(!a)return;const n=[],o=r?Gg:s||"#959faa",c=a.map((e=>[e.lon,e.lat])),d=[];return null===(i=e.geometry.immersion)||void 0===i||i.forEach((e=>{var t;const s=null===(t=(0,Ng.sX)(e.selection))||void 0===t?void 0:t.map((e=>[e.lon,e.lat]));s&&d.push({zlevel_first:e.zlevel_first,zlevel_last:e.zlevel_last,immersive_height_first:e.immersive_height_first,immersive_height_last:e.immersive_height_last,points:s})})),n.push({type:"polyline",points:c,clickable:!0,immersion:d,eventData:{id:e.id},style:{fillColor:o,strokeColor:r?s:Gg,strokeOpacity:1,width:6,strokeWidth:2}}),e.platforms.forEach(((i,a)=>{var c,d;if(!(s&&t||0===a||a===e.platforms.length-1))return;if(!i.geometry.centroid)return;const l=(0,Ng.iL)(i.geometry.centroid);l&&n.push({type:"circleMarker",clickable:!0,radius:0===a||a===e.platforms.length-1?r?8:7:r?6:5,position:[l.lon,l.lat],immersiveHeight:null===(d=null===(c=i.geometry)||void 0===c?void 0:c.immersion)||void 0===d?void 0:d.immersive_height,style:{fillColor:Gg,strokeColor:r?s:o,strokeOpacity:1,strokeWidth:2},eventData:{type:"routePlatformPoint",id:i.id,name:i.name}})})),n}(e,t,s?d:void 0,n);i&&(s?l=i:r=[...r,...i])})),[...r,...l]})),eh=(0,vt.Mz)([$g.H,c.n$,qg.C],((e,t,s)=>{var r;if(!t||"realtyWalkDistance"!==s)return Wg;const i=function(e){if(e)return[...e].reverse().reduce(((e,t)=>{const s=t.geometry;return"MultiPolygon"!==s.type||e.push(Object.assign(Object.assign({},t.properties),{coordinates:s.coordinates.map((e=>e.map((e=>function(e){let t=[0,0];return e.map((([e,s])=>{const[r,i]=t,a=[Number((r+e).toFixed(5)),Number((i+s).toFixed(5))];return t=a,a}))}(e)))))})),e}),[])}(null===(r=e[t.id])||void 0===r?void 0:r.data);return i?i.reduce(((e,t,s)=>(t.coordinates.forEach((t=>{e.push({type:"polygon",points:t,style:{fillColor:Yg[s],strokeWidth:0},clickable:!1})})),e)),[]):Wg})),th=(0,vt.Mz)([Jg,Xg,Dg,eh],((e,t,s,r)=>{const i=[...e,...t,...s,...r];return i.length?i:Wg}));var sh=s(45302),rh=s(43793),ih=s(65668),ah=s(53769);const nh=(e,t)=>"pedestrian"!==e?function(e){switch(e){case"fast":case"normal":case"slow":case"slow-jams":case"no-traffic":return e;default:return"ignore"}}(null==t?void 0:t.color):"zlevel-negative"===(null==t?void 0:t.zlevel)?"pedestrian-underground":"pedestrian";var oh=s(34533),ch=s(38695),dh=s(77664),lh=s(40301);const uh=e=>{const{position:t,isCyrillicLang:s,isStartPoint:r,isFinishPoint:a}=e;if(r)return{size:[22,22],offset:[11,11],img:`${(0,i.c)()}directions/pointA.svg`};if(a)return{size:[22,22],offset:[11,11],img:s?`${(0,i.c)()}directions/pointB.svg`:`${(0,i.c)()}directions/pointBLatin.svg`};const n={size:[22,22],offset:[11,11],img:`${(0,i.c)()}directions/pointIntermediate.svg`},o=["pointIntermediate","pointIntermediateOne","pointIntermediateTwo","pointIntermediateThree","pointIntermediateFour","pointIntermediateFive","pointIntermediateSix","pointIntermediateSeven","pointIntermediateEight","pointIntermediateNine","pointIntermediateTen"];return Object.assign(Object.assign({},n),{img:`${(0,i.c)()}directions/${t>0&&t<=10?o[t]:o[0]}.svg`})};var ph=s(78926),mh=s(45396);const gh={ppna:void 0,ppnot:void 0},hh=(0,vt.Mz)([e=>{const{state:t}=e,s=(0,oe.yj)(t);return s?s.tab:k.ye},e=>{const{state:t}=e,s=(0,oe.yj)(t);return s?s.points:void 0},e=>{const{state:t}=e,s=(0,oe.yj)(t);return s?s.activeDirectionId:void 0},e=>{const{state:t}=e,s=(0,oe.yj)(t);return s?(0,sh.l4)({state:t,searchId:(0,rh.X)(s)||""}):void 0},e=>{const{isCyrillicLang:t}=e;return!!t}],((e,t,s,r,i)=>{const a=t&&function(e,t,s){const r=(0,dh.J)(e,t);if(r.length)return r.map(((e,t)=>!(0,ih.p)(e)&&(0,q.O9)(e.lonLat)?{position:[e.lonLat.lon,e.lonLat.lat],icon:uh({position:t,isCyrillicLang:s,isFinishPoint:t===r.length-1,isStartPoint:0===t})}:void 0))}(t,e,i);if(!a||a.every((e=>!(0,q.O9)(e))))return gh;if(!r||!r.data||"success"!==r.meta.status){const t={points:a,routes:[]},s="loading"===(null==r?void 0:r.meta.status)||void 0;return"bus"===e?{ppnot:t,isRoutesLoading:s}:{ppna:t,isRoutesLoading:s}}const{data:n}=r;switch(n.type){case"ppna":case"ppng":case"pedestrian":return{ppna:Object.assign({points:a},bh(n.type,n.items,s))};case"ppnot":return{ppnot:Object.assign({points:a},vh(n.items,s))}}})),fh=(0,vt.Mz)([e=>{const{state:t}=e;return t.appContext.weak.hoveredDirection},hh,e=>{var t;return null===(t=(0,ph.nN)(e.state))||void 0===t?void 0:t.directionId}],((e,t,s)=>t.ppnot?Object.assign(Object.assign({},t),{ppnot:Object.assign(Object.assign(Object.assign({},t.ppnot),e),{routes:s?t.ppnot.routes.filter((e=>e.id===s)):t.ppnot.routes})}):t));function bh(e,t,s){const r=[],i=(0,oh.r)(s,t);return t.forEach((t=>{const s={id:t.id,sections:[]};t.begin_pedestrian_path&&s.sections.push(Object.assign({type:"pedestrian",geometry:t.begin_pedestrian_path.geometry.selection},t.begin_pedestrian_path.geometry.immersive_line?{immersive_line:t.begin_pedestrian_path.geometry.immersive_line}:{})),(t.maneuvers||[]).forEach((t=>{const r=t.outcoming_path&&t.outcoming_path.geometry;r&&r.forEach((t=>{s.sections.push(Object.assign({type:nh(e,t),geometry:t.selection},t.immersive_line?{immersive_line:t.immersive_line}:{}))}))})),t.end_pedestrian_path&&s.sections.push(Object.assign({type:"pedestrian",geometry:t.end_pedestrian_path.geometry.selection},t.end_pedestrian_path.geometry.immersive_line?{immersive_line:t.end_pedestrian_path.geometry.immersive_line}:{})),r.push(s)})),{routes:r,activeRouteId:i}}function vh(e,t){const s=[],r=(0,oh.r)(t,e);return e.forEach((e=>{const t={id:e.id,movements:[]};e.movements.forEach((e=>{var s,r,i,a;const n=e.alternatives?e.alternatives[0].geometry:[],o=function(e){return"mcc"===e||"mcd"===e?"metro":e}(e.waypoint.subtype),c=function(e){return!!e&&!!(0,Zg.C)(e.waypoint.route_logo)}(e);let d;for(let l=0;l<n.length;l++){const u=yh(n[l],o);let p=null!==(s=n[l].immersive_height_last)&&void 0!==s?s:0,m=null!==(r=n[l].immersive_height_first)&&void 0!==r?r:0;const g=(0,mh.s)(n[l].selection);for(;l<n.length-1&&xh({first:n[l],second:n[l+1],waypointType:o});)(0,mh.s)(n[l+1].selection).slice(1).forEach((e=>{g.push(e)})),void 0===d&&(d=l),p=null!==(i=n[l+1].immersive_height_last)&&void 0!==i?i:0,m=null!==(a=n[d].immersive_height_first)&&void 0!==a?a:0,l++;const h=`LINESTRING(${g.map((([e,t])=>`${e} ${t}`)).join(",")})`,f=(0,ah.V)(e,c,u),b="metro"===o;t.movements.push(Object.assign({id:e.id,type:u?"pedestrian-underground":e.type,waypointType:o,geometry:[Object.assign(Object.assign({},n[l]),{immersive_height_first:b?0:m,immersive_height_last:b?0:p,selection:h})],waypointColor:(0,ch.t)(e),lineColor:f,hoveredLineColor:c?f:(0,lh.F)(f,.5)},c&&e.waypoint.color?{borderColor:e.waypoint.color,hoveredBorderColor:(0,lh.F)(e.waypoint.color,.7)}:void 0))}})),s.push(t)})),{routes:s,activeRouteId:r}}function yh(e,t){return("pedestrian"===t||"start"===t||"finish"===t)&&((e.z_first||0)<0||(e.z_last||0)<0)}const xh=({first:e,second:t,waypointType:s})=>{if(!e||!t)return!1;const r="pedestrian"===s||"start"===s||"finish"===s,i=yh(t,s)===yh(e,s);return r?i:jh(e.z_first,e.z_last)===jh(t.z_first,t.z_last)};function jh(e,t){const s=null!=e?e:0,r=null!=t?t:0;return s<0||r<0?Math.min(s,r):Math.max(s,r)}var wh=s(83878);const _h=(0,vt.Mz)([e=>e.appContext.showTrafficOnMap],(e=>e?{}:void 0));var Ch=s(84759),Ih=s(40133),kh=s(96536);const Oh=(0,vt.Mz)([({state:e})=>e.config,({state:e})=>!!_h(e),({state:e})=>{const{ppnot:t,ppna:s,isRoutesLoading:r}=fh({state:e,isCyrillicLang:e.config.isCyrillicLang});return!(!(null==t?void 0:t.routes.length)&&!(null==s?void 0:s.routes.length))||r},({state:e})=>e.appContext.activeLayer,({state:e})=>(e=>{var t,s,r;const i=(0,F.pS)(e.appContext.frames,e.appContext.graveyard);if(i){const a=(0,Ih.o)(e,i);return!!(null===(r=null===(s=null===(t=null==a?void 0:a.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.poi)||void 0===r?void 0:r.is_premium)||"branch"===(null==a?void 0:a.type)&&!!a.poi_category}return void 0!==(0,F.bB)(e.appContext.frames,"search")})(e),({state:e})=>(0,Gu.e)(e),({state:e})=>e.appContext.relief,({state:e})=>(e=>{var t,s,r,i;const a=(0,F.bB)(e.appContext.frames,"entity"),n=(0,F.bB)(e.appContext.frames,"search");if(a){const o=(0,Ih.o)(e,a),c=!!(null===(r=null===(s=null===(t=null==o?void 0:o.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.poi)||void 0===r?void 0:r.is_premium);if(n){const{profile:t}=(0,kh.Y)(e,n);return 1===(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.searchType)&&c}return c}return!1})(e),Ch.t,({state:e})=>Ad.j.getIsAvailable(e)&&Ad.j.$isEnabled.get(e)],((e,t,s,r,i,a,n,o,c,d)=>{const l=(null==c?void 0:c.includes("//"))?{iconsPath:`${c}images/`,fontsPath:`${c}fonts/`,modelsPath:`${c}models/`}:void 0;return{id:c,styleOptions:l,globalAttributes:Object.assign({searchOn:i,trafficOn:t||s||!1,parkingOn:"parkings"===r,terrainEnabled:n,premiumSelected:o,immersiveRoadsOn:d,graphicsPreset:e.isMobileDevice?"normal":"immersive"},a?{poiCategory:a}:{})}})),Sh=(0,vt.Bj)((e=>e.rasterTileServerUrl?{url:(t,s,r)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${s}&z=${r}&ts=realty_resident_rent`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0)),Th=(0,vt.Bj)((e=>e.rasterTileServerUrl?{url:(t,s,r)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${s}&z=${r}&ts=realty_resident_sale`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0)),Eh={fast:"#22aa01",normal:"#ffc402",slow:"#f72000","slow-jams":"#81020d","no-traffic":"#0f6ec1",ignore:"#0f6ec1",pedestrian:"#626262","pedestrian-underground":"#626262",inactive:"#b4bcd2",border:"#ffffff",border2:(0,lh.F)(De.T.gray_141414,1),hovered:"#000000"},Mh=({base:e,pedestrian:t,inactive:s})=>({normal:e,fast:e,ignore:e,"no-traffic":e,slow:e,"slow-jams":e,pedestrian:t,"pedestrian-underground":t,inactive:s}),Ph=(e,t)=>({color:t[e],hoveredColor:t.hovered,borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),Lh=(0,vt.Mz)([({config:e})=>e],(({baseDomain:e})=>{const t=e.split(".");return((e,t="ru")=>({regionDomain:t,lineStylesByZoom:{14:Mh({base:{width:5.73,borderWidth:3,border2Width:.5},pedestrian:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5}}),20:Mh({base:{width:10.5,borderWidth:5.5,border2Width:.8},pedestrian:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5}})},lineStyles:{normal:Ph("normal",e),fast:Ph("fast",e),ignore:Ph("ignore",e),"no-traffic":Ph("no-traffic",e),slow:Ph("slow",e),"slow-jams":Ph("slow-jams",e),pedestrian:Ph("pedestrian",e),"pedestrian-underground":Ph("pedestrian-underground",e),inactive:Ph("inactive",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}}}))(Eh,t[t.length-1])}));var Nh=s(35079);const Ah=(0,Nh.F)(Nh.l),Rh=(0,vt.Mz)([({config:e})=>e],(()=>Ah));function zh(e,t,s,r){return t+s/r*e}const Uh=(0,vt.Mz)([e=>e.appContext.showSnow],(e=>"off"===e.status?{enabled:!1,dispersion:0,particleNumber:0,velocityX:0,velocityY:0,velocityZ:0,size:0,color:[]}:Object.assign({enabled:"on"===e.status},function(e){const t=[0,0,200,5e3,6],s=[600,0,800,5e4,8],r=[1200,-1e3,1300,1e5,8];let i=r;return e<=0?i=t:e<50?i=s.map(((s,r)=>zh(e,t[r],s-t[r],50))):e<100&&(i=r.map(((t,r)=>zh(e-50,s[r],t-s[r],50)))),{velocityX:i[0],velocityY:i[1],velocityZ:i[2],particleNumber:i[3],size:i[4],dispersion:200,color:[255,255,255,.8]}}(e.intensity)))),Bh=(0,vt.Mz)([({state:e})=>Hh(e)],(e=>e?{activeGroup:"metro",allowedFloorIds:[]}:void 0)),Hh=e=>{if(!e.config.featureMetrostationScheme)return;const t=e.appContext.frames.find((e=>"entity"===e.type)),s=t&&(0,Ih.o)(e,t),r="metro"===e.appContext.activeLayer,i="station"===(null==s?void 0:s.type)&&"metro"===s.subtype,a="station_entrance"===(null==s?void 0:s.type)&&"metro"===s.subtype;return i||a||r},Fh=["ru","en","az","uz","ar","kk","hy","ka"],Dh=(0,vt.Bj)((e=>[e])),Vh=(0,vt.Mz)([({state:e})=>e.config.isMobileDevice?0:(0,En.b)(e),({rtl:e})=>e],((e,t)=>({[t?"right":"left"]:e}))),Zh=(0,vt.Mz)([({state:e})=>e.appContext.center.lon,({state:e})=>e.appContext.center.lat],((e,t)=>[e,t])),$h=(0,wh.j8)({viewport:Vh,center:Zh,zoom:({state:e})=>e.appContext.zoom,pitch:({state:e})=>e.appContext.pitch,rotation:({state:e})=>e.appContext.rotation,minZoom:({state:e})=>(0,Xn.m)({project:(0,c.n$)(e),is3d:e.session.is3dEnabled}).min,maxZoom:({state:e})=>(0,Xn.m)({project:(0,c.n$)(e),is3d:e.session.is3dEnabled}).max,lang:({state:e})=>{const t=e.appContext.lang;return Fh.includes(t)?t:"en"},projectList:({state:e})=>{const t=(0,c.n$)(e);return Dh(t)},htmlMarkers:Mg,markers:Lg,markersState:Pg,markersSettings:cg.h,floors:Um,floorGroups:Bh,select:im,personalPoi:({state:e})=>(0,Z.Fq)(e),geometry:({state:e})=>th(e),entrances:({state:e})=>function(e){const t=e.appContext.frames.find((e=>"entity"===e.type)),s=e.appContext.frames.find(tm.NL);if(!t||!s){if(t&&"entity"===t.type&&t.isShowEntrance)return(0,wt.xf)({state:e,entityId:t.entityId,entranceId:t.entranceId,searchId:t.searchId});if(s&&s.isShowEntrance){const t=(0,sm.X)(e);if(!t)return;return(0,wt.xf)({state:e,entityId:t,entranceId:s.entranceId})}}}(e),traffic:({state:e})=>_h(e),ppna:({state:e,isCyrillicLang:t})=>{var s;return null===(s=fh({state:e,isCyrillicLang:t}))||void 0===s?void 0:s.ppna},ppnaSettings:({state:e,config:t})=>Lh({state:e,config:t}),ppnot:({state:e,isCyrillicLang:t})=>{var s;return null===(s=fh({state:e,isCyrillicLang:t}))||void 0===s?void 0:s.ppnot},ppnotSettings:({state:e,config:t})=>Rh({state:e,config:t}),ruler:({state:e})=>e.appContext.ruler.isActive?e.appContext.ruler:void 0,style:({state:e})=>Oh({state:e}),photos:({state:e})=>"photos"===e.appContext.activeLayer,rasterTileSource:function({state:e,config:t}){switch(e.appContext.activeSublayer){case"realtyPriceRent":return Sh(t);case"realtyPriceSale":return Th(t);default:return}},snow:({state:e})=>Uh(e)});var qh=s(79911),Wh=s(3398);const Gh=(0,Wh.createModel)("etaByViewport",(({services:e},t)=>({fetch(){return(0,we.sH)(this,void 0,void 0,(function*(){return(yield e.etaApi.getData(t)).data}))}})),(({fetch:e},t,{config:s})=>{e();const r=setInterval((()=>{e()}),s.etaRefreshTime);return({clearData:e})=>{clearInterval(r),e()}})),Qh=(0,Wh.createModel)("etaByDirections",(({services:e},t)=>({fetch(){return(0,we.sH)(this,void 0,void 0,(function*(){return(yield e.etaApi.getCurrentDirectionsData(t)).data}))}})),(({fetch:e},t,{config:s})=>{e();const r=setInterval((()=>{e()}),s.etaRefreshTime);return({clearData:e})=>{clearInterval(r),e()}}));var Kh=s(64631),Yh=s(54752);const Xh=(0,wh.Mz)([e=>(0,F.bB)(e.appContext.frames,"entity"),e=>{const t=(0,F.bB)(e.appContext.frames,"entity"),s=(null==t?void 0:t.entityId)?(0,u.DE)({state:e,entityId:t.entityId}).data:void 0;return"route"===(null==s?void 0:s.type)?s:void 0}],((e,t)=>{if(!(null==e?void 0:e.id)||!(null==t?void 0:t.directions)||0===t.directions.length)return;const s=t.directions.map((({id:e})=>({id:e,type:"route",subtype:t.subtype})))||pp.Ml;return{frame:{id:e.id,type:e.type},entity:{id:t.id,type:t.type,subtype:t.subtype},directions:s}}));var Jh=s(76127);const ef=(0,wh.Mz)([e=>(0,F.bB)(e.appContext.frames,"directions")],(e=>{if(e&&(0,oe.Iz)(e))return(0,rh.X)(e)})),tf=(0,wh.Mz)([e=>{var t,s;return null===(s=null===(t=(0,sh.l4)({state:e,searchId:ef(e)||""}))||void 0===t?void 0:t.data)||void 0===s?void 0:s.items},e=>(0,F.bB)(e.appContext.frames,"directions")],((e,t)=>!t||"directions"!==t.type&&"bus"!==t.tab?pp.Ml:e||pp.Ml)),sf=(0,wh.Mz)([e=>{const t=(0,F.bB)(e.appContext.frames,"directions");if(t&&"bus"===t.tab)return t},tf],((e,t)=>{var s;const r=(null==e?void 0:e.activeDirectionId)||(null===(s=t[0])||void 0===s?void 0:s.id),i=function(e){var t;if(!(null===(t=null==e?void 0:e.movements)||void 0===t?void 0:t.length))return pp.Ml;const s=e.movements.reduce(((e,t)=>{var s;if(t){const r=t.routes_groups?t.routes_groups[0]:void 0;null===(s=null==r?void 0:r.routes)||void 0===s||s.map((t=>{var s;(null===(s=null==t?void 0:t.direction_ids)||void 0===s?void 0:s.length)&&e.push(...t.direction_ids.map((e=>({id:e,type:"route",subtype:t.subtype}))))}))}return e}),[]),r=(0,Jh.h)(s,(({id:e,type:t,subtype:s})=>`${t}:${e}:${s}`));return r.length?r:pp.Ml}(t.find((e=>e.id===r)));if((null==e?void 0:e.id)&&0!==i.length)return{frame:{id:e.id,type:e.type},entity:{id:r,type:"routeResult"},directions:i}})),rf=(0,wh.Mz)([e=>(0,F.bB)(e.appContext.frames,"entity"),e=>{const t=(0,F.bB)(e.appContext.frames,"entity"),s=(null==t?void 0:t.entityId)?(0,u.DE)({state:e,entityId:t.entityId}).data:void 0;if(t&&s&&(0,Vg.g)(s)&&("stop"===(null==s?void 0:s.subtype)||"tram"===s.subtype))return s}],((e,t)=>{if(!(null==e?void 0:e.id)||!(null==t?void 0:t.routes)||0===t.routes.length)return;const s=t.routes.reduce(((e,t)=>{var s,r;return e.concat(null!==(r=null===(s=t.direction_ids)||void 0===s?void 0:s.map((e=>({id:null==e?void 0:e.toString(),type:"route",subtype:t.subtype}))))&&void 0!==r?r:pp.Ml)}),[]);return{frame:{id:e.id,type:e.type},entity:{id:t.id,type:t.type,subtype:t.subtype},directions:s}})),af=(0,wh.Mz)([Xh,sf,rf],((e,t,s)=>{var r;return null!==(r=null!=e?e:t)&&void 0!==r?r:s})),nf={arrowIcon:(0,pm.qV)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsx)("g",Object.assign({fill:e,fillRule:"nonzero",stroke:"#FFF",strokeWidth:"1.5",transform:"translate(-388 -169)"},{children:(0,r.jsx)("g",Object.assign({transform:"matrix(1 0 0 -1 389 202)"},{children:(0,r.jsx)("path",{d:"M13 0c7.18 0 13 5.82 13 13a13 13 0 01-7.053 11.563L13 31.5l-5.946-6.937A13 13 0 010 13C0 5.82 5.82 0 13 0z"})}))}))}))}))}),{})),transport:{bus:{icon:(0,pm.qV)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M13 5.638c3.259 0 5.703.873 5.703.873v3.118h1.14v3.243l-1.14.815v5.864H17.56c-.45 0-.814-.691-.814-1.14H9.253c0 .449-.365 1.14-.814 1.14H7.297v-5.864l-1.14-.815V9.629h1.14V6.511S9.741 5.638 13 5.638zm3.136 9.351a.856.856 0 100 1.711.856.856 0 000-1.71zm-6.272 0a.856.856 0 100 1.711.856.856 0 000-1.71zm7.127-6.5H9.01v4.562c0 .44.357.798.798.798h6.386c.44 0 .798-.358.798-.798V8.489z"})]}))}))}))}),{})),color:"#436ABD"},tram:{icon:(0,pm.qV)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M9.562 19.521l-.83 1.662H7.07l.83-1.662h1.662zm8.309 0l.83 1.662H17.04l-.831-1.662h1.662zM9.457 4.031a20.176 20.176 0 016.37-.078l.492.078-.011.064h.01l-.53 3.035c1.274.19 2.224.455 2.656.588l.257.084V17.86l-5.815 1.661L7.07 17.86V7.802l.258-.084a18.412 18.412 0 012.66-.588l-.53-3.034.01-.001-.01-.064zm6.752 11.336a.831.831 0 100 1.662.831.831 0 000-1.662zm-6.647 0a.831.831 0 100 1.662.831.831 0 000-1.662zm7.478-5.816H8.73v3.324c0 .426.321.777.734.825l.097.006h6.647c.426 0 .777-.321.825-.734l.006-.097V9.55zm-4.154-4.568c-.652 0-1.304.034-1.958.102l.39 1.892a19.312 19.312 0 013.14 0l.39-1.892a18.836 18.836 0 00-1.962-.102z"})]}))}))}))}),{})),color:"#EB5A2B"},shuttle_bus:{icon:(0,pm.qV)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M15.566 5.158l.603 1.89c1.158.237 1.962.504 1.962.504l.502 3.421h1.21v1.71l-.856.856v5.987h-1.71a.855.855 0 01-.856-.855H9.579a.855.855 0 01-.855.855h-1.71v-5.987l-.856-.855v-1.71h1.218l.492-3.422s.804-.267 1.963-.503l.603-1.891h5.132zm.855 10.092a.855.855 0 100 1.71.855.855 0 000-1.71zm-6.842 0a.855.855 0 100 1.71.855.855 0 000-1.71zm3.42-6.842c-1.338 0-2.706.27-3.596.49l-.546 3.786h8.299L16.6 8.899c-.89-.22-2.26-.491-3.601-.491zm1.712-1.96h-.684v.685h.684V6.45zm-2.737 0h-.684v.685h.684V6.45zm1.368 0h-.684v.685h.684V6.45zm.685-.683h-.685v.684h.685v-.684zm-1.369 0h-.684v.684h.684v-.684z"})]}))}))}))}),{})),color:"#883C7A"},trolleybus:{icon:(0,pm.qV)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M12.247 3.446v2.585a19.556 19.556 0 011.917.01l.649-2.595h.855v2.732c2.061.264 3.421.75 3.421.75v3.36h.856v2.566l-.856.855v5.987h-.855a.856.856 0 01-.855-.855H8.826a.856.856 0 01-.855.855h-.855v-5.987l-.856-.855v-2.566h.855v-3.36s1.44-.514 3.599-.772l.678-2.71h.855zM9.681 15.42a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm6.842 0a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm.856-5.987H8.826v3.42c0 .473.383.856.855.856h6.842a.856.856 0 00.856-.855V9.433z"})]}))}))}))}),{})),color:"#70AA35"},river_transport:{icon:(0,pm.qV)((0,r.jsx)((e=>{var{color:t="currentColor"}=e,s=(0,we.Tt)(e,["color"]);return(0,r.jsxs)("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_171_294)"},{children:[(0,r.jsx)("path",{opacity:"0.95",d:"M12.9999 25.3499C19.8206 25.3499 25.3499 19.8206 25.3499 12.9999C25.3499 6.17919 19.8206 0.649902 12.9999 0.649902C6.17919 0.649902 0.649902 6.17919 0.649902 12.9999C0.649902 19.8206 6.17919 25.3499 12.9999 25.3499Z",fill:t}),(0,r.jsx)("path",{d:"M11.0586 6H14.9399V6.92855H11.0586V6Z",fill:"white"}),(0,r.jsx)("path",{d:"M16.3393 10.901L13.1665 9.74345C13.0583 9.70407 12.939 9.70407 12.8308 9.74345L9.65797 10.901V8.60957C9.65797 8.19388 10.0044 7.8569 10.4317 7.8569H15.5656C15.9929 7.8569 16.3393 8.19388 16.3393 8.60957V10.901Z",fill:"white"}),(0,r.jsx)("path",{d:"M8.70013 19.6253C8.61449 19.6846 8.53353 19.7407 8.44973 19.79L6 13.5L9.34917 12.2782L12.5228 11.1202H13.4772L20 13.5L17.5475 19.7957C17.4587 19.7436 17.3724 19.6842 17.281 19.6207C16.8225 19.2648 16.2532 19.071 15.6667 19.0715C15.0799 19.0717 14.5109 19.2659 14.0528 19.6224C13.7569 19.8661 13.3817 20 12.9937 20C12.606 20 12.2308 19.8661 11.9351 19.6222C11.4768 19.2659 10.9077 19.0717 10.321 19.0715C9.73444 19.0713 9.16494 19.265 8.70645 19.6209L8.70013 19.6253Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_171_294"},{children:(0,r.jsx)("rect",{width:"26",height:"26",fill:"white"})}))})]}))}),{})),color:"#12A5B2"}}};var of=s(79183),cf=s(93818),df=s(98787),lf=s(31373),uf=s(51547),pf=s(84917),mf=s(87975);const gf=(0,n.memo)((e=>{const{mapHandlers:t,bssRef:s,trackWebGlSupport:i,trackVideoadapter:a,subscribeOnMapClick:o,removeListener:c}=e,d=(0,xe.U)(),{isCyrillicLang:u,rtl:p,currencies:m,is12h:g}=d,h=(0,n.useContext)(qh.R),f=(()=>{var e;const t=(0,ie.d4)((e=>(0,F.bB)(e.appContext.frames,"realty"))),s=null===(e=(0,lf.p)().data)||void 0===e?void 0:e.filters,r=null==t?void 0:t.filterValues,i=(0,ie.d4)((e=>{var t,s;return!(null===(t=e.data.realty.markers.default)||void 0===t?void 0:t.meta.status)||"loading"===(null===(s=e.data.realty.markers.default)||void 0===s?void 0:s.meta.status)})),a=(0,uf.$)(null==s?void 0:s.main),o=!!(null==r?void 0:r.provider)&&(null==r?void 0:r.provider)===(null==a?void 0:a.value),[c,d]=(0,n.useState)(o);return(0,n.useEffect)((()=>{i||d(o)}),[i]),!!t&&o&&c})(),b=(0,of.F)(),v=(0,df.M)({staleTime:6e5,cacheTime:18e5,refetchInterval:3e5,refetchOnWindowFocus:!0}),y=(0,n.useMemo)((()=>e=>"undefined"!=typeof window?$h({state:e,i18n:h,isCyrillicLang:u,rtl:p,currencies:m,is12h:g,config:d,exchangeMarkersState:b,tUgcMarkersState:v,isPikMarkersOnMap:f}):{}),[b,v,f]),x=(0,ie.d4)(y),j=(0,ie.d4)((e=>e.session.is3dEnabled)),w=(0,n.useMemo)((()=>(e=>({mapsapi:{tileServer:e.mapsapiTileServer+"&ts="+e.mapsapiTileset,retinaTileServer:e.mapsapiTileServer+"&ts="+e.mapsapiRetinaTileset,previewTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiTileset,previewRetinaTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiRetinaTileset},mapgl:{zmkTileServer:e.jakartaZmkTileServer,photoTileServer:e.photoTileServer,tileServer:""!==e.jakartaTileServer?e.jakartaTileServer:void 0,tileProtocol:""!==e.jakartaTileProtocol?e.jakartaTileProtocol:void 0,tileSet:""!==e.jakartaTileSet?e.jakartaTileSet:void 0,modelsTilesUrl:""!==e.jakartaModelsTilesUrl?e.jakartaModelsTilesUrl:void 0,modelsTileSet:""!==e.jakartaModelsTileSet?e.jakartaModelsTileSet:void 0,commercialTileSet:""!==e.jakartaCommercialTileSet?e.jakartaCommercialTileSet:void 0,key:""!==e.jakartaVectorTilesKey?e.jakartaVectorTilesKey:void 0,floorsUrl:""!==e.jakartaFloorsUrl?e.jakartaFloorsUrl:void 0,hasLimitedFunctionality:e.featureReadOnly,useRtlTextPlugin:e.mapUseRtlTextPlugin,bssUrl:""!==e.bssV3Url?e.bssV3Url:void 0,disableBssStatisticsForCommPoi:!0,maxZmksInViewport:3,minZoomToShowZmk:15.5,minZoomToShowZmkTitle:18.25,webglVersion:2,cityCommPoiLabelingConfig:{0:{topBottom:500,leftRight:500},11:{topBottom:250,leftRight:250},12:{topBottom:170,leftRight:170}},loopWorld:e.featureLoopWorld,trafficMinZoom:9,bssHostAppParams:{product:Number(e.clientId),userId:e.userId,sessionId:e.sessionId}},godmode:e.godmode}))(d)),[]),[_,C]=(0,n.useState)(j?"3d":"2d");(0,n.useEffect)((()=>{(0,l.vU)(x,t,w,_).catch((()=>{C("2d")}))}),[_]);const I=function(){var e;const t=(0,ie.d4)(Z.Pz),s=(0,ie.d4)((e=>e.appContext.zoom)),r=(0,ie.d4)((e=>"eta"===e.appContext.activeLayer)),i=function(){const e=(0,ie.d4)(af);return(0,n.useMemo)((()=>{var t;return null!==(t=null==e?void 0:e.directions.map((e=>e.id)))&&void 0!==t?t:pp.Ml}),[null==e?void 0:e.directions])}(),a=i.join(),o=(0,Kh.z)({delay:1e4});let c,d="none";o&&(i.length?(c=Qh({directions:i}),d="frame"):r&&(c=Gh({viewport:t,zoom:s}),d="map"));const l=(0,Yh.fn)(c),u=(0,n.useMemo)((()=>(e=>({frameId:t},s)=>{if("none"===e)return;if("map"===e)return{uiElement:{name:"vehiclesOnMap",frameUuid:t,ownerName:"ctxLayer"}};const r=af(s);return r?{uiElement:{name:"vehiclesOnMap",frameUuid:r.frame.id,ownerName:"entity"===r.frame.type?"directoryObjectCardScreen":"routeCtxScreen"},payload:{vehiclesOnMap:{routes:r.directions.map((e=>({entity:e,enableETA:!1}))),owner:{entity:r.entity}}}}:void 0})(d)),[d,a]),{sendShowEvent:p}=(0,Ve.E)(u,{forceSendShowIfParamsChanged:[d,a]});return(0,n.useEffect)((()=>{var e;l.data&&l.data.devices.length>0&&(null===(e=p.current)||void 0===e||e.call(p))}),[d,i,p,null===(e=l.data)||void 0===e?void 0:e.devices.length,l.data]),(0,n.useMemo)((()=>l.data?{devices:l.data.devices,styles:nf}:void 0),[l])}(),k=(()=>{const e=(0,ie.wA)(),t=(0,ie.d4)((e=>e.appContext.friendsOnMap.sharedRoute)),{data:s}=(0,mf.N)({route_id:(null==t?void 0:t.routeId)||"",route_request_id:(null==t?void 0:t.routeRequestId)||""},{enabled:!!t,onSuccess:t=>{const s=(e=>((null==e?void 0:e.sections)||[]).reduce(((e,t)=>{const s=(0,Ng.sX)(t.geometry);return s&&e.push(...s),e}),[]))(null==t?void 0:t.routes[0]);e((0,pf.E)(s))}});return(0,n.useMemo)((()=>t&&s?{ppna:s}:{}),[s,t])})();(0,n.useEffect)((()=>{(0,l.cA)(Object.assign(Object.assign(Object.assign({},x),{eta:I}),k),_)}),[x,_,I,k]);const O=(0,cf.H)(),S=(0,n.useMemo)((()=>({exchangeSearch:O.data})),[O]);return(0,n.useEffect)((()=>{i(),a()}),[]),(0,n.useEffect)((()=>{const e=(0,q.W7)();return o(e,(e=>Jp(e,S))),()=>{c(e)}}),[S]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",Object.assign({ref:s,dir:"ltr"},{children:(0,r.jsx)(Mp,{})}))})}));gf.displayName="MapContainer";const hf=(0,ie.Ng)(void 0,(e=>({mapHandlers:Tp(e),trackWebGlSupport(){e((0,Xt.TE)(["Map","WebGL",hp(),void 0,{nonInteraction:!0}]))},trackVideoadapter(){e((0,Xt.TE)(["Map","Videoadapter",(0,fp.Z)(),void 0,{nonInteraction:!0}]))},subscribeOnMapClick(t,s){e((0,O.q2)({id:t,type:"map:click",handler:s,stopIfHandled:!0,priority:Et.b.Map}))},removeListener(t){e((0,O.f)({id:t}))}})))((0,nt.f)(Au.K7)(gf));var ff=s(3741);const bf=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>t(!0)),[]),e?(0,r.jsx)("div",{className:"is_app_healthy",style:{display:"none"}}):null},vf=()=>(0,r.jsx)(ct.w,{loader:dt.b.gdprCookieBanner,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:Wr.N});var yf=s(2829),xf=s(63213),jf=s(83104),wf=s(27431),_f=s(86676),Cf=s(74690),If=(s(26485),s(21282)),kf=s(44724),Of=s(86366),Sf=s(66688),Tf=s(1346),Ef=s(47128),Mf=s(12055);const Pf=(0,n.memo)((()=>{const{s:e,css:t}=(0,re.I)(Lf),{featureReadOnly:s,feature2gisAwardPromoAnnouncement:i,feature2gisAwardPromoMain:a,featureOtelloDashboardIcon:n,featurePromoRrf:o}=(0,xe.U)(),{bssRef:d}=(0,Ve.E)((0,If.a)()),l=(0,ie.d4)(c.MJ),u=(0,ie.d4)((e=>{var t;return null===(t=(0,c.Hv)(e))||void 0===t?void 0:t.data})),p=o&&(0,Ef.a)(u,Mf.c),m=n&&(0,Of.a)(l),g=(0,Sd.I)(wf.G),h=(0,Sd.I)(Cf.u),f=[];m&&f.push((0,r.jsx)(Sf.P,{isMobile:!0},"otello")),f.push((0,r.jsx)(jf.D,{onClick:g},"rubricator")),s||f.push((0,r.jsx)(_f.J,{onClick:h},"favorites")),function(){const e=(0,ie.wA)();(0,Mu.A)({handler:()=>{e((0,j.Q2)((e=>!e.appContext.isDataViewerMinimized&&(0,ve.X_)({isMinimized:!0}))))},type:"map:interactionstart"})}();const b=i||a;return(0,r.jsxs)("div",Object.assign({ref:d,className:t(e.root)},Ze.dx.n("wat-frame"),Ze.dx.t("dashboard"),{children:[(0,r.jsx)("div",Object.assign({className:t(e.dashboard)},{children:(0,r.jsx)(xf.l,{ownerName:"dashboardFrame",where:"Dashboard",moreButtons:f})})),b&&(0,r.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,r.jsx)(kf.M,{})})),p&&(0,r.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,r.jsx)(Tf.Q,{})})),!1]}))})),Lf=(0,re.r)({root:{background:De.T.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},promo:{padding:"8px 16px",boxShadow:`inset 0 1px 0  ${De.T.gray_e6e6e6}`},dashboard:{padding:16}});var Nf=s(31263),Af=s(86857),Rf=s(42744),zf=s(91414),Uf=s(56946);const Bf=(0,n.memo)((({frame:e})=>{switch(e.type){case"realty":return(0,r.jsx)(Nf.h,{});case"realtyCard":return(0,r.jsx)(Af.b,{});case"entity":case"pending":return(0,r.jsx)(Pi,{});case"product":return(0,r.jsx)(zf.n,{});case"search":return(0,r.jsx)(Rf.k,{});case"collection":return(0,r.jsx)(Uf.Q,{});case"userPublicProfile":return(0,r.jsx)(Hf,{withLabel:!0});case"dashboard":return null;default:return(0,r.jsx)(Hf,{})}}));Bf.displayName="MapNavFooter";const Hf=(0,n.memo)((({withLabel:e})=>{const t=[(0,ui.n)({isLabelShown:e})];return(0,r.jsx)(di.L,Object.assign({appearance:"transparent"},{children:t.map(((e,t)=>e&&(0,r.jsx)(di.j,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))})),Ff=(0,n.memo)((({position:e,showTopControls:t})=>{const{css:s,s:i}=(0,re.I)(Df),{featureNewYear:a,feature2gisAwardPromoMain:n}=(0,xe.U)(),o=(0,ie.d4)(c.n$),d=n;return(0,r.jsxs)("div",Object.assign({className:s(i.root)},{children:["top"===e&&(0,r.jsxs)("div",Object.assign({className:s(i.controlsContainer)},{children:[(0,r.jsxs)("div",Object.assign({className:s(i.controls)},{children:[(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents,i._marginEnd)},{children:(0,r.jsx)(sd.In,{})})),a&&(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents)},{children:(0,r.jsx)(Wn,{})})),(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents,i._hideIfEmpty)},{children:(0,r.jsx)(od,{projectId:null==o?void 0:o.id,isMobile:!0})})),(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents)},{children:d&&(0,r.jsx)(Id,{})})),(0,r.jsx)(Rt.P,{children:(0,r.jsx)("div",Object.assign({className:s(i._marginStartAuto,i._autoPointerEvents)},{children:(0,r.jsx)(jc,{})}))})]})),(0,r.jsx)("div",Object.assign({className:s(i.controls)},{children:(0,r.jsx)("div",Object.assign({className:s(i._marginStartAuto,i._autoPointerEvents,i._controlPaddingTop)},{children:(0,r.jsx)(zc,{})}))})),(0,r.jsx)("div",Object.assign({className:s(i.floorsControl,i._autoPointerEvents)},{children:(0,r.jsx)(Eo,{})}))]})),"bottom"===e&&(0,r.jsx)("div",Object.assign({className:s(i.controlsContainer)},{children:(0,r.jsxs)("div",Object.assign({className:s(i.controls,i._relative)},{children:[!t&&(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents)},{children:(0,r.jsx)(sd.In,{})})),(0,r.jsx)(Rt.P,{children:(0,r.jsxs)("div",Object.assign({className:s(i._autoPointerEvents,i._marginStartAuto)},{children:[(0,r.jsx)("div",Object.assign({className:s(i._absoluteCentered)},{children:(0,r.jsx)(ff.l,{})})),(0,r.jsx)(Zo,{})]}))})]}))}))]}))}));Ff.displayName="MobileMapControls";const Df=(0,re.r)({root:{width:"100%",pointerEvents:"none"},controlsContainer:{padding:12},controls:{display:"flex"},_controlPaddingTop:{paddingTop:8},_marginStartAuto:{marginStart:"auto"},_marginEnd:{marginEnd:8},_autoPointerEvents:{pointerEvents:"auto"},_hideIfEmpty:{":empty":{display:"none"}},_relative:{position:"relative"},_absoluteCentered:{position:"absolute",left:"50%",transform:"translateX(-50%)"},floorsControl:{position:"fixed",top:"50%",left:12,transform:"translate(0, -50%)"}}),Vf=e=>({frameId:t})=>({uiElement:{name:"closePromo",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}}),Zf=e=>({frameId:t})=>({uiElement:{name:"toStore",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}});var $f=s(7098);function qf(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"49",height:"9",viewBox:"0 0 49 9"},{children:(0,r.jsx)("path",{fill:"#FF9500",d:"M4.5 0l1.188 3H9L6.644 5.261 7.5 8.5l-3-1.695-3 1.695.923-3.173L0 3h3.271L4.5 0zm10 0l1.188 3H19l-2.356 2.261L17.5 8.5l-3-1.695-3 1.695.923-3.173L10 3h3.271L14.5 0zm10 0l1.188 3H29l-2.356 2.261L27.5 8.5l-3-1.695-3 1.695.923-3.173L20 3h3.271L24.5 0zm10 0l1.188 3H39l-2.356 2.261L37.5 8.5l-3-1.695-3 1.695.923-3.173L30 3h3.271L34.5 0zM49 3h-3.312L44.5 0l-1.229 3H40l2.423 2.327L41.5 8.5l3-1.695 3 1.695-.856-3.239L49 3zm-4.5 3.025V1.5l.792 2H47.5l-1.571 1.501.571 2.156-2-1.132z"})}))}var Wf=s(61979),Gf=s(98626);const Qf=(0,Pe.V)("closeMobileAppBanner",(0,Le.T)("appContext",((e,{isClosed:t})=>Object.assign(Object.assign({},e),{isMobileAppBannerClosed:t})))),Kf=(0,n.memo)((()=>{const{s:e,css:t}=(0,re.I)(Yf),s=(0,ae.c)(),{brandName:i}=(0,xe.U)(),a=(0,ie.d4)((e=>e.session.platform)),o=(0,ye.zP)({platform:a,type:"mobilePromo"}),c=(0,ie.d4)((e=>e.appContext.isMobileAppBannerClosed)),d=(0,Sd.I)(Qf),{bssRef:l,useBssHandler:u}=(0,Ve.E)((({frameId:e},t)=>(0,ot.f_)({state:t,name:"appPromoFrame",uuid:e}))),p=(0,Ve.E)((({frameId:e})=>({uiElement:{name:"appPromo",ownerName:"appPromoFrame",frameUuid:e},payload:{appPromoInfo:{type:"mobilePromo"}}}))),m=u(Vf,{type:"mobilePromo"}),g=u(Zf,{type:"mobilePromo"}),h=(0,n.useCallback)((()=>{g()}),[g]),f=(0,n.useCallback)((()=>{m(),d({isClosed:!0})}),[m,d]);if(c||!o)return null;const b=s._t("%1 лучше в&nbsp;приложении",[i]),v=(0,$f.M)(a);return(0,r.jsxs)("div",Object.assign({className:t(e.root),ref:l},Ze.dx.n("wat-top-promo"),{children:[(0,r.jsxs)("a",Object.assign({suppressHydrationWarning:!0,className:t(e.link),target:"_blank",href:o,onClick:h,ref:p.bssRef},{children:[(0,r.jsx)("div",Object.assign({className:t(e.logo)},{children:(0,r.jsx)(Wf.z,{})})),(0,r.jsxs)("div",Object.assign({className:t(e.info)},{children:[(0,r.jsx)("div",Object.assign({className:t(e.title)},{children:b})),(0,r.jsxs)("span",Object.assign({className:t(e.stat)},{children:[(0,r.jsx)(qf,{}),(0,r.jsx)("span",Object.assign({className:t(e.additionalInfo)},{children:v.reviews}))]})),(0,r.jsx)("div",Object.assign({className:t(e.download)},Ze.dx.n("wat-top-downland"),{children:s._t("Загрузить приложение")}))]}))]})),(0,r.jsxs)("div",Object.assign({className:t(e.closeAndAds)},{children:[(0,r.jsx)("div",Object.assign({className:t(e.close),onClick:f},Ze.dx.n("wat-top-close"),{children:(0,r.jsx)(jn.b,{})})),(0,r.jsx)("div",{children:(0,r.jsx)(Gf.Q,{small:!0,gray:!0,source:"banner",erid:["2Ranyn95sQ4"],legalName:'ООО "ДубльГИС"',rating:0})})]}))]}))}));Kf.displayName="MobileAppPromoSmartBanner";const Yf=(0,re.r)({root:{position:"relative",display:"flex",background:"white",width:"100%",padding:"12px 20px",boxSizing:"border-box",flexShrink:0,zIndex:2,"@media (max-width: 320px)":{padding:"12px 16px"}},closeAndAds:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end"},close:{display:"flex",justifyContent:"center",alignItems:"flex-start",color:"#bbbbbb",flex:1},logo:{width:64,height:64,"& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:64,padding:"0 12px",color:De.T.black},title:Object.assign(Object.assign({},$e.Hg),{lineHeight:"16px","@media (max-width: 320px)":Object.assign(Object.assign({},$e.EX),{lineHeight:"18px"})}),stat:{display:"flex",alignItems:"center",padding:"4px 0px"},additionalInfo:Object.assign(Object.assign({},$e.EX),{lineHeight:$e.EX.fontSize,paddingStart:4,color:De.T.gray_929292}),download:Object.assign(Object.assign({},$e.Hg),{textDecoration:"none",color:De.T.blue_0672ad,display:"flex",justifyContent:"space-between","@media (max-width: 320px)":Object.assign({},$e.EX)})}),Xf=(0,fn.S)(),Jf=(0,n.memo)((()=>{const{s:e,css:t}=(0,re.I)(eb),s=(0,ie.d4)((e=>e.appContext.frames[0]||{id:e.appContext.staticFrames.dashboard.id,type:"dashboard"})),i=(0,ie.d4)((e=>Xf({state:e,frameId:s.id}))),a=(0,ie.d4)((e=>!!e.appContext.isDataViewerMinimized)),n=(0,ie.d4)((e=>e.appContext.staticFrames.map.id)),o=(0,xe.U)(),c=(0,Mn.F)(s,i,o),d=c||"sharingGeo"===s.type;return(0,r.jsxs)("div",Object.assign({className:t(e.root)},{children:[(0,r.jsx)("div",Object.assign({className:t(e.mobilePromoWrapper)},{children:(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)(Kf,{})}))})),(0,r.jsxs)("div",Object.assign({className:t(e.base)},{children:[(c||d)&&(0,r.jsxs)("div",Object.assign({className:t(e.topContentWrapper)},{children:[c&&(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:t(e.searchBarWrapper)},{children:(0,r.jsx)(gn,{frame:s,frameContext:i})}))})),d&&(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:n}},{children:(0,r.jsx)("div",Object.assign({className:t(c&&e.controlsBelowSearchBar)},{children:(0,r.jsx)(Ff,{position:"top"})}))}))]})),(0,r.jsxs)("div",Object.assign({className:t(e.bottomContentWrapper,a&&e._minimized)},{children:[(0,r.jsxs)("div",Object.assign({className:t(e.aboveBottomContent)},{children:[(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:n}},{children:(0,r.jsx)(Ff,{position:"bottom",showTopControls:d})})),a&&(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsxs)("div",Object.assign({className:t(e.footer)},Ze.dx.n("wat-footer-map"),{children:[(0,r.jsx)(Bf,{frame:s}),(0,r.jsx)(qe,{})]}))}))]})),"dashboard"===s.type&&(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsxs)("div",Object.assign({className:t(e.dashboardWrapper)},{children:[(0,r.jsx)(Pf,{}),(0,r.jsx)(qe,{})]}))})),"sharingGeo"===s.type&&(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:t(e.dashboardWrapper)},{children:(0,r.jsx)(Ra,{frame:s})}))}))]})),"dashboard"!==s.type&&"sharingGeo"!==s.type&&(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:t(e.frameWrapper,a&&e._minimized)},{children:(0,r.jsx)(Ba,{frame:s,frameContext:i})}))}))]}))]}))})),eb=(0,re.r)({root:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",pointerEvents:"none"},base:{flexGrow:1,flexShrik:1,display:"flex",position:"relative",zIndex:yf.f.base,pointerEvents:"none"},mobilePromoWrapper:{flexGrow:0,flexShrink:0,pointerEvents:"auto"},topContentWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},searchBarWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:yf.f.top},controlsBelowSearchBar:{marginTop:56},footer:{pointerEvents:"auto"},frameWrapper:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:yf.f.base,pointerEvents:"auto"},_minimized:{transform:"translate3d(0, 100%, 0)"},bottomContentWrapper:{position:"absolute",bottom:0,width:"100%",transform:"translate3d(0, 0, 0)",transition:"transform .3s"},aboveBottomContent:{position:"absolute",width:"100%",bottom:"100%"},dashboardWrapper:{pointerEvents:"auto"}});var tb=s(19323),sb=s(9763),rb=s(63312);const ib=(0,j.n5)("fillstateRealtyMarkers",(()=>(0,j.gd)((0,Wu.Z8)((e=>(0,A.RC)({entity:t=>{var s;const r=null==e?void 0:e.suggestId;return r?null===(s=(0,u.DE)({state:t,entityId:r}))||void 0===s?void 0:s.data:void 0},viewpoint:Z.Pz},(({entity:t,viewpoint:s})=>e&&(0,Wu.$R)(e)?!t||(0,rb.A)(t)||(0,sb.H)(t)?(0,tb.L)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:s}):(0,tb.L)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:s,entityId:t.id}):(0,j.lQ)()))))))),ab=n.memo((()=>{const{featureRealty:e}=(0,xe.U)(),t=(0,ie.d4)((e=>(0,F.bB)(e.appContext.frames,"realty")));return e&&t?(0,r.jsx)(nb,{frame:t}):null})),nb=({frame:e})=>(function(e){const t=(0,ie.wA)(),s=(0,ie.d4)(Z.iK);n.useEffect((()=>{t(ib())}),[s,e.categoryId,e.filterValues,e.suggestId,t])}(e),function(e){const t=(0,ie.wA)();n.useEffect((()=>{t(ig())}),[t]),n.useEffect((()=>{e.entity&&"building"===e.entity.type&&t(ag({buildingId:e.entity.id,categoryId:e.categoryId}))}),[e.entity,e.categoryId,t])}(e),null);var ob=s(97423);const cb=n.memo((()=>{const{css:e,s:t}=(0,re.I)(db),s=(0,ae.c)(),i=(0,ie.wA)(),a=(0,ie.d4)((e=>e.appContext.activeSublayer)),n={realtyPriceSale:[s._gg("Дешевле"),s._gg("Дороже")],realtyPriceRent:[s._gg("Дешевле"),s._gg("Дороже")],realtyWalkDistance:[s._gg("< 5 мин"),s._gg("5-10"),s._gg("10-20"),s._gg("20-30")]},o=(0,Yt.D)((()=>{i((0,Od.Hq)())}));return"realtyPriceSale"!==a&&"realtyPriceRent"!==a&&"realtyWalkDistance"!==a?null:(0,r.jsx)(r.Fragment,{children:a&&(0,r.jsxs)("div",Object.assign({className:e(t.temperatureBlock)},{children:[(0,r.jsx)("div",Object.assign({className:e(t.scaleWrapper)},{children:(0,r.jsx)(ob.B,{segments:"realtyWalkDistance"===a?k.Ac:k.pA,labels:n[a],labelFontSize:13,labelsMarginTop:4,labelsJustifyContent:"realtyWalkDistance"===a?"space-around":void 0})})),(0,r.jsx)("div",Object.assign({onClick:o},{children:(0,r.jsx)(jn.b,{color:De.T.gray_cccccc})}))]}))})}));cb.displayName="TemperatureScaleControl";const db=(0,re.r)({temperatureBlock:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:0,marginStart:8,marginEnd:8,paddingTop:8,paddingBottom:4,paddingStart:8,paddingEnd:8,backgroundColor:De.T.white,borderRadius:8,boxShadow:"0 3px 10px rgba(38, 38, 38, 0.15)"},scaleWrapper:{width:"100%",paddingEnd:8}});var lb=s(17286),ub=s(15191),pb=s(78170);const{use:mb}=(0,pb.V)("infoStory",(e=>({services:t})=>(0,we.sH)(void 0,void 0,void 0,(function*(){return yield t.infoStoriesApi.getItem(e)}))),{cacheTime:1/0,staleTime:1/0}),gb=(0,ub.A)(Date.now(),"xxx");var hb=s(61120);function fb(){return!hb.S$&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}var bb=s(74281);const vb=(0,n.memo)((({children:e})=>{const{css:t,s:s}=(0,re.I)(yb);return(0,r.jsx)("div",Object.assign({className:t(s.progress)},{children:e}))})),yb=(0,re.r)({progress:{height:2,background:"rgba(255, 255, 255, .3)",borderRadius:4,flexGrow:1}}),xb=(0,n.memo)((({activeState:e,slideIntervalCompletePercent:t})=>{const{css:s,s:i}=(0,re.I)(jb),a=(0,n.useMemo)((()=>{switch(e){case"current":return{transform:`scaleX(${t/100})`};case"finished":return{width:"100%"};default:return{width:0}}}),[e,t]);return(0,r.jsx)(vb,{children:(0,r.jsx)("div",{style:a,className:s(i.progress)})})})),jb=(0,re.r)({progress:{background:De.T.white,height:"100%",maxWidth:"100%",borderRadius:4,transformOrigin:"center left",backfaceVisibility:"hidden",perspective:1e3}}),wb=(0,n.memo)((({slideIntervalCompletePercent:e,slides:t,activeSlideIndex:s})=>{const{css:i,s:a}=(0,re.I)(_b);return(0,r.jsx)("div",Object.assign({className:i(a.progressArr)},Ze.dx.n("wat-slide-progress-bar"),{children:(0,r.jsx)("div",Object.assign({className:i(a.wrapper)},{children:t.map((({id:t},i)=>{const a=i===s?"current":i<s?"finished":"inactive";return(0,r.jsx)(xb,{slideIntervalCompletePercent:e,activeState:a},`progress_slide_${t}`)}))}))}))})),_b=(0,re.r)({progressArr:{zIndex:1001,width:"100%"},wrapper:{gap:4,display:"flex",flexGrow:"stretch",width:"100%"}});function Cb({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 4C24.4183 4 28 7.58172 28 12V20C28 24.4183 24.4183 28 20 28H12C7.58172 28 4 24.4183 4 20V12C4 7.58172 7.58172 4 12 4H20ZM20 6H12C8.7616 6 6.12243 8.56557 6.00414 11.7751L6 12V20C6 23.2384 8.56557 25.8776 11.7751 25.9959L12 26H20C23.2384 26 25.8776 23.4344 25.9959 20.2249L26 20V12C26 8.7616 23.4344 6.12243 20.2249 6.00414L20 6ZM14 12V20H18V12H20V20H18H14H12V12H14Z",fill:e})}))}function Ib({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 12C28 7.58172 24.4183 4 20 4H12C7.58172 4 4 7.58172 4 12V20C4 24.4183 7.58172 28 12 28H20C24.4183 28 28 24.4183 28 20V12ZM12 6H20L20.2249 6.00414C23.4344 6.12243 26 8.7616 26 12V20L25.9959 20.2249C25.8776 23.4344 23.2384 26 20 26H12L11.7751 25.9959C8.56557 25.8776 6 23.2384 6 20V12L6.00414 11.7751C6.12243 8.56557 8.7616 6 12 6ZM14.2399 20.8058C13.7663 21.073 13.2061 21.0642 12.7416 20.7814C12.2776 20.4992 12 19.999 12 19.4444V12.5556C12 12.001 12.2776 11.5008 12.7416 11.2186C13.2061 10.9358 13.7663 10.927 14.2394 11.1942L20.65 14.64C21.1397 14.917 21.5 15.4252 21.5 16C21.5 16.5753 21.1402 17.083 20.65 17.36L14.2399 20.8058ZM14 13.3564L19 16L14 18.6438V13.3564Z",fill:e})}))}const kb=(0,n.memo)((({pause:e,onToggle:t})=>{const{css:s,s:i}=(0,re.I)(Ob);return(0,r.jsx)("button",Object.assign({"data-n":"wat-story-pause-toggle",className:s(i.button),onClick:e=>{e.stopPropagation(),t()}},{children:e?(0,r.jsx)(Ib,{}):(0,r.jsx)(Cb,{})}))})),Ob=(0,re.r)({button:{background:"transparent",border:"none",color:De.T.white,width:32,height:32,zIndex:3}});var Sb=s(75704);const Tb=(0,n.memo)((({slideWidth:e,offset:t,nextSlide:s,prevSlide:i,size:a})=>{const{s:n,css:o,dir:c}=(0,re.I)(Eb);if(void 0===e)return null;const d=e=>{"left"===e?"ltr"===c?i():s():"ltr"===c?s():i()},l=e+2*t;return(0,r.jsxs)("div",Object.assign({className:o(n.root)},{children:[(0,r.jsx)("div",Object.assign({onClick:()=>d("left")},Ze.dx.n("wat-carusel-arrow-left"),{style:Object.assign({marginInlineEnd:`0 ${l}px`},a?{width:`${a}px`,height:`${a}px`}:{}),className:o(n.arrow)},{children:(0,r.jsx)(wn.i,{direction:"start",icon:Sb.B,size:18})})),(0,r.jsx)("div",Object.assign({onClick:()=>d("right")},Ze.dx.n("wat-carusel-arrow-right"),{style:Object.assign({marginInlineStart:`${l}px`},a?{width:`${a}px`,height:`${a}px`}:{}),className:o(n.arrow)},{children:(0,r.jsx)(wn.i,{direction:"end",icon:Sb.B,size:18})}))]}))}));Tb.displayName="CaruselArrows";const Eb=(0,re.r)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:.7,pointerEvents:"none",transition:`${Cs.S.short}ms ${Cs.l.base}`,"*:hover>&":{opacity:1}},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,Is.m)(De.T.black,0),color:De.T.white,pointerEvents:"auto",userSelect:"none",transition:`${Cs.S.short}ms ${Cs.l.base}`,cursor:"pointer",border:"1px solid",borderColor:(0,Is.m)(De.T.white,.7),":hover":{background:(0,Is.m)(De.T.black,.6),borderColor:De.T.white}}});var Mb=s(1999),Pb=s(54405);const Lb=(0,n.memo)((({storySlide:e,onComplaint:t,erid:s,legalName:i,onAdsClick:a,showComplaintButton:n=!0})=>{var o,c;const{s:d,css:l}=(0,re.I)(Nb),{isMobileDevice:u}=(0,xe.U)(),p=u&&(s||i||(null===(o=e.footnote)||void 0===o?void 0:o.warning)),m=(0,Yt.D)((e=>{e.preventDefault(),t()}));return(0,r.jsx)("div",Object.assign({className:l(d.footer)},Ze.dx.n("wat-stories-footer"),{children:(0,r.jsxs)("div",Object.assign({className:l(d.end)},{children:[(0,r.jsx)("div",Object.assign({className:l(d.ads)},{children:(0,r.jsx)("div",Object.assign({className:l(d.adsInfoLink),onTouchStart:p?a:void 0},{children:(0,r.jsx)(Gf.Q,{small:!0,erid:s,legalName:i,gray:!0,source:"banner",description:null===(c=e.footnote)||void 0===c?void 0:c.warning})}))})),n&&(0,r.jsx)("div",Object.assign({className:l(d.trash)},Ze.dx.n("wat-stories-footer-complaint"),{onClick:m},{children:(0,r.jsx)(Pb.N,{color:De.T.gray_929292})}))]}))}))})),Nb=(0,re.r)((({mobile:e})=>({footer:{position:e?"relative":"absolute",bottom:0,left:e?0:"unset",right:0,paddingTop:e?6:16,paddingEnd:e?16:24,paddingBottom:e?6:16,paddingStart:16,display:"flex",justifyContent:"flex-end",flexDirection:e?"column":"row",alignItems:"center"},end:{display:"flex",justifyContent:e?"space-between":"flex-end",alignItems:"center",width:"100%",gap:12,paddingBottom:12,paddingTop:12},ads:{display:"flex",color:De.T.gray_929292,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},adsInfoLink:{display:"inline-block",cursor:"pointer"},trash:{cursor:"pointer",display:"flex"}})));function Ab({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 11.7637V20.775H10.1716L15.5858 26.1892C16.1578 26.7612 17.018 26.9323 17.7654 26.6228C18.0155 26.5192 18.2365 26.3685 18.4199 26.1836L17 24.7637V24.775L11 18.775H6V13.7637L4 11.7637ZM8.66816 10.775L5.92894 8.0358L4.51472 9.45001L5.83973 10.775L7.83973 12.775L17 21.9353L19 23.9353L21.8995 26.8348L23.3137 25.4206L22.0833 24.1901L21 23.1069L19 21.1069L17 19.1069L10.6682 12.775L8.66816 10.775ZM12.2483 11.5267L10.8341 10.1125L15.5858 5.36081C16.1578 4.78881 17.018 4.6177 17.7654 4.92726C18.5127 5.23682 19 5.9661 19 6.77502V18.2784L17 16.2784V6.77502L12.2483 11.5267ZM22.5331 21.8116L23.9801 23.2586C24.7535 22.7525 25.4435 22.1203 26.05 21.362C27.35 19.7373 28 17.8667 28 15.75C28 13.6333 27.35 11.7623 26.05 10.137C24.75 8.51233 23.0667 7.46667 21 7V9.05C22.5 9.48333 23.7083 10.3167 24.625 11.55C25.5417 12.7833 26 14.1833 26 15.75C26 17.3167 25.5417 18.7167 24.625 19.95C24.0446 20.7309 23.3473 21.3514 22.5331 21.8116ZM21 11.725V19.775C21.7833 19.4083 22.396 18.8623 22.838 18.137C23.2793 17.4123 23.5 16.625 23.5 15.775C23.5 14.9083 23.2793 14.1083 22.838 13.375C22.396 12.6417 21.7833 12.0917 21 11.725Z",fill:e})}))}function Rb({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 10.775V20.775H10.1716L15.5858 26.1892C16.1578 26.7612 17.018 26.9323 17.7654 26.6228C18.5127 26.3132 19 25.5839 19 24.775V6.77502C19 5.9661 18.5127 5.23682 17.7654 4.92726C17.018 4.6177 16.1578 4.78881 15.5858 5.36081L10.1716 10.775H4ZM17 24.775L11 18.775H6V12.775H11L17 6.77502V24.775ZM21 22.45V24.5C23.0667 24.0333 24.75 22.9873 26.05 21.362C27.35 19.7373 28 17.8667 28 15.75C28 13.6333 27.35 11.7623 26.05 10.137C24.75 8.51233 23.0667 7.46667 21 7V9.05C22.5 9.48333 23.7083 10.3167 24.625 11.55C25.5417 12.7833 26 14.1833 26 15.75C26 17.3167 25.5417 18.7167 24.625 19.95C23.7083 21.1833 22.5 22.0167 21 22.45ZM21 11.725V19.775C21.7833 19.4083 22.396 18.8623 22.838 18.137C23.2793 17.4123 23.5 16.625 23.5 15.775C23.5 14.9083 23.2793 14.1083 22.838 13.375C22.396 12.6417 21.7833 12.0917 21 11.725Z",fill:e})}))}const zb=(0,n.memo)((({muted:e,onToggle:t})=>{const{css:s,s:i}=(0,re.I)(Ub);return(0,r.jsx)("button",Object.assign({className:s(i.button),onClick:e=>{e.stopPropagation(),t()}},{children:e?(0,r.jsx)(Ab,{}):(0,r.jsx)(Rb,{})}))})),Ub=(0,re.r)({button:{background:"transparent",border:"none",color:De.T.white,width:32,height:32,zIndex:3}});var Bb=s(26185),Hb=s(86664);const Fb=({story:e,slide:t,position:s})=>({frameId:r})=>{const i=(0,Bb.N)({slide:t}),a=(0,Hb.i)({story:e,position:s});return{uiElement:{frameUuid:r,name:"storyBranchLink",ownerName:"storyItem",position:s},action:"tap",payload:{storiesList:a,storyItem:i}}};s(60545);var Db=s(88114);const Vb=({footnote:e,orgId:t,onClick:s})=>{const{css:i,s:a}=(0,re.I)(Zb),n=(0,Tc.P)({type:"organizationBranches",id:t}),o=(0,ie.wA)(),c=(0,Yt.D)((()=>{o((0,xd.f8)({orgId:t})),s()}));return(0,r.jsx)("div",Object.assign({className:i(a.orgInfo)},{children:(0,r.jsxs)(He.A,Object.assign({styles:a.link,onClick:c,href:n},{children:[e.logoUrl&&(0,r.jsx)(Db.E,{width:40,height:40,borderRadius:32,srcSet:`${(0,Ss.m)(e.logoUrl,"80x80")} 2x`,src:(0,Ss.m)(e.logoUrl,"40x40")}),(0,r.jsxs)("div",Object.assign({className:i(a.info)},{children:[e.title,e.subtitle&&(0,r.jsx)("span",Object.assign({className:i(a.subtitle)},{children:e.subtitle}))]}))]}))}))},Zb=(0,re.r)({orgInfo:{paddingStart:12,marginTop:12,width:"max-content",minHeight:40,"& div:first-child":{flexShrink:0}},info:{display:"flex",flexDirection:"column",gap:2},link:Object.assign(Object.assign({display:"flex",alignItems:"center",gap:12,color:De.T.white,textDecoration:"none"},$e._w),{":hover":{color:De.T.white}}),subtitle:Object.assign(Object.assign({},$e.Hg),{color:"#ffffffb2"})}),$b=(0,n.memo)((({story:e,onSlidesEnd:t,onPrevStoryNeed:s,onStoryComplaint:i,controls:a,mediaSlideStyles:o,isFirstStory:c,isLastStory:d,isPopupOpened:l,storyPosition:u,slideIndexAPI:p,entity:m,trackBssTap:g,onStoryClose:h,isDesktop:f,slideSizes:b})=>{var v;const y=(()=>{const[e,t]=(0,n.useState)(!0),[s,r]=(0,n.useState)(Date.now()),i=(0,n.useCallback)((()=>{t((e=>!e)),r(e?Date.now():void 0)}),[e]),a=(0,n.useCallback)((e=>{t(e),r(e?Date.now():void 0)}),[t]);return{pause:e,setPause:a,togglePause:i,startPauseTime:s}})(),[x,j]=(0,n.useState)(!1),[w,_]=(0,n.useState)(!1),C=(0,n.useRef)(null),I=null===(v=C.current)||void 0===v?void 0:v.clientWidth,{css:k,s:O}=(0,re.I)(qb),S=(0,n.useRef)(),{bssRef:T}=(0,Ve.E)((({frameId:e},t)=>(0,ot.f_)({state:t,uuid:e,name:"storiesFrame"}))),{locale:E}=(0,xe.U)(),M=(0,Yt.D)((()=>{_(!0)})),P=(0,Yt.D)((()=>{_(!1)})),L=(({pauseAPI:{pause:e},onRefresh:t})=>{const[s,r]=(0,n.useState)(!1),[i,a]=(0,n.useState)(!0),o=(0,n.useRef)(null),c=(0,Yt.D)((()=>{r(!0)})),d=(0,Yt.D)((()=>{r(!1)}));(0,n.useEffect)((()=>{o.current&&(e?o.current.pause():o.current.play())}),[e]);const l=(0,Yt.D)((()=>{t(),o.current&&o.current.load()})),u=(0,Yt.D)((()=>{a((e=>!e))})),p=(0,Yt.D)((e=>{o.current&&(o.current.currentTime=e)}));return{ref:o,wait:c,play:d,buffered:s,refresh:l,getCompleteIntervalPercent:()=>{const e=o.current?o.current.currentTime/o.current.duration*100:0;return Number.isNaN(e)?0:e},handlePrevFirstStory:()=>{p(0)},muted:i,toggleMuted:u,setCurrentTime:p}})({pauseAPI:y,onRefresh:P}),N=(0,Yt.D)((()=>{"hidden"!==document.visibilityState||y.pause||y.setPause(!0),"visible"===document.visibilityState&&y.pause&&x&&y.setPause(!1)})),A=(0,Kh.z)({onChange:N}),R=(0,Yt.D)((()=>{const t=bb.YH.getStorySlides(e)[p[0]];bb.YH.getSlideUrl(t)&&(j(!1),_(!1),y.setPause(!0))})),{nextSlide:z,prevSlide:U,activeSlide:B,activeSlideIndex:H,slideIntervalCompletePercent:F}=((e,t)=>{var s,r;const i=bb.YH.getStorySlides(e),{onSlidesEnd:a,onSlidesChange:o,onPrevStoryNeed:c,pauseAPI:d,isFirstStory:l,isLastStory:u,onPrevFirstStory:p,getCompleteIntervalPercent:m,slideIndexAPI:g,trackBssTap:h}=t,[f,b]=g,{defaultStorySwipeInterval:v}=(0,xe.U)();(0,n.useEffect)((()=>{o(),C(0)}),[o,e.id]);const y=null!==(s=i[f])&&void 0!==s?s:i[0],x=(null===(r=i.at(-1))||void 0===r?void 0:r.id)===y.id,j=(0,Yt.D)((()=>{o(),C(0),b((e=>e+1!==i.length?e+1:(a(),e)))})),w=(0,Yt.D)((()=>{C(0),b((e=>e-1>=0?(o(),e-1):(l?p&&p():c(),e)))})),[_,C]=(0,n.useState)(0),I=(0,n.useRef)(_),k=(0,n.useRef)(),O=(0,n.useRef)(0);I.current=_;const S=()=>{void 0===k.current&&(k.current=fb());const e=fb(),t=e-k.current;k.current=e,C((e=>{const s="image"===bb.YH.getSlideType(y)?e+100*t/bb.YH.getImageSlideDuration(y,v):m?m():0;return I.current=s,s})),I.current<100?O.current=requestAnimationFrame(S):(cancelAnimationFrame(O.current),h&&!(u&&x)&&h({title:y.title,slideId:y.id,name:"storyForward",actionType:"autoTap"}),j())};return(0,n.useLayoutEffect)((()=>(hb.S$||d.pause||(k.current=fb(),O.current=requestAnimationFrame(S)),()=>{cancelAnimationFrame(O.current)})),[d.pause,y.id]),{activeSlide:y,nextSlide:j,prevSlide:w,activeSlideIndex:f,slideIntervalCompletePercent:_}})(e,{onSlidesEnd:t,onPrevStoryNeed:s,onSlidesChange:R,pauseAPI:y,isFirstStory:c,isLastStory:d,getCompleteIntervalPercent:L.getCompleteIntervalPercent,onPrevFirstStory:L.handlePrevFirstStory,slideIndexAPI:p,trackBssTap:g}),D=(0,Yt.D)((()=>{j(!0),A&&!l&&y.setPause(!1)})),V=(({onRefresh:e,url:t,slideId:s,onLoad:r})=>{const i=(0,n.useRef)(null),a=(0,Yt.D)((()=>{e(),i.current&&(i.current.src=`${t}?t=${Date.now()}`)}));return(0,n.useEffect)((()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.complete)&&r()}),[s,r]),{ref:i,refresh:a}})({url:bb.YH.getSlideUrl(B),onRefresh:P,slideId:B.id,onLoad:D}),Z=(e,t)=>{g&&g({title:B.title,slideId:B.id,name:e,actionType:null!=t?t:"tap"})},$=(0,Yt.D)((e=>{e.preventDefault(),y.pause||(S.current=setTimeout((()=>{y.setPause(!0),Z("storyPause","longtap")}),200))})),q=(0,Yt.D)((()=>{y.pause?y.togglePause():(y.togglePause(),Z("storyPause"))})),W=(0,Yt.D)((e=>{e.preventDefault(),x&&!w&&(S.current&&clearTimeout(S.current),y.pause&&!L.buffered&&y.setPause(!1))})),G=(0,Yt.D)((e=>{e.preventDefault();const t=Date.now(),s=y.startPauseTime&&t-y.startPauseTime;y.pause&&s&&s>800||(z(),Z("storyForward")),W(e)})),Q=(0,Yt.D)((e=>{e.preventDefault();const t=Date.now(),s=y.startPauseTime&&t-y.startPauseTime;y.pause&&s&&s>800||(U(),Z("storyBack")),W(e)})),K=(0,Yt.D)((t=>{e.id&&(t.stopPropagation(),"ArrowLeft"===t.key&&(U(),Z("storyBack")),"ArrowRight"===t.key&&(z(),Z("storyForward")))})),Y=(0,Yt.D)((()=>{z(),Z("storyForward")})),X=(0,Yt.D)((()=>{U(),Z("storyBack")})),J=(0,Yt.D)((()=>{y.setPause(!0),i()})),ee=(0,n.useRef)(!1);(0,n.useEffect)((()=>{!l&&ee.current&&y.pause&&x&&y.setPause(!1),ee.current=l}),[l,x,y]),(0,n.useEffect)((()=>(document.addEventListener("keyup",K),()=>{document.removeEventListener("keyup",K)})),[K]),(0,n.useEffect)((()=>{var e;(null===(e=L.ref.current)||void 0===e?void 0:e.readyState)&&L.ref.current.readyState>0&&(D(),L.setCurrentTime(0))}),[B.id,D]);const{useBssHandler:te}=(0,Ve.E)(),se=te(Fb,{story:e,slide:B,position:H+1,locale:E}),ie=(0,Yt.D)((()=>{se(),h()})),ae=x,ne=x&&L.ref.current,oe=bb.YH.isAdStorySlide(B)&&bb.YH.isAdStory(e),ce=("discovery"===e.source||"fmcg"===e.source)&&("discovery"===B.source||"fmcg"===B.source)&&Boolean(e.orgId);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Mb.j,{innerRef:T,desktopWidth:f?b.original.width:void 0,backgroundColor:"none",header:(0,r.jsx)(qt.h,{children:(0,r.jsx)("div",{className:k(O.header)})}),body:(0,r.jsx)("div",Object.assign({style:Object.assign({},b.styles),ref:C},{children:(0,r.jsx)(bb.q7,{onStoryClose:h,entity:m,storyPosition:u,slidePosition:H+1,story:e,imageAPI:V,videoAPI:L,isContentLoaded:x,mediaSlideStyles:o,slideSizes:b,activeSlide:B,onSlideLoaded:D,onMouseUp:W,onMouseDown:$,onTouchStart:$,onTapNext:G,onTapPrev:Q,onError:M,hasContentLoadingError:w,topContent:(0,r.jsxs)("div",Object.assign({className:k(O.topContent)},{children:[(0,r.jsx)(wb,{slideIntervalCompletePercent:F,activeSlideIndex:H,slides:bb.YH.getStorySlides(e)}),(0,r.jsxs)("div",Object.assign({className:k(O.controls)},{children:[ae&&(0,r.jsx)(kb,{pause:y.pause,onToggle:q}),ne&&(0,r.jsx)(zb,{muted:L.muted,onToggle:L.toggleMuted}),a]}))]}))})})),bodyFooter:ce&&B.footnote&&(0,r.jsx)(Vb,{onClick:ie,orgId:e.orgId,footnote:B.footnote}),footer:oe?(0,r.jsx)(qt.h,{children:(0,r.jsx)(Lb,{storySlide:B,storyId:e.id,erid:e.erid,legalName:e.legalName,onComplaint:J,showComplaintButton:oe,onAdsClick:$})}):null}),(0,r.jsx)(qt.j,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Tb,{offset:28,nextSlide:Y,prevSlide:X,slideWidth:I,size:40}),oe?(0,r.jsx)(Lb,{storySlide:B,showComplaintButton:oe,storyId:e.id,erid:e.erid,legalName:e.legalName,onComplaint:J}):null]})})]})})),qb=(0,re.r)({topContent:{paddingStart:16,paddingEnd:16,paddingTop:16,paddingBottom:8,display:"flex",flexDirection:"column",gap:12},controls:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",width:"100%"},header:{height:16,width:"100%"}}),Wb=(0,j.n5)("openStoryComplaintPopup",(({storyId:e,segmentId:t})=>(0,wi.PB)({id:(0,q.W7)(),type:"complaint",subtype:"story",itemId:e,segmentId:t})));var Gb=s(99902),Qb=s(93404),Kb=s(90861),Yb=s(32443);const Xb=({sizes:e,onClose:t})=>{const s=(0,ae.c)(),{css:i,s:a}=(0,re.I)(Jb);return(0,r.jsxs)("div",Object.assign({style:Object.assign(Object.assign({},e),{height:"100%"===e.height?"95%":e.height}),className:i(a.stub)},{children:[t&&(0,r.jsx)("button",Object.assign({type:"button",className:i(a.closeButton),onClick:t},{children:(0,r.jsx)(Qb.b,{color:De.T.white})})),(0,r.jsx)(Yb.C,{color:De.T.white}),(0,r.jsx)("p",Object.assign({className:i(a.text)},{children:s._t("История больше не доступна")}))]}))},Jb=(0,re.r)({stub:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:De.T.gray_262626,borderRadius:16},closeButton:{position:"absolute",top:30,right:16,display:"flex"},text:{width:220,color:De.T.white,fontWeight:$e.Wy.medium,fontSize:24,lineHeight:"32px",textAlign:"center"}}),ev=new Array(10).fill(void 0),tv=184,sv=({isLoading:e,data:t,borderRadius:s=22,currentStoryId:i,currentStoryWidth:a,onStoryClick:o,entity:c})=>{const{css:d,s:l}=(0,re.I)(av),u=t||(e?ev:void 0),{isStoryViewed:p}=bb.Ii.useStoriesViewsChecker(),{caruselOffset:m,caruselTotalWidth:g,swipeDirection:h}=(({data:e,currentStoryId:t,currentStoryWidth:s,miniStoryWidth:r,gap:i,arrowWidth:a})=>{const o=(null==e?void 0:e.length)?(r+i)*((null==e?void 0:e.length)-1)+2*i+2*a+s:0,c=2*i+a+(s-r)/2,d=(0,n.useMemo)((()=>{var s;return null!==(s=null==e?void 0:e.findIndex((e=>e.id===t)))&&void 0!==s?s:0}),[e,t]),l=(i+r)*d+r/2+c-i,[u,p]=(0,n.useState)(void 0),m=(0,n.useRef)(void 0),g=(0,n.useCallback)((({prevIndex:e,currentIndex:t})=>{void 0!==e&&t!==e&&p(t>e&&"next"===u?"next_again":t>e?"next":"prev"===u?"prev_again":"prev"),t===e&&p(void 0)}),[u]);return(0,n.useEffect)((()=>{void 0!==d&&d!==m.current&&g({prevIndex:m.current,currentIndex:d}),m.current=d}),[d,g]),{caruselOffset:l,caruselTotalWidth:o,swipeDirection:u}})({currentStoryWidth:a,miniStoryWidth:tv,gap:32,arrowWidth:40,data:t,currentStoryId:i}),f=(e,t)=>({entity:c,story:e,position:t+1,isStoryViewer:!0,isHide:i===(null==e?void 0:e.id)});return(null==u?void 0:u.length)?(0,r.jsx)("div",Object.assign({className:d(l.root,h&&l[h]),style:{width:`${g}px`,transform:`translate(-${m}px, -50%)`}},{children:(0,r.jsx)(ls.h,Object.assign({gap:32},{children:u.map(((e,t)=>{var a;return(0,r.jsx)("div",Object.assign({className:d(l.item,(null==e?void 0:e.id)===i&&l.active_item)},{children:(0,r.jsx)(bb.Vf,{story:e,borderRadius:s,isNotViewed:!p(null==e?void 0:e.id),isTextMedium:!0,isStoryViewer:!0,bssShowFunction:()=>bb.Ii.bss.miniStoryBss.bssShow(f(e,t)),bssActionFunction:bb.Ii.bss.miniStoryBss.bssTap,bssActionParams:f(e,t),onClick:o})}),`${t}-viewer${(null==e?void 0:e.id)&&(null===(a=null==e?void 0:e.content)||void 0===a?void 0:a.preview)||"skeleton"}`)}))}))})):null};sv.displayName="StoryViewerGallery";const rv={"0%":{marginStart:tv},"100%":{marginStart:0}},iv={"0%":{marginStart:tv},"50%":{marginStart:92},"100%":{marginStart:0}},av=(0,re.r)({root:{position:"absolute",top:"50%",left:"50%",transform:"translateY(-50%)",animationTimingFunction:"linear",animationDuration:"0.3s"},item:{flexShrink:0,flexGrow:0,width:tv,height:216},active_item:{flex:1,opacity:0},next:{animationName:rv},next_again:{animationName:iv},prev:{animationName:{"0%":{marginStart:-184},"100%":{marginStart:0}}},prev_again:{animationName:{"0%":{marginStart:-184},"50%":{marginStart:-92},"100%":{marginStart:0}}}}),nv=(0,n.memo)((({entity:e,stories:t,isLoading:s,isError:i,currentStoryId:a,withGallery:o,frameId:c})=>{var d;const{css:l,s:u}=(0,re.I)(ov),p=(0,ie.wA)(),m=(0,ie.d4)((e=>!e.config.isMobileDevice)),g=Boolean((0,ie.d4)((e=>e.appContext.popup))),h=(0,n.useState)(0),[f,b]=h,v=(0,n.useMemo)((()=>null==t?void 0:t.findIndex((e=>e.id===a))),[t,a]),y=void 0!==v&&v>-1?null==t?void 0:t[v]:void 0,x=void 0!==v&&-1!==v?v+1:void 0,w=y?bb.YH.getStorySlides(y)[f]:void 0,_=i||t.length&&!y,I=(0,Yt.D)((()=>{p((0,j.K2)((0,lb.IP)(),(0,C.PC)()))})),{useBssHandler:k}=(0,Ve.E)(),O=k(bb.Ii.bss.storiesNavigationBss.bssTap,{story:y,entity:e,storyPosition:x,frameId:c}),S=e=>{O&&w&&(O({title:w.title,slideId:w.id,name:"storiesFrame",actionType:null!=e?e:"close"}),window.removeEventListener("popstate",A))},T=(0,Yt.D)((()=>{const e=void 0!==v&&-1!==v&&t[v+1];e?L(e):(S("autoClose"),I())})),E=(0,Yt.D)((()=>{const e=void 0!==v&&t[v-1];e&&L(e)})),M=(0,Yt.D)((e=>{a&&(e.stopPropagation(),"Escape"===e.key&&(S(),I()))}));(0,n.useEffect)((()=>(document.addEventListener("keyup",M),()=>{document.removeEventListener("keyup",M)})),[M]);const P=(0,Yt.D)((()=>{S(),I()})),L=(0,Yt.D)((e=>{b(0),p((0,Gb.pU)({currentStoryId:e.id}))})),N=(0,Yt.D)((()=>{y&&bb.YH.isAdStory(y)&&p(Wb({storyId:y.id,segmentId:String(y.projectId)}))})),A=(0,Yt.D)((()=>{S()}));(0,n.useEffect)((()=>{window.addEventListener("popstate",A,{once:!0})}),[A]);const R=bb.Ii.useSlideSizes(),z={objectFit:m?"contain":"cover"},U=!!y&&(null==y?void 0:y.id)===t[0].id,B=!!y&&(null==y?void 0:y.id)===(null===(d=t.at(-1))||void 0===d?void 0:d.id),H=y&&0!==bb.YH.getStorySlides(y).length&&void 0!==v&&v>-1;return(0,n.useEffect)((()=>{H&&p(bb.Ii.markStoryAsViewed(y.id))}),[p,H,null==y?void 0:y.id]),(0,r.jsx)(Ha.X.Provider,Object.assign({value:{frameId:c}},{children:(0,r.jsxs)(lb.fV,Object.assign({onClose:P},{children:[s&&(0,r.jsx)(Kb.Z,{}),H&&(0,r.jsxs)(r.Fragment,{children:[m&&o&&(0,r.jsx)(qt.j,{children:(0,r.jsx)(sv,{entity:e,data:t,currentStoryId:null==y?void 0:y.id,isLoading:s,onStoryClick:L,currentStoryWidth:R.original.width})}),(0,r.jsx)($b,{isDesktop:m,onStoryClose:P,slideIndexAPI:h,storyPosition:v+1,entity:e,slideSizes:R,mediaSlideStyles:z,onSlidesEnd:T,onPrevStoryNeed:E,isPopupOpened:g,onStoryComplaint:N,isFirstStory:U,isLastStory:B,story:y,trackBssTap:O,controls:!m&&(0,r.jsx)("button",Object.assign({className:l(u.closeButton),onClick:P},{children:(0,r.jsx)(Qb.b,{})}))})]}),_&&(0,r.jsx)(Xb,{sizes:R.styles,onClose:m?void 0:I})]}))}))})),ov=(0,re.r)({closeButton:{background:"transparent",color:De.T.white,border:"none",display:"flex",justifyContent:"center",alignItems:"center",gridColumn:12,zIndex:3}}),cv=({currentStoryId:e,popupId:t})=>{const{data:s,isLoading:i,isError:a}=((e,t=!0)=>{const s=(0,xe.U)().lang,r=(0,ie.d4)(c.zN);return mb({id:e,utcOffset:gb,locale:s,region:r},{enabled:t})})(e),o=(0,n.useMemo)((()=>s?[s]:[]),[s]);return(0,r.jsx)(nv,{withGallery:!1,stories:o,currentStoryId:e,frameId:t,isLoading:i,isError:a})},dv=({currentStoryId:e,popupId:t})=>{const s=(0,ie.d4)((e=>(0,F.bB)(e.appContext.frames,"entity"))),i=(0,ie.d4)((e=>s&&(0,u.DE)({state:e,entityId:s.entityId}))),{data:a,isLoading:n,isError:o}=bb.Ii.useFirmStories({entity:null==i?void 0:i.data}),{stories:c=[]}=bb.Ii.useStoriesRotation(a);return(null==i?void 0:i.data)?(0,r.jsx)(nv,{withGallery:!0,entity:i.data,stories:c,currentStoryId:e,frameId:t,isLoading:n,isError:o}):null};var lv=s(39123);const uv=({currentStoryId:e,popupId:t})=>{const s=(0,lv.U)("search"),{data:i,isLoading:a,isError:n}=bb.Ii.useDiscoveryStories(s),{stories:o=[]}=bb.Ii.useStoriesRotation(i);return(0,r.jsx)(nv,{withGallery:!0,stories:o,currentStoryId:e,frameId:t,isLoading:a,isError:n})},pv=({currentStoryId:e,popupId:t})=>{const s=(0,ie.d4)((e=>(0,F.bB)(e.appContext.frames,"entity"))),i=(0,ie.d4)((e=>s&&(0,u.DE)({state:e,entityId:s.entityId}))),{data:a=[],isLoading:n,isError:o}=bb.Ii.useFmcgStories(s),{stories:c=[]}=bb.Ii.useStoriesRotation(a);return(null==i?void 0:i.data)?(0,r.jsx)(nv,{withGallery:!0,entity:i.data,stories:c,currentStoryId:e,frameId:t,isLoading:n,isError:o}):null},mv=()=>{const{type:e,currentStoryId:t,popupId:s}=(0,ie.d4)(lb.jp);if(!t||!s)return null;switch(e){case"info":return(0,r.jsx)(cv,{currentStoryId:t,popupId:s});case"discovery":return(0,r.jsx)(uv,{currentStoryId:t,popupId:s});case"fmcg":return(0,r.jsx)(pv,{currentStoryId:t,popupId:s});case"firm":return(0,r.jsx)(dv,{currentStoryId:t,popupId:s});default:return null}},gv=({previousMapView:e})=>{var t;const s=(0,ie.wA)(),{featureFriends:i,isMobileDevice:a,friendsDebugToken:o}=(0,xe.U)(),c=(0,ie.d4)((e=>e.appContext.activeLayer)),d=void 0!==(0,lv.U)("userPublicProfile"),l="friends"===c,u=(0,ie.d4)((e=>e.appContext.friendsOnMap.hasSharingSession)),p=null===(t=(0,ie.d4)(Ta.ug).data)||void 0===t?void 0:t.public_user_id,m=(0,ie.d4)(Ta.x3)||!!o,g=(0,ie.d4)(Ta.x3),h=(0,ie.d4)(Ta.sX)&&!o,f=(0,ie.d4)(Ta.sX),b=se.$.useOpenFriendInOtherDomainPopup();return(0,n.useEffect)((()=>{g&&s(se.$.cleanFriendInOtherDomainModel())}),[g,s]),(0,n.useEffect)((()=>{f&&e&&b(e)}),[f,b,e]),(0,n.useEffect)((()=>{l&&a&&!d?s((0,wi.PB)({id:(0,q.W7)(),type:"mobileFriendsOnMapPopup"})):l&&h&&!e&&!d&&s((0,wi.PB)({id:(0,q.W7)(),type:"authFriendsOnMapPopup"}))}),[s,h,l,a,d,e]),i&&l&&!a&&m||i&&u?(0,r.jsx)(Ge.zy,{onSelectUser:(e,t)=>{var r,i;const a=null===(i=null===(r=e[t])||void 0===r?void 0:r.session)||void 0===i?void 0:i.sessionId;s(a?Ma.L.openSharerProfile({sessionId:a}):Te.M.openPublicProfile({userId:t}))},selfUserId:p}):null},hv=()=>(0,r.jsx)(ct.w,{loader:dt.b.immersivePromoTour,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:Wr.N});var fv=s(43751);class bv extends n.Component{constructor(){super(...arguments),this.state={errorMessage:"",error:""},this.render=()=>{const{dataViewerWidth:e,mapFrameId:t,friendInOtherDomain:s,isImmersivePromoRunning:i}=this.props;return this.state.error?(0,r.jsx)(Dd,{base:(0,r.jsx)(r.Fragment,{}),bottom:(0,r.jsx)(r.Fragment,{}),top:(0,r.jsxs)("div",Object.assign({style:{padding:"16px",width:"100%",height:"100%",boxSizing:"border-box",background:"#fff"}},{children:[(0,r.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,r.jsx)(Ar.$,{code:500})})),(0,r.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,r.jsxs)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:[`Session id: ${this.props.config.sessionId}`,(0,r.jsx)("br",{}),`User id: ${this.props.config.userId}`,(0,r.jsx)("br",{}),`${this.state.error}`]}))]}))}):(0,r.jsx)(Dd,{bottom:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Ha.X.Provider,Object.assign({value:{frameId:t}},{children:[(0,r.jsx)(hf,{}),(0,r.jsx)(qt.j,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(du,{}),(0,r.jsx)(Lu,{}),(0,r.jsx)(Bd,{dataViewerWidth:e})]})}),(0,r.jsx)(ab,{})]})),i&&(0,r.jsx)(hv,{}),(0,r.jsx)(qt.j,{children:(0,r.jsx)(ql,{})}),(0,r.jsx)(qt.h,{children:(0,r.jsx)(cb,{})}),(0,r.jsx)(bf,{})]}),base:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qt.j,{children:(0,r.jsx)(An,{})}),(0,r.jsx)(qt.h,{children:(0,r.jsx)(Jf,{})}),(0,r.jsx)("div",{id:"photoViewer"}),(0,r.jsx)(mv,{}),(0,r.jsx)(gv,{previousMapView:s.previousMapView})]}),top:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(mu,{}),(0,r.jsx)(qt.j,{children:(0,r.jsx)(ff.l,{})}),(0,r.jsx)(Wl.z,{}),(0,r.jsx)(ru,{}),(0,r.jsx)(qt.j,{children:(0,r.jsx)(Eu,{})}),(0,r.jsxs)(Ha.X.Provider,Object.assign({value:{frameId:t}},{children:[(0,r.jsx)(Gl.m,{}),(0,r.jsx)(dp,{})]})),(0,r.jsx)("div",{id:"confirm",style:{width:"100%",height:"100%",pointerEvents:"none",visibility:"hidden"}}),(0,r.jsx)(vf,{}),(0,r.jsx)(qt.h,{children:(0,r.jsx)(ql,{})}),(0,r.jsx)("div",{id:"tooltips",style:{position:"absolute",inset:0,pointerEvents:"none"}})]})})}}componentDidCatch(e,t){const s=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"";(0,$.vV)({message:s,level:"error",id:"tb3ic",payload:{type:"exception",subtype:"appRender",stack:e.stack}}),this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`})}}const vv=(0,ie.Ng)((e=>({dataViewerWidth:(0,En.b)(e),mapFrameId:e.appContext.staticFrames.map.id,friendInOtherDomain:e.appContext.friendInOtherDomain,isImmersivePromoRunning:fv.y.S.get(e)})))((0,at.Q)()((0,_a.N)()(bv)));var yv=s(58767),xv=s(8834),jv=s(75041),wv=s(71448),_v=s(36501),Cv=s(82384),Iv=s(46512),kv=s(26516),Ov=s(27307),Sv=s(95014),Tv=s(61696),Ev=s(40268),Mv=s(66633),Pv=s(92533);const Lv=(0,j.n5)("updateEverythingWhenUserLoggedIn",(()=>(0,A.RC)({userId:e=>e.session.userId,userData:e=>(0,Ta.ug)(e).data},(({userId:e,userData:t})=>{var s;return function(e){var t;if(window.clickstream&&e){const s=null===(t=e.identities)||void 0===t?void 0:t.find((({provider:e})=>"sberid"===e));s&&window.clickstream.profileUpdater.setProfileID("clientId",s.provider_user_id,!1)}}(t),(0,j._7)("auto"===(null===(s=(0,Qo.G7)())||void 0===s?void 0:s.runningAfterAuth)&&(0,Qo.cZ)(),(0,Tv.a)({userId:e,authId:t?t.user_id:void 0}),(0,Ov._)(),(0,Sv.v)(),!!t&&!!t.user_id&&(0,j._7)((0,Mv.Wy)(),(0,Mv.Jz)({albumId:k.Qh}),(0,Ev.PH)(),(0,j.NV)((({featureCart:e})=>e&&(0,Pv.Y)({})))))}))));var Nv=s(15417),Av=s(23205),Rv=s(16654),zv=s.n(Rv),Uv=s(88632),Bv=s(91171),Hv=s(50334),Fv=s(536);var Dv=s(88166);let Vv;var Zv=s(46303),$v=s(49971),qv=s(27337);let Wv="";var Gv=s(31629);const Qv=(0,s(59754).lQ)("turnAutoPageViewOn"),Kv=(0,j.n5)("showEmailUpdateNotification",(()=>(0,A.eU)((e=>e.appContext.weak.emailVerificationStatus),(e=>{const t=t=>"error"===e?t._t("Что-то пошло не так"):t._t("Готово"),s=t=>"error"===e?t._t("Попробуйте еще раз!"):t._t("Электронная почта подтверждена");return!!e&&(0,j.K2)((0,N.QY)((({tp:r})=>"error"===e?(0,Kl.D)((0,Fv.z)({title:t(r),message:s(r)})):(0,Kl.D)((0,Fv.k)({title:t(r),message:s(r)})))),(0,U.Ip)({emailVerificationStatus:void 0}))}))));var Yv=s(33190);function Xv(e){const{metric:t,label:s}=e;!function(e){if("undefined"!=typeof navigator&&"sendBeacon"in navigator){const t=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon("/_/metrics",t)}}({[t.name]:{value:t.value,label:s}})}var Jv=s(64438),ey=s(25872),ty=s(44178);const sy=(0,j.n5)("syncStateFromLS",(()=>(0,j._7)(Ad.j.$isEnabled.syncLS(((e,t)=>e||t)),fv.y.P.syncLS())));var ry=s(72185),iy=s(9481);class ay{constructor(){this.localStorageApi=new iy.R("feedback","feedback")}get(e){return(0,we.sH)(this,void 0,void 0,(function*(){try{return yield this.localStorageApi.get(e)}catch(e){}}))}set(e,t){return(0,we.sH)(this,void 0,void 0,(function*(){try{yield this.localStorageApi.set(e,t)}catch(e){}}))}}function ny(e,t){t&&t.trace&&t.trace.events&&t.trace.events.map((e=>{if("sapphire"===e.category){!function(e){if("undefined"==typeof window)return;const t=new CustomEvent("FromPage",{detail:{text:e}});window.dispatchEvent(t)}(`https://search.2gis.one/onlinedebug?text=${encodeURIComponent(e.body)}`)}}))}const oy=e=>e=>{const{debug:t}=e;return ny(0,t),e},cy=e=>e=>{const{debug:t}=e.data;return ny(0,t),e};var dy=s(19297);function ly(e){var t,s;const{data:{meta:r,result:i}}=e;if([400,403,500].includes(r.code)){const e=r.error?`${r.error.message} (${r.code})`:`Unknown WebAPI error (${r.code})`;if(500===r.code)throw new dy.Dr(e,r.code);if(403===r.code&&"apiKeyIsBlocked"===(null===(t=r.error)||void 0===t?void 0:t.type))throw new dy.Dr(e,r.code);const i=new Error(e);throw i.name=(null===(s=r.error)||void 0===s?void 0:s.type)||i.name,i}return Object.assign(Object.assign({},i),{code:r.code,error:r.error})}var uy=s(88618);const py=["sort","work_time","has_reviews","has_reviews_on_flamp","has_site","has_photos","has_rating","subway","opened_after_date","rubric_id","district_id","friends_were_here"],my=["bound"];function gy(e,t=my){const s={};return(0,q.jJ)(e,((e,r)=>{e&&r&&r.split(uy.xt).forEach((r=>{-1===t.indexOf(r)&&("work_time"!==r||"today,alltime"!==e?-1===py.indexOf(r)?s["attr["+r+"]"]=e:s[r]=e:s["attr[work_round_the_clock]"]="true")}))})),s}const hy=["bound","sort"],fy={search:["adm_div.city","adm_div.district","adm_div.district_area","adm_div.division","adm_div.living_area","adm_div.place","adm_div.region","adm_div.settlement","attraction","branch","building","crossroad","foreign_city","gate","parking","road","route","station","street","coordinates","kilometer_road_sign"],suggest:["adm_div.city","adm_div.district","adm_div.district_area","adm_div.division","adm_div.living_area","adm_div.place","adm_div.region","adm_div.settlement","attraction","building","crossroad","foreign_city","road","route_type","route","station.metro","station","street","user_queries","rubric","meta_rubric"],objectSuggest:["adm_div.region","adm_div.district_area","adm_div.city","adm_div.settlement","adm_div.district","adm_div.living_area","adm_div.division","adm_div.place","street","branch","building","road","attraction","crossroad","route","route_type","station","station.metro","user_queries","attribute","rubric","meta_rubric","org","special","coordinates","kilometer_road_sign"]},by=(0,vt.Bj)(((e,t)=>{const s=fy[e];if(0===t.length)return s.join(",");const r=t.split(",");return s.filter((e=>-1===r.indexOf(e))).join(",")}));function vy(e){const[t,s]=e;return{viewpoint1:`${t.lon},${t.lat}`,viewpoint2:`${s.lon},${s.lat}`}}function yy(e,t){if("true"!==t.bound)return{};const[s,r]=e;return{point1:`${s.lon},${s.lat}`,point2:`${r.lon},${r.lat}`}}function xy(e){return e?`${e.lon},${e.lat}`:void 0}const jy=e=>e?Object.assign({},vy(e)):{},wy=[22,4147,1234,11],_y=wy[0]+wy[3],Cy=wy[1]+wy[2];function Iy(e,t,s,r=""){const i=function(e){return Object.keys(e).map((t=>({key:t,value:(!1===e[t]?"false":e[t]||"").toString()}))).sort(((e,t)=>e.key<t.key?-1:e.key>t.key?1:0)).map((e=>e.value)).join("")}(t);return function(e){const t=e.length;let s=Cy;for(let r=0;r<t;r+=1)s=s*_y+e.charCodeAt(r),s>>>=0;return s}(function(e){return e.split("?")[0].replace(/^[^/]*\/\/[^/]+\//,"/")}(e)+i+r+s)}const ky={"items.locale":!0,"items.flags":!0,search_attributes:!0,"items.search_attributes.best_keyword":!0,"items.adm_div":!0,"items.city_alias":!0,"items.region_id":!0,"items.segment_id":!0,"items.reviews":!0,"items.point":!0,request_type:!0,context_rubrics:!0,query_context:!0,"items.links":!0,"items.name_ex":!0,"items.name_back":!0,"items.org":!0,"items.group":!0,"items.dates":!0,"items.external_content":!0,"items.contact_groups":!0,"items.comment":!0,"items.ads.options":!0,"items.email_for_sending.allowed":!0,"items.stat":!0,"items.stop_factors":!0,"items.description":!0,"items.geometry.centroid":!0,"items.geometry.selection":!0,"items.geometry.style":!0,"items.timezone_offset":!0,"items.context":!0,"items.level_count":!0,"items.address":!0,"items.is_paid":!0,"items.access":!0,"items.access_comment":!0,"items.for_trucks":!0,"items.is_incentive":!0,"items.paving_type":!0,"items.capacity":!0,"items.schedule":!0,"items.floors":!0,dym:!0,ad:!0,"items.rubrics":!0,"items.routes":!0,"items.platforms":!0,"items.directions":!0,"items.barrier":!0,"items.reply_rate":!0,"items.purpose":!0,"items.purpose_code":!0,"items.attribute_groups":!0,"items.route_logo":!0,"items.has_goods":!0,"items.has_apartments_info":!0,"items.has_pinned_goods":!0,"items.has_realty":!0,"items.has_exchange":!0,"items.has_payments":!0,"items.has_dynamic_congestion":!0,"items.is_promoted":!0,"items.congestion":!0,"items.delivery":!0,"items.order_with_cart":!0,search_type:!0,"items.has_discount":!0,"items.metarubrics":!0,"items.detailed_subtype":!0,"items.temporary_unavailable_atm_services":!0,"items.poi_category":!0,"items.has_ads_model":!0},Oy={getRegion:["items.code","items.uri_code","items.uri_aliases","items.name_grammatical_cases","items.time_zone","items.statistics","items.domain","items.locale","items.locales","items.satellites","items.bounds","items.country_code","items.zoom_level","items.default_pos","items.flags"].join(","),getRoute:["items.region_id","items.segment_id"].join(","),getItemList:Object.keys((0,q.cJ)(ky,["items.level_count","items.platforms","items.directions","items.barrier","items.dates","items.contact_groups","items.stop_factors","items.has_exchange","items.congestion","items.has_dynamic_congestion"])).join(","),getItemListNoKeyWords:Object.keys((0,q.cJ)(ky,["items.level_count","items.platforms","items.directions","items.barrier","items.dates","items.contact_groups","items.stop_factors","items.has_exchange","items.congestion","items.has_dynamic_congestion","items.search_attributes.best_keyword"])).join(","),getItemListWithoutContextRubrics:Object.keys((0,q.cJ)(ky,["items.level_count","items.platforms","items.directions","items.barrier","items.attribute_groups","items.dates","items.contact_groups","items.email_for_sending.allowed","items.stop_factors","context_rubrics","query_context","items.has_exchange","items.congestion","items.has_dynamic_congestion","items.search_attributes.best_keyword"])).join(","),getItem:Object.keys((0,q.cJ)(ky,["dym","items.search_attributes.best_keyword"])).concat(["items.structure_info.material","items.structure_info.floor_type","items.structure_info.gas_type","items.structure_info.year_of_construction","items.structure_info.elevators_count","items.structure_info.is_in_emergency_state","items.structure_info.project_type"]).join(","),getSuggestions:["items.name_ex","items.rubrics","items.org","items.adm_div","items.routes","items.type","items.subtype","items.address","items.search_attributes.personal_priority","items.search_attributes.dgis_source_type","items.search_attributes.dgis_found_by_address","items.search_attributes.dgis_ad_type","items.search_attributes.dgis_ad_rubric_id","items.segment_id","items.region_id","items.locale","items.group","items.context","search_attributes","items.flags","items.has_exchange","items.ads.options","items.has_ads_model"].join(","),markers:["items.ads","items.name","items.stop_factors","items.reviews","items.schedule","items.context","items.name_ex","items.timezone_offset","items.flags","items.has_exchange","items.temporary_unavailable_atm_services","items.friends","search_attributes","items.has_ads_model"].join(","),getItemByEntrance:["items.locale","items.adm_div","items.region_id","items.segment_id","items.group","items.address","items.floors"].join(",")};function Sy(e,t){switch(e){case 6:case 7:return"adm_div.region,adm_div.district_area";case 8:case 9:case 10:return"adm_div.city,adm_div.region,adm_div.district_area,adm_div.settlement,road";case 11:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division";case 12:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district";case 13:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district"+(t?"":",poi");case 14:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad"+(t?"":",poi");case 15:case 16:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place"+(t?"":",poi");case 17:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking"+(t?"":",poi");case 18:case 19:case 20:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking,gate"+(t?"":",poi");default:return"adm_div.region"}}const Ty=6e4;function Ey(e){const{timeToLive:t,errorTtl:s=Ty,staleWhileRevalidate:r=!1}=e;return{timeToLive:t,errorTtl:s,staleWhileRevalidate:r,data:{}}}function My(e){const{key:t,store:s,request:r}=e,{data:i,timeToLive:a,errorTtl:n,staleWhileRevalidate:o}=s;if("undefined"!=typeof process){const e=process.env.DESKTOP_DISABLE_SERVER_CACHE;if("true"===String(e).toLowerCase())return r()}let c=i[t];if(!c||c.expires<Date.now()){const e=Date.now()+a;if(c&&o){c.expires=e;const t=r().then((e=>(c.promise=t,e))).catch((()=>(c.expires=Date.now()+n,c.promise))).catch((()=>{}))}else c={promise:r().catch((e=>{throw c.expires=Date.now()+n,e})),expires:e},i[t]=c}return c.promise}function Py(e,t){const s=e.items,r={},i={};for(const e of s){if((0,q.Im)(e.default_pos)){(0,$.vV)({message:`Region without default_pos: ${e.code} `,level:"fatal",requestId:t.requestId,id:"dh57w",payload:{type:"exception",subtype:"InvalidRegion",data:JSON.stringify(e)}});continue}r[e.id]=e,r[e.code]=e;const s=i[e.country_code];(!(null==s?void 0:s.statistics.org_count)||e.statistics.org_count&&e.statistics.org_count>s.statistics.org_count)&&(i[e.country_code]=e)}return{result:{items:s,mapByCode:r,mapByCountry:i}}}const Ly=e=>{const t=(0,mh.s)(e).reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]]);return{zoom:13,lon:(t[0][0]+t[1][0])/2,lat:(t[0][1]+t[1][1])/2}};function Ny(e){return 404===e.code?{}:e.items.reduce(((e,t)=>{const{region_id:s,id:r,name:i,alias:a,country_code:n,simple_geometry:o}=t;return e[r]={id:r,region_id:s||"0",name:i,country_code:n,alias:a,default_pos:Ly(o)},e}),{})}var Ay=s(67461),Ry=s(34764);const zy=Ey({timeToLive:6e4,staleWhileRevalidate:!0}),Uy=Ey({timeToLive:6e4,staleWhileRevalidate:!0});class By{constructor(e,t){this.request=e,this.KEY=t.webApiKey,this.a="baf4c54e9dae";const s=t.webApiUrl,r=t.webApi3Url;this.RUBRICATOR_GET_URL=`${r}rubricator/get`,this.RUBRICATOR_DASHBOARD_URL=`${r}rubricator/dashboard`,this.RUBRICATOR_LIST_URL=`${r}rubricator/list`,this.RUBRICS_TREE_URL=`${s}catalog/rubric/list`,this.DETECT_REGION_URL=`${r}dashboard/geo/items`,this.ADS_ADVISE_GTA_ONLINE=`${r}ads/advise/gta/online`,this.SEARCH_FIRM_URL=`${r}items`,this.GET_ITEM_URL=`${r}items/byid`,this.SEARCH_GEO_URL=`${s}geo/search`,this.SEARCH_CLUSTERED_MARKERS_URL=`${r}markers/clustered`,this.SEARCH_MARKERS_URL=`${r}markers`,this.SUGGESTS_URL=`${s}suggest/list`,this.OBJECTS_SUGGESTS_URL=`${r}suggests`,this.PROFILE_URL=`${r}profile/data`,this.REGIONS_URL=`${s}region/list`,this.SETTLEMENTS_URL=`${r}aliases`,this.REGION_INFO=`${s}region/get`,this.BRANCH_GET_URL=`${s}catalog/branch/get`,this.BRANCH_LIST_URL=`${s}catalog/branch/list`,this.GET_ITEM_BY_ENTRACE_URL=`${r}items/byentrance`,this.METRO_STATIONS_URL=`${s}transport/station/list`,hb.S$&&(this.REQUEST_ID=t.requestId),this.sendPrivacyData=!t.featureReadOnly,this.userId=t.userId,this.sessionId=t.sessionId,this.appVersion=(0,Ay.v)(t.commitIsoDate),this.excludeTypesFromSearch=t.excludeTypesFromSearch,this.debugMode=t.srchdbgmd,this.searchDeviceType=t.searchDeviceType,this.searchUserHash=t.searchUserHash,this.featureDiscoveryKeywords=t.featureDiscoveryKeywords,this.featureClusteredMarkers=t.featureClusteredMarkers}getRegionsList({locale:e}){return My({key:e||"",store:zy,request:()=>{const t={fields:Oy.getRegion,key:this.KEY,locale:e,page_size:2e3};return this.request(this.REGIONS_URL,this.extendParams(t,this.REGIONS_URL)).then(ly).then((e=>Py(e,{requestId:this.REQUEST_ID}))).catch((0,Hv.eY)("regionsList",t,this.REQUEST_ID))}})}getSettlementsList({locale:e}){return My({key:e,store:Uy,request:()=>{const t={key:this.KEY,locale:e};return this.request(this.SETTLEMENTS_URL,this.extendParams(t,this.SETTLEMENTS_URL)).then(ly).then(Ny).catch((e=>{if("itemNotFound"===(null==e?void 0:e.name))return{};throw e})).catch((0,Hv.eY)("aliases",t,this.REQUEST_ID))}})}searchByQuery({query:e,page:t=1,pageSize:s,regionId:r,viewpoint:i,filters:a={},withFilters:n=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,adsIds:u,cityId:p,accessToken:m,isNonFixableQuery:g}){const h=l||(this.featureDiscoveryKeywords?Oy.getItemList:Oy.getItemListNoKeyWords)+(n?",filters,widgets":""),f=e&&!u?e:void 0,b=f&&g?`"${f}"`:void 0,v=Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,region_id:"0"!==r?r:void 0,q:null!=b?b:f,sort_point:xy(c),fields:h,type:(y=this.excludeTypesFromSearch,by("search",y)),page_size:s||k.Uq,ads_id:u,page:t,locale:d,allow_deleted:!0,location:xy(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,city_id:p},o?{is_viewport_change:!0}:{}),vy(i)),gy(a)),yy(i,a));var y;return this.request(this.SEARCH_FIRM_URL,this.extendParams(v,this.SEARCH_FIRM_URL,m?{headers:{Authorization:`Bearer ${m}`}}:void 0)).then(cy(this.SEARCH_FIRM_URL)).then(ly).catch((0,Hv.eY)("searchFirmByQuery",v,this.REQUEST_ID))}getSearchFilters({regionId:e,query:t,viewpoint:s,rubrId:r,locale:i,filters:a={},sortPoint:n}){const o=r?{rubric_id:r}:{q:t},c=Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,locale:i},o),{region_id:"0"!==e?e:void 0,page:1,page_size:1,type:by("search",this.excludeTypesFromSearch),fields:"filters,widgets",allow_deleted:!0,location:xy(n),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash}),vy(s)),gy((0,Bc.Up)(a,["rubric_id",...Object.values(Ry.nr)])));return this.request(this.SEARCH_FIRM_URL,this.extendParams(c,this.SEARCH_FIRM_URL)).then(cy(this.SEARCH_FIRM_URL)).then(ly).catch((0,Hv.eY)("getSearchFilters",c,this.REQUEST_ID))}getSearchFilialsFilters({orgId:e,viewpoint:t,locale:s}){const r=Object.assign({key:this.KEY,locale:s,org_id:e,page:1,page_size:1,fields:"filters,widgets",search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},vy(t));return this.request(this.SEARCH_FIRM_URL,this.extendParams(r,this.SEARCH_FIRM_URL)).then(cy(this.SEARCH_FIRM_URL)).then(ly).catch((0,Hv.eY)("getSearchFilters",r,this.REQUEST_ID))}searchByPoint({point:e,zoom:t,locale:s,viewpoint:r,is3dEnabled:i=!1}){const a=Math.round(Math.min(t,k.N)),n=Object.assign(Object.assign({key:this.KEY,point:`${e.lon},${e.lat}`,type:Sy(a,i),fields:Oy.getItemListNoKeyWords,page_size:1,locale:s},!i&&{zoom_level:a}),jy(r));return this.request(this.SEARCH_GEO_URL,this.extendParams(n,this.SEARCH_GEO_URL)).then(ly).then(oy(this.SEARCH_GEO_URL)).catch((0,Hv.eY)("searchByPoint",n,this.REQUEST_ID))}clusteredMarkersQuery({query:e,filters:t={},rubrId:s,buildingId:r,orgId:i,isViewportChanged:a=!1,viewpoint:n,locale:o,mapSize:c,attrId:d,markersWithLogoIds:l,adsIds:u,sortPoint:p,accessToken:m}){const g=!e||d||u?void 0:e,h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,map_width:c.width,map_height:c.height,locale:o,q:g,rubric_id:s,building_id:r,org_id:i,allow_deleted:!0,ads_id:u,type:by("search",this.excludeTypesFromSearch),location:xy(p),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},function(e){return e?{[`attr[${e}]`]:!0}:{}}(d)),a?{is_viewport_change:!0}:{}),vy(n)),yy(n,t)),function(e){return gy(e,hy)}(t)),(null==l?void 0:l.length)?{marker_ids:l.join(",")}:{}),{fields:Oy.markers}),f=this.featureClusteredMarkers?this.SEARCH_CLUSTERED_MARKERS_URL:this.SEARCH_MARKERS_URL;return this.request(f,this.extendParams(h,f,m?{headers:{Authorization:`Bearer ${m}`}}:void 0)).then(cy()).then(ly).catch((0,Hv.eY)("clusteredMarkersQuery",h,this.REQUEST_ID))}getInfrastructure({rubrIds:e,radius:t,center:s,locale:r,screen:i}){const a={key:this.KEY,map_width:i.width,map_height:i.height,locale:r,radius:t,lon:s.lon,lat:s.lat,rubric_id:e.join(","),type:by("search",this.excludeTypesFromSearch),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,fields:Oy.markers};return this.request(this.SEARCH_MARKERS_URL,this.extendParams(a,this.SEARCH_MARKERS_URL)).then(cy(this.SEARCH_MARKERS_URL)).then(ly).catch((0,Hv.eY)("getInfrastructure",a,this.REQUEST_ID))}searchFilials({orgId:e,page:t=1,pageSize:s,regionId:r,viewpoint:i,filters:a={},withFilters:n=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,searchDisableClippingByRelevance:u=!0,cityId:p,accessToken:m}){const g=l||`${this.featureDiscoveryKeywords?Oy.getItemList:Oy.getItemListNoKeyWords}${n?",filters,widgets":""}`,h=Object.assign(Object.assign(Object.assign(Object.assign({page:t,page_size:s||k.Uq,org_id:e,region_id:"0"!==r?r:void 0,sort_point:xy(c),fields:g,key:this.KEY,type:"branch",locale:d,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,search_disable_clipping_by_relevance:u,location:xy(c),city_id:p},gy(a)),o?{is_viewport_change:!0}:{}),vy(i)),yy(i,a));return this.request(this.SEARCH_FIRM_URL,this.extendParams(h,this.SEARCH_FIRM_URL,m?{headers:{Authorization:`Bearer ${m}`}}:void 0)).then(cy(this.SEARCH_FIRM_URL)).then(ly).catch((0,Hv.eY)("searchFilials",h,this.REQUEST_ID))}searchByBuildingId({buildingId:e,viewpoint:t,page:s=1,filters:r,locale:i,fields:a}){const n=r?gy(r):void 0,o=Object.assign(Object.assign({key:this.KEY,building_id:e,fields:a||Oy.getItemListWithoutContextRubrics,locale:i,page_size:k.Uq,page:s},jy(t)),n);return this.request(this.BRANCH_LIST_URL,this.extendParams(o,this.BRANCH_LIST_URL)).then(ly).then(oy(this.BRANCH_LIST_URL)).catch((0,Hv.eY)("fetchInBuildingList",o,this.REQUEST_ID))}searchInBuildingByQuery({buildingId:e,page:t=1,query:s,filters:r,viewpoint:i,locale:a,fields:n,withFilters:o=!1,sortPoint:c}){const d=n||Oy.getItemListNoKeyWords+(o?",filters,widgets":""),l=r?gy(r):void 0,u=Object.assign(Object.assign({key:this.KEY,building_id:e,q:s,fields:d,page_size:k.Uq,search_type:"indoor",locale:a,page:t,location:xy(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,allow_deleted:!0},l),jy(i));return this.request(this.SEARCH_FIRM_URL,this.extendParams(u,this.SEARCH_FIRM_URL)).then(cy(this.SEARCH_FIRM_URL)).then(ly).catch((0,Hv.eY)("searchInBuildingByQuery",u,this.REQUEST_ID))}searchMaintainers({buildingId:e,page:t=1,withStandardPageSize:s=!1,viewpoint:r,locale:i,fields:a}){const n=Object.assign({servicing:!0,servicing_group:"default",page_size:s?k.Uq:void 0,key:this.KEY,building_id:e,locale:i,fields:a||Oy.getItemListNoKeyWords,page:t},jy(r));return this.request(this.BRANCH_LIST_URL,this.extendParams(n,this.BRANCH_LIST_URL)).then(ly).then(oy(this.BRANCH_LIST_URL)).catch((0,Hv.eY)("searchMaintainers",n,this.REQUEST_ID))}searchProviders({buildingId:e,page:t=1,withStandardPageSize:s=!1,viewpoint:r,locale:i,fields:a}){const n=Object.assign({servicing:!0,servicing_group:"internet",page_size:s?k.Uq:void 0,key:this.KEY,building_id:e,locale:i,fields:a||Oy.getItemListNoKeyWords,page:t},jy(r));return this.request(this.BRANCH_LIST_URL,this.extendParams(n,this.BRANCH_LIST_URL)).then(ly).then(oy(this.BRANCH_LIST_URL)).catch((0,Hv.eY)("searchProviders",n,this.REQUEST_ID))}searchSuggestionsByQuery({regionId:e,query:t,types:s,type:r,locale:i}){const a={key:this.KEY,locale:i,q:t,region_id:"0"!==e?e:void 0,types:s&&s.length?s.join(","):by("suggest",this.excludeTypesFromSearch),type:r};return this.request(this.SUGGESTS_URL,this.extendParams(a,this.SUGGESTS_URL)).then(ly).then(oy(this.SUGGESTS_URL)).catch((0,Hv.eY)("searchSuggestionsByQuery",a,this.REQUEST_ID))}searchObjectSuggestions({query:e,types:t,locale:s,regionId:r,viewpoint:i,sortPoint:a,suggesterType:n,personalRecords:o}){const c=t?t.join(","):by("objectSuggest",this.excludeTypesFromSearch),d=Object.assign(Object.assign({key:this.KEY,q:e,suggesttype:n},vy(i)),{region_id:"0"!==r?r:void 0,fields:Oy.getSuggestions,type:"route_endpoint"===n?`${c},parking`:c,location:xy(a),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,locale:s}),l=o&&o.length>0?{method:"post",data:{personal_records:o}}:void 0;return this.request(this.OBJECTS_SUGGESTS_URL,this.extendParams(d,this.OBJECTS_SUGGESTS_URL,l)).then(cy(this.OBJECTS_SUGGESTS_URL)).then(ly).catch((0,Hv.eY)("searchObjectSuggestions",l?Object.assign(Object.assign({},l),d):d,this.REQUEST_ID))}getProfile({userId:e,authId:t}){const s={key:this.KEY,user_id:e,auth_id:t};return this.request(this.PROFILE_URL,this.extendParams(s,this.PROFILE_URL)).then(ly).catch((0,Hv.eY)("getProfile",s,this.REQUEST_ID))}getItem({id:e,fields:t,locale:s,clickPoint:r,viewpoint:i,contextRubrics:a,adsId:n,mapAdsId:o,searchCtx:c}){const d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({id:e,key:this.KEY,locale:s,fields:t||Oy.getItem,clickPoint:r?`${r.lon},${r.lat}`:void 0},c?{search_ctx:c}:{}),function(e){return e&&e.length?e.reduce(((e,t)=>(e[t.group]=e[t.group]||[],e[t.group].push(t.id),e)),[]).reduce(((e,t,s)=>(e[`context_rubrics[${s}]`]=t.join(","),e)),{}):{}}(a)),jy(i)),n?{ads_id:n}:{}),o?{map_ads_id:o}:{});return this.request(this.GET_ITEM_URL,this.extendParams(d,this.GET_ITEM_URL)).then(cy(this.GET_ITEM_URL)).then(ly).catch((0,Hv.eY)("getItem",d,this.REQUEST_ID))}fetchApartments(e){const t={id:e.id,key:this.KEY,locale:e.locale,fields:"items.links,items.links.database_entrances.apartments_info"},s=this.extendParams(t,this.GET_ITEM_URL),r={Authorization:`Bearer ${e.accessToken}`};return this.request(this.GET_ITEM_URL,Object.assign(Object.assign({},s),{headers:r})).then(ly).catch((0,Hv.eY)("fetchApartments",t,this.REQUEST_ID))}getItems({ids:e,fields:t,locale:s,clickPoint:r,viewpoint:i}){const a=Object.assign({id:e.join(","),key:this.KEY,locale:s,fields:t||Oy.getItem,clickPoint:r?`${r.lon},${r.lat}`:void 0},jy(i));return this.request(this.GET_ITEM_URL,this.extendParams(a,this.GET_ITEM_URL)).then(cy(this.GET_ITEM_URL)).then(ly).catch((0,Hv.eY)("getItem",a,this.REQUEST_ID))}getProfiles({ids:e,viewpoint:t,locale:s},r){const i=Object.assign({id:e.join(","),key:this.KEY,locale:s,fields:r||Oy.getItemListNoKeyWords,allow_deleted:!0},jy(t));return this.request(this.BRANCH_GET_URL,this.extendParams(i,this.BRANCH_GET_URL)).then(ly).then(oy(this.BRANCH_GET_URL)).catch((0,Hv.eY)("getProfiles",i,this.REQUEST_ID))}getRegionById({id:e,locale:t}){const s=t=>({result:t.result.mapByCode[e]}),r=function({key:e,store:t}){const s=t.data[e];if(s)return t.staleWhileRevalidate||s.expires>Date.now()?s.promise:void 0}({key:t||"",store:zy});if(r)return r.then(s);const i={fields:Oy.getRegion,id:e,key:this.KEY,locale:t};return this.request(this.REGION_INFO,this.extendParams(i,this.REGION_INFO)).then(ly).then((e=>Py(e,{requestId:this.REQUEST_ID}))).then(s).catch((0,Hv.eY)("getRegionById",i,this.REQUEST_ID))}searchParkingsAround({point:{lon:e,lat:t},radius:s,fields:r,locale:i}){const a={type:"parking",key:this.KEY,locale:i,point:`${e},${t}`,radius:s,fields:r||Oy.getItemListNoKeyWords};return this.request(this.SEARCH_GEO_URL,this.extendParams(a,this.SEARCH_GEO_URL)).then(cy(this.SEARCH_GEO_URL)).then(ly).catch((0,Hv.eY)("searchParkingsAround",a,this.REQUEST_ID))}searchFirmByRubric({page:e=1,rubrId:t,regionId:s,viewpoint:r,filters:i={},sortPoint:a,pageSize:n,locale:o,fields:c,withFilters:d=!1,cityId:l,accessToken:u,bestKeyword:p}){const m=c||`${this.featureDiscoveryKeywords?Oy.getItemList:Oy.getItemListNoKeyWords}${d?",filters,widgets":""}`,g=Object.assign(Object.assign(Object.assign(Object.assign({page:e,page_size:n||k.Uq,rubric_id:t,region_id:"0"!==s?s:void 0,sort_point:xy(a),fields:m,key:this.KEY,locale:o,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,location:xy(a),city_id:l},p&&{search_query_context:{best_keyword:p}}),vy(r)),yy(r,i)),gy(i));return this.request(this.SEARCH_FIRM_URL,this.extendParams(g,this.SEARCH_FIRM_URL,u?{headers:{Authorization:`Bearer ${u}`}}:void 0)).then(cy(this.SEARCH_FIRM_URL)).then(ly).catch((0,Hv.eY)("searchFirmByRubric",g,this.REQUEST_ID))}searchFirmByAttribute({page:e=1,attrId:t,regionId:s,viewpoint:r,filters:i={},sortPoint:a,pageSize:n,locale:o,fields:c,withFilters:d=!1,accessToken:l}){const u=c||`${this.featureDiscoveryKeywords?Oy.getItemList:Oy.getItemListNoKeyWords}${d?",filters,widgets":""}`,p=Object.assign(Object.assign(Object.assign({page:e,page_size:n||k.Uq,[`attr[${t}]`]:!0,region_id:"0"!==s?s:void 0,sort_point:xy(a),fields:u,key:this.KEY,locale:o,allow_deleted:!0,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,location:xy(a)},vy(r)),yy(r,i)),gy(i));return this.request(this.SEARCH_FIRM_URL,this.extendParams(p,this.SEARCH_FIRM_URL,l?{headers:{Authorization:`Bearer ${l}`}}:void 0)).then(ly).then(oy(this.SEARCH_FIRM_URL)).catch((0,Hv.eY)("searchFirmByAttribute",p,this.REQUEST_ID))}getRubric(e){const t={id:e.id,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale,key:this.KEY};return this.request(this.RUBRICATOR_GET_URL,this.extendParams(t,this.RUBRICATOR_GET_URL)).then(ly).catch((0,Hv.eY)("getRubric",e,this.REQUEST_ID))}getDashboard(e){const t=e.viewpoint?vy(e.viewpoint):{},s=Object.assign(Object.assign({region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale},t),{key:this.KEY});return this.request(this.RUBRICATOR_DASHBOARD_URL,this.extendParams(s,this.RUBRICATOR_DASHBOARD_URL)).then(ly).catch((0,Hv.eY)("getDashboard",e,this.REQUEST_ID))}getRubricatorList(e){const t=Object.assign(Object.assign({parent_id:e.parentId,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale},vy(e.viewpoint)),{key:this.KEY});return this.request(this.RUBRICATOR_LIST_URL,this.extendParams(t,this.RUBRICATOR_LIST_URL)).then(ly).catch((0,Hv.eY)("getRubricatorList",e,this.REQUEST_ID))}getRubricsTree(e){if("0"===e.regionId)return Promise.resolve([]);const t={key:this.KEY,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale,fields:"items.rubrics"};return this.request(this.RUBRICS_TREE_URL,this.extendParams(t,this.RUBRICS_TREE_URL)).then(ly).then((e=>{if(200!==e.code)throw new dy.Dr("Rubrics tree not found",404);return e.items})).catch((0,Hv.eY)("getRubricsTree",e,this.REQUEST_ID))}detectRegion(e){const t={key:this.KEY,locale:e.locale,limit:1,zoom_level:Math.min(e.zoomLevel,k.N),k_area:.25,k_distance:.45,k_branches:.05,k_from_region:.25,min_percent_intersection_of_screen:5,distance_to_field:"board",geometry:e.geometry};return this.request(this.DETECT_REGION_URL,this.extendParams(t,this.DETECT_REGION_URL)).then(ly).catch((0,Hv.eY)("detectRegion",e,this.REQUEST_ID))}getAdsAdviseGtaOnline(e){const t={key:this.KEY},s="0"!==e.regionId&&e.regionId?+e.regionId:void 0,r={withCredentials:this.sendPrivacyData,method:"post",data:Object.assign(Object.assign({},this.enableDebug()),{shv:this.appVersion,user_id:this.sendPrivacyData?this.userId:void 0,key:this.KEY,auth_user_id:e.authUserId,locale:e.locale,product_id:e.productId,viewport:e.viewport,query:e.query,region_id:s,user_location:e.userLocation,banner_slot:e.bannerSlot,query_context_rubrics:e.rubrics})};return this.request(this.ADS_ADVISE_GTA_ONLINE,this.extendParams(t,this.ADS_ADVISE_GTA_ONLINE,r)).then(ly).catch((0,Hv.eY)("getAdsAdvise",e,this.REQUEST_ID))}getItemByEntrance({id:e,locale:t}){const s={id:e,key:this.KEY,locale:t,fields:Oy.getItemByEntrance};return this.request(this.GET_ITEM_BY_ENTRACE_URL,this.extendParams(s,this.GET_ITEM_BY_ENTRACE_URL)).then(cy(this.GET_ITEM_BY_ENTRACE_URL)).then(ly).catch((0,Hv.eY)("getItemByEntrance",s,this.REQUEST_ID))}getMetroStations({projectId:e}){const t={key:this.KEY,region_id:e,station_type:"metro",page_size:1e3,fields:"items.routes"};return this.request(this.METRO_STATIONS_URL,this.extendParams(t,this.METRO_STATIONS_URL)).then(ly).catch((0,Hv.eY)("getMetroStations",t,this.REQUEST_ID))}enableDebug(){return this.debugMode?{debug:this.debugMode}:{}}extendParams(e,t,s){const r=Object.assign({withCredentials:this.sendPrivacyData},s),i=Object.assign(Object.assign(Object.assign({},e),this.enableDebug()),{"stat[sid]":this.sessionId,"stat[user]":this.sendPrivacyData?this.userId:void 0,shv:this.appVersion});return Object.assign({params:Object.assign(Object.assign({},i),{r:Iy(t,i,this.a)})},r)}}var Hy=s(52524),Fy=s(98767);function Dy(e,t){return Object.assign(Object.assign({},(0,Hy.Z)(e,t)),function(e,t){const{photoApiKeyProfile:s,photoApiKey:r,photoApiUrl:i,requestId:a}=t;function n(e){return{"Auth-Version":"2.0","Auth-Token":e}}return{addPhoto({uid:t,objectId:o,objectType:c,albumCode:d,locale:l,regionId:u,accessToken:p,isReplaced:m,isMenuPhoto:g}){const h=new FormData;h.append("key","profile"===c?s:r),h.append("object_id",o),h.append("object_type",c),h.append("album_code",d),h.append("locale",l),h.append("region_id",u),h.append("items[0][uid]",t),g&&h.append("items[0][tag_code]","price_list_image"),m&&h.append("replace","true");const f=n(p);return e(`${i}2.0/photo/add`,{method:"post",headers:f,data:h}).then(Fy.Fj).catch((0,Hv.eY)("addPhotos",{objectId:o,objectType:c,albumCode:d},a))},deletePhoto({objectId:t,objectType:s,photoId:o,accessToken:c}){const d=new FormData;d.append("key",r),d.append("object_id",t),d.append("object_type",s),d.append("id",o);const l=`${i}2.0/photo/delete`,u=n(c);return e(l,{method:"post",headers:u,data:d}).then(Fy.bT).catch((0,Hv.eY)("deletePhoto",{objectId:t,objectType:s,photoId:o,accessToken:c},a))},uploadPhoto({id:t,hash:o,file:c,accessToken:d,objectType:l}){const u=new FormData;u.append("key","profile"===l?s:r),u.append("items[0][id]",t),u.append("items[0][hash]",o),u.append("items[0][file]",c,c.name),u.append("preview_size",Hy.C);const p=n(d);return e(`${i}2.0/photo/upload`,{method:"post",headers:p,data:u,timeout:6e4}).then(Fy.BZ).catch((0,Hv.eY)("uploadPhoto",{id:t,hash:o,fileName:c.name,accessToken:d},a))}}}(e,t))}class Vy{constructor(e,t){this.request=e,this.URL=t.profileApiUrl,this.REQUEST_ID=t.requestId,this.userId=t.userId}clearSearchHistory({authId:e}={}){const t={ts:Date.now(),userId:e?this.userId:void 0},s=e?`${this.URL}/authuser/${e}/profile/history/clear`:`${this.URL}/user/${this.userId}/profile/history/clear`;return this.request(s,{withCredentials:!1,method:"post",params:t}).then((()=>({code:200}))).catch((0,Hv.eY)("clearSearchHistory",t,this.REQUEST_ID))}}var Zy=s(79435);const $y={branches:["meta.providers","meta.branch_rating","meta.branch_reviews_count","meta.total_count","reviews.hiding_reason","reviews.is_verified"].join(","),geo:["meta.providers","meta.geo_rating","meta.geo_reviews_count","meta.total_count","reviews.hiding_reason"].join(","),orgs:["meta.org_rating","meta.org_reviews_count","meta.total_count","reviews.object.address","reviews.hiding_reason","reviews.is_verified"].join(","),user:["reviews.object.address","reviews.object.logo","reviews.object.name","reviews.object.is_deleted","reviews.hiding_reason","reviews.is_verified"].join(","),create:["reviews.hiding_reason"].join(","),edit:["reviews.hiding_reason"].join(",")};class qy{constructor(e,t){this.PAGE_SIZE=50,this.request=e,this.BASE_URL=t.reviewApiUrl,this.REQUEST_ID=t.requestId,this.KEY=t.reviewApiKey}getBranchReviews({id:e,offset:t,isAdvertiser:s=!1,withAnswer:r,ratings:i,unconfirmed:a,pageSize:n=this.PAGE_SIZE,accessToken:o,facts:c,newtworkTimeout:d,locale:l}){const u={limit:n,offset:t,ratings:i,is_advertiser:s,with_answer:r,fields:$y.branches,without_my_first_review:!!o,rated:!a,facts:c,sort_by:"friends",key:this.KEY,locale:l};return this.request(`${this.BASE_URL}branches/${e}/reviews`,{params:u,headers:Object.assign({},o?{Authorization:`Bearer ${o}`}:void 0),withCredentials:!1,timeout:d}).then(Gy).catch((0,Hv.eY)("getBranchReviews",u,this.REQUEST_ID))}getGeoReviews({id:e,offset:t,pageSize:s=this.PAGE_SIZE,ratings:r,accessToken:i,newtworkTimeout:a,locale:n}){const o={limit:s,offset:t,ratings:r,fields:$y.geo,sort_by:"friends",without_my_first_review:!!i,key:this.KEY,locale:n};return this.request(`${this.BASE_URL}geo/${e}/reviews`,{params:o,headers:Object.assign({},i?{Authorization:`Bearer ${i}`}:void 0),withCredentials:!1,timeout:a}).then(Gy).catch((0,Hv.eY)("getGeoReviews",o,this.REQUEST_ID))}getOrgReviews({id:e,offset:t,withAnswer:s,ratings:r,accessToken:i,unconfirmed:a,pageSize:n=this.PAGE_SIZE,facts:o,newtworkTimeout:c,locale:d}){const l={limit:n,offset:t,ratings:r,with_answer:s,fields:$y.orgs,without_my_first_review:!!i,rated:!a,facts:o,sort_by:"friends",key:this.KEY,locale:d};return this.request(`${this.BASE_URL}orgs/${e}/reviews`,{params:l,headers:Object.assign({},i?{Authorization:`Bearer ${i}`}:void 0),withCredentials:!1,timeout:c}).then(Gy).catch((0,Hv.eY)("getReviews",l,this.REQUEST_ID))}getUserReviews(e){const t={limit:this.PAGE_SIZE,locale:e.locale,fields:$y.user,offset_date:e.offset,sort_by:"date_edited",key:this.KEY},s=`${this.BASE_URL}users/2gis/${e.userId}/reviews`;return this.request(s,{params:t,headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then(Ky).catch((0,Hv.eY)("getUserReviews",t,this.REQUEST_ID))}getUserReviewsByObject(e){const t=`${this.BASE_URL}users/2gis/${e.userId}/reviews/by-objects`;return this.request(t,{method:"get",params:{objects_ids:e.entityId,limit:1,fields:$y.user,key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then(Ky).catch((0,Hv.eY)("getUserReviews",(0,q.cJ)(e,["accessToken"]),this.REQUEST_ID))}createReview(e){var t;const s=(0,Zy.J)();s.append("object_id",e.id),s.append("object_type",e.type),(null===(t=e.photos)||void 0===t?void 0:t.length)&&s.append("photo_ids",e.photos.join(",")),s.append("rating",e.rating.toString()),e.text.length>0&&s.append("text",e.text),s.append("fields",$y.create),e.sourceId&&(s.append("source_type","sbol"),s.append("source_id",e.sourceId));const r=`${this.BASE_URL}reviews`;return this.request(r,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:s,withCredentials:!1}).then(Yy).catch((t=>{var s,r;const i=null===(s=null==t?void 0:t.details)||void 0===s?void 0:s.response;if(403===(null==i?void 0:i.status)&&"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===(null===(r=i.data)||void 0===r?void 0:r.error_code))throw{code:403,name:i.data.error_code,message:i.data.message,skipLog:!0};return(0,Hv.eY)("createReview",e,this.REQUEST_ID)(t)}))}postReviewPhotos(e){const{accessToken:t,image:s}=e,r=`${this.BASE_URL}photos`,i=new FormData;return i.append("images[]",s),this.request(r,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${t}`},data:i}).then((({data:e})=>e)).catch((0,Hv.eY)("postReviewPhotos",e,this.REQUEST_ID))}editReview(e){var t;const s=(0,Zy.J)();s.append("rating",e.rating.toString()),e.text.length>0&&s.append("text",e.text),s.append("fields",$y.edit),e.photos&&s.append("photos",e.photos.join(",")),(null===(t=e.new_photos)||void 0===t?void 0:t.length)&&s.append("new_photos",e.new_photos.join(","));const r=`${this.BASE_URL}reviews/${e.id}`;return this.request(r,{method:"patch",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:s,withCredentials:!1}).then(Yy).catch((0,Hv.eY)("editReview",(0,q.cJ)(e,["accessToken"]),this.REQUEST_ID))}validateReview(e){const{text:t}=e,s=`${this.BASE_URL}reviews/validate`,r=new FormData;return r.append("text",t),this.request(s,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Accept:"application/json"},data:r}).then((({data:e})=>e)).catch((0,Hv.eY)("validateReview",e,this.REQUEST_ID))}likeReview(e){const t=`${this.BASE_URL}reviews/${e.id}/likes`;return this.request(t,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Hv.eY)("likeReview",(0,q.cJ)(e,["accessToken"]),this.REQUEST_ID))}unlikeReview(e){const t=`${this.BASE_URL}reviews/${e.id}/likes`;return this.request(t,{method:"delete",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Hv.eY)("likeReview",(0,q.cJ)(e,["accessToken"]),this.REQUEST_ID))}getReviewComments({id:e,offset:t,limit:s,locale:r}){const i={limit:s,offset_date:t,key:this.KEY,locale:r};return this.request(`${this.BASE_URL}reviews/${e}/comments`,{params:i,withCredentials:!1}).then(Qy).catch((0,Hv.eY)("getReviewComments",i,this.REQUEST_ID))}deleteReview({id:e,accessToken:t,locale:s}){const r={id:e,key:this.KEY,locale:s},i=`${this.BASE_URL}reviews/${e}`;return this.request(i,{method:"delete",params:r,headers:{Authorization:`Bearer ${t}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Hv.eY)("deleteReview",r,this.REQUEST_ID))}deleteComment({id:e,accessToken:t,locale:s}){const r={id:e,key:this.KEY,locale:s},i=`${this.BASE_URL}comments/${e}`;return this.request(i,{method:"delete",params:r,headers:{Authorization:`Bearer ${t}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Hv.eY)("deleteComment",r,this.REQUEST_ID))}sendReviewComplaint(e){const t=(0,Zy.J)();t.append("id",e.id),t.append("text",e.text);const s=`${this.BASE_URL}reviews/${e.id}/complaints`;return this.request(s,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:t,withCredentials:!1}).then((()=>({code:200}))).catch((e=>{const t=e.details.response;if(t&&400===t.status&&"INVALID_PARAMETER_TEXT"===t.data.error_code)throw{name:"ComplaintError",message:"INVALID_PARAMETER_TEXT",code:400};throw e})).catch((0,Hv.eY)("sendReviewComplaint",(0,q.cJ)(e,["accessToken"]),this.REQUEST_ID))}sendReviewCommentAnswer({id:e,text:t,accessToken:s,locale:r}){const i=`${this.BASE_URL}reviews/${e}/comments`,a={id:e,key:this.KEY,locale:r},n=(0,Zy.J)();return n.append("text",t),this.request(i,{method:"post",params:a,data:n,headers:{Authorization:`Bearer ${s}`},withCredentials:!1}).then((e=>({comment:e.data.comment,code:200}))).catch((e=>{const t=e.details.response;if(t&&400===t.status&&"INVALID_PARAMETER_TEXT"===t.data.error_code)throw{name:"ReviewCommentError",message:"INVALID_PARAMETER_TEXT",code:400};throw e})).catch((0,Hv.eY)("sendReviewCommentAnswer",a,this.REQUEST_ID))}getFacts(e){const{id:t,type:s,isAdvertiser:r}=e,i=`${this.BASE_URL}objects/${s}/${t}/facts`,a={is_advertiser:r,key:this.KEY,locale:e.locale};return this.request(i,{params:a,withCredentials:!1}).then(Wy).catch((0,Hv.eY)("getFacts",e,this.REQUEST_ID))}getRatings(e){const{id:t,forOrg:s}=e,r=s?`${this.BASE_URL}orgs/${t}/ratings`:`${this.BASE_URL}objects/${t}/ratings`,i={key:this.KEY};return this.request(r,{params:i,withCredentials:!1}).then((e=>({ratings:e.data.ratings,code:200}))).catch((0,Hv.eY)("getRatings",e,this.REQUEST_ID))}getReviewSummary(e){const{id:t,locale:s}=e,r=`${this.BASE_URL}objects/${t}/summary`,i={locale:s,key:this.KEY};return this.request(r,{params:i}).then((e=>({text:e.data.text}))).catch((0,Hv.eY)("getReviewSummary",e,this.REQUEST_ID))}}function Wy({data:e}){return{code:e.meta.code,data:e.facts}}function Gy({data:e}){return{items:e.reviews?e.reviews:[],total:e.meta.branch_reviews_count||e.meta.org_reviews_count||e.meta.geo_reviews_count||0,rating:e.meta.branch_rating||e.meta.geo_rating||0,orgRating:e.meta.org_rating||0,totalForRequest:e.meta.total_count||0,hasMore:!!e.meta.next_link,code:200===e.meta.code?e.meta.code:(0,dy.F6)(e.meta.code)}}function Qy({data:e}){return{comments:e.comments,total:e.comments.length||0,code:200===e.meta.code?e.meta.code:(0,dy.F6)(e.meta.code)}}function Ky({data:e}){const t=e.reviews?e.reviews:[];return{items:t,total:e.total_count||t.length,totalForRequest:e.total_count||t.length,code:200===e.meta.code?e.meta.code:(0,dy.F6)(e.meta.code)}}function Yy({data:e}){if(!e.review)throw new Error("There is no review in create review response");return{items:[e.review],total:1,code:200}}function Xy({data:e}){return e.result&&e.result.items?{items:e.result.items,total:e.result.total_count||0,code:200}:{items:[],total:0,code:200}}function Jy(e,t){const{discountsApiUrl:s,requestId:r}=t;return{getDiscounts:({id:t})=>e(`${s}filials/${t}/discounts`).then(Xy).catch((0,Hv.eY)("getDiscounts",{id:t},r))}}class ex{constructor(e,t){this.request=e,this.URL=t.shortonizerUrl,this.REQUEST_ID=t.requestId}createShortLink(e){const t={mode:"json",encoded:!0,url:e};return this.request(this.URL,{params:t}).then(tx).catch((0,Hv.eY)("createShortLink",t,this.REQUEST_ID))}}function tx(e){const{data:t,status:s,config:r}=e;return 200===s&&t&&t.shorturl||!r.params?t.shorturl:r.params.url}const sx={name:"FeedbackError",message:"Длина поля message не должна превышать 10000 символов",code:400};class rx{constructor(e,t){this.request=e,this.FEEDBACK_URL=t.feedbackApiUrl,this.MEDIA_COMPLAIN_URL=`${t.photoApiUrl}2.0/feedback/add`,this.REQUEST_ID=t.requestId,this.photoApiKey=t.photoApiKey}sendFeedback(e){if(e.message.length>=1e4)return Promise.reject(sx);const t=this.createFormDataFeedback(e);return this.request(this.FEEDBACK_URL,{method:"post",data:t,withCredentials:!1}).then(ix).catch((0,Hv.eY)("sendFeedback",e,this.REQUEST_ID))}createFormDataFeedback(e){const t=(0,Zy.J)();if(t.append("special[product]",e.product),t.append("useJson","true"),t.append("special[city]",e.city),t.append("email",e.emailValue||""),t.append("message",e.message||""),t.append("type",e.errorType||""),t.append("sourceUrl",e.sourceUrl),t.append("screenWidth",e.screen.width.toString()),t.append("screenHeight",e.screen.height.toString()),t.append("user_id",e.userId),t.append("session_id",e.sessionId),e.accessToken&&t.append("authorizationToken",e.accessToken),e.routeName&&t.append("routeName",e.routeName),e.routeNumber&&t.append("routeNumber",e.routeNumber),e.filialId&&t.append("filialId",e.filialId),e.files&&e.files.forEach((e=>t.append("file[]",e,e.name))),e.place&&t.append("place",e.place),e.placeTitle&&t.append("placeTitle",e.placeTitle),e.mapType&&t.append("rawParams[mapType]",e.mapType),e.category&&t.append("rawParams[category]",e.category),e.hardwareInfo&&t.append("rawParams[hardwareInfo]",e.hardwareInfo),e.raw)for(const s in e.raw){const r=e.raw[s];r&&t.append(`rawParams[${s}]`,r)}return t.append("lang",e.lang),t}sendMediaComplaint(e){if(e.message.length>=1e4)return Promise.reject(sx);const t=this.createFormDataMediaComplaint(e),s=new URLSearchParams({key:this.photoApiKey});return this.request(this.MEDIA_COMPLAIN_URL,{method:"post",data:t,withCredentials:!0,headers:Object.assign({},e.accessToken&&{Authorization:`Bearer ${e.accessToken}`}),params:s}).then(ax).catch((0,Hv.eY)("sendFeedback",e,this.REQUEST_ID))}createFormDataMediaComplaint(e){const t=(0,Zy.J)();return t.append("email",e.emailValue||""),t.append("description",e.message||""),t.append("media_id",e.photoId),t}}function ix({data:e}){if("ok"!==e.result)throw{name:"FeedbackError",message:e.result,code:400};return{code:200}}function ax({data:e}){if(200!==e.meta.code)throw{name:"FeedbackError",message:e.result,code:400};return{code:200}}function nx(e){var t;const{data:s}=e;if("error"in s){const e=new Error(s.error);throw e.name=s.status,e}const{meta:r,result:i}=s;if([400,403,500].includes(r.code)){const e=r.error?`${r.error.message} (${r.code})`:`Unknown MarketAPI error (${r.code})`;if(500===r.code)throw new dy.Dr(e,r.code);const s=new Error(e);throw s.name=(null===(t=r.error)||void 0===t?void 0:t.type)||s.name,s}return Object.assign(Object.assign({},i),{code:r.code,error:r.error})}function ox(e){const[t,s]=e;return{point1:`${t.lon},${t.lat}`,point2:`${s.lon},${s.lat}`}}function cx(e){const t={};return(0,q.jJ)(e,((e,s)=>{e&&(t[s]=e)})),t}const dx=([e,t])=>({id:e,label:e,count:3,children:t?t.map(dx):[]}),lx=dx(["Товары",[["Автотовары",[["Шины",[]]]],["Лекарства",[["Лекарства",[]],["Витамины",[]],["БАД",[]],["Медицинские изделия",[]]]],["Строительные материалы",[["Брус",[]],["Доски",[]],["ДСП",[]],["МДФ",[]],["Фанера",[]],["Шпаклевка",[]],["Штукатурка",[]],["Кирпич",[]],["Гипсокартон",[]],["Межкомнатные двери",[]],["Входные двери",[]]]],["Отделочные материалы",[["Ламинат",[]],["Линолеум",[]],["Обои",[]],["Керамическая плитка",[]],["Керамогранит",[]],["Краски",[]],["Эмали",[]]]],["Сантехника",[["Ванны",[]],["Унитазы",[]],["Смесители",[]],["Душевые кабины",[]],["Раковины",[]]]],["Электроинструмент",[["Дрели",[]],["Перфораторы",[]],["УШМ (Болгарки)",[]],["Шуруповёрты",[]]]],["Крепёжные изделия",[["Гвозди",[]],["Саморезы",[]],["Болты",[]],["Дюбели",[]]]]]]),ux=["69","4","46","25","33","78","31","9","65","41","11","21","40","5","58","23","7","10","73","86","32","29","12","19","45","6","74","1","76","2","48","16","24","44","18","38","43","54","39","81","47","97","22","3","36","13","83","17","35","53","15","50","28"],px={feature_config:"categories_without_fake_first_level,range_price_type_supported,from_price_type_supported"};class mx{constructor(e,t){this.request=e;const s=t.marketApiUrl;this.GET_SUGGESTIONS_URL=`${s}product/suggest`,this.SEARCH_PRODUCTS_URL=`${s}product/items`,this.SEARCH_PRODUCTS_BY_BRANCH_URL=`${s}product/items_by_branch`,this.GET_OFFERS_URL=`${s}offer/items`,this.GET_OFFERS_GROUPED_BY_ORG_URL=`${s}offer/items_by_org`,this.GET_PRODUCT_OFFER_WITH_ITEMS=`${s}offer/items_with_products`,this.GET_REALTY_URL=`${s}realty/items`,this.GET_REALTY_MARKERS=`${s}realty/markers`,this.GET_EXCHANGE_ITEMS=`${s}currency_exchange/items`,this.GET_EXCHANGE_MARKERS=`${s}currency_exchange/markers`,this.GET_EXCHANGE_ITEMS_BY_BRANCH=`${s}currency_exchange/items_by_branch`,this.SBER_MM_CC_CHECKOUT=`${s}partner/smm/cc/checkout`,this.GET_PRICE_LIST_IMAGES=`${s}price_list_images/items_by_branch`,this.GET_GEO_BY_ID_URL=`${t.marketGeoApiUrl}product/items_by_geo`,this.REQUEST_ID=t.requestId,this.CLIENT_ID=t.clientId}getProjectCategories({projectId:e}){return ux.includes(e)?Promise.resolve({code:200,categories:lx}):Promise.reject({code:404})}getSuggestions(e){const{query:t,branchId:s,viewpoint:r,locale:i}=e;return this.request(this.GET_SUGGESTIONS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({},px),{q:t,branch_id:s}),ox(r)),{locale:i,types:"category,org_product,raw_product"})}).then(nx).catch((0,Hv.eY)("getSuggestions",e,this.REQUEST_ID))}searchProductsById(e){return this.searchProducts(e)}getBranchCategoriesAndProducts(e){return this.getProductsByBranch(e)}searchBranchProducts(e){return this.getProductsByBranch(Object.assign(Object.assign({},e),{page:e.page||1}))}getOffers(e){const{productId:t,buildingId:s,viewpoint:r,locale:i,page:a=1,filters:n={}}=e;return this.request(this.GET_OFFERS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({product_id:t,building_id:s},ox(r)),{locale:i,page:a,page_size:k.H0}),cx(n)),px)}).then(nx).catch((0,Hv.eY)("getOffers",e,this.REQUEST_ID))}getOffersGroupedByOrg(e){const{productId:t,buildingId:s,viewpoint:r,locale:i,page:a=1,filters:n={}}=e;return this.request(this.GET_OFFERS_GROUPED_BY_ORG_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({product_id:t,building_id:s},ox(r)),{locale:i,page:a,page_size:k.H0}),cx(n)),px)}).then(nx).catch((0,Hv.eY)("getOffersGroupedByOrg",e,this.REQUEST_ID))}getRealtyItem(e){const{id:t,locale:s}=e,r={platform_code:this.CLIENT_ID,locale:s,id:t};return this.request(`${this.GET_REALTY_URL}/${t}`,{params:r}).then(nx).catch((0,Hv.eY)("getRealtyItem",r,this.REQUEST_ID))}getRealtyMarkers(e){const{category_ids:t,viewpoint:s,locale:r,geo_id:i,filters:a}=e,n=Object.assign(Object.assign(Object.assign({platform_code:this.CLIENT_ID,category_ids:t},ox(s)),{locale:r,geo_id:i}),cx(a||{}));return this.request(this.GET_REALTY_MARKERS,{params:n}).then(nx).catch((0,Hv.eY)("getRealtyMarkers",n,this.REQUEST_ID))}getRealtyItems(e){const{category_ids:t,viewpoint:s,page:r=1,locale:i,filters:a,pageSize:n,geometry:o,geo_id:c,sort:d,platformCode:l}=e,u=Object.assign(Object.assign(Object.assign({platform_code:l||this.CLIENT_ID,category_ids:t},ox(s)),{page:r,locale:i,page_size:n||k.iE,geometry:o,geo_id:c,sort:d}),cx(a||{}));return this.request(this.GET_REALTY_URL,{params:u}).then(nx).catch((0,Hv.eY)("getRealtyItems",u,this.REQUEST_ID))}getRealtyForEntityTab(e){const{geoId:t,locale:s,page:r}=e,i=Object.assign({geo_id:t,locale:s,page:r,page_size:k.iE},this.CLIENT_ID?{product_id:this.CLIENT_ID}:void 0);return this.request(this.GET_GEO_BY_ID_URL,{params:i}).then(nx).catch((0,Hv.eY)("getRealtyForEntityTab",e,this.REQUEST_ID))}getProductOfferWithItems(e){const{branchId:t,productIds:s,locale:r}=e,i={branch_id:t,product_ids:s.slice(0,50).join(","),locale:r};return this.request(this.GET_PRODUCT_OFFER_WITH_ITEMS,{params:i}).then(nx).catch((0,Hv.eY)("getProductOfferWithItems",e,this.REQUEST_ID))}getExchangeItems(e){const t=Object.assign({locale:e.locale,currency:e.currency,volume:e.volume,action:e.action,page:e.page,page_size:e.page_size},ox(e.viewpoint));return this.request(this.GET_EXCHANGE_ITEMS,{params:t}).then(nx).catch((0,Hv.eY)("getExchangeItems",e,this.REQUEST_ID))}getExchangeMarkers(e){const t=Object.assign({locale:e.locale,currency:e.currency,volume:e.volume,action:e.action},ox(e.viewpoint));return this.request(this.GET_EXCHANGE_MARKERS,{params:t}).then(nx).catch((0,Hv.eY)("getExchangeMarkers",e,this.REQUEST_ID))}getExchangeByBranch(e){const t={locale:e.locale,branch_id:e.branch_id};return this.request(this.GET_EXCHANGE_ITEMS_BY_BRANCH,{params:t}).then(nx).catch((0,Hv.eY)("getExchangeByBranch",e,this.REQUEST_ID))}sberMMCheckout(e){const t=e.payload;return this.request(this.SBER_MM_CC_CHECKOUT,{data:t,method:"post",params:{locale:e.locale}}).then((e=>e.data)).catch((e=>{var t,s;const r=null===(s=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.response)||void 0===s?void 0:s.data;if(r)return r;throw e})).catch((0,Hv.eY)("sberMMCheckout",e,this.REQUEST_ID))}getPriceListImages(e){return this.request(this.GET_PRICE_LIST_IMAGES,{params:{locale:e.locale,branch_id:e.branchId}}).then(nx).then((e=>e[0])).catch((0,Hv.eY)("getPriceListImages",e,this.REQUEST_ID))}searchProducts(e){const{query:t,productId:s,buildingId:r,viewpoint:i,locale:a,page:n=1,filters:o={},category_ids:c,page_size:d}=e;return this.request(this.SEARCH_PRODUCTS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({q:t,product_id:s,building_id:r},ox(i)),{locale:a,page:n,page_size:d||k.S0}),c?{category_ids:c}:{}),cx(o)),px)}).then(nx).catch((0,Hv.eY)("searchProducts",e,this.REQUEST_ID))}getProductsByBranch(e){const{query:t,branchId:s,locale:r,page:i,filters:a={}}=e,n=Object.assign(Object.assign({q:t,branch_id:s,locale:r,page:i,page_size:k.H0},cx(a)),px);return this.request(this.SEARCH_PRODUCTS_BY_BRANCH_URL,{params:n}).then(nx).catch((0,Hv.eY)("searchProducts",e,this.REQUEST_ID))}}function gx(e){return Object.keys(e).reduce(((t,s)=>e[s]?[...t,`${s}=${e[s]}`]:t),[]).join("&")}const hx=(e,t)=>({getUserInfo:({accessToken:s,refreshToken:r})=>e(`${t.authUrl}users/me`,{method:"get",params:{access_token:s}}).then((e=>({data:e.data,access_token:s,refresh_token:r}))).catch((0,Hv.eY)("getUserInfo",{},t.requestId)),deleteProfile(s){const{accessToken:r,locale:i="ru_RU"}=s;return e(`${t.authUrl}users/me`,{method:"delete",params:{access_token:r,locale:i}}).then((()=>Promise.resolve())).catch((0,Hv.eY)("deleteProfile",{},t.requestId))},confirmRegistration:s=>e(`${t.authUrl}users/me/confirmation`,{method:"post",data:gx({grant_type:"email"}),params:{access_token:s.accessToken}}).then((()=>Promise.resolve())).catch((0,Hv.eY)("confirmRegistration",{},t.requestId)),fetchOauthToken:s=>e(`${t.authUrl}oauth/token`,{method:"post",data:gx(s)}).then((e=>e.data)).catch((0,Hv.eY)("fetchOauthToken",{grant_type:s.grant_type},t.requestId)),revokeToken:s=>e(`${t.authUrl}oauth/revoke`,{method:"post",data:gx({access_token:s.access_token,refresh_token:s.refresh_token})}).catch((0,Hv.eY)("revokeToken",{},t.requestId)),getPhoneConfirmationCode:s=>e(`${t.authUrl}confirmation/sms-code`,{method:"post",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:gx({action:s.action,phone:encodeURIComponent(s.phone),segment_id:s.segmentId})}).then((e=>e.data)).catch((e=>(0,dy.Yr)("confirmationCode",t.requestId,e))),confirmPhone:s=>e(`${t.authUrl}users/me/phone`,{method:"put",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:gx({phone:encodeURIComponent(s.phone),confirmation_code:s.confirmationCode})}).then((e=>e.data)).catch((e=>(0,dy.Yr)("confirmPhone",t.requestId,e))),updateUserInfo:s=>e(`${t.authUrl}users/me`,{method:"patch",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:gx(s.userInfo)}).then((e=>e.data)).catch((0,Hv.eY)("updateUserInfo",{userInfo:s.userInfo},t.requestId)),updateEmail:s=>e(`${t.authUrl}users/me/email`,{method:"put",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:gx({new_email:s.email})}).then((e=>e.data)).catch((0,Hv.eY)("updateEmail",s,t.requestId)),confirmEmail:s=>e(`${t.authUrl}users/me/confirmation`,{method:"post",params:{locale:s.locale||"ru_RU",access_token:s.accessToken},data:gx({grant_type:"email"})}).then((e=>e.data)).catch((0,Hv.eY)("updateEmail",s,t.requestId))});class fx{constructor(e,t){this.request=e,this.videoServiceVersion=t.videoServiceVersion,this.REQUEST_ID=t.requestId}getVideoData(e){return this.request(`${e}/${this.videoServiceVersion}`,{withCredentials:!1}).then((e=>{if(null!==e.data&&"object"==typeof e.data)return e.data;throw new Error("response is not json data")})).catch((0,Hv.eY)("getVideoData",{url:e},this.REQUEST_ID))}}function bx(e){return`{ ${Object.keys(e).reduce(((t,s)=>{const r=e[s];switch(typeof r){case"object":{const e=r;return r?Array.isArray(e)?`${t} ${s}: [ ${e.map(bx).join(", ")} ]`:`${t} ${s}: ${bx(e)}`:t}case"string":return`${t} ${s}: "${r.replace(/"/g,"'")}"`;case"number":return`${t} ${s}: ${r}`;case"boolean":return`${t} ${s}: ${r}`;default:return t}}),"").trim()} }`}class vx{constructor(e,t){this.request=e,this.domain=t.aggregatorUrl+"/normalized",this.config=t}updateProfile(e){const{first_name:t,middle_name:s,last_name:r,accessToken:i,locale:a,requestId:n,avatarUrl:o,public_identity_accepted:c}=e,d=function(e){return`updateUser {\n    updateMeInfo(partialUser: ${bx({first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,avatar_url:e.avatarUrl,public_identity_accepted:e.public_identity_accepted})}) {\n      id\n      display_name\n      ${e.first_name?"first_name":""}\n      ${e.middle_name?"middle_name":""}\n      ${e.last_name?"last_name":""}\n      ${e.avatarUrl?"avatar_url":""}\n      ${void 0!==e.public_identity_accepted?"public_identity_accepted":""}\n    }\n  }`}({first_name:t,middle_name:s,last_name:r,public_identity_accepted:c,avatarUrl:o}),l={accessToken:i,locale:a},u=`mutation ${d}`;return this.submitGraphQLRequest({params:l,query:u,requestId:n}).then((t=>t.data.data.updateMeInfo.entities.users[e.userId])).catch((0,Hv.eY)("updateProfile",e,n))}updateEmail(e){return this.request(`${this.config.authUrl}users/me/email`,{method:"put",params:{locale:e.locale,client_id:e.clientId,access_token:e.accessToken},data:gx({new_email:e.email})}).then((t=>{if(t.data.code&&200!==t.data.code&&204!==t.data.code)throw t.data;return{id:e.userId,new_email:e.email}})).catch((0,Hv.eY)("updateEmail",e,this.config.requestId))}deleteProfile(e){const{accessToken:t,locale:s,requestId:r}=e,i={accessToken:t,locale:s};return this.submitGraphQLRequest({params:i,query:"mutation {\n    deleteMe\n  }",requestId:r}).then((e=>({isDeleted:e.data.data.deleteMe}))).catch((0,Hv.eY)("deleteProfile",e,r))}submitGraphQLRequest({params:e,query:t}){const s={session_token:e.accessToken,locale:e.locale};return this.request(this.domain,{method:"post",data:t,params:s,headers:{"content-type":"application/graphql","Auth-Version":"2.0",Accept:"*/*"}})}}function yx(...e){if(window.gtag){const[t,s,r,i,a]=e,n=Object.assign(Object.assign(Object.assign({category:t},r&&{label:r}),i&&{value:i}),a&&{fieldsObject:a});window.gtag("event",s,n)}}function xx(e){window.gtag&&window.gtag("event","ChangeProject",{project_id:e})}function jx(){window.gtag&&window.gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted"})}let wx="";class _x{constructor(e,t){this.request=e,this.REQUEST_ID=t.requestId,this.FEEDBACK_URL=`${t.dataFeedbackApiUrl}feedback`,this.FEEDBACKS_PER_PAGE=t.feedbacksPerPage}sendFeedback(e){const{feedback:t,userToken:s}=e,r={data:this.createData(t),method:"post",withCredentials:!0,headers:Object.assign({},s&&{Authorization:`Bearer ${s}`}),timeout:0};return this.request(this.FEEDBACK_URL,r).then(this.formatApiResponse).catch((0,Hv.eY)("typedFeedback",{url:this.FEEDBACK_URL,data:r},this.REQUEST_ID))}getUserFeedbacks(e){const t={Authorization:`Bearer ${e.accessToken}`};return this.request(this.FEEDBACK_URL,{method:"get",headers:t,params:{locale:e.locale,offset:e.offset,limit:this.FEEDBACKS_PER_PAGE}}).then((e=>({items:e.data.items}))).catch((0,Hv.eY)("getUserFeedbacks",{url:this.FEEDBACK_URL,data:{offset:e.offset,locale:e.locale}},this.REQUEST_ID))}getUserFeedbacksCount(e){const t={Authorization:`Bearer ${e.accessToken}`};return this.request(`${this.FEEDBACK_URL}/count`,{method:"get",headers:t}).then((e=>({total:e.data.total}))).catch((0,Hv.eY)("getUserFeedbacksCount",{url:this.FEEDBACK_URL},this.REQUEST_ID))}createData(e){const t=(0,Zy.J)(),{user:s,attachments:r}=e,i=(0,we.Tt)(e,["user","attachments"]);return r&&r.forEach((e=>{t.append("attachments[]",e,e.name)})),t.append("feedback",JSON.stringify(Object.assign(Object.assign({},i),{user:s}))),t}formatApiResponse({data:e}){if(!e.feedback_id)throw{name:"DataFeedbackError",message:e.message,code:400};return{code:200,message:e.message,feedbackId:e.feedback_id}}}const Cx=15e3;function Ix(e,t){const{favoritesApiUrl:s,requestId:r}=t,i=()=>({timestamp:String(Date.now())});return{syncPublicFavorites({filter:t}){const a=Object.assign(Object.assign({},i()),{payload:{favorites:{filter:t}}});return e(`${s}public/sync`,{method:"post",data:a,headers:{"Content-Type":"application/json"},timeout:Cx}).then((e=>e.data.favorites)).catch((0,Hv.eY)("syncPublicFavorites",a,r))},syncPersonalFavorites({last_sync:t,objects:a,access_token:n}){const o=`${s}personal/collections/sync`,c=Object.assign(Object.assign({},i()),{access_token:n,payload:{personal_favorites:{last_sync:t,objects:a}}});return e(o,{method:"post",data:c,headers:{"Content-Type":"application/json"},timeout:Cx}).then((e=>e.data.personal_favorites)).catch((0,Hv.eY)("syncPersonalFavorites",c,r))},syncPlaces({last_sync:t,objects:a,access_token:n}){const o=`${s}personal/places/sync`,c=Object.assign(Object.assign({},i()),{access_token:n,payload:{places:{last_sync:t,objects:a}}});return e(o,{method:"post",data:c,headers:{"Content-Type":"application/json"},timeout:Cx}).then((e=>e.data.places)).catch((0,Hv.eY)("syncPlaces",c,r))}}}let kx={sync:{lastSync:"0",lastSyncAttr:{project_id:{}}},objects:{},changes:{}};const Ox={sync:{lastSync:"0",lastSyncAttr:{project_id:{}}},objects:{},changes:{}};function Sx(){let e=Ox,t=Ox;return{getPublic:()=>Promise.resolve(kx),setPublic:e=>(kx=e,Promise.resolve()),getPersonal:()=>Promise.resolve(e),setPersonal:t=>(e=t,Promise.resolve()),getPlaces:()=>Promise.resolve(t),setPlaces:e=>(t=e,Promise.resolve()),clearPersonal:()=>(e=Ox,Promise.resolve()),clearPlaces:()=>(t=Ox,Promise.resolve())}}function Tx({data:e}){return{items:"object"==typeof e?e:[],total:"object"==typeof e?e.length:0,code:200}}function Ex({data:e}){return{items:"object"==typeof e&&e.transport||[],total:"object"==typeof e&&e.transport&&e.transport.length||0,code:200}}function Mx({data:e}){return{items:"object"==typeof e?e.result:[],total:"object"==typeof e?e.result.length:0,code:200}}function Px(e){switch(e.split("_")[0]){case"ar":return"ar";case"az":return"az";case"en":return"en";case"es":return"es";case"it":return"it";case"cs":return"cs";case"uz":return"uz";case"kk":return"kk";case"hy":return"hy";case"ka":return"ka";default:return"ru"}}var Lx=s(80739);function Nx(e){return pp.qt.includes(e)}function Ax(e){const t=function(e={}){const t=e[pp.$C];return t?(0,Lx.v)(t).filter(Nx):[]}(e);return t.length?t:pp.qt}function Rx(e,t){const[s,r]=e;return{topLeft:{x:s.lon,y:s.lat},bottomRight:{x:r.lon,y:r.lat},zoom:t}}function zx(e){return e.map(((t,s)=>({type:0===s||s===e.length-1?"pedo":"pref",x:t.lonLat.lon,y:t.lonLat.lat,object_id:t.entityId})))}const Ux=["dangerous_cargo","explosive_cargo"],Bx=["max_perm_mass","mass","axle_load","height","width","length"];function Hx(e,t){const{ppnotApiUrl:s,ppnotTypesApiUrl:r,ppnaApiUrl:i,pedestrianApiUrl:a,ppngApiUrl:n,requestId:o,webApiKey:c}=t,d="baf4c54e9dae";return{ppnot({projectCode:t,locale:r,points:i,viewpoint:a,zoom:n,filterValues:l}){const u=`${s}/${t}`,p=i[0],m=i[i.length-1],g={locale:Px(r),enable_schedule:!0,source:{point:p.lonLat,object_id:p.entityId,name:"Source"},target:{point:m.lonLat,object_id:m.entityId,name:"Target"},transport:Ax(l),purpose:"routeSearch",viewport:Rx(a,n),start_time:Math.ceil(Date.now()/1e3),need_immersion:!0},h={key:c};return e(u,{method:"post",params:Object.assign(Object.assign({},h),{r:Iy(u,h,d,JSON.stringify(g))}),data:g}).then(Tx).catch((e=>(e.response&&404!==e.response.status&&(0,Hv.eY)("directionsApi.pedestrian",{projectCode:t,data:g},o),{items:[],total:0,code:200})))},ppnotTypes({projectCode:t}){const s=`${r}/filters/${t}`,i={},a={key:c};return e(s,{method:"post",params:Object.assign(Object.assign({},a),{r:Iy(s,a,d,JSON.stringify(i))}),data:i}).then(Ex).catch((0,Hv.eY)("directionsApi.ppnotTypes",{projectCode:t},o))},ppna({locale:t,points:s,viewpoint:r,zoom:a}){const n=`${i}/global`,l={locale:Px(t),point_a_name:"Source",point_b_name:"Target",points:zx(s),purpose:"autoSearch",type:"online5",viewport:Rx(r,a),need_immersion:!0},u={key:c};return e(n,{method:"post",params:Object.assign(Object.assign({},u),{r:Iy(n,u,d,JSON.stringify(l))}),data:l}).then(Mx).catch((0,Hv.eY)("directionsApi.ppna",{data:l},o))},pedestrian({projectCode:t,locale:s,points:r,viewpoint:i,zoom:n}){const l=`${a}/${t}`,u={locale:Px(s),point_a_name:"Source",point_b_name:"Target",points:zx(r),type:"pedestrian",purpose:"autoSearch",viewport:Rx(i,n)},p={key:c};return e(l,{method:"post",params:Object.assign(Object.assign({},p),{r:Iy(l,p,d,JSON.stringify(u))}),data:u}).then(Mx).catch((0,Hv.eY)("directionsApi.pedestrian",{projectCode:t,data:u},o))},ppng({locale:t,points:s,viewpoint:r,zoom:i,filterValues:a}){const l=`${n}/global`,u=function(e){if(!e)return;const t={};return(0,q.jJ)(e,((e,s)=>{if((0,q.O9)(e))if((e=>Ux.includes(e))(s))t[s]="true"===e;else if((e=>Bx.includes(e))(s)){const r=parseFloat(e);Number.isNaN(r)||(t[s]=r)}})),Object.keys(t).length>0?t:void 0}(a),p=Object.assign(Object.assign({locale:Px(t),point_a_name:"Source",point_b_name:"Target",points:zx(s),purpose:"autoSearch",type:"truck_jam",alternative:0,viewport:Rx(r,i)},u&&{truck_params:u}),{need_immersion:!0}),m={key:c};return e(l,{method:"post",params:Object.assign(Object.assign({},m),{r:Iy(l,m,d,JSON.stringify(p))}),data:p}).then(Mx).catch((0,Hv.eY)("directionsApi.ppng",{data:p},o))},searchPlatformsSchedule({project:t,platforms:s,entity:i,timezoneOffset:a}){const n=`${r}/search_schedule`,l={key:c},u=Math.ceil(Date.now()/1e3),p=(i.directions||[]).map((({id:e,platforms:t})=>({directionId:e,platformCount:t.length}))),m={requests:s.flat().map((e=>({type:"full_day_platform",project:t,request:{departure_time:u,platforms:[e],routes:[i.id]}})))};return e(n,{method:"post",params:Object.assign(Object.assign({},l),{r:Iy(n,l,d,JSON.stringify(m))}),data:m}).then((e=>function(e,t,s){const r=Math.floor(Date.now()/1e3);return t.reduce(((i,{platformCount:a,directionId:n},o)=>{const c=t.reduce(((e,t,s)=>s<o?e+t.platformCount:e),0),d=c+a,l=e.data.responses.slice(c,d).map((({schedules:e})=>function(e,t,s,r){const i=e.filter((({direction_id:e})=>e===t)),a=i.some((({schedule:e})=>"precise"===e.type&&e.forecast)),n=i.filter((({schedule:e})=>a?"precise"===e.type&&e.forecast:"precise"===e.type)).map((({schedule:e})=>a||"precise"!==e.type?Math.ceil((e.start_time-s)/60-r):e.precise_time));return n}(e,n,r,s)));return[...i,l]}),[])}(e,p,a))).catch((0,Hv.eY)("directionsApi.searchPlatformsSchedule",{data:m},o))},searchDirectionsInterval({project:t,directions:s,timezoneOffset:i}){const a=`${r}/search_schedule`,n={key:c},l=Math.ceil(Date.now()/1e3),u={requests:s.map((e=>({type:"interval_trip",project:t,request:{departure_time:l,direction_id:e}})))};return e(a,{method:"post",params:Object.assign(Object.assign({},n),{r:Iy(a,n,d,JSON.stringify(u))}),data:u}).then((e=>function(e,t){const s=e=>Math.ceil(1e3*e-6e4*t);return e.data.responses.map((e=>{if(!e.work_hours)return e;const t=s(e.work_hours.start_time),r=s(e.work_hours.finish_time);return Object.assign(Object.assign({},e),{work_hours:{start_time:t,finish_time:r}})}))}(e,i))).catch((0,Hv.eY)("directionsApi.searchDirectionsInterval",{data:u},o))}}}function Fx(e,t){return{trafficScore(s){const r=(0,q.bG)(t.trafficApiUrl,{s:Math.floor(10*Math.random()).toString(10),regionCode:s.regionCode});return e(r,{headers:{Accept:"text/plain"}}).then((e=>{const t=e.data.match(/^'(\d{1,2}),?([+-])?'$/);return t&&void 0!==t[1]?+t[1]:0}))}}}function Dx(e,t){return{getUserAchievements(s){const{locale:r,accessToken:i}=s,a=`${t.achievesApiUrl}achieves`;return e(a,{params:{locale:r,fields:"meta.contest_progress_weeks"},headers:{Accept:"application/json",Authorization:`Bearer ${i}`}}).then((({data:e})=>e))}}}function Vx(e,t){return{getUserContestStatus(s){const{locale:r,contestId:i,accessToken:a}=s,n=`${t.contestApiUrl}contests/${i}`;return e(n,{params:{locale:r,accessToken:a},headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getUserContestStatus",s,t.requestId))},joinUser(s){const{locale:r,contestId:i,accessToken:a}=s,n=`${t.contestApiUrl}contests/${i}/join`;return e(n,{method:"post",params:{locale:r,access_token:a},headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("joinUser",s,t.requestId))}}}function Zx({data:e}){return e?{items:e,code:200}:{items:[],code:200}}function $x(e){return 202===e.status?{code:200}:{code:500}}function qx(e,t){const{pusherApiUrl:s,requestId:r}=t;return{fetchDevices:({authToken:t})=>e(`${s}devices`,{method:"get",headers:{"auth-token":t}}).then(Zx).catch((0,Hv.eY)("fetchDevices",{authToken:t},r)),messageMe(t){const i=`${s}messages/me`,{authToken:a,deviceId:n,title:o,body:c,url:d}=t;return e(i,{method:"post",headers:{"auth-token":a},data:{app_instance_ids:[n],data:{title:o,body:c,url:d}}}).then($x).catch((0,Hv.eY)("messageMe",t,r))}}}function Wx(e){return e&&e.data&&e.data.length?{items:e.data,total:e.data.length,code:200}:{items:[],total:0,code:200}}const Gx='["camera","crash","roadwork","restriction","comment","other"]';function Qx(e,t){const{tugcApiUrl:s,requestId:r}=t;return{getUserLayers({regionCode:t}){const i={project:t,layers:Gx};return e(`${s}layers/user`,{params:i}).then(Wx).catch((0,Hv.eY)("getLayers",i,r))},get2GisLayers({regionCode:t}){const i={project:t,layers:Gx};return e(`${s}layers/2gis`,{params:i}).then(Wx).catch((0,Hv.eY)("getLayers",i,r))},getPhotos({eventId:t}){const i={id:t};return e(`${s}event/photo`,{params:i}).then(Wx).catch((0,Hv.eY)("getLayers",i,r))}}}function Kx(e,t){const{paymentsApiUrl:s,requestId:r,userId:i}=t,a="online";return{checkoutOrder(n){const{idempotencyKey:o,entityId:c,orgId:d,user:l,cart:u,comment:p,accessToken:m,locale:g}=n;return e(`${s}payments/api/1.0/checkout`,{method:"post",data:{orgId:d,branchId:c,user:l,cart:u,comment:p},headers:Yx({accessToken:m,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:o,locale:g}),withCredentials:!1}).then((e=>({code:200,total:1,items:[e.data]}))).catch((0,Hv.eY)("checkoutOrder",n,r))},checkoutDelivery(n){const{idempotencyKey:o,entityId:c,orgId:d,user:l,cart:u,delivery:p,payment:m,comment:g,accessToken:h,locale:f}=n;return e(`${s}payments/api/2.0/checkout`,{method:"post",data:{orgId:d,branchId:c,user:l,cart:u,delivery:p,payment:m,comment:g},headers:Yx({accessToken:h,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:o,locale:f}),withCredentials:!0}).then((e=>e.data)).catch((0,Hv.eY)("checkoutDelivery",n,r))},getOrders(r){const{accessToken:n,locale:o}=r;return e(`${s}payments/api/2.0/orders`,{params:{limit:999},headers:Yx({accessToken:n,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:void 0,locale:o})}).then((e=>e.data)).catch((0,Hv.eY)("getOrders",r,t.requestId))},cancelOrder(r){const{accessToken:n,locale:o,orderId:c}=r;return e(`${s}payments/api/2.0/orders/${c}/cancel`,{method:"post",headers:Yx({accessToken:n,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:void 0,locale:o})}).then((e=>e.data)).catch((0,Hv.eY)("cancelOrder",r,t.requestId))},getDeliveryCalculation(r){const{orgId:n,branchId:o,cart:c,delivery:d,locale:l}=r;return e(`${s}payments/api/2.0/calculate`,{method:"post",headers:Yx({accessToken:void 0,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:void 0,locale:l}),data:{orgId:n,branchId:o,cart:c,delivery:d}}).then((e=>e.data)).catch((e=>{var t,s,r;if("delivery_not_available_at_point"===(null===(r=null===(s=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.response)||void 0===s?void 0:s.data)||void 0===r?void 0:r.code))throw{name:"DeliveryNotAvailableError",message:e.details.response.data.message};throw e})).catch((0,Hv.eY)("getDeliveryCalculation",r,t.requestId))},getOrdersShort(r){const{accessToken:i,locale:n,type:o}=r;return e(`${s}payments/api/2.0/orders/short`,{params:{type:o},headers:Yx({accessToken:i,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:t.userId,idempotencyKey:void 0,locale:n})}).then((e=>e.data)).catch((0,Hv.eY)("getOrdersShort",r,t.requestId))}}}function Yx(e){const{idempotencyKey:t,accessToken:s,platform:r,commitIsoDate:i,bssUserId:a,locale:n}=e;return Object.assign(Object.assign(Object.assign({},t?{"X-Idempotency-Key":t}:void 0),s?{Authorization:`Bearer ${s}`}:void 0),{"X-Device-Platform":"undefined"!=typeof window&&(navigator.standalone||matchMedia&&matchMedia("(display-mode: standalone)").matches)?"pwa":r,"X-App-Version":(0,Ay.v)(i),"X-Bss-User-Id":a,"X-Locale":n||""})}function Xx(e,t){return{getData(s){const[r,i]=s.viewport;return e(`${t.etaApiUrl}/points/viewport`,{method:"post",data:{viewport:{topLeft:{x:r.lon,y:r.lat},bottomRight:{x:i.lon,y:i.lat},zoom:s.zoom},type:"online5",immersive:!0}})},getCurrentDirectionsData(s){const{directions:r}=s;return e(`${t.etaApiUrl}/points/directions`,{method:"post",data:{directions:r,type:"online5",immersive:!0}})},getHasBusInViewport(s){const[r,i]=s.viewport;return e(`${t.etaApiUrl}/points/has_bus_in_viewport`,{method:"post",data:{viewport:{topLeft:{x:r.lon,y:r.lat},bottomRight:{x:i.lon,y:i.lat},zoom:s.zoom},type:"online5"}})}}}function Jx(e,t){return{getUserFriendsActivityByObjects(s){const{accessToken:r,objectsIds:i,maxFriendsPerObject:a}=s,n=`${t.userActivityApiUrl}activities/by-friends`;return e(n,{params:{max_friends_per_object:a||5,objects_ids:i.join(","),fields:"activities.friends.user,activities.friends.types,activities.friends.items,activities.total_friends"},headers:{Accept:"application/json",Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getUserFriendsActivityByObjects",s,t.requestId))},getUserActivity(s){const{accessToken:r}=s,i=`${t.userActivityApiUrl}activities/counters`;return e(i,{headers:{Accept:"application/json",Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getUserActivity",s,t.requestId))}}}function ej(e,t){return{getTaxaProviders(s){const{regionId:r}=s,i=`${t.taxaApiUrl}providers`;return e(i,{params:{region_id:r,screen:"card"},headers:{Accept:"application/json"}}).then((({data:e})=>e)).catch((0,Hv.eY)("getTaxaProviders",s,t.requestId))},searchTaxi(s){const{point1:r,point2:i,regionId:a}=s,n=`${t.taxaApiUrl}route/calculate`;return e(n,{method:"post",headers:{Accept:"application/json"},data:{point1:r,point2:i,region_id:a,screen:"card"}}).then((({data:e})=>e)).catch((0,Hv.eY)("searchTaxi",s,t.requestId))}}}function tj(e,t){return{getWalkDistanceData(s){const{regionId:r}=s;return e(`https://disk.2gis.com/transport-reach/${r}.json`).then((({data:e})=>e)).catch((0,Hv.eY)("getWalkDistanceData",s,t.requestId))},getRoadAccidentData(s){const{localityId:r}=s;return e(`https://disk.2gis.com/layers/dtp-stat/${r}.json`).then((({data:e})=>e)).catch((0,Hv.eY)("getRoadAccidentData",s,t.requestId))}}}function sj(e,t){return{getSeoPollSearcher(s){const{geoId:r,adults:i,checkin:a,checkout:n}=s,o=`${t.otelloFluidsearchSeoUrl}/poll-searcher`;return e(o,{method:"POST",data:{geo_id:r,adult_count:i,checkin_date:a,checkout_date:n}}).then((({data:e})=>e)).catch((0,Hv.eY)("getSeoPollSearcher",s,t.requestId))},getSeoPollSearcherProperties(s){const{sessionId:r,point:i,radius:a,sort:n,limit:o,page:c}=s,d=`${t.otelloFluidsearchSeoUrl}/poll-searcher/${r}/properties`;return e(d,{params:{by_radius:`${i.lon},${i.lat},${a}`,sort:n,limit:o,page:c}}).then((({data:e})=>e)).catch((0,Hv.eY)("getSeoPollSearcherProperties",s,t.requestId))}}}function rj(e,t){return{getData({start:s,durations:r,start_time:i,mode:a}){const n={simplify:!0,reverse:!1,start:s,durations:r,start_time:i,mode:a},o={key:t.webApiKey};return e(t.isochronesApiUrl,{method:"post",params:Object.assign(Object.assign({},o),{r:Iy(t.isochronesApiUrl,o,"baf4c54e9dae",JSON.stringify(n))}),data:n}).then((e=>e.data)).catch((0,Hv.eY)("getData",o,t.requestId))}}}function ij(e,t){return{getCongestion(s){const{id:r}=s,i=`${t.congestionApiUrl}congestion`;return e(i,{params:{branch_id:r}}).then((({data:e})=>e)).catch((0,Hv.eY)("getCongestion",s,t.requestId))}}}function aj(e,t){return{getUserChronologyPlaces(s){const{accessToken:r}=s,i=`${t.chronologyPlacesApiUrl}myplaces/authuser`,a={token:r,limit:k.zs};return e(i,{params:a,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>Object.assign(Object.assign({},e),{limit:a.limit}))).catch((0,Hv.eY)("getUserChronologyPlaces",s,t.requestId))},getUserChronologyPlacesByObjects(s){const{accessToken:r,ids:i}=s,a=`${t.chronologyPlacesApiUrl}myplaces/authuser/objects`,n={token:r,ids:i.join(","),limit:k.zs};return e(a,{params:n,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>Object.assign(Object.assign({},e),{limit:n.limit}))).catch((0,Hv.eY)("getUserChronologyPlacesByObjects",s,t.requestId))},approveChronologyPlace(s){const{accessToken:r,objectId:i}=s,a=`${t.checkinApiUrl}checkins`,n={object_id:i,source:"chronology",product_id:"34"};return e(a,{method:"post",data:`object_id=${i}&source=chronology&product_id=34`,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("approveChronologyPlace",n,t.requestId))},declineChronologyPlace(s){const{objectId:r,accessToken:i}=s,a=`${t.chronologyPlacesApiUrl}myplaces/authuser/${r}/decline`,n={token:i};return e(a,{method:"post",params:n,headers:{Authorization:`Bearer ${i}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("addChronologyPlace",n,t.requestId))}}}function nj(e,t){return{getCounters(s){const r=`${t.socialGraphApiUrl}social-graph/friends/counters`;return e(r,{headers:{Authorization:`Bearer ${s.accessToken}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getCounters",s,t.requestId))},getFriends(s){const{accessToken:r,limit:i=20,next_page_token:a,source:n,without_friends:o,offset:c}=s,d=`${t.socialGraphApiUrl}social-graph/friends`,l={limit:i,next_page_token:a,source:n,without_friends:o,offset:c};return e(d,{params:l,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getFriends",l,t.requestId))},getRecommendedFriends(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/all`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getRecommendedFriends",o,t.requestId))},getSubscribers(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/subscribers`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getSubscribers",o,t.requestId))},getSubscriptions(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/subscriptions`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getSubscriptions",o,t.requestId))},subscribe(s){const{accessToken:r,user_ids:i}=s,a=`${t.socialGraphApiUrl}social-graph/friends`;return e(a,{method:"post",headers:{Authorization:`Bearer ${r}`},data:{user_ids:i}}).catch((0,Hv.eY)("subscribeToFriends",{user_ids:i},t.requestId))},subscribeOnUser(s){const r=`${t.socialGraphApiUrl}social-graph/friend/${s.userId}`;return e(r,{method:"post",headers:{Authorization:`Bearer ${s.accessToken}`}}).catch((0,Hv.eY)("subscribeToUser",{userId:s.userId},t.requestId))},subscribeToAll(s){const{accessToken:r,excludedUserIds:i,source:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/all`;return e(n,{method:"post",params:{source:a},headers:{Authorization:`Bearer ${r}`},data:{user_ids:i}}).catch((0,Hv.eY)("subscribeToAllFriends",{user_ids:i,source:a},t.requestId))},unsubscribe(s){const{accessToken:r,user_ids:i}=s,a=`${t.socialGraphApiUrl}social-graph/friends`,n={user_ids:i.join(",")};return e(a,{method:"delete",params:n,headers:{Authorization:`Bearer ${r}`}}).catch((0,Hv.eY)("unsubscribe",n,t.requestId))},getUserFriendshipCounter(s){const{accessToken:r}=s,i={headers:{Authorization:`Bearer ${r}`}},a=`${t.socialGraphApiUrl}social-graph/users/friendship/counter`;return e(a,i).then((({data:e})=>e)).catch((0,Hv.eY)("getUserFriendsOnMap",s,t.requestId))},getUser(s){const{accessToken:r,id:i}=s,a={headers:{Authorization:`Bearer ${r}`}},n=`${t.socialGraphApiUrl}social-graph/users/${i}`;return e(n,a).then((({data:e})=>e)).catch((0,Hv.eY)("getUser",s,t.requestId))},getFriendsList(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/users/friendship/list`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Hv.eY)("getFriendsList",o,t.requestId))}}}function oj(e,t){return{getGtaAdvise(s){const r=t.webApiKey,{regionId:i,authUserId:a,locale:n,viewport:o,query:c,userLocation:d,bannerSlot:l,object:u,objectId:p,queryContextRubrics:m}=s,g=`${t.casinoV3Url}advise/gta`,h=u||(p?{id:p}:void 0),f="0"!==i&&i?+i:void 0,b={withCredentials:!t.featureReadOnly,method:"post",data:{shv:(0,Ay.v)(t.commitIsoDate),userId:t.featureReadOnly?void 0:t.userId,key:r,authUserId:a,locale:n,productId:+t.clientId,viewport:o,query:c,projectId:f,userLocation:d,bannerSlot:l,object:h,queryContextRubrics:m},params:{key:r}};return e(g,b).then((({data:e})=>e.stories?Object.assign(Object.assign({},e),{stories:Object.assign(Object.assign({},e.stories),{objects:e.stories.objects.map((e=>Object.assign(Object.assign({},e),{content:Object.assign(Object.assign({},e.content),{slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"firm"})))}),source:"firm"})))})}):e)).catch((0,Hv.eY)("getAdsAdvise",s,t.requestId))}}}function cj({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):(t=e.meta.code,{result:"code",code:(0,dy.F6)(t)});var t}function dj(e,t){const{webApiKey:s,storyComplaintApiUrl:r,requestId:i}=t;return{sendStoryComplaint({segmentId:t,storyId:a,categoryCode:n,comment:o,userEmail:c,accessToken:d}){const l={segment_id:t,story_id:a,category_code:n,comment:o,source:{platform:"online"},user:{email:c}},u=function(e){return Object.assign(Object.assign({},e?{"Auth-Version":"2.0","Auth-Token":e}:void 0),{"Content-Type":"application/json","x-api-key":s})}(d);return e(`${r}v1/stories/complaints`,{method:"post",headers:u,data:l}).then(cj).catch((0,Hv.eY)("sendStoryComplaint",{segmentId:t,storyId:a,categoryCode:n,comment:o,userEmail:c},i))}}}function lj(e,t){return{getItem(s){const r=`${t.infoStoryUrl}1.0/stories/${s.id}`,i={method:"get",params:{locale:"ru",utcOffset:s.utcOffset,region:s.region,platform:"online_2gis",version:"1.0.0"}};return e(r,i).then((({data:e})=>Object.assign(Object.assign({},e),{source:"info",slides:e.slides.map((e=>Object.assign(Object.assign({},e),{source:"info"})))}))).catch((0,Hv.eY)("InfoStoriesApi.getItem",s,t.requestId))}}}var uj=s(33592);const pj=s(37397).$.join(",");function mj(e,t){const{requestId:s,locale:r,photosPerPage:i,photoApiUrl:a,photoApiKey:n,featureDiscoveryKeywords:o}=t;return{getMediaItemsByAlbums({objectId:t,albumId:c,accessToken:d,page_token:l,searchCtx:u,searchKeyword:p}){const m=new URLSearchParams(Object.assign(Object.assign(Object.assign({key:n,page_size:i.toString(),locale:r,preview_size:pj},l&&{page_token:l}),u&&{search_ctx:u}),p&&o?{search_keyword:p}:{}));return e(`${a}3.0/objects/${t}/albums/${c}/media`,{params:m,headers:Object.assign({},d?{"Auth-Version":"2.0","Auth-Token":d}:void 0)}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Hv.eY)("getMediaItemsByAlbums",m,s))},getMediaItemsLight({objectIds:t,size:r=k.du,searchCtx:i,searchKeywords:c}){if(t.length>25)throw new Error("getMediaItemsLight: objectIds.length must be less than 26");const d=new URLSearchParams(Object.assign(Object.assign({key:n,object_ids:t.join(","),preview_size:pj,size:r.toString()},i&&{search_ctx:i}),c&&o?{search_keywords:c}:{}));return e(`${a}3.0/media/light`,{params:d}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Hv.eY)("getMediaItemsLight",d,s))},getMediaItemsByIds(t){const i=`${a}3.0/media/by-id`,o=new URLSearchParams({key:n,id:t.join(","),preview_size:pj,locale:r});return e(i,{params:o}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Hv.eY)("getMediaItemsByIds",o,s))},getMediaUserItems({page:t,accessToken:o}){const c={key:n,preview_size:pj,page:t,size:i,locale:r,access_token:o};return e(`${a}3.0/users/me/media`,{params:c}).then((e=>{var t;if(e.data.error&&404!==(null===(t=e.data.meta)||void 0===t?void 0:t.code))throw new Error(e.data.error.message);return e.data})).catch((0,Hv.eY)("getMedtaUserItems",c,s))}}}function gj(e,t){return{subscribeSession(s){const r={method:"POST",headers:Object.assign(Object.assign({},s.token?{token:s.token}:{}),{"x-2gis-app-instance-id":s.userId})},i=`${t.sharingGeoUrl}/${s.sessionId}/subscriptions`;return e(i,r).then((({data:e})=>({id:e.sharer.profile.userId,isFriend:e.sharer.isFriend}))).catch((0,Hv.eY)("subscribeSession",s,t.requestId))}}}var hj=s(65671);function fj(e){return{lat:e.lat>90?90:e.lat<-90?-90:e.lat,lon:e.lon>180?180:e.lon<-180?-180:e.lon}}function bj(e,t){return{getActivitiesMarkers({publicUserId:s,viewpoint:r,distances:i,zindex:a,accessToken:n}){const o=`${t.hybridApiUrl}/activities/v1/users/${s}/markers`,c=function(e){if(2!==e.length)throw new Error("Invalid viewpoint");const t=fj(e[0]),s=fj(e[1]);return[t.lat,t.lon,t.lat,s.lon,s.lat,s.lon,s.lat,t.lon].join(",")}(r),d={key:t.hybridApiKey,clip:c,"search-nearby":"true",locales:t.locale,jurisdiction:t.defaultCountryCode,zindex:a,distances:i.join(","),"catalog-fields":"type,subtype,subtype_name,name,name_ex,address,access,purpose"};return e(o,Object.assign({method:"get",params:d},n?{headers:{Authorization:`Bearer ${n}`}}:{})).then((e=>function(e,t){const s=t["content-type"].split("boundary=")[1];return e.split(`--${s}`).map((e=>{const[t,s]=e.split("\r\n\r\n");return{headers:t.split("\r\n").reduce(((e,t)=>{const[s,r]=t.split(": ");return Object.assign(Object.assign({},e),{[s]:r})}),{}),body:null==s?void 0:s.replace(/\r\n$/,"")}})).filter((e=>e.body))}(e.data.toString(),e.headers))).then(vj).catch((0,Hv.eY)("getActivitiesMarkers",d,t.requestId))}}}(0,hj.UM)("SharingGeoApi",gj);const vj=e=>{if(e.length<2)throw new Error("Invalid response");const[t,s]=e.slice(0,2).map((e=>JSON.parse(e.body)));return t.result.markers.map(((e,t)=>{const r=s.result.activities[t];if(r)return Object.assign(Object.assign({},e),{activity:r})})).filter(Boolean)};function yj(e,t){return{getRouteById:s=>e(t.sharingRouteUrl,{method:"POST",data:s}).then((({data:e})=>{const t=(0,q.W7)(),s=e.result.points.length-1,r=e.result.edges.map((({geometry:e,color:t,immersive_height_begin:s,immersive_height_end:r})=>Object.assign({type:t||"no-traffic",geometry:e.wkt},(s||r)&&{immersive_line:[{position:0,height:s},{position:1,height:r}]})));return{activeRouteId:t,points:e.result.points.map((({lat:e,lon:t},r)=>({position:[t,e],icon:uh({position:r,isFinishPoint:r===s,isStartPoint:0===r})}))),routes:[{id:t,sections:r}]}})).catch((0,Hv.eY)("SharingRouteApi.getRouteById",s,t.requestId))}}function xj(e){const{getToken:t}=e;return{getToken(){return(0,we.sH)(this,void 0,void 0,(function*(){try{const e=yield t();return e&&"string"==typeof e?e:void 0}catch(e){return}}))}}}function jj({request:e,config:t}){const s=(s,r,i)=>{if(t.userAgent.includes("Chrome")||!t.userAgent.includes("Safari"))return;const{expires:a,domain:n,secure:o}=i||{},c=a&&function(e){return"number"==typeof e?1e3*e*60*60*24:e.getTime()-Date.now()}(a);if(!c||c<6048e5)return;const d=[{name:s,value:r,maxAge:c,domain:n,secure:o}];return e("/_/cookie",{method:"post",data:d}).catch((0,Hv.eY)("setHttpCookie",d,t.requestId)).catch((()=>{}))};return{set(e,t,r){return(0,we.sH)(this,void 0,void 0,(function*(){r?Rv.set(e,t,r):Rv.set(e,t),yield s(e,t,r)}))},get(e){const t=Rv.get(e);if(t)return-1===pp.sl.indexOf(t)?t:void 0},delete:(e,t)=>Rv.remove(e,t),setStrict(e,t){return(0,we.sH)(this,void 0,void 0,(function*(){yield(0,bo.S)(e,t,s)}))},getStrict:B.o}}(0,hj.UM)("SharingRouteApi",yj);var wj=s(87017);const _j={queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,keepPreviousData:!0,retry:!1,retryOnMount:!1}};var Cj=s(48518);const Ij=window.__customcfg;if((0,i.q)(Ij.staticPath),window.location.href.includes("__emulate_fatal_error_3__"))throw new Error("Emulated fatal error #3");try{const e=function(e){const{featureReadOnly:t,isMobileDevice:s}=e;if(!t)return function(e){const{locale:t,country:s}=e,r=(0,Bv.WL)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]}),i={};return{on:(e,t)=>{i[e]=t},off:e=>{i[e]=void 0},ui:()=>(0,we.sH)(this,void 0,void 0,(function*(){var e,a;try{const{data:a}=yield r("/_/auth/sign_in",{method:"post",params:{redirect_url_after_sign_in:encodeURIComponent(window.location.href),country:s,locale:t}});null===(e=i.login)||void 0===e||e.call(i,a)}catch(e){(0,Hv.eY)("/_/auth/sign_in",{},void 0),null===(a=i.login)||void 0===a||a.call(i,{status:"error",code:500})}})),actualize:()=>(0,we.sH)(this,void 0,void 0,(function*(){var e,t;try{const{data:t}=yield r("/_/auth/refresh",{method:"post"});null===(e=i.actualize)||void 0===e||e.call(i,t)}catch(e){(0,Hv.eY)("/_/auth/refresh",{},void 0),null===(t=i.actualize)||void 0===t||t.call(i,{status:"error",code:500})}})),token:()=>Promise.resolve(zv().get(k.no)),logout:()=>(0,we.sH)(this,void 0,void 0,(function*(){var e,t;try{yield r("/_/auth/logout",{method:"post"}),null===(e=i.logout)||void 0===e||e.call(i,{status:"success",code:200})}catch(e){null===(t=i.logout)||void 0===t||t.call(i,{status:"error",code:500}),(0,Hv.eY)("/_/auth/logout",{},void 0)}}))}}({isMobileDevice:s,locale:(0,kv.R)(e.lang,e.defaultCountryCode),country:e.isMiddleEast?"urbi"===e.brandCode?"ae_urbi":"ae":e.defaultCountryCode.toLowerCase()})}(Ij);window.addEventListener("error",(e=>{const{message:t,source:s,error:r}=e;(0,$.vV)({message:t,level:"warn",id:"ghmyb",payload:{type:"windowerror",source:s,stack:r.stack}})})),window.addEventListener("unhandledrejection",(e=>{const{reason:t}=e;(0,$.vV)({message:"string"==typeof t?t:t&&t.message,level:"warn",id:"ieey0",payload:{type:"unhandledrejection",stack:t&&t.stack}})})),window.onload=()=>{setTimeout((()=>{const e=function(){if("undefined"!=typeof window&&window.performance)return Object.assign(Object.assign(Object.assign({type:"client_start"},function(){const e=window.performance.timing;return{waiting:e.responseStart-e.requestStart,download:e.responseEnd-e.responseStart,scriptLoading:e.domInteractive-e.domLoading,interactive:e.domInteractive-e.fetchStart,complete:e.domComplete-e.fetchStart,full:e.loadEventEnd-e.navigationStart}}()),function(){const e=window.navigator.connection||{};return{rtt:e.rtt,downlink:e.downlink}}()),function(){if(!performance.getEntriesByType)return{};const e=performance.getEntriesByType("navigation"),t=e&&e.length?e[0]:void 0;return t?{navigationType:t.type}:{}}())}();e&&(0,$.s2)({message:"Client performance",level:"info",id:"9bin6",payload:e})}),0)},(0,st.pz)(window.__classNames);const t=function(e){const t=new xv.TranslationController(((t,s)=>{(0,jv.l)(t,e.supportedLangs).then((e=>{s(t,e)})).catch((()=>{(0,$.vV)({message:`Fetch lang ${t} error`,level:"warn",id:"bu6p7",payload:{type:"network",subtype:"FetchLang"}}),s("ru",_v.A)}))}),(e=>{(0,$.vV)({message:"Error plural substitution",level:"warn",id:"2tfd5",payload:{type:"debug",subtype:"ErrorPluralSubstitution",data:e}})}),wv.CT);return new yv.F(t)}(Ij);window.isServerRendered=!0,Sj=window.location.hash,Wv=Sj||"";const i=function(e){const{config:t,sideEffects:s}=e,r=Object.assign({},(0,Hv.kC)(t.requestId)),i=(0,Bv.WL)(t,{headers:r,GDPRAllowedServiceHosts:[t.webApi3Url,t.webApiUrl,t.ppnotApiUrl,t.ppnotTypesApiUrl,t.ppnaApiUrl,t.ppngApiUrl,t.pedestrianApiUrl,t.isochronesApiUrl]}),a=new ay;return function({overwrittenServices:e,request:t,config:s}){return Object.assign({analyticsApi:{trackGoogleEvent:yx,changeGoogleProjectId:xx,setGoogleConsentGranted:jx,trackPageview:()=>{var e;window.gtag&&window.gtag("event","page_view",{page_path:window.location.pathname+window.location.search,page_location:window.location.origin+window.location.pathname+window.location.search,page_title:document.title}),window.ym_default&&window.ym_default("hit",window.location.origin+window.location.pathname+window.location.search,{title:document.title}),Ai(),(null===(e=window.fbqImageTrack)||void 0===e?void 0:e.isImgMethod)&&((new Image).src=`https://www.facebook.com/tr?id=${window.fbqImageTrack.counterId}&ev=PageView&hash=${Math.random()}`),function(){function e(){window.tnsCounter2gis_ru.hit(void 0,window.location.href,(wx||document.referrer).replace(/\*/g,"%2a")),wx=window.location.origin+window.location.pathname}(window.tnsCounter2gis_ru||window.tnscounter_callback)&&(window.tnsCounter2gis_ru?e():window.tnscounter_callback.push(e))}()}},achievesApi:Dx(t,s),contestApi:Vx(t,s),webApi:new By(t,s),photoApi:Dy(t,s),mediaApi:mj(t,s),storyComplaintApi:dj(t,s),aggregatorApi:new vx(t,s),reviewsApi:new qy(t,s),discountsApi:Jy(t,s),shortonizerApi:new ex(t,s),profileApi:new Vy(t,s),videoApi:new fx(t,s),marketApi:new mx(t,s),authApi:hx(t,s),feedbackApi:new rx(t,s),dataFeedbackApi:new _x(t,s),favoritesApi:Ix(t,s),favoritesStorage:Sx(),directionsApi:Hx(t,s),trafficApi:Fx(t,s),pusherApi:qx(t,s),tUgcApi:Qx(t,s),paymentsApi:Kx(t,s),etaApi:Xx(t,s),userActivityApi:Jx(t,s),taxaApi:ej(t,s),diskApi:tj(t,s),otelloApi:sj(t,s),isochronesApi:rj(t,s),congestionApi:ij(t,s),chronologyPlacesApi:aj(t,s),socialGraphApi:nj(t,s),casinoApi:oj(t,s),infoStoriesApi:lj(t,s),publicProfileApi:(0,uj.FD)(t,s),sharingGeoApi:gj(t,s),hybridApi:bj(t,s),sharingRouteApi:yj(t,s)},e)}({overwrittenServices:{windowApi:y(),cookieApi:jj({request:i,config:t}),feedbackStorageApi:a,seoStoreApi:void 0,credentialsApi:xj({getToken:s.getToken})},request:i,config:t})}({config:Ij,sideEffects:{getToken:e?e.token:()=>Promise.resolve(void 0)}}),c=(0,Wh.createModelContext)({services:i,config:Ij}),u=new wj.QueryClient({defaultOptions:_j});(0,qp.x1)(),Oj={reportUrl:Ij.clickstreamUrl,deviceIdUrl:Ij.clickstreamDeviceIdUrl,apiKey:Ij.clickstreamApiKey,userId:Ij.userId,countryCode:Ij.defaultCountryCode},"undefined"!=typeof window&&"RU"===Oj.countryCode&&Oj.reportUrl&&window.clickstream&&(window.clickstream.setConfig({reportUrl:Oj.reportUrl,deviceIdUrl:Oj.deviceIdUrl,bufferSize:1,credentials:!1}),window.clickstream.setMeta({apiKey:Oj.apiKey}),window.clickstream.setProfile({hashUserLoginId:Oj.userId}),Ai()),Promise.all([function(e,t,s,r){const i=Object.assign(Object.assign({},window.initialState),{config:t}),a=(0,o.$)({extraReducers:Xe(t),enhancers:[],initialState:i,config:t,uiMiddlewares:[d(e),(0,x.W)(t,W),b(y(),t),e=>t=>s=>{switch(s.type){case"MAP/SET_VIEW":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,l.Q2)(t).then((e=>e.setView(s.payload)));break}case"MAP/GENERALIZE_MARKERS":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,l.Q2)(t).then((e=>e.generalizeMarkers()));break}}return t(s)},(0,tt.ZT)(r,{config:t,services:s})],mwWithServices:[(0,Je.P)(C.FU,t)],asyncExtraPayload:et,apiServices:s});return Promise.resolve(a.dispatch(V())).then((()=>a))}(t,Ij,i,u),function(e){const t=window.preloadedComponentsList;if(!t||!t.length)return Promise.all([]);const s=t.map((t=>{const s=e[t];return s&&s.asyncImport?s.asyncImport():Promise.resolve()}));return Promise.all(s).catch((e=>{}))}(dt.b),t.setLocale({lang:Ij.lang,countryCode:Ij.defaultCountryCode}).catch((()=>{})),(0,qp.k8)(),(kj=Ij.mapdbgmd,kj?Promise.all([s.e(4121),s.e(8906)]).then(s.bind(s,35444)).then((({enable:e})=>{e()})):Promise.resolve())]).then((([s])=>{var o;o=s.dispatch,window.addEventListener("resize",(0,q.sg)((()=>{o((0,O.c)({type:"window:resize",event:void 0}))}),300)),window.addEventListener("popstate",(e=>{e.state&&o((0,O.c)({type:"window:popstate",event:e}))})),window.addEventListener("message",(e=>o((0,O.c)({type:"window:message",event:e})))),window.addEventListener("keydown",(e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){if(e.target instanceof Element){const t=e.target.localName;if(["input","textarea"].includes(t))return}switch(e.keyCode){case rn.aI:o((0,O.c)({type:"common:arrowLeftKeyDown",event:void 0}));break;case rn.fx:o((0,O.c)({type:"common:arrowRightKeyDown",event:void 0}));break;case rn.vx:o((0,O.c)({type:"common:arrowDownKeyDown",event:void 0}));break;case rn.En:o((0,O.c)({type:"common:arrowUpKeyDown",event:void 0}));break;case rn.zP:o((0,O.c)({type:"common:spaceKeyDown",event:void 0}))}}})),window.addEventListener("keyup",(e=>{e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||e.keyCode!==rn.aH||o((0,O.c)({type:"common:escapeKeyUp",event:void 0}))})),(e=>{const{platform:t,dispatch:s}=e;"android"===t&&("getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{var t;const r=!!(null===(t=e.find((e=>"ru.dublgis.dgismobile"===e.id||"ru.dublgis.dgismobile4preview"===e.id||"ru.dublgis.urbi"===e.id)))||void 0===t?void 0:t.id);s((0,Xt.TE)(["NativeAppInfo",r?"Installed":"NotInstalled"]))})):s((0,Xt.TE)(["NativeAppInfo","NoApi"])))})({dispatch:s.dispatch,platform:s.getState().session.platform}),(0,Ze.c)(Ij.isDxEnabled),(0,a.c)(document.querySelector("#root"),(0,r.jsx)((function(){return(0,n.useEffect)((()=>{!function(e,t,s){window.isServerRendered=!1,e.dispatch((0,Gv.v)()),e.dispatch((0,Dv.J)()),e.dispatch(Kv()),e.dispatch((0,oe.Sy)((e=>{var t;if(!e||e.filterValuesByTab.truck)return(0,j.lQ)();const s=null===(t=(0,Jv.z)())||void 0===t?void 0:t.ppng;return s?(0,j.K2)((0,oe.GQ)(e.id,(e=>Object.assign(Object.assign({},e),{filterValuesByTab:Object.assign(Object.assign({},e.filterValuesByTab),{truck:s})}))),"truck"===e.tab&&(0,ey.J)()):(0,j.lQ)()}))),e.dispatch((0,ty.I)()),function(e){let t;const s=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,Dv.J)({forced:!0})),s()}))}),6e4))};s()}(e.dispatch),function(e){let t;const s=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,w.ib)({time:Date.now()})),s()}))}),6e4))};s()}(e.dispatch),e.dispatch((0,$n.Wb)()),e.dispatch(sy()),s.featureReadOnly?e.dispatch((0,Zv.Y)({name:"userId"})):function(e){function t(){const t=e.getState(),s=t.session.userId,r=(0,Ta.ug)(t).data;e.dispatch((0,Tv.a)({userId:s,authId:r?r.user_id:void 0}))}e.dispatch((0,Do.Gp)({userId:e.getState().session.userId})),t(),function e(){Vv||(Vv=window.setTimeout((()=>{window.requestIdleCallback((()=>{t(),Vv=void 0,e()}))}),9e5))}()}(e);const r=e.getState(),i="true"===gd.IG.local.getItem("geolocationAllowed");"online"!==r.session.platform&&i&&e.dispatch((0,Do.S8)()),t&&(window.sdk={ui:t.ui,logout:t.logout},function(e,t){e.on("login",(e=>{"redirect_url"in e&&e.redirect_url?window.location.assign(e.redirect_url):t.dispatch((0,N.QY)((({tp:e})=>(0,Kl.D)((0,Fv.z)({title:e._t("Ошибка!"),message:e._t("Что-то пошло не так. Попробуйте ещё раз.")})))))})),e.on("actualize",(()=>t.dispatch(function(e){let t;return(0,j.K2)((0,A.RC)({isUserLoggedIn:Ta.x3,isUserStatusUnknown:Ta.Us},(({isUserLoggedIn:e,isUserStatusUnknown:s})=>(s||(t=e),(0,j.lQ)()))),(0,Cv.y)({}),(0,Iv.r)({}),(0,A.eU)(Ta.x3,(e=>void 0!==t&&e===t?(0,j.lQ)():e?Lv():(window.clickstream&&window.clickstream.profileUpdater.setProfileID("clientId","",!1),(0,j.K2)((0,Av.g)(),(0,Nv.B)(),(0,Uv.d)(),(0,A.eU)(Ta.ug,(e=>{var t;return"error"===(null===(t=e.meta)||void 0===t?void 0:t.status)&&401===e.meta.code?(0,j.v6)((()=>{Rv.remove("2gis_sdk_token")})):(0,j.lQ)()})),(0,Qo.BP)())))))}()))),e.on("logout",(()=>{window.location.reload()}))}(t,e),t.actualize(),setTimeout((()=>{e.dispatch((0,$v.f)())}),666),function(e){switch(Wv.toLowerCase()){case"#flightaround":setTimeout((()=>{e((0,qv.c)(e))}),1e3);break;case"#hidedataviewer":e((0,ve.X_)({isMinimized:!0}))}}(e.dispatch),e.dispatch(Qv()),document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.body.classList.remove("_pi"),document.body.classList.add("_ki"))}),!0),document.addEventListener("mousedown",(function(){document.body.classList.remove("_ki"),document.body.classList.add("_pi")}),!0),setTimeout((()=>{var e;e={device_type:s.isMobileDevice?"mobile":"desktop"},(0,Yv.IN)((t=>Xv({metric:t,label:e}))),(0,Yv.lt)((t=>Xv({metric:t,label:e}))),(0,Yv.fK)((t=>Xv({metric:t,label:e}))),(0,Yv.zB)((t=>Xv({metric:t,label:e}))),(0,Yv.Ck)((t=>Xv({metric:t,label:e})))}),111))}(s,e,Ij)})),(0,r.jsx)(ry.b,Object.assign({i18n:t,config:Ij,store:s,modelContext:c,services:i,queryClient:u},{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(wj.Hydrate,Object.assign({state:window.__REACT_QUERY_STATE__},{children:(0,r.jsx)(vv,{})})),(0,r.jsx)(kl,{})]})}))}),{}))})).catch((e=>{var t,s,r,i;Ij.isSearchBot||(0,$.vV)({id:"egvnj",level:"fatal",message:e&&e.message,payload:{subtype:"ClientInitFailed",type:"exception",data:(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.includes("Minified React error #200"))?null===(r=null===(s=document.querySelector("div"))||void 0===s?void 0:s.outerHTML)||void 0===r?void 0:r.slice(0,100):null===(i=null==e?void 0:e.toString)||void 0===i?void 0:i.call(e),stack:null==e?void 0:e.stack}})}))}catch(Ar){(0,$.vV)({message:"client entry error",level:"fatal",id:"h34h5",payload:{type:"exception",subtype:"ClientEntryError",stack:(0,Cj.N)(Ar)}})}var kj,Oj,Sj},63536:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});var r,i=s(69985);!function(e){e[e.Default=i.E]="Default",e[e.Map=i.E+1]="Map",e[e.Frame=i.E+2]="Frame",e[e.FrameElement=i.E+3]="FrameElement",e[e.Popup=i.E+4]="Popup",e[e.PopupElement=i.E+5]="PopupElement",e[e.Confirm=i.E+6]="Confirm"}(r||(r={}))},68443:(e,t,s)=>{"use strict";s.d(t,{I:()=>T});var r=s(82393),i=s(35023),a=s(90408),n=s(51451),o=s(67235),c=s(98638),d=s(54694),l=s(31222);function u(e,t,s){return t?Object.assign(Object.assign({},s),{[e]:t}):s}var p=s(81339),m=s(66698),g=s(12148),h=s(92448),f=s(46287),b=s(33682),v=s(76192),y=s(66333),x=s(15582),j=s(52160),w=s(55143),_=s(99562),C=s(49109),I=s(47817),k=s(43751);const O=(0,y.Mz)([e=>e.appContext.weak.isLangRepresentedInOriginalRequest,e=>e.appContext.weak.showSlugsNeededOnlyForStartup,e=>e.appContext.weak.isMapViewRepresentedInOriginalRequest,e=>e.appContext.weak.mapInteractionStarted,e=>e.appContext.weak.emailVerificationStatus,e=>e.appContext.weak.reviewRating],((e,t,s,r,i,a)=>({isLangRepresentedInOriginalRequest:e,showSlugsNeededOnlyForStartup:t,isMapViewRepresentedInOriginalRequest:s,mapInteractionStarted:r,emailVerificationStatus:i,reviewRating:a}))),S=(0,y.Mz)([e=>e.appContext.activeLayer,e=>e.appContext.activeSublayer,e=>e.appContext.showTrafficOnMap],((e,t,s)=>({activeLayer:e,activeSublayer:t,showTrafficOnMap:s}))),T=(0,y.Mz)([r.n$,function(e){var t,s;const i=(0,r.wl)(e),a=i?(0,f.DE)({state:e,entityId:i}).data:void 0;return a?(0,w.f)(a)||(null===(s=null===(t=(0,j.b7)({state:e,id:a.region_id}))||void 0===t?void 0:t.data)||void 0===s?void 0:s.uri_code):(0,j.kB)(e)},x.iK,O,S,function(e){return e.appContext.frames.length?e.appContext.frames.reduce(((t,s)=>{const r=function(e,t){var s;switch(e.type){case"search":if("query"===e.searchType){if(e.seoFakeEntityId)return;const t=(0,d.U)(e),s=(0,c.G)(e);return e.tabCatalog.isBuyHereRubric&&e.tabCatalog.rubricId?{type:"rubric",rubricId:e.tabCatalog.rubricId,filters:(0,c.G)(e),page:t>1?t:void 0}:{type:"search",query:e.query,rubricId:e.tabCatalog.rubricId,filters:s,page:t>1?t:void 0,attributeId:e.tabCatalog.attributeId}}if("filials"===e.searchType)return{type:"branches",orgId:e.orgId,filters:e.filterValues};if("inbuilding"===e.searchType)return{type:"inside",buildingId:e.buildingId,filters:(0,c.G)(e),query:e.query};if("offers"===e.searchType)return{type:"offers",query:e.query,filters:(0,c.G)(e)};if("buyHere"===e.searchType||"fmcg"===e.searchType){const t=(0,d.U)(e);return{type:e.searchType,adsIds:e.adsIds,page:t>1?t:void 0,filters:(0,c.G)(e)}}return;case"prices":return{type:"prices",branchId:e.entityId,categoryId:e.categoryId};case"userProfile":return"places"===e.profileTab?{type:"profile",profileTab:e.profileTab}:"favorites"===e.profileTab?{type:"favorites"}:{type:"my",profileTab:e.profileTab||"places"};case"exchange":return{type:"exchange",page:e.page>1?e.page:void 0,filters:e.filterValues,calc:{action:e.action,currencyCode:e.currencyCode,volume:e.volume}};case"achievements":return{type:"achievements",group:e.groupName};case"directions":return e.isMetroSchemeMode?{type:"metroScheme",stub:"metro"}:{type:"directions",tab:e.tab!==m.ye?e.tab:void 0,points:e.points.map((e=>null===e||(0,g.Yk)(e)?void 0:e)),filters:(0,c.G)(e)};case"entity":if("point"===e.entityType)return{type:"geo",point:e.point};const r=(0,f.DE)({state:t,entityId:e.entityId}).data;return{type:(0,p.Z)(e.entityType),entityId:e.entityId,tab:r&&e.tab!==(0,l.w)(r)[0]?e.tab:void 0,query:"inside"===e.tab?e.tabInside&&e.tabInside.query:void 0,filters:(0,c.G)(e),point:e.point,entranceId:e.entranceId};case"product":return{type:"product",productId:e.productId,filters:u("b",e.buildingId,(0,c.G)(e))};case"gallery":return{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,p.Z)(e.entityType),photoId:e.photoId,entityId:e.entityId};case"offer":return{type:"offer",productId:e.productId};case"publicFavorites":return{type:e.subtype};case"collection":return{type:"private"===e.subtype?"private":"collection",collectionId:e.collectionId};case"rubricator":return{type:"rubrics"};case"rubric":return{type:"subrubrics",parentId:e.parentId};case"userFriendsActivity":return{type:"friends",entityId:e.entityId};case"realty":return{type:"realty",at:null===(s=e.entity)||void 0===s?void 0:s.id,category:(0,h.$s)(e.categoryId)||"sale",filters:e.filterValues};case"realtyCard":const i=e.realtyId;if(!i)return;return{type:"realtyAd",id:i,tab:"ad"!==e.tab?e.tab:void 0};case"friendsList":return{type:"friendsList"};case"userPublicProfile":return{type:"user",userId:e.userId};case"sharingGeo":return{type:"geolocation",sessionId:e.sessionId};case"error":return(0,b.y)(v.u,e.subtype)?{type:"error",subtype:e.subtype}:void 0}}(s,e);return r?[r,...t]:t}),[]):[]},e=>e.appContext.popup,e=>e.appContext.lang,e=>e.appContext.floors,e=>e.session,e=>e.appContext.ruler,function(e){const t=e.appContext.showSnow;return t.allowSnowStyle?{type:"snow",intensity:"on"===t.status?t.intensity:void 0,allowSnowStyle:t.allowSnowStyle}:void 0},e=>e.appContext.friendRequest,e=>e.appContext.mapfriendsPage,e=>e.appContext.storiesPopupData,e=>e.appContext.friendInOtherDomain,e=>{var t;return"metro"===e.appContext.activeLayer&&Boolean(null===(t=(0,C.yj)(e))||void 0===t?void 0:t.isMetroSchemeMode)},e=>I.j.getIsAvailable(e)&&I.j.$isEnabled.get(e),k.y.S.get],((e,t,s,{isLangRepresentedInOriginalRequest:r,showSlugsNeededOnlyForStartup:c,isMapViewRepresentedInOriginalRequest:d,mapInteractionStarted:l,emailVerificationStatus:u,reviewRating:p},{activeLayer:m,activeSublayer:g,showTrafficOnMap:h},f,b,v,y,{is3dEnabled:x,statHash:j,utm:w},C,I,k,O,S,T,M,P,L)=>{const N=function(e){return e?Object.keys(e).map((t=>({type:t,value:e[t]}))):[]}(w),A=t?{type:"region",code:t}:void 0,R=L?{type:"immersivePromo"}:void 0;if(R)return(0,i.oE)([A,R,{type:"campaign",value:"sharing_promo"}]);const z=b&&"createReview"===b.type&&!b.sourceId?{type:"addreview"}:void 0,U=b&&"editUserProfile"===b.type?{type:"preferences"}:void 0,B=b&&"createReview"===b.type&&b.sourceId?{type:"writeReview",source:b.sourceId}:void 0,H=S.currentStoryId?{type:E(S.type),storyId:S.currentStoryId}:void 0,F=b&&"typedFeedback"===b.type?{type:"addOrg"===b.subtype?"addOrg":"feedback"}:void 0,D=(0,a.m)({project:e,is3d:x}),V=b&&"newYearPromo"===b.type?{type:"new_year_promo"}:void 0,Z=u?{type:"auth",status:u}:void 0,$=l||d?{type:"mapview",center:s.center,pitch:(0,n.qE)(s.pitch,o.kq,o.oB),rotation:(0,n.qE)(s.rotation,o.WN,o.Ks),zoom:(0,n.qE)(s.zoom,D.min,D.max)}:void 0,q=k?{type:"user",userId:k}:void 0,W=O?{type:"mapfriends",page:O,userId:k}:void 0,G=r?{type:"lang",lang:v}:void 0,Q=y&&void 0!==y.currentFloor?{type:"floor",value:y.currentFloor}:void 0,K=j&&c?{type:"stat",value:j}:void 0,Y=C.isActive?{type:"ruler",points:C.points}:void 0,X=m&&"realty"!==m&&!M?{type:"layer",value:m}:void 0,J=g&&!(0,_.g)(g)?{type:"sublayer",value:g}:void 0,ee=h?{type:"traffic"}:void 0,te=b&&"createReview"===b.type&&!b.sourceId&&p?{type:"reviewRating",value:p}:void 0,se=T.previousMapView?{type:"previousMapView",value:T.previousMapView}:void 0,re=P?{type:"immersive",state:"on"}:void 0;return(0,i.oE)([G,A,...f,z,B,F,Q,$,...N,K,Y,X,J,ee,Z,V,I,q,W,H,U,te,se,re,R])}));function E(e){switch(e){case"firm":return"firmStory";case"fmcg":return"fmcgStory";case"discovery":return"discoveryStory";default:return"story"}}},72185:(e,t,s)=>{"use strict";s.d(t,{P:()=>m,b:()=>g});var r=s(31085),i=s(14041),a=s(11540),n=s(79911),o=s(79594),c=s(13527),d=s(95e3),l=s(62508),u=s(37573),p=s(87017);const m=i.createContext({}),g=({config:e,i18n:t,store:s,modelContext:i,services:g,children:h,queryClient:f})=>{const b=(0,d.O4)(e),v={config:e,tp:t.tp,dateFns:t.dateFns,theme:b};return(0,r.jsx)(p.QueryClientProvider,Object.assign({client:f},{children:(0,r.jsx)(o.Kq,Object.assign({store:s},{children:(0,r.jsx)(m.Provider,Object.assign({value:s},{children:(0,r.jsx)(c.Q.Provider,Object.assign({value:e},{children:(0,r.jsx)(a._4,Object.assign({value:v},{children:(0,r.jsx)(d.O$,Object.assign({theme:b},{children:(0,r.jsx)(n.R.Provider,Object.assign({value:t},{children:(0,r.jsx)(u.e.Provider,Object.assign({value:g},{children:(0,r.jsx)(l.S.Provider,Object.assign({value:i},{children:h}))}))}))}))}))}))}))}))}))}},98787:(e,t,s)=>{"use strict";s.d(t,{M:()=>c,d:()=>d});var r=s(78170),i=s(14041),a=s(79594),n=s(82393);const{use:o}=(0,r.V)("tUGC events",(e=>({services:t})=>{const{regionCode:s}=e;return s?Promise.all([t.tUgcApi.getUserLayers({regionCode:s}),t.tUgcApi.get2GisLayers({regionCode:s})]):void 0}));function c(e){const t=(0,a.d4)(n.n$),s=(0,a.d4)((e=>e.appContext.showTrafficOnMap))&&(null==t?void 0:t.flags.traffic)?null==t?void 0:t.code:void 0,{data:r}=o({regionCode:s},e);return(0,i.useMemo)((()=>null==r?void 0:r.reduce(((e,t)=>[...e,...t.items]),[])),[r])}function d(e){const{id:t}=e,s=c({staleTime:1/0});return(0,i.useMemo)((()=>null==s?void 0:s.find((e=>e.id===t))),[s,t])}},3683:(e,t,s)=>{"use strict";s.d(t,{s:()=>o});var r=s(85608),i=s(78170),a=s(25877);function n({id:e,url:t,user:s,timestamp:r,preview_url:i}){return{id:e,url:t,creation_time:new Date(1e3*r).toISOString(),modification_time:new Date(1e3*r).toISOString(),owner:{id:s.auth_id||s.id,name:s.name},status:"active",block_reason:"",is_main:!0,is_visible:!0,preview_urls:{"656x340":(0,a.$)(i,{width:656,height:340}),"328x170":(0,a.$)(i,{width:328,height:170}),"232x232":(0,a.$)(i,{width:232,height:232}),"116x116":(0,a.$)(i,{width:116,height:116}),"176x176":(0,a.$)(i,{width:176,height:176}),"88x88":(0,a.$)(i,{width:88,height:88})}}}const{use:o}=(0,i.V)("tUGC photos",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){return(yield t.tUgcApi.getPhotos(e)).items.map(n)}))))},14193:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});const r=(e,t={checkByCtaList:!1})=>{const{checkByCtaList:s}=t;return s?(e=>{var t,s,r;return(null!==(r=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here)&&void 0!==r?r:[]).filter((e=>!!e.cta_list))})(e):(e=>{var t,s,r;return(null!==(r=null===(s=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here)&&void 0!==r?r:[]).filter((e=>!!e.is_primary))})(e)}},57366:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});var r={};s.r(r),s.d(r,{checkAwardRegion:()=>m,getAwardsFilters:()=>u,isAwardFilterSelected:()=>p});var i=s(34764);const a=e=>({label:e._t("Поесть"),values:[i.nr.Restaurants,i.nr.Cafe,i.nr.Bar,i.nr.Confectionery,i.nr.Coffeeshop,i.nr.Streetfood,i.nr.Foodmall,i.nr.Shotglass]}),n=e=>({label:e._t("Авто"),values:[i.nr.Carservice,i.nr.Detailing]}),o=e=>({label:e._t("Красота"),values:[i.nr.BeautySalon,i.nr.Nailsalon,i.nr.Hairdressing,i.nr.Barbershop,i.nr.Spa,i.nr.Massage]}),c=e=>({label:e._t("Цветы"),values:[i.nr.Flowers]}),d=e=>({label:e._t("Здоровье"),values:[i.nr.Dental,i.nr.MedicalCenter]}),l=e=>({label:e._t("Гостиницы"),values:[i.nr.Hotel]}),u=e=>({food:a(e),health:d(e),beauty:o(e),auto:n(e),travel:l(e),flowers:c(e)}),p=(e,t)=>e.values.every((e=>"true"===t[e]));function m(e){var t;return!(!e||!g.has(e.name)&&!(null===(t=e.admDiv)||void 0===t?void 0:t.some((({name:e})=>g.has(e)))))}const g=new Set(["Москва","Санкт-Петербург","Новосибирск","Екатеринбург","Казань","Краснодар","Нижний Новгород","Челябинск","Самара","Уфа","Омск","Красноярск","Пермь","Абакан","Альметьевск","Армавир","Архыз","Астрахань","Барнаул","Владивосток","Дзержинск","Ессентуки","Иркутск","Йошкар-Ола","Кемерово","Кисловодск","Кострома","Ленинск-Кузнецкий","Минеральные Воды","Набережные Челны","Находка","Нижневартовск","Нижнекамск","Новокузнецк","Прокопьевск","Пятигорск","Сочи","Тобольск","Тольятти","Томск","Тюмень","Уссурийск","Шерегеш","Волгоград","Анапа","Архангельск","Бийск","Благовещенск","Геленджик","Горно-Алтайск","Дербент","Златоуст","Калининград","Калуга","Курган","Курск","Магнитогорск","Махачкала","Миасс","Мурманск","Нижний Тагил","Новороссийск","Норильск","Обнинск","Оренбург","Петропавловск-Камчатский","Саратов","Сургут","Сыктывкар","Улан-Удэ","Ульяновск","Хабаровск","Ханты-Мансийск","Чита","Южно-Сахалинск","Якутск","Бишкек","Минск","Алматы","Астана","Кокшетау","Щучинск","Боровое","Костанай","Павлодар","Петропавловск","Уральск","Усть-Каменогорск","Шымкент"]);s(40360)},40360:(e,t,s)=>{"use strict";s.d(t,{O:()=>m});var r=s(31085),i=s(71064),a=s(99259),n=s(84175),o=s(8365),c=s(4013),d=s(14041),l=s(80552),u=s(76504),p=s(46579);const m=(0,d.memo)((({tag:e,name:t,ownerName:s,chip:a,iconUrl:d,link:l})=>{const{s:m,css:h}=(0,n.I)(g),{isSearchBot:f,lang:b}=(0,p.U)(),{bssRef:v,useBssHandler:y}=(0,o.E)((0,c.go)({tag:e,name:t,ownerName:s})),x=y(c.cT,{tag:e,name:t,ownerName:s,link:l});return l?(0,r.jsx)(i.A,Object.assign({external:!0,href:l,onClick:x},{children:(0,r.jsxs)("div",Object.assign({ref:v,className:h(m.root,a&&m._chip)},{children:[d&&(0,r.jsx)(u.O,{src:d,isLoadingForced:f,width:16,height:16,alt:"ru"===b?"Иконка":void 0}),(0,r.jsx)("span",Object.assign({className:h(m.text)},{children:t}))]}))})):(0,r.jsxs)("div",Object.assign({ref:v,className:h(m.root,a&&m._chip),onClick:x},{children:[d&&(0,r.jsx)(u.O,{src:d,isLoadingForced:f,width:16,height:16,alt:"ru"===b?"Иконка":void 0}),(0,r.jsx)("span",Object.assign({className:h(m.text)},{children:t}))]}))}));m.displayName="AwardLabel";const g=(0,n.r)({root:{display:"flex",alignItems:"center"},_chip:{paddingTop:7,paddingBottom:9,paddingInlineStart:10,paddingInlineEnd:14,backgroundColor:a.T.gray_f2f2f2,borderRadius:8},text:Object.assign(Object.assign({},l.EX),{marginInlineStart:4,color:a.T.gray_262626})})},47817:(e,t,s)=>{"use strict";s.d(t,{j:()=>r});var r={};s.r(r),s.d(r,{$isEnabled:()=>n,getIsAvailable:()=>a});var i=s(82393);function a(e){if(!e.config.featureImmersiveMap)return!1;if(!e.session.is3dEnabled)return!1;const t=(0,i.n$)(e);return!!t&&e.config.immersiveMapProjects.includes(t.code)}const n=(0,s(86070).G)("isImmersiveMapEnabled")},43751:(e,t,s)=>{"use strict";s.d(t,{y:()=>r});var r={};s.r(r),s.d(r,{S:()=>a,P:()=>n});var i=s(86070);const a=(0,i.G)("isImmersivePromoRunning"),n=(0,i.G)("isImmersivePromoViewed")},98452:(e,t,s)=>{"use strict";s.d(t,{Q1:()=>_,yR:()=>b,YD:()=>r});var r=s(21933),i=s(31085),a=s(84175),n=s(14041),o=s(10048),c=s(58471),d=s(40837);const l=e=>(0,i.jsx)(o.w,{loader:c.b.mediaVideoPlayer,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:d.N});var u=s(64099),p=s(81618),m=s(12043),g=s(8415),h=s(46579),f=s(99882);const b=(0,n.memo)((({video:e,selected:t,footer:s,statusIcon:r,hasStatus:o})=>{const c=(0,n.useRef)(null),d=(0,n.useRef)(null),{css:u,s:b}=(0,a.I)(v),{isMobileDevice:y}=(0,h.U)(),x=(0,n.useContext)(f.q),[j,w]=(0,n.useState)(!1),[_,C]=(0,g.q)({threshold:.2,showVisibility:!0}),I=y&&C,k=(0,n.useCallback)((e=>{var t,s;const r=y?null===(t=_.current)||void 0===t?void 0:t.getBoundingClientRect():null===(s=d.current)||void 0===s?void 0:s.getBoundingClientRect();if(r){const t=r.x,s=r.x+r.width,i=r.y,a=r.y+r.height,n=e.x>t&&e.x<s&&e.y>i&&e.y<a;if(n!==j||(null==x?void 0:x.isPressedProgressBar)){const e=(null==x?void 0:x.isPressedProgressBar)?null==x?void 0:x.isPressedProgressBar:n;w(e)}}}),[_,y,j,null==x?void 0:x.isPressedProgressBar]);return(0,n.useEffect)((()=>{setTimeout((()=>{c.current&&t&&(c.current.scrollIntoView({block:"center"}),c.current=null)}),0)}),[]),(0,n.useEffect)((()=>(document.addEventListener("mousemove",k),()=>{document.removeEventListener("mousemove",k)})),[k]),e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.h,{children:(0,i.jsxs)("div",Object.assign({className:u(b.snapItem),ref:c},p.dx.n("wat-media-video-player"),{children:[(0,i.jsx)("div",Object.assign({ref:_,className:u(b.wrapper,o?b.mobileBigWrapper:b.mobileWrapper)},{children:(0,i.jsx)(l,{selected:I,urls:e.video.urls,id:e.id,customControls:!0,showControls:j,statusIcon:r})})),null!=s?s:null]}),e.id)}),(0,i.jsx)(m.j,{children:(0,i.jsx)("div",Object.assign({className:u(b.wrapper),ref:d},{children:(0,i.jsx)(l,{selected:t,id:e.id,urls:e.video.urls,customControls:!0,showControls:j,statusIcon:r})}))})]}):null}));b.displayName="MediaVideo";const v=(0,a.r)({snapItem:{height:"100%",scrollSnapAlign:"center",scrollSnapStop:"always",scrollMargin:4,flexShrink:0,flexBasis:"100%",flexGrow:1,display:"flex",flexDirection:"column"},wrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:u.fE.base},mobileWrapper:{height:"calc(100% - 74px)"},mobileBigWrapper:{height:"calc(100% - 126px)"}});var y=s(76504),x=s(33808),j=s(8365),w=s(69958);const _=n.memo((({selected:e,activePhotoPosition:t,position:s,photo:r,isLoadingForced:o=!1,trackBSSSource:c,size:d,footer:l})=>{const u=n.useRef(null),{lang:g}=(0,h.U)(),[f,b]=(0,n.useState)(!0),{s:v,css:_,theme:I}=(0,a.I)(C),{bssRef:k}=(0,j.E)((0,w.bssShowEvent)({trackBSSSource:c,photo:r,position:s,size:d}),{threshold:.5}),O=t===s&&c,S=()=>b(!1);return n.useEffect((()=>{setTimeout((()=>{u.current&&e&&(u.current.scrollIntoView({block:"center"}),u.current=null)}),0)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.h,{children:(0,i.jsxs)("div",Object.assign({className:_(v.snapItem),ref:u},{children:[(0,i.jsxs)("div",Object.assign({ref:O?k:null,className:_(v.wrapper)},{children:[(0,i.jsx)(y.O,Object.assign({contain:!0,isLoadingForced:!!o,src:r.photo.url},p.dx.n("wat-image"),{onError:S,onLoad:S,alt:"ru"===g?"Фото":void 0})),!o&&f&&(0,i.jsx)("div",Object.assign({className:_(v.preloader)},p.dx.n("wat-mediaviewer-image-preloader"),{children:(0,i.jsx)(x.y,{size:24,color:I.colors.green_299400_brand})}))]})),null!=l?l:null]}),r.id)}),(0,i.jsx)(m.j,{children:(0,i.jsxs)("div",Object.assign({ref:O?k:null,className:_(v.wrapper)},{children:[(0,i.jsx)("img",Object.assign({className:_(v.image),src:r.photo.url,onLoad:S,onError:S,alt:"ru"===g?"Фото":void 0},p.dx.n("wat-image"))),!o&&f&&(0,i.jsx)("div",Object.assign({className:_(v.preloader)},p.dx.n("wat-mediaviewer-image-preloader"),{children:(0,i.jsx)(x.y,{size:24,color:I.colors.green_299400_brand})}))]}))})]})}));_.displayName="MediaImage";const C=(0,a.r)({snapItem:{height:"100%",scrollSnapAlign:"center",scrollSnapStop:"always",scrollMargin:4,flexShrink:0,flexBasis:"100%",flexGrow:1,display:"flex",flexDirection:"column"},wrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:u.fE.base,pointerEvents:"none"},image:{height:"100%",width:"100%",objectFit:"contain"},preloader:{position:"absolute",zIndex:u.fE.bottom,top:"50%",transform:"translate3d(-50%, -50%, 0)",left:"50%"}})},69958:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bssShowEvent:()=>d});var r=s(45863),i=s(80905),a=s(46287),n=s(50432),o=s(66748),c=s(9420);const d=({trackBSSSource:e,photo:t,position:s,size:d})=>({frameId:l},u)=>{var p;if(!e)return;const m=(0,i.w1)(u.appContext.frames,l);if(t.id===o.F3)return{uiElement:{name:"photoCardFull",ownerName:"friends"===e?"currentReviewFrame":"galleryFrame",frameUuid:l,position:s},payload:{photo:void 0}};const g=m&&"entityId"in m&&m.entityId?(0,a.DE)({entityId:m.entityId,state:u}).data:void 0,h=m?null===(p=(0,c.$x)({state:u,frameId:m.id}))||void 0===p?void 0:p.id:void 0,f=(0,r.p)({media:t,orgId:"branch"===(null==g?void 0:g.type)?g.org.id:void 0,entityId:null==g?void 0:g.id,entityType:null==g?void 0:g.type,tag:h});return f||"reviews"!==e||(0,n.vV)({message:"Не удалось сформировать payload.photo для события показа карточки фотографии отзыва v-dhbs3",level:"error",id:"lkjfd",payload:{type:"debug",subtype:"BssTrackerV3"}}),"reviews"===e?{uiElement:{name:"reviewPhotoCardFull",ownerName:"reviewCardFull",frameUuid:l,position:s},payload:{photo:f}}:"realty"===e?d?{uiElement:{name:"realtyPhotoCardFull",ownerName:"realtyGalleryFrame",frameUuid:l,position:s},payload:{gallery:{size:d}}}:void(0,n.vV)({message:"Не удалось сформировать payload.gallery для события показа фотографии карточки недвижимости v-4jv44",level:"error",id:"lxcvd",payload:{type:"debug",subtype:"BssTrackerV3"}}):(f||"friends"===e||(0,n.vV)({message:"Не удалось сформировать payload.photo для события показа карточки фотографии v-gso2s",level:"error",id:"wlakw",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:"photoCardFull",ownerName:"friends"===e?"currentReviewFrame":"galleryFrame",frameUuid:l,position:s},payload:{photo:"friends"===e?{photoId:t.id}:f}})}},21933:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bss:()=>g,prefetchUserItems:()=>m,setAlbum:()=>d,types:()=>r,useAlbum:()=>c,useById:()=>u,useList:()=>o,useUserItems:()=>p,withMediaAlbum:()=>l});var r={};s.r(r);var i=s(85608),a=s(78170),n=s(66698);const{use:o}=(0,a.V)("fetchListMedia",(e=>({services:t,config:s})=>{if(e.objectIds.length&&s.featureVideoInGallery)return t.mediaApi.getMediaItemsLight(Object.assign({objectIds:e.objectIds,searchCtx:e.searchCtx,searchKeywords:e.searchKeywords},e.size?{size:e.size}:{}))}),{staleTime:1/0,cacheTime:1/0}),{use:c,setQueryData:d,withQueryData:l}=(0,a.r)("fetchMediaAlbum",(e=>[[e.objectId,e.albumId,e.searchCtx,e.searchKeyword],({services:t,context:s})=>(0,i.sH)(void 0,void 0,void 0,(function*(){const{credentialsApi:r,mediaApi:i}=t,{pageParam:a}=s,{objectId:o,albumId:c=n.Qh,searchCtx:d,searchKeyword:l}=e;if("__empty"===o)return{items:[],albums:[],next_page_token:void 0,meta:{code:200}};const u=yield r.getToken();return yield i.getMediaItemsByAlbums({objectId:o,albumId:c,accessToken:u,page_token:a?`${a}`:void 0,searchCtx:d,searchKeyword:l})}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>null==e?void 0:e.next_page_token}),{use:u}=(0,a.V)("fetchMediaById",(e=>({services:t,config:s})=>{if(e.length&&s.featureVideoInGallery)return t.mediaApi.getMediaItemsByIds(e)}),{staleTime:1/0,cacheTime:1/0}),{use:p,prefetch:m}=(0,a.r)("fetchMediaUserItems",(()=>({services:e,context:t})=>(0,i.sH)(void 0,void 0,void 0,(function*(){const s=yield e.credentialsApi.getToken();return e.mediaApi.getMediaUserItems({page:Number(t.pageParam)||1,accessToken:s})}))),{staleTime:1/0,cacheTime:1/0});var g=s(69958)},74281:(e,t,s)=>{"use strict";s.d(t,{Vf:()=>f,q7:()=>at,YH:()=>i,Ii:()=>r});var r={};s.r(r),s.d(r,{IMAGE_THEMES:()=>je,baseSnippet:()=>_e,bss:()=>re,makeContent:()=>ke,makePreview:()=>Se,makeSlide:()=>Oe,makeStory:()=>Ie,markStoryAsViewed:()=>ge,useDiscoveryStories:()=>Be,useFirmStories:()=>Ae,useFmcgStories:()=>Ve,useSlideSizes:()=>ie,useStoriesRotation:()=>he,useStoriesViewsChecker:()=>fe});var i={};s.r(i),s.d(i,{getDiscoveryStory:()=>Ue,getFmcgStory:()=>He,getImageSlideDuration:()=>ot,getSlideTextPosition:()=>qe,getSlideType:()=>Ge,getSlideUrl:()=>Qe,getStoryPreview:()=>p,getStorySlideButton:()=>We,getStorySlides:()=>Q,hasStories:()=>Ne,isAdStory:()=>u,isAdStorySlide:()=>$e,miniStoriesLineClamped:()=>m});var a=s(31085),n=s(99259),o=s(84175),c=s(91466),d=s(80552),l=s(81618);const u=e=>"info"!==e.source,p=e=>({backgroundUrl:u(e)?e.content.preview.backgroundUrl:e.preview.background_url,text:u(e)?e.content.preview.text:e.preview.text});function m(e,t){const s=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:s?e*s:"none"})}var g=s(8365),h=s(10742);const f=e=>{const{css:t,s:s}=(0,o.I)(b),{story:r,borderRadius:i,isNotViewed:n,isTextMedium:d,isStoryViewer:u,onClick:m,bssShowFunction:f,bssActionFunction:v,bssActionParams:y}=e,x=r?p(r):void 0,{bssRef:j,useBssHandler:w}=(0,g.E)(f?f():void 0,{threshold:.5}),_=w(v,y),C=(0,h.D)((()=>{r&&(_(),m(r))}));return(0,a.jsx)("div",Object.assign({className:t(s.root,n&&s._isNotViewed),style:{borderRadius:i}},{children:(0,a.jsxs)("div",Object.assign({className:t(s.inner),style:{borderRadius:i-2},onClick:C,ref:j},(0,l.p)({n:x?"wat-mini-story-icon":"wat-mini-story-skeleton",v:null==r?void 0:r.id,t:u?"viewer":"card"}),{children:[!!(null==x?void 0:x.backgroundUrl)&&(0,a.jsx)("div",Object.assign({className:t(s.background)},{children:(0,a.jsx)(c.i,{src:x.backgroundUrl})})),!!(null==x?void 0:x.text)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:t(s.imageOverlay)}),(0,a.jsx)("div",Object.assign({className:t(s.text,d&&s.textMedium)},l.dx.n("wat-mini-story-text"),{children:x.text}))]})]}))}))},b=(0,o.r)((e=>({root:{width:"100%",height:"100%",padding:2,boxSizing:"border-box",overflow:"hidden",border:"solid 2px transparent"},_isNotViewed:{borderColor:e.colors.green_30ad00_brand},inner:{position:"relative",width:"100%",height:"100%",background:n.T.gray_f2f2f2,overflow:"hidden",cursor:"pointer"},background:{position:"absolute",inset:0},imageOverlay:{position:"absolute",inset:0,background:"linear-gradient(46deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.20) 48.06%, rgba(0, 0, 0, 0.00) 98.95%)"},text:Object.assign(Object.assign(Object.assign({},d.H8),{fontSize:"10px",position:"absolute",bottom:6,start:6,end:6,color:n.T.white}),m(3,Object.assign(Object.assign({},d.H8),{fontSize:"10px"}))),textMedium:Object.assign(Object.assign(Object.assign({},d.Yn),(0,d.lR)(3,d.Yn)),{paddingStart:12,paddingEnd:12,bottom:12})})));var v=s(85608),y=s(14041),x=s(86938),j=s(96141),w=s(79594),_=s(7335),C=s(48914),I=s(63041);const k=(0,y.memo)((({slideButton:e,innerRef:t,showEventOrdinal:s,actionEventParamsSelector:r,onClick:i})=>{const n=(()=>{if("empty"!==e.action.type&&"open_card"!==e.action.type)return e.action.value})(),c=(0,w.wA)(),{s:d,css:l}=(0,o.I)(O),u=(0,h.D)((t=>{t.stopPropagation(),e.action.value&&"open_card"===e.action.type&&c((0,I.UP)({id:e.action.value,type:"branch"})),"empty"!==e.action.type&&"open_card"!==e.action.type||c((0,_.eU)(r,(e=>(0,C.cD)(e)))),i()})),p={background:e.backgroundColor,color:e.textColor,containerRef:t,experimentalStyles:d.button,appearance:"primary",wide:!0,external:!0,children:e.action.caption};return(0,a.jsx)("div",Object.assign({className:l(d.buttonWrapper)},{children:n?(0,a.jsx)(x.L,Object.assign({originalHref:n,showEventOrdinal:s,actionEventParamsSelector:r},{children:e=>(0,a.jsx)(j.$,Object.assign({},p,{href:e,wide:!0,external:!0}))})):(0,a.jsx)(j.$,Object.assign({},p,{onClick:u}))}))})),O=(0,o.r)({button:{padding:16,textAlign:"center",zIndex:3},buttonWrapper:{padding:"0 24px"}});var S=s(46579);const T=(0,y.memo)((({url:e,onLoad:t,innerRef:s,loaded:r,onError:i,imageSlideStyles:n})=>{const{css:c,s:d}=(0,o.I)(E),{lang:l}=(0,S.U)();return(0,a.jsx)("img",{"data-n":"wat-slide-image",ref:s,style:n,className:c(d.image,r&&d.imageLoaded),src:e,onLoad:t,onError:i,alt:"ru"===l?"Текущий слайд":void 0})})),E=(0,o.r)({image:{pointerEvents:"none",width:"100%",height:"100%",visibility:"hidden",userSelect:"none"},imageLoaded:{visibility:"visible"}});var M=s(90861);function P({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.20243 11.2531L12.1451 16.1957L10.2598 18.081L8.07043 15.8917C8.0691 15.9277 8.06377 15.9637 8.06377 15.9997C8.06377 17.0797 8.27443 18.1264 8.69177 19.1144C9.09443 20.0664 9.67177 20.9224 10.4078 21.6557C11.1424 22.3917 11.9971 22.969 12.9504 23.3717C14.9238 24.2064 17.2091 24.205 19.1771 23.3717C20.1291 22.969 20.9851 22.3931 21.7211 21.6557L23.6064 23.5424C22.6264 24.5224 21.4838 25.2917 20.2158 25.8277C18.9024 26.3837 17.5051 26.6664 16.0638 26.6664C14.6251 26.6664 13.2278 26.3837 11.9118 25.8277C10.6411 25.2891 9.49977 24.521 8.52243 23.5424C7.54243 22.5651 6.7731 21.4237 6.23577 20.1517C5.78243 19.0771 5.5211 17.9477 5.43577 16.789L4.1451 18.081L2.25977 16.1957L7.20243 11.2531ZM15.9368 5.33398C17.3755 5.33398 18.7728 5.61532 20.0888 6.17265C21.3595 6.70998 22.4995 7.47932 23.4782 8.45798C24.4568 9.43532 25.2262 10.5767 25.7648 11.8473C26.2168 12.9233 26.4795 14.0526 26.5635 15.2113L27.8555 13.9193L29.7408 15.8047L24.7982 20.7473L19.8555 15.8047L21.7408 13.9193L23.9302 16.1086C23.9315 16.0726 23.9368 16.0366 23.9368 16.0006C23.9368 14.9206 23.7248 13.8727 23.3088 12.886C22.9048 11.934 22.3275 11.078 21.5928 10.3433C20.8582 9.60865 20.0022 9.03132 19.0502 8.62865C17.0768 7.79398 14.7902 7.79532 12.8235 8.62865C11.8715 9.02998 11.0142 9.60732 10.2782 10.3433L8.39283 8.45665C9.37417 7.47665 10.5155 6.70865 11.7835 6.17132C13.0982 5.61532 14.4942 5.33398 15.9368 5.33398Z",fill:e})}))}const L=(0,y.memo)((e=>{const{url:t,onLoad:s,onError:r,videoSlideStyles:i,innerRef:n,loaded:c,onPlaying:d,onWaiting:l,muted:u}=e,{css:p,s:m}=(0,o.I)(N);return(0,y.useEffect)((()=>{var e;null===(e=null==n?void 0:n.current)||void 0===e||e.load()}),[t]),(0,a.jsx)("video",{src:t,className:p(m.video,c&&m.videoLoaded),onPlaying:d,onWaiting:l,muted:u,playsInline:!0,onCanPlayThrough:s,onError:r,style:i,ref:n})})),N=(0,o.r)({video:{width:"100%",height:"100%",visibility:"hidden",userSelect:"none",pointerEvents:"none"},videoLoaded:{visibility:"visible"}}),A=(0,y.memo)((e=>{const{css:t,s:s}=(0,o.I)(R),{type:r,url:i,mediaSlideStyles:c,onLoad:d,loaded:l,hasContentLoadingError:u,onError:p,videoAPI:m,imageAPI:g}=e,f=(0,h.D)((()=>{"image"===r&&g.refresh(),"video"===r&&m.refresh()}));if((0,y.useEffect)((()=>{i||l||d()}),[d,i,l]),!i)return null;const b=!l||u||m.buffered,v=!u&&(!l||m.buffered);return(0,a.jsxs)("div",Object.assign({className:t(s.wrapper)},{children:[b&&(0,a.jsxs)("div",Object.assign({className:t(s.loadingState)},{children:[u&&(0,a.jsx)("button",Object.assign({className:t(s.refreshButton),onClick:f},{children:(0,a.jsx)(P,{color:n.T.white})})),v&&(0,a.jsx)(M.Z,{dotColor:n.T.white})]})),"image"===r&&(0,a.jsx)(T,{innerRef:g.ref,url:i,imageSlideStyles:c,onLoad:d,loaded:l,onError:p}),"video"===r&&(0,a.jsx)(L,{muted:m.muted,onPlaying:m.play,onWaiting:m.wait,innerRef:m.ref,url:i,videoSlideStyles:c,onLoad:d,loaded:l,onError:p})]}))})),R=(0,o.r)({wrapper:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},loadingState:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3},refreshButton:{border:0,color:n.T.gray_262626,background:"transparent",width:32,height:32}}),z="storyButton",U="storyItem";var B=s(26185),H=s(86664);const F=(e,t)=>{const{story:s,slide:r,storyPosition:i,callToAction:a,position:n}=e;return{uiElement:{name:z,ownerName:U,frameUuid:t,position:n},payload:{callToAction:a,storiesList:(0,H.i)({story:s,position:i}),storyItem:(0,B.N)({slide:r})}}},D={bssShow:e=>({frameId:t})=>F(e,t),bssTap:e=>()=>Object.assign(Object.assign({},F(e,e.ownerFrameId)),{action:"tap"})},V="storyItem",Z="storiesFrame",$={bssShow:e=>({frameId:t})=>{const{story:s,slide:r,storyPosition:i,position:a}=e;return{uiElement:{name:V,ownerName:Z,frameUuid:t,position:a},payload:{storyItem:(0,B.N)({slide:r}),storiesList:(0,H.i)({story:s,position:i})}}}},q="storiesFrame",W="storiesFrame";var G=s(50432);const Q=e=>(e=>"info"===e.source)(e)?e.slides:e.content.slides,K={bssTap:e=>(t,s,r)=>{const{frameId:i,story:a,storyPosition:n}=e,{title:o,slideId:c,actionType:d,name:l}=r||{};if(!a||void 0===n)return;const u=Q(a).findIndex((e=>e.id===c));if(-1!==u&&l&&c&&d&&i)return{uiElement:Object.assign(Object.assign({name:l},l===q?{}:{ownerName:W}),{position:u+1,frameUuid:i}),payload:{storyItem:{id:c,title:o},storiesList:(0,H.i)({story:a,position:n})},action:d};(0,G.vV)({message:`Не удалось сформировать событие навигации сторис ${l}`,level:"error",id:"99sp5",payload:{type:"debug",subtype:"BssTrackerV3"}})}};var Y=s(60545);const X="storyIcon";var J=s(7818),ee=s(80905);const te=(e,t)=>{switch(!0){case t:return"storiesFrame";case"firm"===e.source:case"fmcg"===e.source:return"cardContacts";case"discovery"===e.source:return"searchResultsList";default:return}},se={bssShow:e=>({frameId:t},s)=>{const{story:r,entity:i,position:a,isStoryViewer:n,isHide:o}=e;if(o)return;const c=r&&te(r,n);if(c)return{uiElement:{name:X,ownerName:c,frameUuid:t},payload:{placeItem:i?(0,J.ij)({entity:i}):void 0,storiesList:(0,H.i)({story:r,position:a})}};(0,G.vV)({message:"Не удалось сформировать ownerName для события показа превью Истории (v-n46l9 или v-lm6bi)",level:"error",id:"vkm59",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ee.w1)(s.appContext.frames,t))}})},bssTap:e=>({frameId:t},s)=>{const{story:r,entity:i,position:a,isStoryViewer:n}=e,o=r&&te(r,n);if(o)return{uiElement:{name:X,ownerName:o,frameUuid:t},payload:{placeItem:i?(0,J.ij)({entity:i}):void 0,storiesList:(0,H.i)({story:r,position:a})},action:"tap"};(0,G.vV)({message:"Не удалось сформировать ownerName для события тапа превью Истории (a-anopo или a-jpjzt)",level:"error",id:"vkm59",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ee.w1)(s.appContext.frames,t))}})}},re={storyItemBss:$,slideButtonBss:D,storiesNavigationBss:K,miniStoryBss:se,generators:{bssShowStoryButton:({id:e,position:t,storyPosition:s,link:r,storyId:i,actionType:a})=>(0,Y.m3)()({uiElement:{name:z,ownerName:U,position:t},payload:{callToAction:{actionType:null!=a?a:expect.stringMatching(/^('link' | 'phone')$/),value:r},storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:i,name:expect.any(String),position:s,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssTapStoryNavigate:({name:e,actionType:t,slideId:s,storyId:r,previewText:i,size:a,entityId:n,entityType:o,slidePosition:c,storyPosition:d,title:l})=>(0,Y.gD)()({actionType:t,uiElement:Object.assign(Object.assign({name:e},e===q?{}:{ownerName:W}),{position:null!=c?c:expect.any(Number),frameUuid:expect.any(String)}),payload:{storiesList:Object.assign(Object.assign({id:null!=r?r:expect.any(String),name:null!=i?i:expect.any(String),size:null!=a?a:expect.any(Number)},d?{position:null!=d?d:expect.any(Number)}:{}),{entity:{id:null!=n?n:expect.any(String),type:null!=o?o:expect.any(String)},adsAlg:expect.any(Number)}),storyItem:Object.assign({id:null!=s?s:expect.any(String)},l?{title:l}:{})}}),bssShowStoryItem:({id:e,position:t,storyPosition:s,storyId:r})=>(0,Y.m3)()({uiElement:{name:V,ownerName:Z,position:t},payload:{storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:r,name:expect.any(String),position:s,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssShowStoryIcon:({story:e,entity:t,position:s,isStoryViewer:r})=>(0,Y.m3)()({uiElement:{name:X,ownerName:te(e,r)},payload:{storiesList:(0,H.i)({story:e,position:s}),placeItem:t?expect.any(Object):void 0}}),bssStoryIconTap:({story:e,entity:t,position:s,isStoryViewer:r})=>(0,Y.gD)()({uiElement:{name:X,ownerName:te(e,r)},payload:{storiesList:(0,H.i)({story:e,position:s}),placeItem:t?expect.any(Object):void 0}})}},ie=()=>{const e=(0,w.d4)((e=>e.session.screen)),t=(0,w.d4)((e=>!e.config.isMobileDevice)),s=.8*e.height/16*9,r=t?{height:.8*e.height,width:s}:{height:e.height,width:e.width};return{original:r,styles:t?{height:`${r.height}px`,width:`${r.width}px`}:{height:"100%",width:"100%"}}};var ae=s(4340),ne=s(12017),oe=s(1321);const ce="stories";let de=!1,le=[],ue={},pe={};const me=(0,ne.n5)("initStoriesState",(()=>(be(),(0,oe.Ip)({stories:{viewedIdsMap:ue,viewedIdsAtStartMap:pe}})))),ge=(0,ne.n5)("markStoryAsViewed",(e=>(be(),ue[e]?(0,ne.lQ)():(le.push(e),ue=Object.assign(Object.assign({},ue),{[e]:!0}),de&&(le.length>100&&(le=le.slice(le.length-100)),ae.IG.local.setItem(ce,le.join(","))),(0,oe.Ip)({stories:{viewedIdsMap:ue,viewedIdsAtStartMap:pe}}))))),he=e=>{const t=(0,w.wA)();(0,y.useEffect)((()=>{t(me())}),[t]);const s=(0,w.d4)((e=>{var t;return null===(t=e.appContext.weak.stories)||void 0===t?void 0:t.viewedIdsAtStartMap})),r=(0,y.useMemo)((()=>e&&s?function(e,t){const s=[],r=[];return e.forEach((e=>{t[e.id]?r.push(e):s.push(e)})),[...s,...r]}(e,s):void 0),[e,s]);return{stories:r}},fe=()=>{const e=(0,w.d4)((e=>{var t;return null===(t=e.appContext.weak.stories)||void 0===t?void 0:t.viewedIdsMap}));return{isStoryViewed:(0,y.useCallback)((t=>!(!t||!(null==e?void 0:e[t]))),[e])}};function be(){if(!de){try{const e=ae.IG.local.getItem(ce);e&&(le=e.split(","),ue=le.reduce(((e,t)=>(e[t]=!0,e)),{}),pe=Object.assign({},ue))}catch(e){(0,G.vV)({message:"Не получилось распарсить ID просмотренных историй",level:"error",id:"ke8ls72e",payload:{type:"debug",subtype:"FailedParseValue"}})}de=!0}}var ve,ye,xe=s(35023);const je=["sky","blue","green","girl","red","yellow","dog","knight","man","cat","woman","witcher","tree","snow","star","space","boy","flag","city","river","stone"],we={slides:[{source:"firm",id:"0001",swipeInterval:8e3,backgroundUrl:`https://loremflickr.com/360/640/${null!==(ve=je[1])&&void 0!==ve?ve:je[0]}?lock=1`,template:{textPosition:"left_top"},button:{action:{value:"https://google.com",caption:"ГО ТУ ГУГЛ",type:"link"}},title:"Это очень крутой тайтл",footnote:{title:"ФАС title",warning:"Есть противопоказания, нужна консультация врача"}}],preview:{backgroundUrl:`https://loremflickr.com/360/640/${null!==(ye=je[1])&&void 0!==ye?ye:je[0]}?lock=1`,text:"страаашная история"}},_e={source:"firm",id:"mocked-0001",algorithmId:1,orgId:(0,xe.W7)(),projectId:1,erid:["2Ranyn4duZ2"],legalName:"ООО legalName",content:we};var Ce=s(35277);const Ie=(0,Ce.R)(_e),ke=(0,Ce.R)(we),Oe=(0,Ce.R)({source:"firm",id:"0001",swipeInterval:8e3,backgroundUrl:"https://loremflickr.com/360/640/sky",template:{textPosition:"left_top"},button:{action:{value:"https://google.com",caption:"ГО ТУ ГУГЛ",type:"link"}},title:"Это очень крутой тайтл",footnote:{title:"ФАС title",warning:"Есть противопоказания, нужна консультация врача"}}),Se=(0,Ce.R)({backgroundUrl:"https://loremflickr.com/360/640/sky",text:"страаашная история"});var Te=s(21959),Ee=s(15582),Me=s(82393),Pe=s(78170);const{use:Le}=(0,Pe.V)("stories",(e=>({services:t})=>(0,v.sH)(void 0,void 0,void 0,(function*(){var s;return null===(s=(yield t.casinoApi.getGtaAdvise(e)).stories)||void 0===s?void 0:s.objects.filter((e=>!!e.content.preview.text))}))),{staleTime:1/0,cacheTime:1/0}),Ne=e=>{var t,s;return!!(null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.organization_stories)};function Ae({entity:e,enabled:t=!0}){const{featureStoriesInCard:s,locale:r}=(0,S.U)(),i=(0,w.d4)(Me.zN),a=(0,w.d4)(Ee.hv),n=(0,w.d4)(Te.LE),o=(0,y.useMemo)((()=>e?function(e){const t=[];return e.rubrics.forEach((({id:e,kind:s})=>{const r="primary"===s?0:1;t[r]||(t[r]=[]),t[r].push(Number(e))})),t}(e):[]),[e]);return Le({regionId:i,viewport:a,authUserId:n,locale:r,bannerSlot:"organization_stories",objectId:e?e.id:"",queryContextRubrics:o},{enabled:s&&void 0!==e&&Ne(e)&&t})}var Re=s(27293),ze=s(95885);const Ue=e=>Object.assign(Object.assign({},e),{source:"discovery",content:Object.assign(Object.assign({},e.content),{preview:Object.assign(Object.assign({},e.content.preview),{backgroundUrl:(0,ze.m)(e.content.preview.backgroundUrl,"80x96")}),slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"discovery"})))})}),Be=e=>{var t,s;const r=(0,w.d4)((t=>e?(0,Re.OB)({state:t,props:{frame:e}}):void 0)),i=null===(t=null==r?void 0:r.context)||void 0===t?void 0:t.gtaId,a=(0,w.d4)((e=>{var t;return i?null===(t=e.data.gta[i])||void 0===t?void 0:t.stories:null})),n=null===(s=null==r?void 0:r.result)||void 0===s?void 0:s.meta;return{data:null==a?void 0:a.objects.map(Ue),isLoading:"loading"===(null==n?void 0:n.status),isSuccess:"success"===(null==n?void 0:n.status),isError:"error"===(null==n?void 0:n.status)}},He=e=>Object.assign(Object.assign({},e),{source:"fmcg",content:Object.assign(Object.assign({},e.content),{preview:Object.assign(Object.assign({},e.content.preview),{backgroundUrl:(0,ze.m)(e.content.preview.backgroundUrl,"80x96")}),slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"fmcg"})))})});var Fe=s(4592),De=s(46287);const Ve=e=>{var t,s,r,i;const a=(0,w.d4)((t=>e&&(0,Fe.F)({state:t,gtaId:e.gtaId}))),n=(0,w.d4)((t=>e&&(0,De.DE)({state:t,entityId:e.entityId})));return{data:null===(t=null==a?void 0:a.stories)||void 0===t?void 0:t.objects.map(He),isLoading:"loading"===(null===(s=null==n?void 0:n.meta)||void 0===s?void 0:s.status),isSuccess:"success"===(null===(r=null==n?void 0:n.meta)||void 0===r?void 0:r.status),isError:"error"===(null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.status)}};var Ze=s(15471);const $e=e=>"info"!==e.source,qe=e=>{var t,s;return $e(e)?null!==(s=null===(t=e.template)||void 0===t?void 0:t.textPosition)&&void 0!==s?s:"left_top":2===e.template?"left_bottom":"left_top"},We=e=>{var t;if(e.button)return $e(e)?"phone"===e.button.action.type?Object.assign(Object.assign({},e.button),{action:Object.assign(Object.assign({},e.button.action),{value:`tel:${e.button.action.value}`})}):e.button:{backgroundColor:e.button.background_color,textColor:e.button.text_color,action:{type:e.button.type,caption:e.button.text,value:null===(t=e.button.link)||void 0===t?void 0:t.replace("dgis://","https://")}}},Ge=e=>(e=>!!$e(e)&&!!e.video)(e)?"video":"image",Qe=(e,t)=>{var s;return $e(e)?"discovery"===e.source&&t&&e.backgroundUrl?(0,ze.m)(e.backgroundUrl,`${Math.floor(t.width)}x${Math.floor(t.height)}`):"image"===Ge(e)?e.backgroundUrl:null===(s=e.video)||void 0===s?void 0:s.url:e.background_url};var Ke=s(51989);const Ye=(0,y.memo)((({title:e,body:t,subtitle:s,footerText:r,titleStyle:i})=>{const{css:n,s:c}=(0,o.I)(Xe);return(0,a.jsxs)("div",Object.assign({className:n(c.wrapper)},{children:[e&&(0,a.jsx)("span",Object.assign({className:n(c.title,"big"===i&&c.bigTitle)},l.dx.n("wat-story-slide-title"),{children:e})),s&&(0,a.jsx)("span",Object.assign({className:n(c.subtext)},{children:s})),t&&(0,a.jsx)("span",Object.assign({className:n(c.body)},l.dx.n("wat-story-slide-body"),{children:t})),r&&(0,a.jsx)(Ke.v,{html:r,contentClassName:c.footerText,className:n(c.subtext)})]}))})),Xe=(0,o.r)({wrapper:{display:"flex",flexDirection:"column",color:n.T.white,gap:"8px",zIndex:1e3,position:"relative"},title:{fontSize:"24px",fontWeight:500,lineHeight:"32px",letterSpacing:"0em",textAlign:"left"},bigTitle:{fontSize:29},body:{fontSize:"16px",fontWeight:400,lineHeight:"20px",letterSpacing:"0em",textAlign:"left",whiteSpace:"pre-line"},subtext:{fontSize:"13px",textAlign:"left",fontWeight:400,color:"rgba(255, 255, 255, .7)",lineHeight:"16px",letterSpacing:"0em"},footerText:{"& a":{color:"rgba(255, 255, 255, .7)",textDecoration:"underline",":hover":{color:n.T.gray_262626}}}});var Je=s(89446),et=s(64099);const tt=({rating:e})=>{const{css:t,s:s}=(0,o.I)(st);return(0,a.jsxs)("div",Object.assign({className:t(s.wrapper)},{children:[(0,a.jsx)(Je.G,{color:n.T.white,size:14,rating:e}),(0,a.jsx)("span",Object.assign({className:t(s.ratingCount)},{children:e}))]}))},st=(0,o.r)({wrapper:{display:"flex",background:"#ffffff4d",borderRadius:et.Vq.default,paddingTop:6,paddingBottom:6,paddingStart:8,paddingEnd:10,color:n.T.white,gap:6,alignItems:"center",width:"max-content"},ratingCount:{fontSize:13,fontWeight:d.Wy.medium}}),rt=({slide:e})=>{const{css:t,s:s}=(0,o.I)(it),r=$e(e)?{}:{subtitle:e.subtitle,footerText:e.footnote,titleStyle:e.title_style};return(0,a.jsxs)("div",Object.assign({className:t(s.wrapper)},{children:[$e(e)&&e.rating&&(0,a.jsx)(tt,{rating:e.rating}),(0,a.jsx)(Ye,Object.assign({},r,{title:e.title,body:e.body}))]}))},it=(0,o.r)({wrapper:{display:"flex",flexDirection:"column",gap:8,padding:"0 24px"}}),at=y.memo((e=>{var{activeSlide:t,onSlideLoaded:s,topContent:r,isContentLoaded:i,hasContentLoadingError:n,onError:c,mediaSlideStyles:d,onTapPrev:l,onTapNext:u,videoAPI:p,imageAPI:m,onTouchStart:f,entity:b,story:x,storyPosition:j,slidePosition:w,onStoryClose:_,slideSizes:C}=e,I=(0,v.Tt)(e,["activeSlide","onSlideLoaded","topContent","isContentLoaded","hasContentLoadingError","onError","mediaSlideStyles","onTapPrev","onTapNext","videoAPI","imageAPI","onTouchStart","entity","story","storyPosition","slidePosition","onStoryClose","slideSizes"]);const{css:O,s:S}=(0,o.I)(nt),T=y.useContext(Ze.X).frameId,E=(0,h.D)((()=>{s()})),M=void 0!==t.title||void 0!==t.body,P=qe(t),L=M&&"left_top"===P,N=M&&"left_bottom"===P,{bssRef:R}=(0,g.E)(re.storyItemBss.bssShow({slide:t,story:x,storyPosition:j,position:w}),{forceSendShowIfParamsChanged:[t.id],forcedIntersection:!0}),z=We(t),{bssRef:U,showEventOrdinal:B}=(0,g.E)(z?re.slideButtonBss.bssShow({slide:t,story:x,storyPosition:j,entity:b,position:w,callToAction:{value:z.action.value,actionType:z.action.type}}):void 0,{forceSendShowIfParamsChanged:[t.id],forcedIntersection:!0});return(0,a.jsxs)("div",Object.assign({ref:i?R:void 0,style:Object.assign({},C.styles),className:O(S.wrapper,i&&S.wrapperContentLoaded)},{children:[(0,a.jsxs)("div",Object.assign({},I,{className:O(S.overlay)},{children:[(0,a.jsx)("div",{onTouchStart:f,onTouchEnd:l,className:O(S.halfOverlay)}),(0,a.jsx)("div",{onTouchStart:f,onTouchEnd:u,className:O(S.halfOverlay)})]})),(0,a.jsxs)("div",Object.assign({className:O(S.slide,i&&S.fade)},{children:[(0,a.jsxs)("div",Object.assign({className:O(S.topContent)},{children:[r,L&&i&&(0,a.jsx)(rt,{slide:t})]})),(0,a.jsxs)("div",Object.assign({className:O(S.contentWrapper)},{children:[(0,a.jsx)(A,{videoAPI:p,imageAPI:m,onError:c,url:Qe(t,C.original),type:Ge(t),onLoad:E,hasContentLoadingError:n,loaded:i,mediaSlideStyles:d}),i&&(0,a.jsx)("div",{className:O(S.gradient,L&&S.topTextGradient,N&&S.bottomTextGradient,!L&&!N&&S.noTextGradient)})]})),i&&(0,a.jsxs)("div",Object.assign({className:O(S.bottomContent)},{children:[N&&(0,a.jsx)(rt,{slide:t}),z&&(0,a.jsx)(k,{onClick:_,showEventOrdinal:B,innerRef:U,slideButton:z,actionEventParamsSelector:re.slideButtonBss.bssTap({slide:t,story:x,position:w,ownerFrameId:T,storyPosition:j,entity:b,callToAction:{value:z.action.value,actionType:z.action.type}})})]}))]}))]}))})),nt=(0,o.r)({overlay:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:2,overflow:"hidden",userSelect:"none",display:"flex"},halfOverlay:{width:"50%"},wrapper:{display:"flex",flexDirection:"column",background:n.T.gray_262626,position:"relative",borderRadius:16,overflow:"hidden"},wrapperContentLoaded:{background:"unset"},topContent:{position:"absolute",top:0,right:0,left:0},bottomContent:{position:"absolute",display:"flex",flexDirection:"column",gap:24,bottom:28,left:0,right:0},slide:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center",width:"100%",height:"100%",borderRadius:16},contentWrapper:{display:"flex",alignItems:"center",position:"relative",height:"100%",width:"100%"},gradient:{position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"none",overflow:"hidden",userSelect:"none"},topTextGradient:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.37) 37.27%, rgba(0, 0, 0, 0.06) 54.36%, rgba(0, 0, 0, 0) 61.76%)"},bottomTextGradient:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.37) 37.27%, rgba(0, 0, 0, 0.06) 54.36%, rgba(0, 0, 0, 0) 61.76%), linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.06) 14.75%, rgba(0, 0, 0, 0) 21.48%)"},noTextGradient:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.06) 14.75%, rgba(0, 0, 0, 0) 21.48%)"},fade:{animationName:{"0%":{opacity:0},"100%":{opacity:1}},animationTimingFunction:"linear",animationDuration:"0.2s"}}),ot=(e,t)=>{const s=$e(e)?e.swipeInterval:e.swipe_interval;return null!=s?s:t}},37862:(e,t,s)=>{"use strict";s.d(t,{V:()=>R,A:()=>r});var r={};s.r(r),s.d(r,{getSuggestionPayload:()=>L,usePrepareSuggestion:()=>T});var i=s(31085),a=s(8365),n=s(99259),o=s(80552),c=s(81618),d=s(21644),l=s(98626),u=s(84175),p=s(39302),m=s(72384),g=s(46579);const h="advertisingCommentSuggest",f="withComment";(0,m.n)({name:h,percentRange:[0,1],groups:["controlGroup",f],forCountries:["RU"],excludeHumanFromSeo:!0});var b=s(79594),v=s(85511),y=s(88114),x=s(82393);const j=({type:e,url:t})=>{const s=(0,g.U)(),{css:r,s:a}=(0,u.I)(w),n=(0,b.d4)(x.JC);return s.featureSuggestAdsLogo&&t?(0,i.jsx)("div",Object.assign({className:r(a.logo)},c.dx.n("wat-suggest-logo"),{children:(0,i.jsx)(y.E,{src:t,height:32,width:32})})):(0,i.jsx)(v.I,{type:e,regionCode:n})},w=(0,u.r)({logo:{width:32,height:32,borderRadius:"50%",overflow:"hidden"}}),_=[2,3];var C=s(82781),I=s(86824),k=s(80690);function O(e){var t,s,r;const{name:i,item:a,isHint:n=!1}=e;if("history"===a.type)return[{text:i,is_suggested:!1}];const o=null===(t=a.search_attributes.suggest_parts)||void 0===t?void 0:t.find((e=>!e.is_suggested)),c=o&&o.text.toLowerCase();if(c){const e=i.toLowerCase().replace(k.aY," ").indexOf(c);if(e>-1)return[{text:i.substr(0,e),is_suggested:!0},{text:i.substr(e,c.length),is_suggested:!1},{text:i.substr(e+c.length),is_suggested:!0}].filter((e=>e.text))}const d=n&&"building"===(null===(s=a.entity)||void 0===s?void 0:s.type)?null===(r=a.entity.adm_div)||void 0===r?void 0:r.find((e=>"living_area"===e.type)):void 0;return[{text:d?`${i}, ${d.name}`:i,is_suggested:!0}]}var S=s(95885);const T=e=>{var t,s,r,i,a;const n=(0,g.U)(),o=(0,C.c)(),{name:c,hint:d}=(0,I.W)({tp:o,config:n},e),l=O({name:c,item:e}),u=d?O({name:d,item:e,isHint:!0}):void 0,p=e.entity&&"ads"in e.entity&&(null===(t=e.entity.ads)||void 0===t?void 0:t.options)||void 0,m=!("object"!==e.type||!(null===(s=e.search_attributes)||void 0===s?void 0:s.dgis_ad_type)||!_.includes(e.search_attributes.dgis_ad_type)),h=m&&(e.search_attributes.dgis_ad_type===_[0]?null===(r=null==p?void 0:p.suggestor)||void 0===r?void 0:r.logo:null==p?void 0:p.logo),f=h?(0,S.Y)(h,"64x64"):void 0;return{nameParts:l,hintParts:u,name:c,hint:d,adInfoParams:p&&m&&e.search_attributes.dgis_ad_type===_[0]?Object.assign(Object.assign({},null==p?void 0:p.suggestor),{legalName:null===(i=p.suggestor)||void 0===i?void 0:i.legal_name,erid:(null===(a=p.suggestor)||void 0===a?void 0:a.erid)?Array.isArray(p.suggestor.erid)?p.suggestor.erid:[p.suggestor.erid]:void 0}):void 0,logoImageUrl:f}};var E=s(7540),M=s(54071),P=s(7818);const L=e=>{var t,s,r,i,a,n,o;if("object"===e.type&&(null===(t=e.search_attributes)||void 0===t?void 0:t.dgis_ad_type)&&_.includes(e.search_attributes.dgis_ad_type)&&(null===(s=e.entity)||void 0===s?void 0:s.id))return{entity:{id:e.entity.id,type:"branch",segmentInfo:(0,E.o)(e.entity)},org:"org"in e.entity?null===(r=e.entity.org)||void 0===r?void 0:r.id:void 0,mainRubric:"rubrics"in e.entity&&e.entity.rubrics?(0,M.Z)(e.entity.rubrics):void 0,contextRubric:null===(i=e.search_attributes)||void 0===i?void 0:i.dgis_ad_rubric_id,adsId:"ads"in e.entity?null===(o=null===(n=null===(a=e.entity.ads)||void 0===a?void 0:a.options)||void 0===n?void 0:n.suggestor)||void 0===o?void 0:o.ads_id:void 0,adsAlgorithm:2===e.search_attributes.dgis_ad_type?39:40,adsHighlight:!0,geoPosition:"point"in e.entity&&e.entity.point?(0,P.U)(e.entity.point):void 0}};var N=s(47919),A=s(91255);const R=({item:e,index:t,onClick:s,isHighlighted:r,bssShowFunction:n})=>{var o;const d=(0,g.U)(),{css:v,s:y}=(0,u.I)(z),{name:x,hint:w,nameParts:_,hintParts:C,adInfoParams:I,logoImageUrl:k}=T(e),O=(0,b.d4)((t=>!!e.entity&&(0,N.kR)(e.entity)(t))),{bssRef:S}=(0,a.E)(n?n():void 0),E=4===t,M=(e,t)=>e.is_suggested?e.text:(0,i.jsx)("span",Object.assign({className:v(y.highlightedText)},{children:e.text}),e.text+t),P=(0,p.Q)(e),L=(0,m.l)(h,d.experiments)===f;return(0,i.jsxs)("li",Object.assign({className:v(y.suggestion,r&&y.itemHighlighted),onClick:e=>{e.preventDefault(),e.stopPropagation()},onMouseDown:r=>{r.stopPropagation(),r.preventDefault(),s({hasLogo:!!k,index:t,item:e})},ref:S},c.dx.t(P),c.dx.n("wat-suggest-item"),c.dx.s(r&&"highlighted",!!w&&"withHint"),{children:[(0,i.jsx)("div",Object.assign({className:v(y.icon)},{children:(0,i.jsx)(j,{url:k,type:P})})),(0,i.jsxs)("div",Object.assign({className:v(y.content)},{children:[(0,i.jsx)("div",Object.assign({className:v(y.name),title:x},{children:_.map(M)})),C&&(0,i.jsx)("div",Object.assign({className:v(y.hint),title:w},{children:C.map(M)})),I&&(0,i.jsxs)("div",Object.assign({className:v(y.ads)},{children:[E&&L&&(null===(o=null==I?void 0:I.microcomment)||void 0===o?void 0:o.text),(0,i.jsx)(l.Q,Object.assign({},I,{tiny:!0,gray:!0,source:"banner"}))]})),O&&(0,i.jsx)("div",Object.assign({className:v(y.immersiveLabel)},{children:(0,i.jsx)(A.Y,{})}))]}))]}))},z=(0,u.r)({suggestion:{position:"relative",boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:72,paddingEnd:24,cursor:"pointer",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"baseline",userSelect:"none",":hover":{background:n.T.gray_f9f9f9}},ads:{display:"flex",flexDirection:"column",paddingTop:6,color:n.T.black_transparent_50},itemHighlighted:{background:n.T.gray_f2f2f2,":hover":{background:n.T.gray_f2f2f2}},icon:{position:"absolute",color:n.T.gray_929292,top:4,start:24},content:{flex:"1 0 0%",minWidth:0},name:Object.assign(Object.assign({},(0,o.lR)(2,d.t3)),{color:n.T.gray_929292,maxWidth:"100%"}),hint:Object.assign(Object.assign({},o.Hg),{color:n.T.gray_929292,marginTop:6,maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),highlightedText:{color:n.T.gray_262626},immersiveLabel:{marginTop:6}})},35731:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(31085),i=s(10048),a=s(58471),n=s(40837);const o=e=>(0,r.jsx)(i.w,{loader:a.b.entityTooltip,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:n.N})},78425:(e,t,s)=>{"use strict";s.d(t,{TO:()=>I,Oc:()=>Xe,eo:()=>qe,fZ:()=>tt,rw:()=>Ut,$0:()=>Ve,Pq:()=>ct,Af:()=>zt,Vw:()=>a,vK:()=>o});var r={};s.r(r),s.d(r,{I:()=>re});var i={};s.r(i),s.d(i,{H:()=>ie});var a={};s.r(a),s.d(a,{InformerData:()=>i.InformerData,MarkerElements:()=>r.MarkerElements,formatAvatarPreviewTpl:()=>Q,formatInformerRows:()=>ie,getIsAtShortDistanceFromCenter:()=>q,getIsInsideViewpoint:()=>W,getMarkerElements:()=>re,getUserAvatar:()=>K,getUserStatus:()=>te,isMyFriend:()=>se,useSmoothMoving:()=>oe});var n={};s.r(n),s.d(n,{changeProfilePrivacy:()=>Me,generators:()=>He,getProfileItemPayload:()=>Ce,showProfileStatus:()=>ke,showTooltip:()=>Ee,showUserProfile:()=>Ie,showUserProfileHeader:()=>ze,tapCluster:()=>Te,tapFriendMarker:()=>Oe,tapSharerMarker:()=>Se,tapUserProfileHeader:()=>Ue});var o={};s.r(o),s.d(o,{bss:()=>n,getClusterStatusIcon:()=>be,invalidatePublicProfile:()=>U,setPublicProfileData:()=>R,updatePublicProfileCache:()=>xe,useFriendStatus:()=>me,useFriendsListQuery:()=>H,useInformerTime:()=>he,useIsMyFriend:()=>ve,useMoveToUserMarker:()=>le,usePublicProfile:()=>D,usePublicProfileApi:()=>A,useSocialGraphProfileQuery:()=>F,useUpdatePrivacy:()=>_e,useUserFriendshipCounterQuery:()=>B,useUserProfile:()=>ce,usersMarkersConfig:()=>ge,withPublicProfile:()=>z});var c=s(31085),d=s(14041),l=s(82781);const u=1e3,p=({time:e})=>{const[t,s]=(0,d.useState)(e),r=(0,d.useRef)(),i=(0,l.c)();(0,d.useEffect)((()=>(r.current=setInterval((()=>{s((e=>e-u))}),u),()=>clearInterval(r.current))),[e]),(0,d.useEffect)((()=>{t<u&&(s(0),clearInterval(r.current))}),[t]);const{hours:a,minutes:n,seconds:o}=function(e){return{hours:m(Math.floor(e/36e5%24)),minutes:m(Math.floor(e/1e3/60%60)),seconds:m(Math.floor(e/1e3%60))}}(t);return(0,c.jsx)(c.Fragment,{children:`${i._t("Трансляция")} ${a}:${n}:${o}`})};function m(e){return e<10?`0${e}`:e}var g=s(79594),h=s(84175),f=s(80552),b=s(99259),v=s(10742),y=s(91818),x=s(96141),j=s(23098);function w(e=""){return e.split(" ").slice(0,2).map((e=>e[0])).filter((e=>e&&e.match(/\p{L}/u))).join("").toUpperCase()}var _=s(84655);const C={tiny:24,small:40,average:48,large:96},I=({url:e,name:t,size:s="large"})=>{const{css:r,s:i}=(0,h.I)(O),a="tiny"===s?i.initialsTiny:"small"===s?i.initialsSmall:i.initials;return(0,c.jsx)("div",Object.assign({className:r(i.avatar,"tiny"===s&&i._tiny,"small"===s&&i._small,"average"===s&&i._average),style:{width:s,height:s}},{children:(0,c.jsx)(j.e,{src:e,initials:()=>w(t),initialStyles:a})}))},k=({size:e="large"})=>{const t=C[e];return(0,c.jsx)(_.j,{width:t,height:t})},O=(0,h.r)({avatar:{width:C.large,height:C.large,flexShrink:0,borderRadius:"50%",overflow:"hidden",background:b.T.gray_f2f2f2},_tiny:{width:C.tiny,height:C.tiny},_small:{width:C.small,height:C.small},_average:{width:C.average,height:C.average},initials:Object.assign(Object.assign({},f.sS),{background:b.T.gray_929292,color:b.T.white,fontWeight:f.Wy.normal}),initialsSmall:Object.assign(Object.assign({},f.Hg),{background:b.T.gray_929292,color:b.T.white,fontWeight:f.Wy.normal}),initialsTiny:Object.assign(Object.assign({},f.EX),{background:b.T.gray_929292,color:b.T.white,fontWeight:f.Wy.normal})});var S=s(85608);const T=e=>{var{subtitle:t,isMyProfile:s,broadcastTime:r}=e,i=(0,S.Tt)(e,["subtitle","isMyProfile","broadcastTime"]);const{css:a,s:n}=(0,h.I)(E),{_t:o}=(0,l.c)(),d=s?o("Это вы"):i.name;return(0,c.jsxs)("div",Object.assign({className:a(n.wrapper),style:t||r?{}:{justifyContent:"center "}},{children:[(0,c.jsx)("span",Object.assign({className:a(n.name)},{children:d})),!!r&&(0,c.jsx)("span",Object.assign({className:a(n.subtitle)},{children:(0,c.jsx)(p,{time:r})})),!r&&t&&(0,c.jsx)("span",Object.assign({className:a(n.subtitle)},{children:t}))]}))},E=(0,h.r)({wrapper:{display:"flex",flexDirection:"column",gap:4},name:Object.assign(Object.assign({},f.Yn),{textAlign:"left"}),subtitle:Object.assign(Object.assign({},f.Hg),{color:b.T.gray_929292})});var M=s(88114);function P(e){var{color:t="currentColor"}=e,s=(0,S.Tt)(e,["color"]);return(0,c.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},s,{children:(0,c.jsx)("path",{d:"M9.00333 15.3333L14.0033 2L0.669998 7L6.50333 9.5L9.00333 15.3333Z",fill:t})}))}var L=s(8365),N=s(78170);const{use:A,setQueryData:R,withQueryState:z,invalidate:U}=(0,N.V)("publicProfile",(e=>({services:t,config:s})=>(0,S.sH)(void 0,void 0,void 0,(function*(){const r=s.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;return yield t.publicProfileApi.getProfile(Object.assign(Object.assign({},e),{with_friend_info:!!r,accessToken:r}))}))),{cacheTime:0,refetchOnMount:!0}),{use:B}=(0,N.V)("userFriendsOnMap",(()=>({services:e,config:t})=>(0,S.sH)(void 0,void 0,void 0,(function*(){const s=t.friendsDebugToken||(yield e.credentialsApi.getToken());if(!s)throw new Error("There is no access_token");return yield e.socialGraphApi.getUserFriendshipCounter({accessToken:s})}))),{staleTime:0,cacheTime:0}),{use:H}=(0,N.r)("friendsList",(e=>[[e.limit],({services:t,context:s,config:r})=>(0,S.sH)(void 0,void 0,void 0,(function*(){const i=r.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;if(!i)throw new Error("There is no access_token");return yield t.socialGraphApi.getFriendsList(Object.assign(Object.assign({},e),{accessToken:i,next_page_token:s.pageParam?`${s.pageParam}`:void 0}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>e.next_page_token}),{use:F}=(0,N.V)("socialGraphProfile",(e=>({services:t})=>(0,S.sH)(void 0,void 0,void 0,(function*(){return yield t.socialGraphApi.getUser(e)}))),{staleTime:1/0,cacheTime:1/0}),D=(e,t={enabled:!0})=>{const{states:s}=(0,g.d4)((e=>e.appContext.friendsOnMap)),r=A({id:e},{enabled:!!e&&t.enabled}),i=e?s[e]:void 0;return(0,d.useMemo)((()=>({state:i,profile:r})),[i,r])};var V=s(21959),Z=s(46579),$=s(17426);function q(e,t){const[s,r]=t;return(0,$.J)(e.location,{lon:(r.lon+s.lon)/2,lat:(s.lat+r.lat)/2})<3e4}function W(e,t){const{lon:s,lat:r}=e.location,[i,a]=t;return s>=i.lon&&s<=a.lon&&r<=i.lat&&r>=a.lat}var G=s(25877);function Q(e,t){const s=t?48:96;return(0,G.$)(e,{width:s,height:s})}const K=(e,t)=>e.avatar_preview_tpl?Q(e.avatar_preview_tpl,t):e.avatar,Y=e=>{if(e<0)return;const t=36e5,s=864e5;return{days:Math.floor(e/s),hours:Math.floor(e%s/t),minutes:Math.floor(e%t/6e4)}},X=e=>"noGeo"===e.movement.status||!!e.staleTime&&Date.now()>e.staleTime;var J=s(88870);const ee=(e,t,s,r)=>{const i=(0,$.J)(e,t);return(0,J.l)({distance:i,isShortcut:!0,tp:s,rtl:r})},te=({state:e,entityName:t,selfUserLocation:s,eta:r,tp:i,rtl:a})=>{var n,o;if(!e)return;const c=(null===(n=null==e?void 0:e.locationPlace)||void 0===n?void 0:n.transportStatus)||(null===(o=e.locationPlace)||void 0===o?void 0:o.status),d=null==c?void 0:c.id,l=((e,t)=>{const s=Y(Date.now()-e);if(s)return 1===s.days?t._t("Обновлено вчера"):s.days>1?t._t("Обновлено %1 дн назад",[s.days.toString()]):s.hours>0?t._t("Обновлено %1 ч назад",[s.hours.toString()]):s.minutes>0?t._t("Обновлено %1 мин назад",[s.minutes.toString()]):t._t("Обновлено только что")})(e.lastSeen,i),u=((e,t)=>{if(e.movement.stoppedAt){const s=Y(Date.now()-e.movement.stoppedAt);if(s)return s.days>0?t._nt(["%% день","%% дня","%% дней"],s.days):s.hours>0&&s.minutes>0?t._t("%1 ч %2 мин",[s.hours.toString(),s.minutes.toString()]):s.hours>0?t._t("%1 ч",[s.hours.toString()]):t._t("%1 мин",[s.minutes.toString()])}})(e,i),p=r&&t?t:((e,t,s)=>{var r,i,a,n;if(X(e))return s._t("Нет связи");if("moving"===e.movement.status&&void 0!==e.location.speed){const t=Math.max(Math.round(3.6*e.location.speed),1);return s._t("Скорость %1 км/ч",[t])}return"home"===(null===(i=null===(r=e.locationPlace)||void 0===r?void 0:r.status)||void 0===i?void 0:i.id)?s._t("Дома"):"work"===(null===(n=null===(a=e.locationPlace)||void 0===a?void 0:a.status)||void 0===n?void 0:n.id)?s._t("На работе"):t||s._t("Здесь")})(e,t,i),m=((e,t)=>{if(void 0===e||0===e)return;const s=Y(1e3*e);return s&&s.hours?t._t("%1:%2 ч",[s.hours.toString(),s.minutes.toString()]):t._t("%1 мин",[null==s?void 0:s.minutes.toString()])})(r,i),g=(null==c?void 0:c.iconUrlTpl)?(0,G.$)(c.iconUrlTpl,{width:24,height:24}):void 0;return X(e)?{eta:m,lastSeenText:l,place:{statusId:d,text:p}}:{eta:m,lastSeenText:l,place:{statusId:d,time:m?void 0:u,text:p,icon:g},distance:s?ee(s,e.location,i,a):void 0}},se=e=>!!(null==e?void 0:e.is_friend);function re(e){const t=e.parentElement,s=e.childNodes[0],[r,i,a,n,o]=s.childNodes,c=r.childNodes[0],d=c.childNodes[0];return{parent:t,root:s,flame:r,flameMarkerRotation:c,flameAnimation:d,avatar:i,informer:a,cluster:n,battery:o,rotateFlameMarker:e=>{c.style.rotate=`${e}deg`}}}function ie({isMoving:e,isOffline:t,speed:s,formattedTime:r,dir:i,tp:a}){if(e){if(void 0===s)return;return{firstRowText:`${Math.max(Math.round(3.6*s),1)}`,secondRowText:a._t("км/ч"),isOffline:!1}}if(!t&&r){const{days:e,hours:s,minutes:n}=r,o=e?`${e}`:s?a._t("%1 ч",[s]):`${n}`,c=e?a._nt(["%% день","%% дня","%% дней"],e):void 0,d="ltr"===i?null==c?void 0:c.split(" ")[1]:null==c?void 0:c.split(" ")[0];if(d)return{firstRowText:o,secondRowText:d,isOffline:t};if(!s&&!n)return;const l=a._nt(["%% мин","%% мин","%% мин"],n);return{firstRowText:o,secondRowText:s?l:"ltr"===i?null==l?void 0:l.split(" ")[1]:null==l?void 0:l.split(" ")[0],isOffline:t}}if(t&&r){const{days:e,hours:s,minutes:i}=r,n=e?a._nt(["%% день","%% дня","%% дней"],e):s?a._t("%1 ч",[s]):i?a._nt(["%% мин","%% мин","%% мин"],i):void 0;if(!n)return;return{firstRowText:n,secondRowText:a._t("назад"),isOffline:t}}}var ae=s(49804),ne=s(84815);function oe({cluster:e,marker:t,markerElements:s}){const[r,i]=(0,d.useState)([]),a=r[0]||e,n=r[1],o=a.markers[0].state,c=null==n?void 0:n.markers[0].state,{isOffline:l,isMoving:u}=function(e){if(e.markers.length>1)return{isOffline:!1,isMoving:!1};const t=e.markers[0].state,s="noGeo"===t.movement.status||!!t.staleTime&&Date.now()>t.staleTime;return{isOffline:s,isMoving:!s&&"moving"===t.movement.status}}(a);return(0,d.useEffect)((()=>{i((t=>[...t,e]))}),[e.lonLat.lon,e.lonLat.lat,e.markers[0].state]),(0,d.useEffect)((()=>{if(!c||!t||!s)return;const e=()=>{t.setCoordinates([n.lonLat.lon,n.lonLat.lat]),i((e=>e.slice(1)))};if(!u)return e();s.rotateFlameMarker((0,ae.iN)({x:o.location.lon,y:o.location.lat},{x:c.location.lon,y:c.location.lat}));const a=Date.now(),d=function(e){if(e.length<2)throw new Error("Недостаточно точек для рассчета продолжительности анимации");let t=e[1].markers[0].state.updateTime-e[0].markers[0].state.updateTime;if(t>25e3||"moving"!==e[0].markers[0].state.movement.status)return 1e3;const s=e.length-1;return t/=Math.pow(s+3,.4)-.84,t}(r),l=()=>{const s=(Date.now()-a)/d;if(s>=1)return e();t.setCoordinates([o.location.lon+(c.location.lon-o.location.lon)*s,o.location.lat+(c.location.lat-o.location.lat)*s]),p=requestAnimationFrame(l)};let p=requestAnimationFrame(l);return()=>{cancelAnimationFrame(p)}}),[o,c,t,s]),function({isMoving:e,markerElements:t}){(0,ne.e)((s=>{if(!e||!t)return;const r=()=>{t.flame.style.rotate=`${s.getRotation()}deg`};return r(),s.on("rotation",r),()=>{s.off("rotation",r)}}),[e,t])}({isMoving:u,markerElements:s}),{state:o,isMoving:u,isOffline:l,isInsideViewpoint:o.isInsideViewpoint||!!(null==c?void 0:c.isInsideViewpoint),speed:u?void 0!==o.location.speed&&void 0!==(null==c?void 0:c.location.speed)?Math.round((o.location.speed+c.location.speed)/2):o.location.speed:void 0}}const ce=e=>{var t;const s=(0,Z.U)(),r=(null===(t=(0,g.d4)(V.ug).data)||void 0===t?void 0:t.public_user_id)||s.friendsDebugUserId,i=r===e,a=(0,g.d4)(V.x3)||!!s.friendsDebugToken,n=(0,g.d4)(V.sX)&&!s.friendsDebugToken||a&&!i,{profile:o,state:c}=D(e,{enabled:n}),{profile:l,state:u}=D(r,{enabled:a}),{profile:p,state:m}=i?{profile:l,state:u}:{profile:o,state:c},h=!!p.isSuccess&&se(p.data.public_user.relation);return(0,d.useMemo)((()=>({profile:p,state:m,selfState:u,selfProfile:l,isMyProfile:i,isMyFriendProfile:h})),[p,m,u,l,i,h])};var de=s(24872);const le=e=>{const t=(0,g.wA)(),s=(0,d.useRef)(!1),r=(0,g.d4)((e=>e.appContext.friendsOnMap.sharedRoute));(0,d.useEffect)((()=>{!e||s.current||r||(t((0,de.xZ)({lon:e.location.lon,lat:e.location.lat,animate:!0})),s.current=!0)}),[e,t,r])};var ue=s(46287),pe=s(69405);const me=({state:e,selfState:t,isMyProfile:s,isMyFriendProfile:r})=>{var i,a,n,o,c,u,p;const m=(0,l.c)(),{rtl:h}=(0,Z.U)(),f=(0,g.wA)(),b=(0,g.d4)((e=>e.appContext.friendsOnMap.sharedRoute)),v=(null==b?void 0:b.sharerId)===(null==e?void 0:e.id),y=v&&(null===(i=null==b?void 0:b.pointB)||void 0===i?void 0:i.title),x="work"===(null===(n=null===(a=null==e?void 0:e.locationPlace)||void 0===a?void 0:a.status)||void 0===n?void 0:n.id)||"home"===(null===(c=null===(o=null==e?void 0:e.locationPlace)||void 0===o?void 0:o.status)||void 0===c?void 0:c.id)||null===(p=null===(u=null==e?void 0:e.locationPlace)||void 0===u?void 0:u.object)||void 0===p?void 0:p.id,j=(0,g.d4)((e=>x?(0,ue.Tq)({state:e,entityId:x}):void 0));(0,d.useEffect)((()=>{x&&!s&&f((0,pe.J)({id:x,searchId:void 0}))}),[f,x,s]);const w=y||((null==j?void 0:j.data)&&"name"in j.data?j.data.name:void 0),_=s||null==t?void 0:t.location;return(0,d.useMemo)((()=>{if(e&&(s||r))return te({state:e,entityName:w,eta:v?null==b?void 0:b.eta:void 0,selfUserLocation:_,tp:m,rtl:h})}),[e,s,r,w,null==b?void 0:b.eta,_,v,m,h])},ge={clusteringRadius:.1,maxZoomForClustering:17,minZoomForBigMarkers:11.5,markerSize:48,safeZoneX:12,safeZoneY:20};function he({state:e,isOffline:t,isMoving:s}){const[r,i]=(0,d.useState)();return(0,d.useEffect)((()=>{i(fe({state:e,isOffline:t,isMoving:s}));const r=setInterval((()=>{i(fe({state:e,isOffline:t,isMoving:s}))}),6e4);return()=>{clearInterval(r)}}),[e,t,s]),r}function fe({isOffline:e,isMoving:t,state:s}){const r=(()=>{if(!t)return e?Date.now()-s.lastSeen:s.movement.stoppedAt?Date.now()-s.movement.stoppedAt:void 0})();return r?Y(r):void 0}function be(e){var t,s,r,i,a,n,o,c;let d;if(1===e.markers.length){const a=e.markers[0];d=(null===(s=null===(t=a.state.locationPlace)||void 0===t?void 0:t.transportStatus)||void 0===s?void 0:s.iconUrlTpl)||(null===(i=null===(r=a.state.locationPlace)||void 0===r?void 0:r.status)||void 0===i?void 0:i.iconUrlTpl)}else d=null===(c=null===(o=null===(n=null===(a=e.markers.find((e=>{var t,s;return null===(s=null===(t=e.state.locationPlace)||void 0===t?void 0:t.status)||void 0===s?void 0:s.iconUrlTpl})))||void 0===a?void 0:a.state)||void 0===n?void 0:n.locationPlace)||void 0===o?void 0:o.status)||void 0===c?void 0:c.iconUrlTpl;return null==d?void 0:d.replace("w={width}&h={height}","h=32")}const ve=e=>{var t,s;const r=(0,Z.U)(),i=((e,{enabled:t}={enabled:!0})=>{var s;const r=(0,Z.U)(),i=(null===(s=(0,g.d4)(V.ug).data)||void 0===s?void 0:s.access_token)||r.friendsDebugToken,a=(0,g.d4)(V.Us);return F({id:e,accessToken:i},{enabled:!a&&!!i&&!r.featurePublicProfile&&t})})(e,{enabled:!(((null===(t=(0,g.d4)(V.ug).data)||void 0===t?void 0:t.public_user_id)||r.friendsDebugUserId)===e)});if(i.isSuccess)return"confirmed"===(null===(s=i.data.request)||void 0===s?void 0:s.status)};var ye=s(12017);const xe=(0,ye.n5)("updatePublicProfileCache",((e,t)=>z({id:e},(s=>(null==s?void 0:s.data)?R({id:e},t(s.data)):(0,ye.lQ)()))));var je=s(87017),we=s(37573);const _e=()=>{const{credentialsApi:e,publicProfileApi:t}=(0,we.A)(),s=(0,g.wA)();return(0,je.useMutation)((s=>(0,S.sH)(void 0,void 0,void 0,(function*(){const r=yield e.getToken();if(r)return yield t.updatePrivacy(Object.assign({accessToken:r},s))}))),{onSuccess:(e,t)=>{s(xe(t.publicUserId,(e=>Object.assign(Object.assign({},e),{public_user:Object.assign(Object.assign({},e.public_user),{privacy:t.privacy})}))))}})},Ce=({user:e})=>({authUser:e.user_id,publicProfileId:e.public_user_id,isPrivate:"CLOSE"===e.privacy,isDeleted:e.is_deleted,hasPhoto:!!e.avatar}),Ie=({user:e,isFriend:t})=>({frameId:s})=>{const r=Ce({user:e});return{uiElement:{name:t?"friendCardFull":"profileCardFull",ownerName:"profileCardFrame",frameUuid:s},payload:{profileItem:r}}},ke=({user:e,status:t})=>({frameId:s},{appContext:r})=>{var i,a,n,o,c;const{sharedRoute:d,states:l,profiles:u}=r.friendsOnMap,p=u[e.public_user_id],m=l[e.public_user_id],g=null===(a=null===(i=l[e.public_user_id])||void 0===i?void 0:i.locationPlace)||void 0===a?void 0:a.transportStatus,h=null===(n=null==p?void 0:p.sharing)||void 0===n?void 0:n.isFriend,f=Ce({user:e}),b=(e=>{switch(e){case"car":return 1;case"freeRoam":return 2;case"pedestrian":return 3;case"truck":return 4;case"taxi":return 5;case"bicycle":return 6;case"scooter":return 7;default:return}})(null===(c=null===(o=null==m?void 0:m.locationPlace)||void 0===o?void 0:o.transportStatus)||void 0===c?void 0:c.id),v=null==t?void 0:t.place.statusId,y=null==d?void 0:d.eta;if(v)return{uiElement:{name:"locationStatusMessage",ownerName:h?"friendCardFull":"geoSharingCardScreen",frameUuid:s},payload:Object.assign({messageInfo:v?{type:"friendsLocationPlace",value:g?"moving":v}:void 0,profileItem:f},d?{navigationConfig:{timeLeft:y,routeType:b}}:{})}},Oe=({profile:e,state:t})=>(s,{appContext:r})=>{var i,a;const n=null===(a=null===(i=t.locationPlace)||void 0===i?void 0:i.status)||void 0===a?void 0:a.id;return{uiElement:{name:"friendMarker",ownerName:"map",frameUuid:r.staticFrames.map.id},payload:{mapMarker:{itemsCount:1,mapLayer:"friendsLayer"},profileItem:{publicProfileId:e.id,hasPhoto:Boolean(e.logo)},messageInfo:n?{type:"friendsLocationPlace",value:n}:void 0},action:"tap"}},Se=({profile:e})=>(t,{appContext:s})=>e.session&&{uiElement:{name:"geoSharingMarker",ownerName:"map",frameUuid:s.staticFrames.map.id},payload:{profileItem:{publicProfileId:e.id,hasPhoto:Boolean(e.logo)},geoSharing:{sessionId:e.session.sessionId,expirationTime:e.session.expiresAt?Math.round((e.session.expiresAt-e.session.serverTime)/1e3):void 0}},action:"tap"},Te=({clusterSize:e})=>(t,s)=>({uiElement:{name:"friendClusterMarker",ownerName:"map",frameUuid:s.appContext.staticFrames.map.id},payload:{mapMarker:{itemsCount:e,mapLayer:"friendsLayer"}},action:"tap"}),Ee=({publicProfileId:e,hasPhoto:t,placeId:s})=>(r,i)=>({uiElement:{name:"tooltip",ownerName:"friendMarker",frameUuid:i.appContext.staticFrames.map.id},payload:{profileItem:{publicProfileId:e,hasPhoto:t},messageInfo:s?{type:"friendsLocationPlace",value:s}:void 0}}),Me=({profile:e})=>({frameId:t},s,r)=>{if(e&&r)return{uiElement:{name:"changeProfilePrivacy",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap",payload:{profileItem:Ce({user:Object.assign(Object.assign({},e),{privacy:r.newPrivacy})})}}};var Pe=s(9420),Le=s(80905),Ne=s(45863),Ae=s(34438);const Re=(e,t,s)=>{var r;const i=(0,Le.w1)(t.appContext.frames,s),a=i&&"entityId"in i&&i.entityId?(0,ue.DE)({entityId:i.entityId,state:t}).data:void 0;if("photoCardFull"===e.ownerName){const n=i?null===(r=(0,Pe.$x)({state:t,frameId:i.id}))||void 0===r?void 0:r.id:void 0,o=(0,Ne.p)({media:e.photo,orgId:"branch"===(null==a?void 0:a.type)?a.org.id:void 0,entityId:null==a?void 0:a.id,entityType:null==a?void 0:a.type,tag:n});return{uiElement:{ownerName:e.ownerName,frameUuid:s,name:"userProfileHeader"},payload:{photo:o,profileItem:{authUser:e.authUser,inSubscriptions:e.inSubscriptions}}}}const n="branch"===(null==a?void 0:a.type)?a.org.id:void 0,o=(0,Ae.o)({review:e.review,orgId:n});return{uiElement:{ownerName:e.ownerName,frameUuid:s,name:"userProfileHeader"},payload:{reviewItem:o,profileItem:{authUser:e.authUser,inSubscriptions:e.inSubscriptions}}}},ze=e=>({frameId:t},s)=>Re(e,s,t),Ue=e=>({frameId:t},s)=>{const r=Re(e,s,t);return Object.assign({action:"tap"},r)};var Be=s(60545);const He={views:{profileFrame:(0,Be.RT)({name:"profileCardFrame"}),profile:(0,Be.m3)({uiElement:{name:"friendCardFull",ownerName:"profileCardFrame"}}),profileStatus:(0,Be.m3)({uiElement:{name:"locationStatusMessage",ownerName:"friendCardFull"}}),profileVisitedPlaces:(0,Be.m3)({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds"}})},actions:{profileVisitedPlaces:(0,Be.m3)({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds"}})}},Fe=({user:e,status:t})=>{const{css:s,s:r}=(0,h.I)(De),{place:i,distance:a,eta:n}=t,{bssRef:o}=(0,L.E)(ke({user:e,status:t}));return(0,c.jsxs)("div",Object.assign({className:s(r.status),ref:o},{children:[i.icon&&(0,c.jsx)("div",{children:(0,c.jsx)(M.E,{width:24,height:24,src:i.icon})}),(0,c.jsxs)("div",Object.assign({className:s(r.textPart)},{children:[i.text&&(0,c.jsx)("div",Object.assign({className:s(r.statusText,!!i.icon&&r._withIcon)},{children:(0,c.jsx)("div",Object.assign({className:s(r.text)},{children:i.text}))})),!!i.time&&(0,c.jsx)("div",Object.assign({className:s(r.time)},{children:i.time&&(0,c.jsx)("span",Object.assign({className:s(r.time)},{children:i.time}))}))]})),!(!n&&!a)&&(0,c.jsx)("div",Object.assign({className:s(r.distance)},{children:n?(0,c.jsx)("span",Object.assign({className:s(r.eta,i.icon&&r.pulse)},{children:n})):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(P,{}),(0,c.jsx)("span",{children:a})]})}))]}))},De=(0,h.r)({status:Object.assign({display:"flex",gap:8},f.Hg),textPart:{alignSelf:"stretch",display:"flex",flexDirection:"column",gap:4,flexGrow:1},statusText:{display:"flex",alignItems:"center"},_withIcon:{minHeight:24},text:Object.assign(Object.assign({},(0,f.lR)(3,f._w)),{color:b.T.black}),time:Object.assign(Object.assign({display:"flex",justifyContent:"space-between"},f._w),{color:b.T.gray_929292}),distance:Object.assign(Object.assign({height:24,display:"flex",alignItems:"center",wordWrap:"nowrap",gap:8},f._w),{color:b.T.gray_929292}),eta:{whiteSpace:"nowrap"},pulse:{position:"relative",color:"#30AD00","::after":{content:'""',position:"absolute",left:-10,top:"50%",transform:"translateY(-50%)",height:4,width:4,background:"#30AD00",borderRadius:"50%",animationName:{"0%":{boxShadow:"0 0 0 0px rgba(48, 173, 0, 0.6)"},"100%":{boxShadow:"0 0 0 4px rgba(48, 173, 0, 0)"}},animationTimingFunction:"linear",animationDuration:"1200ms",animationIterationCount:"infinite"}}}),Ve=({user:e,status:t,isMyProfile:s,isAuthorized:r,isMyFriendProfile:i})=>{const{css:a,s:n}=(0,h.I)(Ze),{featurePublicProfile:o}=(0,Z.U)(),d=(0,g.wA)(),{isMobileDevice:u}=(0,Z.U)(),p=(0,v.D)((()=>{d((0,y.oC)())})),{_t:m}=(0,l.c)(),f=(null==t?void 0:t.distance)||(null==t?void 0:t.place),b=K(e,u),{bssRef:j}=(0,L.E)(Ie({user:e,isFriend:i}));return(0,c.jsxs)("div",Object.assign({ref:j,style:{height:o?"unset":"100%"},className:a(n.profile)},{children:[(0,c.jsx)(I,{size:u?"average":"large",url:b,name:e.name}),(0,c.jsx)(T,{isMyProfile:s,name:e.name,subtitle:i||s?null==t?void 0:t.lastSeenText:null==t?void 0:t.countersText}),f&&(0,c.jsx)(Fe,{user:e,status:t}),!1===i&&!s&&r&&!o&&(0,c.jsx)("span",Object.assign({className:a(n.text)},{children:m("Добавьте пользователя в друзья в приложении 2ГИС на телефоне, чтобы видеть его местоположение на карте")})),!r&&!o&&(0,c.jsxs)("div",Object.assign({className:a(n.auth)},{children:[(0,c.jsx)("span",Object.assign({className:a(n.text)},{children:m("Авторизуйтесь, чтобы видеть местоположение друга на карте")})),(0,c.jsx)(x.$,Object.assign({wide:!0,appearance:"primary",onClick:p},{children:m("Авторизоваться")}))]}))]}))},Ze=(0,h.r)((({mobile:e})=>({profile:{display:"flex",flexDirection:e?"row":"column",gap:16},text:Object.assign(Object.assign({},f.Hg),{color:b.T.gray_929292}),auth:{display:"flex",flexDirection:"column",gap:16}})));var $e=s(32443);const qe=()=>{const{css:e,s:t}=(0,h.I)(We),s=(0,l.c)();return(0,c.jsxs)("div",Object.assign({className:e(t.wrapper)},{children:[(0,c.jsx)($e.C,{color:b.T.gray_929292}),(0,c.jsx)("span",Object.assign({className:e(t.text)},{children:s._t("Пользователь не найден")}))]}))},We=(0,h.r)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",gap:32},text:Object.assign(Object.assign({},f.Yn),{color:b.T.gray_929292})});var Ge=s(98626),Qe=s(55027),Ke=s(69158);const Ye="friends_promo_qr_code",Xe=({userId:e,userName:t})=>{(0,Qe.i$)({elementId:Ye,type:"userProfilePromo",deepLink:`https://2gis.ru/user/${e}`});const{_t:s}=(0,l.c)(),{css:r,s:i}=(0,h.I)(Je);return(0,c.jsxs)("div",Object.assign({className:r(i.wrapper)},{children:[(0,c.jsx)("div",{className:r(i.bgImage)}),(0,c.jsxs)("div",Object.assign({className:r(i.textBlock)},{children:[(0,c.jsx)("div",Object.assign({className:r(i.text)},{children:s("Смотрите в&nbsp;приложении, с кем дружит %1, и&nbsp;добавляйте их в друзья!",[t])})),(0,c.jsx)("div",Object.assign({className:r(i.adInfoLink)},{children:(0,c.jsx)(Ge.Q,{rating:0,gray:!0,source:"banner",erid:["2Ranyn8qroa"],legalName:'ООО "ДубльГИС"'})}))]})),(0,c.jsx)("div",Object.assign({className:r(i.qrBlock)},{children:(0,c.jsx)("div",{className:r(i.qrCode),id:Ye})}))]}))},Je=(0,h.r)((({rtl:e})=>({wrapper:{padding:16,backgroundColor:b.T.gray_f2f2f2,display:"flex",flexDirection:"row",gap:10,position:"relative",alignItems:"flex-start"},bgImage:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:'url("/public/friendsOnMap/bannerHeart.png")',backgroundSize:"112px 128px",backgroundRepeat:"no-repeat",backgroundPosition:"top right",transform:e?"scaleX(-1)":"none"},textBlock:{display:"flex",flexDirection:"column",gap:16,justifyContent:"space-between",zIndex:1},text:Object.assign({color:b.T.black},f._w),adInfoLink:Object.assign({},f.nU),qrBlock:{background:b.T.white,padding:8,borderRadius:"8px",boxShadow:`0px 1px 2px 0px ${(0,Ke.m)(b.T.black,.06)}`,zIndex:1},qrCode:{display:"flex",justifyContent:"center",alignItems:"center",width:80,height:80,"& canvas":{width:"100%",height:"100%"}}})));var et=s(64099);const tt=()=>{const{isMobileDevice:e,featurePublicProfile:t}=(0,Z.U)(),{css:s,s:r}=(0,h.I)(st);return e?(0,c.jsxs)("div",Object.assign({className:s(r.mobile)},{children:[(0,c.jsx)("div",Object.assign({className:s(r.raw)},{children:(0,c.jsxs)("div",Object.assign({className:s(r.block)},{children:[(0,c.jsx)(k,{size:"average"}),(0,c.jsxs)("div",Object.assign({className:s(r.column)},{children:[(0,c.jsx)("div",{className:s(r.mobileName)}),(0,c.jsx)("div",{className:s(r.timer)})]}))]}))})),(0,c.jsx)("div",{className:s(r.button)})]})):(0,c.jsxs)("div",Object.assign({style:{height:t?"unset":"100%"},className:s(r.desktop)},{children:[(0,c.jsx)(k,{size:"large"}),(0,c.jsx)("div",{className:s(r.name)}),(0,c.jsx)("div",{className:s(r.status)})]}))},st=(0,h.r)({desktop:{display:"flex",flexDirection:"column",paddingTop:24,paddingEnd:24,paddingBottom:0,paddingStart:24},mobile:{display:"flex",flexDirection:"column",padding:16,gap:16,backgroundColor:b.T.white},name:{display:"flex",flexDirection:"column",marginTop:16,marginEnd:0,marginBottom:10,marginStart:0,gap:4,width:172,height:16,background:b.T.gray_f2f2f2,borderRadius:et.Vq.default},status:{width:129,height:12,borderRadius:et.Vq.default,background:b.T.gray_f2f2f2},raw:{display:"flex",alignItems:"center",justifyContent:"space-between"},block:{display:"flex",alignItems:"center",gap:12},column:{display:"flex",flexDirection:"column",justifyContent:"center",gap:4},button:{width:"100%",height:40,borderRadius:et.Vq.default,background:b.T.gray_f2f2f2},mobileName:{width:172,height:20,background:b.T.gray_f2f2f2,borderRadius:et.Vq.default},timer:{width:172,height:16,background:b.T.gray_f2f2f2,borderRadius:et.Vq.default}});var rt=s(46501);const it=({user:e,avatarUrl:t,isMyFriendProfile:s,isMyProfile:r,status:i,broadcastTime:a,onClose:n,bssShowFunction:o,onAddFriend:d})=>{const u=(0,l.c)(),{css:m,s:f}=(0,h.I)(at),{bssRef:b}=(0,L.E)(o&&o()),{brandName:v}=(0,Z.U)(),y=(0,g.d4)(V.x3),j=(null==i?void 0:i.distance)||(null==i?void 0:i.place);return(0,c.jsxs)("div",Object.assign({className:m(f.profile),ref:b},{children:[(0,c.jsxs)("div",Object.assign({className:m(f.raw)},{children:[(0,c.jsxs)("div",Object.assign({className:m(f.block)},{children:[(0,c.jsx)(I,{url:t,name:e.name,size:"average"}),(0,c.jsxs)("div",Object.assign({className:m(f.column)},{children:[(0,c.jsx)(T,{isMyProfile:r,name:e.name,subtitle:s||r?null==i?void 0:i.lastSeenText:void 0}),!!a&&(0,c.jsx)("span",Object.assign({className:m(f.text)},{children:(0,c.jsx)(p,{time:a})}))]}))]})),(0,c.jsx)("button",Object.assign({type:"button",onClick:n,className:m(f.closeButton)},{children:(0,c.jsx)(rt.b,{})}))]})),j&&(0,c.jsx)(Fe,{user:e,status:i}),(0,c.jsx)(x.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:`https://2gis.ru/user/${e.public_user_id}`,onClick:d,dataN:"wat-add-to-friends-button"},{children:y?u._t("Скачать %1",[v]):u._t("Добавить в друзья")}))]}))},at=(0,h.r)({profile:{display:"flex",flexDirection:"column",padding:16,gap:16},text:Object.assign(Object.assign({},f.Hg),{color:b.T.gray_929292}),raw:{display:"flex",alignItems:"center",justifyContent:"space-between"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:8,backgroundColor:"#F2F2F2"},block:{display:"flex",gap:12},column:{display:"flex",flexDirection:"column",justifyContent:"center"}}),nt=({avatarUrl:e,user:t,isMyProfile:s,isMyFriendProfile:r,broadcastTime:i,status:a,bssShowFunction:n,onAddFriend:o})=>{const d=(0,l.c)(),{css:u,s:p}=(0,h.I)(ot),{bssRef:m}=(0,L.E)(n&&n()),g=(null==a?void 0:a.distance)||(null==a?void 0:a.place);return(0,c.jsxs)("div",Object.assign({className:u(p.desktop),ref:m},{children:[(0,c.jsx)(I,{url:e,name:t.name}),(0,c.jsx)(T,{isMyProfile:s,name:t.name,subtitle:r||s?null==a?void 0:a.lastSeenText:void 0,broadcastTime:i}),g&&(0,c.jsx)(Fe,{user:t,status:a}),(0,c.jsx)(x.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:`https://friends.2gis.ru?user_id=${t.public_user_id}`,onClick:o,dataN:"wat-add-to-friends-button"},{children:d._t("Добавить в друзья")}))]}))},ot=(0,h.r)({desktop:{display:"flex",flexDirection:"column",height:"100%",gap:16},text:Object.assign(Object.assign({},f.Hg),{color:b.T.gray_929292})}),ct=e=>{const{isMobileDevice:t}=(0,Z.U)();return t?(0,c.jsx)(it,Object.assign({},e)):(0,c.jsx)(nt,Object.assign({},e))};var dt=s(40931),lt=s(8335);const ut=()=>{const{css:e,s:t}=(0,h.I)(pt);return(0,c.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,c.jsx)("div",Object.assign({className:e(t.flame)},{children:(0,c.jsx)("div",Object.assign({className:e(t.flameMarkerRotation)},{children:(0,c.jsx)("div",{className:e(t.flameAnimation)})}))})),(0,c.jsx)("div",{className:e(t.avatar)}),(0,c.jsx)("div",{className:e(t.informer)}),(0,c.jsx)("div",{className:e(t.cluster)}),(0,c.jsx)("div",{className:e(t.battery)})]}))},pt=(0,h.r)({root:{position:"relative",width:ge.markerSize,height:ge.markerSize,fontFamily:"SBSansText, Helvetica, Arial, sans-serif",fontWeight:f.Wy.medium},flame:{position:"absolute",inset:0},flameMarkerRotation:{position:"absolute",inset:0,transition:"rotate 666ms ease"},flameAnimation:{marginTop:2,marginRight:2},avatar:{position:"absolute",inset:0,"& > svg path":{cursor:"pointer",pointerEvents:"auto"}},informer:{position:"absolute",inset:0,transition:"transform 66ms ease",display:"flex",justifyContent:"center","& > *":{cursor:"pointer",pointerEvents:"auto"}},cluster:{position:"absolute",inset:0,"& > *":{cursor:"pointer",pointerEvents:"auto"}},battery:{position:"absolute",inset:0,transition:"transform 66ms ease","& > *":{cursor:"pointer",pointerEvents:"auto"}}});var mt=s(95e3),gt=s(77356),ht=s.n(gt);function ft({container:e,isEnabled:t,name:s,loop:r=!0,autoplay:i=!0,transformData:a}){const{data:n}=bt({name:s},{enabled:t}),o=(0,d.useMemo)((()=>a&&n?a(n):n),[n,a]),[c,l]=(0,d.useState)();return(0,d.useEffect)((()=>{if(!t||!e||!o)return;const s=ht().loadAnimation({container:e,renderer:"svg",loop:r,autoplay:i,animationData:o,rendererSettings:{hideOnTransparent:!1}});return s.addEventListener("DOMLoaded",(()=>{l(s)})),()=>{s.destroy(),l(void 0)}}),[t,e,o,r]),(0,d.useEffect)((()=>{c&&(i?c.play():c.stop())}),[c,i]),{isLoaded:!!c}}const{use:bt}=(0,N.V)("fetchAnimationData",(e=>({config:t})=>{const s=`${t.staticPath}animations/${e.name}.json`;return fetch(s).then((e=>e.json()))}),{staleTime:1/0,cacheTime:1/0,notifyOnChangeProps:["data"]});var vt=s(46561);function yt({initials:e,id:t}){return(0,c.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},{children:[(0,c.jsx)("rect",{x:"0",y:"0",width:"48",height:"48",rx:"24",fill:"#B8B8B8"}),(0,c.jsx)("path",{d:"M6 6H42V42H6V6Z",fill:`url(#pattern${t})`}),(0,c.jsx)("defs",{children:(0,c.jsx)("pattern",Object.assign({id:"pattern"+t,patternContentUnits:"objectBoundingBox",width:"1",height:"1"},{children:(0,c.jsx)("use",{xlinkHref:"#text"+t})}))}),(0,c.jsx)("text",Object.assign({id:"text"+t,x:"24",y:"25",dominantBaseline:"middle",textAnchor:"middle",fontSize:"16",fontFamily:"SBSansText, Helvetica, Arial, sans-serif",fill:"#FFFFFF"},{children:e}))]}))}var xt=s(53157),jt=s(88516);const wt=_t("...");function _t(e){return`data:image/svg+xml;base64,${(0,xt.WG)((0,dt.qV)((0,c.jsx)(yt,{initials:e,id:"friendWithInitials"})))}`}const Ct=new Map;function It(e,t){return[Object.assign(Object.assign({},e[0]),{t:16+t}),Object.assign(Object.assign({},e[1]),{t:25+t}),...e.slice(2)]}var kt=s(83467);const Ot=({informer:e,statusIcon:t})=>{const{css:s,s:r}=(0,h.I)(St),{lang:i}=(0,Z.U)(),{firstRowText:a,secondRowText:n,isOffline:o}=e,d=!o&&!!t,l=o||d;return(0,c.jsx)("div",Object.assign({className:s(r.root,l&&r.withStatusIcon)},{children:(0,c.jsxs)("div",Object.assign({className:s(r.informer,!o&&r.online,o&&r.offline)},{children:[l&&(0,c.jsxs)("div",Object.assign({className:s(r.imgContainer)},{children:[o&&(0,c.jsx)(kt.vX,{}),d&&(0,c.jsx)("img",{src:t,height:"100%",alt:"ru"===i?"Иконка статуса":""})]})),(0,c.jsxs)("div",Object.assign({className:s(r.text)},{children:[(0,c.jsx)("div",Object.assign({className:s(!o&&r.bigText)},{children:a})),(0,c.jsx)("div",Object.assign({className:s(!o&&r.opacityText)},{children:n}))]}))]}))}))};Ot.displayName="Informer";const St=(0,h.r)({root:{position:"absolute",bottom:32,start:36},withStatusIcon:{bottom:40,start:"auto",display:"flex",justifyContent:"center"},informer:{flexGrow:2,flexWrap:"nowrap",display:"flex",justifyContent:"center",alignItems:"center",padding:"3px 5px",gap:3,color:b.T.white,border:"none",borderRadius:7},imgContainer:{height:16,minWidth:10,display:"flex",alignItems:"center"},text:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",color:b.T.white,whiteSpace:"nowrap",lineHeight:"9px",letterSpacing:"-1.6%",fontSize:8},online:{backgroundColor:"#5A5A5A"},offline:{backgroundColor:"#898989"},bigText:{padding:"1px 0",fontSize:11},opacityText:{opacity:.5}}),Tt=({batteryLevel:e,isDark:t=!1,isPlugged:s=!1})=>{const{css:r,s:i}=(0,h.I)(Et);return!e||e>100||e<0?null:(0,c.jsx)("div",Object.assign({className:r(i.root)},{children:(0,c.jsxs)("div",Object.assign({className:r(i.container,t&&i.isDark)},{children:[(0,c.jsx)(Mt,{batteryLevel:e,isDark:t,isPlugged:s}),(0,c.jsx)("span",Object.assign({className:r(i.text)},{children:`${e}%`}))]}))}))};Tt.displayName="Battery";const Et=(0,h.r)({root:{position:"absolute",top:47,width:"100%",display:"flex",justifyContent:"center"},container:{padding:"2px 3px",gap:2,borderRadius:5,border:"none",display:"flex",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center",backgroundColor:b.T.white,boxShadow:"0 1px 4px 0 rgba(0, 89, 214, 0.16), 0 0 0 0.5px rgba(1, 104, 249, 0.08)"},text:{fontSize:8,lineHeight:"9px",letterSpacing:"-1.6%",color:b.T.gray_141414},isDark:{backgroundColor:b.T.gray_141414,color:b.T.white}}),Mt=({isPlugged:e,batteryLevel:t,isDark:s})=>{const r=s?b.T.white:void 0;return e?(0,c.jsx)(kt.$3,{}):t>99?(0,c.jsx)(kt.qK,{color:r}):t<21?(0,c.jsx)(kt.Z1,{color:r}):(0,c.jsx)(kt.It,{color:r})},Pt=({size:e,isSmall:t,statusIcon:s})=>{const{lang:r}=(0,Z.U)(),{css:i,s:a}=(0,h.I)(Lt);return(0,c.jsxs)("div",Object.assign({className:i(a.cluster,t&&a.smallCluster)},{children:[s&&!t&&(0,c.jsx)("img",{className:i(a.img),src:s,alt:"ru"===r?"Иконка статуса":void 0}),(0,c.jsx)("p",Object.assign({className:i(a.text,t&&a.smallText)},{children:e}))]}))};Pt.displayName="ClusterInfo";const Lt=(0,h.r)({cluster:{position:"absolute",top:27,start:36,display:"flex",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",gap:2,border:"none",color:b.T.white,minWidth:24,height:24,borderRadius:24,backgroundColor:"#5A5A5A",boxSizing:"border-box",padding:"0 4px"},text:{alignItems:"center",justifyContent:"center",fontSize:13,lineHeight:"16px",letterSpacing:"-3%"},smallCluster:{top:22,start:28,minWidth:16,height:16,borderRadius:10,boxSizing:"border-box",padding:"0 3px"},smallText:{fontSize:8,lineHeight:"10px",letterSpacing:"-1.6%"},img:{height:16}});var Nt=s(66698);const At=(e,t)=>{e.style.transform=t},Rt=e=>{const{markerElements:t,isCluster:s,clusterSize:r,batteryLevel:i,statusIcon:a,logos:n,informer:o,isSmall:l,isSelected:u,isOffline:p,isMoving:m,isInsideViewpoint:g,isMyProfile:h}=e,{wasLoaded:f}=(({markerElements:e,logos:t,isCluster:s,isSelected:r,isMyProfile:i,isSmall:a,isOffline:n,isInsideViewpoint:o})=>{const c=null==e?void 0:e.avatar,l=(0,d.useCallback)((e=>e?(({clusterSize:e,data:t})=>{let s=Ct.get(e);return s||(s=Object.assign(Object.assign({},t),{nm:`M_Claster_Photo_${e}`,op:1+50*e,assets:t.assets.reduce(((t,s)=>("image_0"===s.id?(0,vt.H)(e,(e=>{t.push(Object.assign(Object.assign({},s),{id:`image_${e}`}))})):s.id.startsWith("image_")||t.push(s),t)),[]),layers:t.layers.reduce(((t,s)=>{var r;const i=r=>{t.push(Object.assign(Object.assign(Object.assign({},s),{ind:t.length+1,op:1+50*e}),r))};return"image_0"===s.refId?"Photo"===s.nm?i({op:26}):(0,vt.H)(e,(t=>{const r=50*(e-t-1);i({refId:`image_${t}`,nm:`Photo ${t+1}`,ks:Object.assign(Object.assign({},s.ks),{p:Object.assign(Object.assign({},s.ks.p),{k:It(s.ks.p.k,r)})}),masksProperties:s.masksProperties.map((e=>Object.assign(Object.assign({},e),{pt:Object.assign(Object.assign({},e.pt),{k:It(e.pt.k,r)})}))),ip:16+r,op:0===t?1+50*e:76+r,st:r})})):"Null 17"===s.nm?i({ks:Object.assign(Object.assign({},s.ks),{s:Object.assign(Object.assign({},s.ks.s),{k:[...(0,vt.H)(e,(e=>[Object.assign(Object.assign({},s.ks.s.k[0]),{t:50*e}),Object.assign(Object.assign({},s.ks.s.k[1]),{t:50*e+25})])).flat(),{t:50*e,s:s.ks.s.k[e%2].s}]})})}):"Ellipse 727"===s.nm?i({ks:Object.assign(Object.assign({},s.ks),{s:Object.assign(Object.assign({},s.ks.s),{k:(0,vt.H)(e,(t=>[Object.assign(Object.assign({},s.ks.s.k[0]),{t:50*t}),Object.assign(Object.assign({},s.ks.s.k[1]),{t:50*t+18.974}),Object.assign({},t===e-1?{t:50*t+38,s:s.ks.s.k[2].s}:Object.assign(Object.assign({},s.ks.s.k[2]),{t:50*t+38}))])).flat()})})}):(null===(r=s.refId)||void 0===r?void 0:r.startsWith("image_"))||i(),t}),[])}),s=JSON.parse(JSON.stringify(s)),Ct.set(e,s)),s})({clusterSize:t.length,data:e}):void 0),[t.length]),{isLoaded:u}=ft({isEnabled:!r,container:c,name:s?"friends/cluster_5f":"friends/avatar"+(i?"_user":""),autoplay:!a&&!n&&o,transformData:s?l:void 0}),{isLoaded:p}=ft({isEnabled:r,container:c,name:`friends/avatar_${i?"user_":""}selected`,loop:!1}),m=p||u,[g,h]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{m&&h(!0)}),[m]),function({container:e,logos:t,isLoaded:s}){(0,d.useEffect)((()=>{s&&e&&t.length&&e.querySelectorAll("svg g > image").forEach(((e,s)=>{const r=s===t.length?0:s,i=t[r],a=t=>{e.setAttribute("href",t)};i.url?(0,jt._)({src:i.url,onLoad:()=>{a(i.url)},onError:()=>{a(_t(i.initials))},onLoading:()=>{a(wt)}}):a(_t(i.initials))}))}),[s,e,t])}({container:c,logos:t,isLoaded:m}),{wasLoaded:g}})({markerElements:t,logos:n,isCluster:s,isSmall:l,isSelected:u,isOffline:p,isMoving:m,isInsideViewpoint:g,isMyProfile:h});(({markerElements:e,isSelected:t,isMoving:s,isInsideViewpoint:r,isMyProfile:i,wasAvatarLoaded:a})=>{ft({isEnabled:s&&a&&!i,container:null==e?void 0:e.flameAnimation,name:t?"friends/flame_ini":"friends/flame",autoplay:r})})({markerElements:t,isSelected:u,isMoving:m,isMyProfile:h,isInsideViewpoint:g,wasAvatarLoaded:f}),function({markerElements:e,isSmall:t,isSelected:s,isCluster:r,isStatusIcon:i}){(0,d.useEffect)((()=>{if(!e)return;const{parent:a,flame:n,avatar:o,informer:c,battery:d}=e,l=e=>{a.style.zIndex=`${e}`};if(s)return At(n,"scale(0.7)"),At(o,`translate(0, -${ge.markerSize/2}px) scale(1.5)`),At(c,`translate(0, -${i?34:30}px)`),At(d,"translate(0, -20px)"),void l(Nt.iF.friendsCzar);if(t||r){const e=t?.666:1,s=r?1.25:1;return At(n,`scale(${1.1*e})`),At(o,`scale(${e*s})`),At(c,""),At(d,""),void l(t?Nt.iF.friendsSmall:Nt.iF.friends)}At(n,"scale(1.1)"),At(o,""),At(c,""),At(d,""),l(Nt.iF.friends)}),[t,s,r,i,e])}({markerElements:t,isSmall:l,isSelected:u,isCluster:s,isStatusIcon:!!a}),(0,d.useEffect)((()=>{t&&f&&(t.informer.innerHTML=o?(0,dt.qV)((0,c.jsx)(Ot,{informer:o,statusIcon:a})):"")}),[o,a,f,t]),(0,d.useEffect)((()=>{t&&f&&!h&&(t.battery.innerHTML=i?(0,dt.qV)((0,c.jsx)(Tt,{batteryLevel:i})):"")}),[i,f,t,h]),(0,d.useEffect)((()=>{t&&f&&(t.cluster.innerHTML=s?(0,dt.qV)((0,c.jsx)(Pt,{size:r,isSmall:l,statusIcon:a})):"")}),[r,l,a,f,t])},zt=(0,d.memo)((({cluster:e,isSelected:t,onSelect:s,isMyProfile:r,ClusterTooltipView:i,TooltipView:a})=>{const n=(0,g.wA)(),{maxZoomForClustering:o,markerSize:u}=ge,[p,m]=(0,d.useState)(),h=(0,d.useMemo)((()=>p&&re(p.getContent())),[p]),{state:f,isOffline:b,isMoving:y,isInsideViewpoint:x,speed:j}=oe({cluster:e,marker:p,markerElements:h}),{isCluster:_,clusterSize:C,batteryLevel:I,statusIcon:k,logos:O,informer:S,isSmall:T}=function({cluster:e,state:t,speed:s,isOffline:r,isMoving:i,isSelected:a}){const n=(0,l.c)(),o=(0,mt.DP)().rtl?"rtl":"ltr",c=e.markers.length>1,u=e.markers.length,p=e.small&&!a,m=he({state:t,isOffline:r,isMoving:i}),g=!c&&!p,h=(0,d.useMemo)((()=>g?ie({isMoving:i,isOffline:r,speed:s,formattedTime:m,dir:o,tp:n}):void 0),[g,i,r,s,m,o,n]),f=(0,d.useMemo)((()=>e.markers.map((e=>e.profile.id.slice(0,5))).join("")),[e]),b=(0,d.useMemo)((()=>e.markers.map((({profile:e})=>{var t;return{url:null===(t=e.logoTpl)||void 0===t?void 0:t.replace("{width}x{height}",`${2*ge.markerSize}x${2*ge.markerSize}`),initials:w(e.name)}}))),[f]),v=c||p||r?void 0:Math.round(100*t.battery.level),y=be(e);return{id:t.id,clusterSize:u,isCluster:c,batteryLevel:v,statusIcon:y,logos:b,informer:h,isSmall:p,isOwner:!1}}({cluster:e,state:f,speed:j,isOffline:b,isMoving:y,isSelected:t}),{useBssHandler:E}=(0,L.E)(),M=e.markers[0].profile,P=E(Te,{clusterSize:C}),N=E(Oe,{profile:M,state:f}),A=E(Se,{profile:M});Rt({markerElements:h,isCluster:_,clusterSize:C,batteryLevel:I,statusIcon:k,logos:O,informer:S,isSmall:T,isSelected:t,isOffline:b,isMoving:y,isInsideViewpoint:x,isMyProfile:r}),(0,ne.e)(((t,{HtmlMarker:s},r)=>{const i=new s(r,{html:(0,dt.qV)((0,c.jsx)(ut,{})),coordinates:[e.lonLat.lon,e.lonLat.lat],anchor:[u/2,u/2],interactive:!1,preventMapInteractions:!1,disableRounding:!0});return m(i),()=>{i.destroy()}}),[]);const R=(0,v.D)((()=>{var e;_?(n((0,lt.m3)({center:null==p?void 0:p.getCoordinates(),zoom:o})),P()):t?s(void 0):M.session&&!(null===(e=M.sharing)||void 0===e?void 0:e.isFriend)?(s(f.id),A()):(s(f.id),N())}));return(0,d.useEffect)((()=>{h&&(h.avatar.addEventListener("click",R),h.informer.addEventListener("click",R),h.cluster.addEventListener("click",R),h.battery.addEventListener("click",R))}),[h]),h?_?(0,c.jsx)(i,{markerElements:h,cluster:e}):(0,c.jsx)(a,{friendId:f.id,markerElements:h,batteryLevel:I,isSmall:T,isSelected:t}):null}));zt.displayName="UserMarker";const Ut=({place:e,distance:t,bssRef:s})=>{const{css:r,s:i}=(0,h.I)(Bt);return(0,c.jsxs)("div",Object.assign({className:r(i.status),ref:s},{children:[(0,c.jsxs)("div",Object.assign({className:r(i.place)},{children:[e.icon&&(0,c.jsx)("span",Object.assign({className:"icon"},{children:(0,c.jsx)(M.E,{width:12,height:12,src:e.icon})})),e.text&&(0,c.jsx)("span",Object.assign({title:e.text,className:r(i.statusText)},{children:e.text})),e.time&&(0,c.jsx)("span",Object.assign({className:r(i.time)},{children:e.time}))]})),t&&(0,c.jsxs)("div",Object.assign({className:r(i.distance)},{children:[(0,c.jsx)(P,{width:10,height:10}),(0,c.jsx)("span",{children:t})]}))]}))},Bt=(0,h.r)({status:Object.assign({display:"flex",alignItems:"center",alignSelf:"stretch",gap:"16px"},f.Hg),statusText:Object.assign({color:b.T.black,wordBreak:"break-all"},(0,f.lR)(1,f._w)),time:Object.assign(Object.assign({},f._w),{color:b.T.black,flexShrink:0}),place:{display:"flex",alignItems:"center",gap:4,flex:"1 0 0",color:b.T.black},distance:{display:"flex",alignItems:"center",gap:4,color:b.T.gray_929292}})},33082:(e,t,s)=>{"use strict";s.d(t,{cv:()=>p,ZY:()=>u,ve:()=>k,Wg:()=>n,PV:()=>M.P});var r={};s.r(r),s.d(r,{q:()=>S});var i={};s.r(i),s.d(i,{D:()=>T});var a={};s.r(a),s.d(a,{toggleLogo:()=>E});var n={};s.r(n),s.d(n,{Lp:()=>r,Tp:()=>i,QO:()=>a});var o=s(31085),c=s(10048),d=s(58471),l=s(40837);const u=e=>(0,o.jsx)(c.w,{loader:d.b.airplaneLogoOnMap,render:t=>(0,o.jsx)(t,Object.assign({},e)),renderPlaceholder:l.N}),p=e=>(0,o.jsx)(c.w,{loader:d.b.airplaneControl,render:t=>(0,o.jsx)(t,Object.assign({},e)),renderPlaceholder:l.N});var m=s(8365),g=s(14041);function h({color:e="currentColor"}){return(0,o.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100",height:"16",fill:"none",viewBox:"0 0 100 16"},{children:[(0,o.jsx)("path",{fill:e,d:"M25.89 4.43l-2.026 5.405-2.04-5.404h-2.53v7.206h1.518v-5.48l2.114 5.48h1.668l2.114-5.509v5.509h1.623V4.43H25.89zm13.042 0h5.583v7.207h-1.728V5.949H40.51a155.382 155.382 0 01-.075 3.128c-.06 1.89-.61 2.56-2.233 2.56h-.774v-1.519h.432c.73 0 .968-.327 1.012-1.355.045-1.1.06-3.29.06-4.332zm14.414 0h6.566v1.52h-2.427v5.687h-1.712V5.949h-2.427V4.431zm-38.521-.147h-.618c-1.485 0-2.611.903-2.87 2.247l1.579.253c.216-.64.712-1.077 1.34-1.106.202-.009.153-.007.356 0 .932.034 1.353.48 1.353 1.585-1.766 0-2.974-.084-3.862.502-.726.479-1.037 1.008-1.037 1.847 0 1.213.944 2.175 2.468 2.175h.21c1.077 0 1.945-.42 2.3-.925v.776l1.59.001V7.295c0-1.677-.898-3.012-2.81-3.012zm-.97 6.097c-.677-.02-1.068-.41-1.068-.906 0-.41.185-.61.428-.753.256-.15.589-.2 1.106-.219.497-.017.9-.04 1.671-.04 0 1.23-.774 1.848-1.734 1.914a3.492 3.492 0 01-.404.004zm39.09-1.859v-.674c0-2.326-1.46-3.529-3.346-3.529h-.37c-2.03 0-3.325 1.385-3.392 3.338-.009.286-.009.405 0 .796.048 1.943 1.411 3.252 3.231 3.3.333.008.29.008.605 0 1.585-.045 2.785-.96 3.139-2.155l-1.534-.268c-.374.75-1.09 1.036-1.66 1.065-.182.01-.207.008-.389 0-.895-.036-1.697-.739-1.697-1.758V8.52h5.414zm-3.744-2.845c.18-.01.245-.01.426 0 .753.039 1.545.527 1.62 1.499h-3.706c.086-.868.783-1.45 1.66-1.499zM36.957 7.398c-.038-1.744-1.445-3.08-3.304-3.08h-.673c-1.86 0-3.266 1.336-3.304 3.09-.01.485-.01.77 0 1.254.038 1.755 1.445 3.09 3.304 3.09h.673c1.86 0 3.266-1.335 3.304-3.09.009-.485.009-.778 0-1.264zm-1.698 1.176c-.02 1.018-.761 1.71-1.757 1.76-.192.01-.18.01-.37 0-1.007-.05-1.738-.742-1.758-1.76-.01-.424-.01-.664 0-1.088.02-1.008.751-1.699 1.757-1.75.192-.01.18-.01.37 0 .997.051 1.738.742 1.758 1.761.01.423.01.653 0 1.077zm-26.87.52c-.2.668-.738 1.127-1.46 1.227a2.17 2.17 0 01-.581-.002c-.898-.125-1.53-.799-1.549-1.745-.01-.423-.01-.664 0-1.088.019-.953.683-1.65 1.597-1.747a2.21 2.21 0 01.444-.004c.77.083 1.348.544 1.556 1.246l1.674-.324C9.71 5.29 8.47 4.32 6.885 4.32h-.48c-1.859 0-3.266 1.335-3.304 3.088-.01.486-.01.77 0 1.256.038 1.754 1.445 3.088 3.304 3.088h.48c1.616 0 2.868-1.009 3.198-2.425L8.39 9.095z"}),(0,o.jsx)("path",{fill:e,fillRule:"evenodd",d:"M63.907 2.6H95.52c.742 0 1.345.602 1.345 1.344v8.18c0 .742-.603 1.345-1.345 1.345H63.907a1.345 1.345 0 01-1.344-1.345v-8.18c0-.742.601-1.345 1.344-1.345zm7.622 2.66h-5.331l-1.247 5.973h1.51l.949-4.524h2.3l-.939 4.524h1.511L71.53 5.26zm7.028 0H74c-.264 1.3-.588 2.749-.817 3.698-.14.562-.43.781-.94.781h-.298l-.308 1.493h.677c1.264 0 1.914-.439 2.292-2.029.114-.49.225-.992.33-1.467l.232-1.035h1.572l-.949 4.532h1.52l1.247-5.973zm2.516 3.707h.905c.026 1.457 1.036 2.353 2.609 2.353 2.468 0 3.487-1.906 3.487-3.715 0-1.485-.975-2.433-2.618-2.433-1.81 0-2.845 1.063-3.258 2.345h-.826l.474-2.257h-1.51l-1.248 5.973H80.6l.474-2.266zm4.26-2.425c.764 0 1.186.493 1.186 1.239 0 1.124-.659 2.17-1.81 2.17-.711 0-1.176-.484-1.176-1.213 0-1.098.685-2.196 1.8-2.196zm9.144 2.741L93 9.011c-.255.562-.755.94-1.406.94-.667 0-1.089-.44-1.089-1.213 0-1.124.66-2.196 1.704-2.196.668 0 .984.405 1.046.923L94.8 7.21c-.07-1.265-.922-2.038-2.459-2.038-2.275 0-3.381 1.906-3.381 3.733 0 1.484 1.019 2.415 2.52 2.415 1.608 0 2.539-.781 2.996-2.037z",clipRule:"evenodd"})]}))}var f=s(99259),b=s(84175),v=s(98626),y=s(13558);const x="filterSamoletPlus",j="filtersPanel",w={name:"provider",value:"СамолётСпецпроект"},_=()=>({frameId:e},t,s)=>({uiElement:{name:x,ownerName:j,frameUuid:e},payload:{filterItem:w},action:(null==s?void 0:s.isActive)?"filterOff":"filterOn"});var C=s(21351),I=s(89213);const k=(0,g.memo)((()=>{const{css:e,s:t}=(0,b.I)(O),{bssRef:s,useBssHandler:r}=(0,m.E)((({frameId:e})=>({uiElement:{name:x,ownerName:j,frameUuid:e},payload:{filterItem:w}})),{threshold:.5}),i=r(_),{isAvailable:a,isActive:n,buttonText:c,activate:d}=(0,I.W)({trackBssTap:i});return a?(0,o.jsxs)("div",Object.assign({className:e(t.root),ref:s},{children:[(0,o.jsx)(y.F,Object.assign({isChecked:n,onClick:d,title:c||"Самолет+",isCentered:!0},{children:(0,o.jsx)("span",Object.assign({className:e(t.icon,n&&t._active)},{children:(0,o.jsx)(h,{})}))})),(0,o.jsx)("div",Object.assign({className:e(t.adInfoLink)},{children:(0,o.jsx)(v.Q,Object.assign({},C.s,{erid:["2RanymHwYYp"],tiny:!0}))}))]})):null}));k.displayName="WidgetAirplane";const O=(0,b.r)({root:{},icon:{display:"flex",justifyContent:"center",alignItems:"center",color:"#007BFB"},_active:{color:f.T.white},adInfoLink:{marginTop:2,marginStart:8,color:f.T.gray_b2b2b2}}),S=new Set(["Абакан","Альметьевск","Армавир","Архангельск","Астрахань","Барнаул","Бийск","Благовещенск","Брянск","Владивосток","Владикавказ","Владимир","Волгоград","Вологда","Воронеж","Екатеринбург","Иваново","Ижевск","Иркутск","Ишим","Йошкар-Ола","КавМинВоды","Казань","Калининград","Калуга","Киров","Кострома","Краснодар","Красноярск","Кумертау","Курган","Курск","Кызыл","Липецк","Майкоп","Махачкала","Миасс и Златоуст","Москва","Московская область","Мурманскаяобласть","Муром","Набережные Челны","Нижневартовск","Нижний Новгород","Нижний Тагил","Новороссийск","Новосибирск","Новый Уренгой","Омск","Оренбург","Пенза","Пермь","Петропавловск-Камчатский","Республика Алтай","Ростов-на-Дону","Рязань","Самара","Санкт-Петербург","Саратов","Смоленск","Сочи","Ставрополь","Старый Оскол","Стерлитамак","Сургут","Сыктывкар","Тверь","Тобольск","Тольятти","Тула","Тюмень","Улан-Удэ","Ульяновск","Уфа","Хабаровск","Ханты-Мансийск","Чебоксары","Челябинск","Черкесск","Чита","Южно-Сахалинск","Якутск","Ярославль","Томск","Магадан","Комсомольск-на-Амуре","Невинномысск","Псков","Белгород","Волгодонск","Грозный","Минеральные Воды","Кемерово","Ленинск-Кузнецкий","Магнитогорск","Миасс","Златоуст","Мурманск","Нальчик","Новокузнецк","Норильск","Петрозаводск","Рубцовск","Салехард","Тамбов","Ухта","Хасавюрт","Ковров","Ноябрьск","Орел","Элиста","Переславль-Залесский","Борисоглебск","Таруса","Суздаль","Ростов","Углич","Мышкин","Рыбинск","Калязин"]),T=(0,s(66333).Mz)([e=>e.appContext.showAirplaneLogo],(e=>e)),E=(0,s(59754).lQ)("UI/TOGGLE_AIRPLANE_LOGO");var M=s(16492)},21351:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});const r={source:"banner",erid:["2Ranyn7WCTA"],legalName:"ООО «Самолет Плюс»"}},16492:(e,t,s)=>{"use strict";function r(e){if(e)for(const t of e)if("checkboxlist"===t.widget)for(const e of t.items)if("Самолет Плюс"===e.text)return Object.assign(Object.assign({},e),{tag:t.tag})}s.d(t,{P:()=>r})},89213:(e,t,s)=>{"use strict";s.d(t,{W:()=>j});var r=s(39123),i=s(16492),a=s(14041),n=s(79594),o=s(10742),c=s(41949),d=s(25880),l=s(31373),u=s(79773),p=s(12017),m=s(7335);const g=(0,p.n5)("withFetchedAirplaneWidget",((e,t)=>e?t(e):(0,m.eU)(u.P5,(e=>(0,p.K2)((0,u.jE)(e),(0,u.M4)(e,(e=>{var s,r;const a=(0,i.P)(null===(r=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.filters)||void 0===r?void 0:r.main);return a?t(a):"loading"===(null==e?void 0:e.status)?(0,p.K2)((0,p.uk)(300),g(a,t)):(0,p.lQ)()})))))));var h=s(52072),f=s(51021),b=s(20091),v=s(51547),y=s(92448),x=s(33082);function j({isControl:e,trackBssTap:t}={}){var s;const u=(0,n.wA)(),m=(0,r.U)("realty"),j=null==m?void 0:m.filterValues,w=null===(s=(0,l.p)().data)||void 0===s?void 0:s.filters,_=(0,n.d4)(x.Wg.Tp.D),{isAvailable:C,isActive:I,buttonText:k,widget:O}=(0,a.useMemo)((()=>{const e=(0,i.P)(null==w?void 0:w.main),t=(0,v.$)(null==w?void 0:w.main),s=!!t&&(null==j?void 0:j[t.tag])===t.value,r=!!e&&!s&&_,a=!!e&&(null==j?void 0:j[e.tag])===e.value;return{buttonText:null==e?void 0:e.text,widget:e,isActive:a,isAvailable:r}}),[j,w,_]),S=(0,o.D)((()=>{u(e&&I?(0,h.c)():m&&O&&C?(0,d.R)({filter:{valueType:"single",value:O.value,name:O.tag,isChecked:!I}}):(0,p._7)(g(O,(e=>(0,c.P)({filters:{[e.tag]:e.value},categoryId:y.gI.sale.categoryId}))),(0,f.n)((0,b.X_)({isMinimized:!1})))),null==t||t({isActive:I})})),T=(0,o.D)((()=>{u(x.Wg.QO.toggleLogo())}));return{isAvailable:C,isActive:I,buttonText:k,activate:S,close:T}}},25346:(e,t,s)=>{"use strict";s.d(t,{db:()=>n,lq:()=>a,c7:()=>o,l7:()=>i});var r=s(78170);const{use:i,prefetch:a,invalidate:n,setQueryData:o}=(0,r.V)("fetchEntityAlbums",(e=>({services:t})=>t.photoApi.getEntityAlbums({objectId:e.objectId})),{staleTime:1/0,cacheTime:1/0})},25792:(e,t,s)=>{"use strict";s.d(t,{S:()=>o,v:()=>n});var r=s(13608),i=s(47710);const a={121:!0,122:!0,136:!0,137:!0,140:!0,141:!0,143:!0,144:!0,146:!0,147:!0,151:!0,153:!0,154:!0,157:!0,174:!0,201:!0,202:!0,203:!0,206:!0,208:!0,209:!0,210:!0,211:!0,212:!0,213:!0,216:!0,227:!0,229:!0,236:!0,238:!0,253:!0,255:!0,259:!0,261:!0,271:!0,276:!0,280:!0,281:!0,282:!0,283:!0,284:!0,285:!0,317:!0,318:!0,319:!0,323:!0,324:!0,325:!0,327:!0,328:!0,329:!0,330:!0,332:!0,333:!0,334:!0,350:!0,351:!0,352:!0,360:!0,361:!0,363:!0,366:!0,367:!0,372:!0,373:!0,375:!0,377:!0,438:!0,442:!0,443:!0,444:!0,446:!0,450:!0,451:!0,454:!0,458:!0,469:!0,475:!0,490:!0,495:!0,497:!0,498:!0,501:!0,513:!0,519:!0,520:!0,521:!0,522:!0,528:!0,530:!0,531:!0,533:!0,534:!0,539:!0,540:!0,541:!0,544:!0,557:!0,558:!0,559:!0,561:!0,562:!0,563:!0,564:!0,567:!0,568:!0,614:!0,623:!0,624:!0,626:!0,627:!0,632:!0,635:!0,637:!0,657:!0,673:!0,681:!0,691:!0,707:!0,712:!0,717:!0,758:!0,831:!0,879:!0,925:!0,935:!0,1206:!0,1269:!0,1273:!0,1281:!0,1549:!0,1556:!0,1614:!0,1616:!0,1644:!0,3231:!0,3232:!0,3236:!0,3237:!0,4480:!0,4509:!0,5266:!0,5435:!0,5655:!0,5798:!0,5843:!0,6505:!0,7406:!0,7591:!0,7666:!0,7988:!0,8065:!0,8242:!0,8533:!0,8743:!0,9228:!0,9867:!0,10106:!0,10112:!0,10115:!0,10291:!0,10923:!0,12062:!0,12075:!0,12076:!0,12078:!0,14142:!0,14190:!0,14376:!0,16182:!0,16322:!0,16648:!0,16796:!0,17205:!0,18305:!0,18978:!0,19288:!0,19290:!0,19571:!0,19585:!0,19645:!0,19754:!0,20223:!0,21075:!0,23847:!0,24717:!0,24738:!0,25012:!0,49529:!0,49532:!0,50810:!0,50840:!0,50841:!0,51096:!0,51100:!0,51105:!0,51213:!0,51249:!0,51349:!0,51351:!0,51352:!0,51360:!0,51373:!0,51905:!0,52184:!0,52255:!0,52971:!0,53624:!0,53832:!0,53975:!0,54620:!0,54646:!0,54649:!0,55540:!0,55723:!0,56326:!0,56581:!0,56684:!0,57185:!0,58828:!0,59508:!0,59511:!0,59930:!0,67041:!0,70039:!0,73893:!0,99172:!0,102029:!0,103240:!0,110324:!0,110327:!0,110328:!0,110350:!0,110360:!0,110370:!0,110401:!0,110440:!0,110456:!0,110483:!0,110487:!0,110516:!0,110525:!0,110526:!0,110530:!0,110668:!0,110976:!0,111499:!0,111500:!0,111501:!0,111592:!0,112429:!0,112446:!0,112451:!0,112456:!0,112582:!0,112590:!0,112620:!0,112625:!0,112629:!0,112639:!0,112674:!0,112683:!0,112704:!0,112789:!0,112801:!0,112854:!0,112868:!0};function n({searchProfile:e,rubricsWhiteListMap:t,experimentGroup:s}){var n;if(s===i.$U)return;const o=s===i.Cq||s===i.jN,c=(0,r.E)(null===(n=null==e?void 0:e.searchAttributes)||void 0===n?void 0:n.query_context);if(o){if((null==e?void 0:e.rubrId)&&!a[e.rubrId])return{isMedia:!0};if(!(null==c?void 0:c.length))return;if(c.some((e=>a[e])))return;return{isMedia:!0}}{if(null==e?void 0:e.rubrId)return t[e.rubrId];if(!(null==c?void 0:c.length))return;let s=!1;for(const e of c){const r=t[e];if(!r)return;r.isMedia||(s=!0)}return s?{isMedia:!1}:{isMedia:!0}}}function o({rubricId:e,rubricsWhiteListMap:t,experimentGroup:s}){var r;if(s!==i.$U)return s===i.Cq||s===i.jN?a[e]?void 0:{isMedia:!0}:null!==(r=t[e])&&void 0!==r?r:void 0}},3359:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});let r=!1;const i={};function a(e){return r||(function(e){for(const t of e.rubricsWithPhotosMediaWhiteList)i[t]={isMedia:!0};for(const t of e.rubricsWithPhotosNotMediaWhiteList)i[t]={isMedia:!1}}(e),r=!0),i}},13179:(e,t,s)=>{"use strict";s.d(t,{PG:()=>c,$D:()=>u,ds:()=>l,Sg:()=>o,gg:()=>d});var r=s(85608),i=s(78170),a=s(66698),n=s(52524);const{use:o,invalidate:c,withQueryData:d,setQueryData:l,prefetch:u}=(0,i.r)("Entity Photo Album",(e=>[[e.id,e.albumId,e.searchCtx,e.searchKeyword],({services:t,context:s})=>(0,r.sH)(void 0,void 0,void 0,(function*(){const{credentialsApi:r,photoApi:i}=t,{pageParam:o}=s,{id:c,albumId:d=a.Qh,pageSize:l,searchCtx:u,searchKeyword:p}=e;if("__empty"===c)return{items:[],albums:[],next_page_token:void 0};const m=yield r.getToken();return yield i.getPhotosByAlbum({objectId:c,albumId:d,page_size:l,page_token:o?`${o}`:void 0,preview_size:n.C,accessToken:m,searchCtx:u,searchKeyword:p})}))]),{getNextPageParam:e=>e.next_page_token})},10109:(e,t,s)=>{"use strict";s.d(t,{Q:()=>a,y:()=>n});var r=s(85608),i=s(78170);const{use:a,prefetch:n}=(0,i.V)("entity photo by Id",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){const{photoId:s,locale:r,preview_size:i}=e,a=yield t.credentialsApi.getToken();return yield t.photoApi.getPhotoById({photoId:s,locale:r,preview_size:i,accessToken:a})}))),{staleTime:1/0,cacheTime:1/0})},81181:(e,t,s)=>{"use strict";s.d(t,{u:()=>c,$:()=>r});var r=s(39377),i=s(31085),a=s(58471),n=s(10048),o=s(40837);const c=e=>(0,i.jsx)(n.w,{loader:a.b.friendInOtherDomainPopup,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:o.N})},39377:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bss:()=>r,cleanFriendInOtherDomainModel:()=>c,defaultState:()=>n,openFriendInOtherDomainPopup:()=>g,setFriendInOtherDomainModel:()=>o,useOpenFriendInOtherDomainPopup:()=>h});var r={};s.r(r),s.d(r,{closeFriendInOtherDomainFrame:()=>y,generators:()=>j,showFriendInOtherDomainFrame:()=>b,tapLoginInFriendInOtherDomainFrame:()=>v});var i=s(7143),a=s(1269);const n={},o=(0,a.V)("setFriendInOtherDomainModel",(0,i.T)("appContext",((e,{previousMapView:t})=>Object.assign(Object.assign({},e),{friendInOtherDomain:{previousMapView:t}})))),c=(0,a.V)("cleanFriendsInOtherDomainModel",(0,i.T)("appContext",(e=>Object.assign(Object.assign({},e),{friendInOtherDomain:{}}))));var d=s(79594),l=s(27892),u=s(10742),p=s(12017),m=s(35023);const g=(0,p.n5)("openFriendInOtherDomainPopup",(e=>(0,l.PB)({id:(0,m.W7)(),type:"friendInOtherDomain",previousMapView:e}))),h=()=>{const e=(0,d.wA)();return(0,u.D)((t=>{e(g(t))}))};var f=s(99906);const b=()=>({frameId:e},t)=>(0,f.f_)({name:"friendDomainFrame",state:t,uuid:e}),v=()=>({frameId:e})=>({uiElement:{name:"authorisationButton",ownerName:"friendDomainFrame",frameUuid:e},action:"tap"}),y=()=>({frameId:e})=>({uiElement:{name:"friendDomainFrame",frameUuid:e},action:"close"});var x=s(60545);const j={frame:()=>(0,x.RT)()({name:"friendDomainFrame",framesLayout:expect.any(Object)}),tapLogin:()=>(0,x.gD)()({uiElement:{name:"authorisationButton",frameUuid:expect.any(String),ownerName:"friendDomainFrame"}}),tapClose:()=>(0,x.DA)()({uiElement:{name:"friendDomainFrame",frameUuid:expect.any(String)}})}},55129:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});var r={};s.r(r),s.d(r,{closeFriendsList:()=>u,openFriendsList:()=>l});var i=s(12017),a=s(29787),n=s(77027),o=s(35023),c=s(7335),d=s(80905);const l=e=>(0,c.RC)({userProfileFrame:e=>(0,d.bB)(e.appContext.frames,"userPublicProfile")},(({userProfileFrame:t})=>(0,i.K2)((0,a.PC)(),(0,n.fL)({id:(0,o.W7)(),type:"friendsList"}),t?e({userId:t.userId}):(0,i.lQ)()))),u=(0,i.n5)("closeFriendsListFrame",(()=>(0,c.RC)({friendsListFrame:e=>(0,d.bB)(e.appContext.frames,"friendsList")},(({friendsListFrame:e})=>e?(0,n.wU)({id:e.id}):(0,i.lQ)()))))},63795:(e,t,s)=>{"use strict";s.d(t,{Oq:()=>c.O,zy:()=>o,tk:()=>g,sT:()=>r});var r=s(46475),i=(s(6151),s(31085)),a=s(10048),n=s(58471);const o=e=>(0,i.jsx)(a.w,{loader:n.b.friendsOnMap,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,i.jsx)(i.Fragment,{})});var c=s(24801),d=s(79594),l=s(46579),u=s(82781),p=s(96141),m=s(55027);const g=({publicUserId:e,onClick:t})=>{const s=(0,u.c)(),r=(0,d.d4)((e=>e.session.platform)),{featureFriends:a}=(0,l.U)(),n=(0,m.zP)({platform:r,type:"addFriendPromo",deepLink:`https://2gis.ru/user/${e}`});return a?(0,i.jsx)(p.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:n,onClick:t,dataN:"wat-show-friend-geo-button"},{children:s._t("Посмотреть гео в приложении")})):null}},6151:(e,t,s)=>{"use strict";s.d(t,{n:()=>a,y:()=>i});var r=s(14041);function i({states:e}){return(0,r.useMemo)((()=>Object.entries(e).reduce(((e,[t,s])=>s?((s.isInsideViewpoint||s.isAtShortDistanceFromCenter)&&(e[t]=s),e):e),{})),[e])}function a(e,t){return"moving"===e.movement.status?e.lastSeen+t.movingLivenessTimeout:"stopped"===e.movement.status?e.lastSeen+t.stoppedLivenessTimeout:void 0}},46475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Types:()=>r,cleanFriendsOnMapModel:()=>x,cleanSharedRoute:()=>_,defaultState:()=>h,getFriendsOnMap:()=>C,initFriendsOnMapModel:()=>f,removeFriend:()=>v,removeSubscription:()=>j,updateFriendsOnMapModel:()=>b,updateFriendsOnMapModelStatesByViewpoint:()=>y,updateSharedRoute:()=>w,useClustering:()=>i._,useFriendsOnMap:()=>H,useGeneralization:()=>a.W});var r={};s.r(r);var i=s(6837),a=s(60491),n=s(14041),o=s(79594),c=s(15582),d=s(27892),l=s(35023),u=s(1269),p=s(7143),m=s(66333),g=s(78425);const h={settings:void 0,profiles:{},states:{},hasSharingSession:!1,sharedRoute:null},f=(0,u.V)("initFriendsOnMapModel",(0,p.T)("appContext",((e,{profiles:t,states:s,settings:r})=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:t,states:s,settings:r})})))),b=(0,u.V)("updateFriendsOnMapModel",(0,p.T)("appContext",((e,t)=>{var s;if("profile"===t.type){const r=!!(null===(s=Object.values(t.profile)[0])||void 0===s?void 0:s.session);return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign(Object.assign({},e.friendsOnMap),{profiles:Object.assign(Object.assign({},e.friendsOnMap.profiles),t.profile)}),r?{hasSharingSession:r}:{})})}return"sharer"===t.type?Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{hasSharingSession:!0})}):Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{states:Object.assign(Object.assign({},e.friendsOnMap.states),t.state)})})}))),v=(0,u.V)("removeFriend",(0,p.T)("appContext",((e,t)=>{const s=Object.fromEntries(Object.entries(e.friendsOnMap.states).filter((([e])=>e!==t))),r=Object.fromEntries(Object.entries(e.friendsOnMap.profiles).filter((([e])=>e!==t)));return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:r,states:s})})}))),y=(0,u.V)("updateFriendsOnMapModelStatesByViewpoint",(0,p.T)("appContext",((e,t)=>{const s=Object.entries(e.friendsOnMap.states).reduce(((e,[s,r])=>{const i=g.Vw.getIsInsideViewpoint(r,t),a=g.Vw.getIsAtShortDistanceFromCenter(r,t);return r.isInsideViewpoint===i&&r.isAtShortDistanceFromCenter===a?e[s]=r:e[s]=Object.assign(Object.assign({},r),{isInsideViewpoint:i,isAtShortDistanceFromCenter:a}),e}),{});return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{states:s})})}))),x=(0,u.V)("cleanFriendsOnMapModels",(0,p.T)("appContext",(e=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},h),{hasSharingSession:e.friendsOnMap.hasSharingSession})})))),j=(0,u.V)("removeSubscription",(0,p.T)("appContext",((e,t)=>{const{profiles:s,states:r,hasSharingSession:i}=Object.values(e.friendsOnMap.profiles).reduce(((s,r)=>{var i;return r&&(null===(i=null==r?void 0:r.session)||void 0===i?void 0:i.sessionId)!==t&&(s.profiles[r.id]=e.friendsOnMap.profiles[r.id],s.states[r.id]=e.friendsOnMap.states[r.id]),r&&r.session&&r.session.sessionId!==t&&(s.hasSharingSession=!0),s}),{profiles:{},states:{},hasSharingSession:!1});return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:s,states:r,hasSharingSession:i})})}))),w=(0,u.V)("updateSharedRoute",(0,p.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{sharedRoute:t})})))),_=(0,u.V)("cleanSharedRoute",(0,p.T)("appContext",(e=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{sharedRoute:null})})))),C=(0,m.Mz)([e=>e.appContext.friendsOnMap,e=>e.appContext.activeLayer],((e,t)=>{if("friends"!==t){const{profiles:t,states:s}=Object.values(e.profiles).reduce(((t,s)=>((null==s?void 0:s.session)&&(t.profiles[s.id]=e.profiles[s.id],t.states[s.id]=e.states[s.id]),t)),{profiles:{},states:{}});return Object.assign(Object.assign({},e),{profiles:t,states:s})}return e}));var I=s(46579),k=s(10742),O=s(68299);const S=["mousemove","mousedown","resize","keydown","touchstart","wheel"];var T=s(16916),E=s(50046);class M{init({onClose:e}){var t,s,r,i;this.isClosedByClient=!1,"undefined"!=typeof window&&(this.instance=new WebSocket(this.url)),null===(t=this.instance)||void 0===t||t.addEventListener("open",(e=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.emitter.emit("open",e)})),null===(s=this.instance)||void 0===s||s.addEventListener("message",(e=>{this.emitter.emit("message",e)})),null===(r=this.instance)||void 0===r||r.addEventListener("close",(t=>{if(this.isClosedByClient)return this.emitter.emit("close",t),this.emitter.removeAllListeners(),void e();if(this.timeoutId)return;this.reconnectingAttempts++,this.emitter.emit("reconnection",t);const s=2e3*this.reconnectingAttempts+1e3*(Math.floor(5*Math.random())+1);this.timeoutId=setTimeout((()=>this.init({onClose:e})),s)})),null===(i=this.instance)||void 0===i||i.addEventListener("error",(e=>{this.emitter.emit("error",e)}))}close(){this.isClosedByClient=!0,this.instance&&this.instance.close()}addListener(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.off(e,t)}send(e){var t,s;1===(null===(t=this.instance)||void 0===t?void 0:t.readyState)&&(null===(s=this.instance)||void 0===s||s.send(e))}getReadyState(){var e;return null===(e=this.instance)||void 0===e?void 0:e.readyState}constructor(e,t){this.timeoutId=null,this.reconnectingAttempts=0,this.isClosedByClient=!1,this.instance=null,this.emitter=new E.EventEmitter,this.url=e,this.init({onClose:t})}}const P=new class{constructor(){this.connections=new Map}initConnection(e){return new M(e,(()=>this.closeConnection(e)))}closeConnection(e){const t=this.connections.get(e);t&&3===t.getReadyState()&&this.connections.delete(e)}createOrJoinConnection(e){const t=this.connections.get(e),s=null==t?void 0:t.getReadyState();if(t&&(0===s||1===s))return t;const r=this.initConnection(e);return this.connections.set(e,r),r}};var L=s(64631),N=s(21959);const A=([e,t],s)=>JSON.stringify({type:"viewportChanged",payload:{viewport:{topLeft:e,bottomRight:t},zoom:s}}),R=e=>JSON.stringify({type:"bindRoutes",payload:{sharers:e?[e]:[]}});var z=s(22665),U=s(39123),B=s(6151);function H(){const e=(0,o.d4)(c.Pz),t=(0,o.wA)(),{profiles:s,states:r,settings:i,sharedRoute:a}=(0,o.d4)(C);return((e={})=>{var t;const s=(0,I.U)(),r=(0,o.wA)(),i=(0,o.d4)(c.Pz),a=(0,o.d4)((e=>Math.floor((0,c.jq)(e)))),d=(0,n.useRef)((0,T.L)(i)),l=(0,n.useRef)(a),u=(0,o.d4)(N.ug),p=(0,o.d4)(z.W),m=(null===(t=u.data)||void 0===t?void 0:t.access_token)||s.friendsDebugToken,g=(0,U.U)("userPublicProfile"),h=(0,U.U)("sharingGeo"),f=(null==h?void 0:h.userId)||(null==g?void 0:g.userId),b=`${s.friendsOnMapSocketUrl}/anonymous/user/ws?appVersion=6.31.0&channels=markers,sharing,routes&appInstanceId=${p}`,v=`${s.friendsOnMapSocketUrl}/user/ws?appVersion=6.31.0&channels=markers,sharing,routes&token=${m}`,y=m?v:b,{connect:j,disconnect:w,send:C}=((e,t={})=>{const s=(0,n.useRef)(null),r=(0,n.useCallback)((e=>{var t;null===(t=s.current)||void 0===t||t.send(e)}),[]),i=(0,k.D)((e=>{var s;null===(s=null==t?void 0:t.onOpen)||void 0===s||s.call(t,e,r)})),a=(0,k.D)((e=>{var s;null===(s=null==t?void 0:t.onClose)||void 0===s||s.call(t,e)})),o=(0,k.D)((e=>{var s;null===(s=null==t?void 0:t.onMessage)||void 0===s||s.call(t,e)})),c=(0,k.D)((e=>{var s;null===(s=null==t?void 0:t.onError)||void 0===s||s.call(t,e)}));return{connect:(0,n.useCallback)((()=>{s.current||(s.current=P.createOrJoinConnection(e),s.current.addListener("open",i),s.current.addListener("close",a),s.current.addListener("message",o),s.current.addListener("error",c))}),[a,c,o,i,e]),disconnect:(0,n.useCallback)((()=>{s.current&&(s.current.close(),s.current=null)}),[]),send:r,connection:s.current}})(y,Object.assign(Object.assign({},e),{onOpen:(t,s)=>{var r;s(A(d.current,l.current)),s(R(f)),null===(r=e.onOpen)||void 0===r||r.call(e,t,s)}})),E=(0,k.D)((()=>{s.featureFriends&&j()})),M=(0,n.useCallback)((()=>{d.current&&C(A(d.current,l.current))}),[C]),{stopIdleTracking:B,idle:H,startIdleTracking:F}=((e=6e4,t=S)=>{const[s,r]=(0,n.useState)(!1),i=(0,n.useRef)(),a=(0,O.Y)((()=>{r(!1),clearTimeout(i.current),i.current=setTimeout((()=>r(!0)),e)}),50),o=(0,n.useCallback)((()=>{t.forEach((e=>{window.addEventListener(e,a)})),i.current=setTimeout((()=>r(!0)),e)}),[t,a,e]),c=(0,n.useCallback)((()=>{clearTimeout(i.current),t.forEach((e=>{window.removeEventListener(e,a)}))}),[t,a]);return(0,n.useEffect)((()=>(o(),()=>{c()})),[o,c]),{idle:s,startIdleTracking:o,stopIdleTracking:c}})(s.friendsSocketIdleTimeout),D=(0,k.D)((()=>{w(),r(x())}));(0,L.z)({onChange:()=>{"hidden"===document.visibilityState&&(B(),D()),"visible"===document.visibilityState&&(E(),F())}}),(0,n.useEffect)((()=>{r(_()),C(R(f))}),[r,C,f]),(0,n.useEffect)((()=>(E(),()=>{D()})),[E,D]),(0,n.useEffect)((()=>{H&&D(),H||E()}),[E,D,H]),(0,n.useEffect)((()=>{const[e,t]=d.current,[s,r]=i,n=l.current!==a;n&&(l.current=a),(n||s.lon<e.lon||s.lat<e.lat||r.lon>t.lon||r.lat>t.lat)&&(d.current=(0,T.L)(i),M())}),[M,i,a])})({onMessage:n=>{var o,c,u;const p=JSON.parse(n.data);switch(p.type){case"initialState":const n=p.payload.markerSettings,m=p.payload.states.reduce(((t,s)=>(t[s.id]=F({settings:n,state:s,viewpoint:e}),t)),r),g=p.payload.profiles.reduce(((e,t)=>(e[t.id]=Object.assign(Object.assign({},t),{sharing:{isFriend:!0}}),e)),s);t(f({settings:n,states:m,profiles:g}));break;case"friendState":const h=r[p.payload.id];t(b({type:"state",state:{[p.payload.id]:F({settings:i,state:Object.assign(Object.assign({},p.payload),{locationPlace:{status:null===(o=p.payload.locationPlace)||void 0===o?void 0:o.status,transportStatus:null===(c=null==h?void 0:h.locationPlace)||void 0===c?void 0:c.transportStatus}}),viewpoint:e})}}));break;case"profile":const y=s[p.payload.id];t(b({type:"profile",profile:{[p.payload.id]:Object.assign(Object.assign({},y),p.payload)}}));break;case"friendRemoved":t(v(p.payload.id));break;case"sharingSubscriptionsInitialState":p.payload.subscriptions.forEach((({session:e,sharer:s})=>{const r={id:s.profile.userId,name:s.profile.name,logo:s.profile.avatarUrl,logoTpl:s.profile.avatarUrlTpl,sharing:{isFriend:s.isFriend},session:e};t(b({type:"profile",profile:{[r.id]:r}}))}));break;case"sharingSubscription":const{session:x,sharer:C}=p.payload,I={id:C.profile.userId,name:C.profile.name,logo:C.profile.avatarUrl,logoTpl:C.profile.avatarUrlTpl,sharing:{isFriend:C.isFriend},session:x};t(b({type:"profile",profile:{[I.id]:I}}));break;case"sharingSubscriptionRemoved":const k=Object.values(s).find((e=>{var t;return(null===(t=null==e?void 0:e.session)||void 0===t?void 0:t.sessionId)===p.payload.sessionId}));if(null===(u=null==k?void 0:k.sharing)||void 0===u?void 0:u.isFriend)return;t((0,d.PB)({id:(0,l.W7)(),type:"broadcastEnded",sessionId:p.payload.sessionId,sharerProfile:k})),t(j(p.payload.sessionId));break;case"transportStatusUpdated":const O=r[p.payload.sharerId];O&&t(b({type:"state",state:{[O.id]:Object.assign(Object.assign({},O),{locationPlace:Object.assign(Object.assign({},O.locationPlace),{transportStatus:p.payload.status})})}}));break;case"routeUpdated":t(w(a?Object.assign(Object.assign({},a),p.payload):p.payload));break;case"etaUpdated":(null==a?void 0:a.routeRequestId)===p.payload.routeRequestId&&t(w(Object.assign(Object.assign({},a),{eta:p.payload.eta})));break;case"routeRemoved":(null==a?void 0:a.routeRequestId)===p.payload.routeRequestId&&t(_())}}}),(0,n.useEffect)((()=>{t(y(e))}),[t,e]),{profiles:s,states:r}}function F({state:e,settings:t,viewpoint:s}){return Object.assign(Object.assign({},e),{updateTime:Date.now(),staleTime:t?(0,B.n)(e,t):void 0,isInsideViewpoint:g.Vw.getIsInsideViewpoint(e,s),isAtShortDistanceFromCenter:g.Vw.getIsAtShortDistanceFromCenter(e,s)})}},6837:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var r=s(79594),i=s(14041),a=s(62671),n=s.n(a),o=s(15582),c=s(78425);function d({profiles:e,states:t,selectedId:s,selfUserId:a}){const d=(0,r.d4)(o.jq)<c.vK.usersMarkersConfig.maxZoomForClustering;return(0,i.useMemo)((()=>{const r=Object.entries(t).map((([t,s])=>function(e,t){if(!e||!t)return;const{lon:s,lat:r}=t.location;return{lonLat:{lon:s,lat:r},profile:e,state:t}}(e[t],s))).filter(Boolean);return d?function(e,t,s){const r=[],i=e.map((e=>1===e.length?e:e.filter((e=>!("moving"===e.state.movement.status&&e.state.location.speed||e.profile.id===t||e.profile.id===s)||(r.push(e),!1))))).filter((e=>e.length>0));return[...i,...r.map((e=>[e]))]}(n()(r,c.vK.usersMarkersConfig.clusteringRadius,(e=>e.lonLat.lon),(e=>e.lonLat.lat)),s,a).map((e=>({lonLat:l(e),markers:e,small:!1}))):r.map((e=>({lonLat:e.lonLat,markers:[e],small:!1})))}),[t,d,s,a,e])}function l(e){const t=e.reduce(((e,t)=>e+t.lonLat.lon),0),s=e.reduce(((e,t)=>e+t.lonLat.lat),0);return{lon:t/e.length,lat:s/e.length}}},60491:(e,t,s)=>{"use strict";s.d(t,{W:()=>h});var r=s(79594),i=s(77756),a=s.n(i),n=s(9729),o=s(14041),c=s(50595),d=s(78425);const{markerSize:l,safeZoneX:u,safeZoneY:p,minZoomForBigMarkers:m}=d.vK.usersMarkersConfig,g=l/2;function h({clusters:e,selectedId:t}){const s=(0,r.d4)(c.p);return(0,o.useMemo)((()=>{if(s.zoom<m)return e.map((e=>Object.assign(Object.assign({},e),{small:!0})));const r=function(e){function t(t){return t.markers[0].state.id===e}function s(e){return!!d.vK.getClusterStatusIcon(e)}function r(e){return"moving"===e.markers[0].state.movement.status}return(e,i)=>t(e)&&!t(i)?-1:t(i)&&!t(e)?1:s(e)&&!s(i)?-1:s(i)&&!s(e)?1:e.markers.length>1?-1:i.markers.length>1?1:r(e)?-1:r(i)?1:0}(t),i=[...e].sort(r),o=new(a()),c=[],l=[];return i.forEach((e=>{const t=function(e,t){const{lon:s,lat:r}=e.lonLat,[i,a]=(0,n.lonLatToScreenPoint)([s,r],t);return{minX:i-g-u,minY:a-g-p,maxX:i+g+u,maxY:a+g+p}}(e,s);o.collides(t)?l.push(Object.assign(Object.assign({},e),{small:!0})):(o.insert(t),c.push(e))})),[...l,...c]}),[e,s,t])}},24801:(e,t,s)=>{"use strict";s.d(t,{O:()=>p});var r=s(31085),i=s(84175),a=s(80552),n=s(99259),o=s(78425);const c=({name:e,status:t,bssRef:s})=>{const{css:a,s:n}=(0,i.I)(d),c=(null==t?void 0:t.distance)||(null==t?void 0:t.place);return(0,r.jsxs)("div",Object.assign({className:a(n.root),ref:s},{children:[(0,r.jsx)("span",Object.assign({className:a(n.name)},{children:e})),c&&(0,r.jsx)(o.rw,{place:t.place,distance:t.distance})]}))},d=(0,i.r)({root:Object.assign({padding:"10px 16px",minWidth:200,maxWidth:300,display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2,color:n.T.gray_262626},a.EX),name:Object.assign(Object.assign({},a.Co),{color:n.T.blue_0072ce})});var l=s(63109),u=s(8365);const p=({friendId:e})=>{var t,s;const{profile:i,state:a,isMyProfile:n,selfState:d}=o.vK.useUserProfile(e),p=o.vK.useFriendStatus({state:a,selfState:d,isMyProfile:n,isMyFriendProfile:!n}),{public_user:m}=i.data||{},{bssRef:g}=(0,u.E)(m&&a?o.vK.bss.showTooltip({publicProfileId:m.public_user_id,hasPhoto:Boolean(m.avatar),placeId:null===(s=null===(t=a.locationPlace)||void 0===t?void 0:t.status)||void 0===s?void 0:s.id}):void 0);return i.isSuccess&&m?(0,r.jsx)(l.T,{children:(0,r.jsx)(c,{name:m.name,status:p,bssRef:g})}):null}},24896:(e,t,s)=>{"use strict";s.d(t,{NX:()=>v,uM:()=>W,hg:()=>q,Qv:()=>x,fu:()=>C});var r=s(31085),i=s(14041),a=s(84175),n=s(64099),o=s(96141),c=s(88114),d=s(95885),l=s(8365),u=s(98379),p=s(80905),m=s(50432);const g=e=>t=>{const s=(0,u.t)({state:t,entityFrameId:e.ownerFrameId});return s||(0,m.vV)({message:'Не удалось сформировать placeItem для события тапа "Тап в call-to-action владельца ЗМК / FMCG в карточке донора или провайдера на миникарточке" (a-50jsq, a-3kiu7)',level:"error",id:"xpjjg",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,p.w1)(t.appContext.frames,e.ownerFrameId))}}),{uiElement:{name:"callToActionButton",ownerName:"placeCardFull",frameUuid:e.ownerFrameId},action:"tap",payload:{placeItem:s,callToAction:{actionType:"link",value:e.url,contentOwner:{org:e.orgId,adsPosition:"buildingBanner",adsId:e.adsId}}}}};var h=s(86938),f=s(39123),b=s(46579);const v=(0,i.memo)((e=>{const{banner:{logoUrl:t,url:s,text:i,adsId:n,orgId:v},frameName:x}=e,{lang:j}=(0,b.U)(),{bssRef:w,showEventOrdinal:_}=(0,l.E)((C={url:s,adsId:n,orgId:v},({frameId:e},t)=>{const{url:s,orgId:r,adsId:i}=C,a=(0,u.t)({state:t,entityFrameId:e});return a||(0,m.vV)({message:'Не удалось сформировать placeItem для события показа "Увидел кнопку call-to-action владельца FMCG ЗМК" (v-of2ve, v-u64dp)',level:"error",id:"84nix",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,p.w1)(t.appContext.frames,e))}}),{uiElement:{name:"callToActionButton",frameUuid:e,ownerName:"placeCardFull"},payload:{placeItem:a,callToAction:{actionType:"link",value:s,contentOwner:{org:r,adsPosition:"buildingBanner",adsId:i}}}}}));var C;const{css:I,s:k}=(0,a.I)(y),O=(0,f.U)(x);return O?(0,r.jsx)("div",Object.assign({ref:w},{children:(0,r.jsx)(h.L,Object.assign({actionEventParamsSelector:g({ownerFrameId:O.id,url:s,adsId:n,orgId:v}),originalHref:s,showEventOrdinal:_},{children:e=>(0,r.jsx)(o.$,Object.assign({appearance:"primary",dataN:"wat-bulding-banner-button",href:e,external:!0,medium:!0},{children:(0,r.jsxs)("div",Object.assign({className:I(k.content)},{children:[t&&(0,r.jsx)("div",Object.assign({className:I(k.logo)},{children:(0,r.jsx)(c.E,{src:(0,d.m)(t,"16x16"),srcSet:`${(0,d.m)(t,"32x32")} 2x`,height:16,width:16,alt:"ru"===j?"Рекламный баннер":void 0,isLoadingForced:!0})})),i]}))}))}))})):null})),y=(0,a.r)({logo:{width:16,height:16,borderRadius:n.Vq.default,overflow:"hidden",marginEnd:8},content:{display:"flex",alignItems:"center"}});v.displayName="BuildingBanner";const x=e=>{var t,s,r,i,a,n,o;const c=null===(s=null===(t=e.content)||void 0===t?void 0:t.options)||void 0===s?void 0:s.actions[0].name,d=null===(i=null===(r=e.content)||void 0===r?void 0:r.options)||void 0===i?void 0:i.actions[0].value,l=e.branchId,u=e.adsId,p=e.orgId;if(c&&d&&l&&u&&p)return{text:c,url:d,branchId:l,adsId:u,orgId:p,legalName:e.legalName,logoUrl:null===(o=null===(n=null===(a=e.content)||void 0===a?void 0:a.options)||void 0===n?void 0:n.logo)||void 0===o?void 0:o.img_url}};var j=s(79594),w=s(78637);const _=s(68473).X,C=(e,t={enabled:!0})=>{var s;const r=(0,j.d4)(_),i=(0,w.HB)(Object.assign(Object.assign({},r),{bannerSlot:"building_banner",objectId:e.id}),Object.assign(Object.assign({},t),{enabled:"building"===e.type&&t.enabled}));return Object.assign(Object.assign({},i),{data:(null===(s=i.data)||void 0===s?void 0:s.length)?i.data[0]:void 0})};s(45141);var I=s(57744),k=s(15582),O=s(82393),S=s(95845),T=s(10005),E=s(71064),M=s(81618),P=s(15471),L=s(96624);const N=(0,i.memo)((({bssRef:e,hrefLink:t,imageSrc:s,bannerSlotConfig:a,showEventOrdinal:n,ownerName:o,banner:c,rubrics:d,dataN:l="",trackClick:u})=>{const p=(0,b.U)(),{lang:m}=p,{size:g}=a,h=(0,i.useContext)(P.X),f=(0,j.d4)((0,L.gY)({config:p,actionEventParamsSelector:(0,S.p0)({frameId:h.frameId,banner:c,ownerName:o,rubrics:d}),originalHref:t,showEventOrdinal:n}));return(0,r.jsx)(E.A,Object.assign({href:f,external:!0,onClick:u},{children:(0,r.jsx)("img",Object.assign({},M.dx.n(l),{ref:e,src:s,style:{height:g[1],width:g[0]},alt:"ru"===m?"Рекламное изображение":void 0}))}))}));var A=s(99449),R=s(63536),z=s(11776),U=s(7335),B=s(12017),H=s(47636);const F=(0,i.memo)((({ownerName:e,htmlContent:t,bannerSlotConfig:s,bssRef:a,banner:n,showEventOrdinal:o,rubrics:c,dataN:d="",trackClick:l})=>{const u=(0,j.wA)(),p=(0,i.useContext)(P.X),m=(0,i.useRef)(null),g=(0,i.useRef)(null);return(0,A.A)({type:"window:message",handler:t=>{var s;if(t.data)try{const e=JSON.parse(t.data);"mkb"===e.type&&e.source&&e.source.mp4&&(l(),u(H.z.openVideoPlayer({videoUrl:"//"+e.source.mp4,adInfoParams:{source:"banner",erid:n.ad_attributes.erid,legalName:n.ad_attributes.legal_name},cover:e.cover&&"//"+e.cover,link:e.link&&`https://${e.link}`,bssPayload:{banner:n,rubrics:c}})))}catch(e){}if("2gis_ad:click"===(null===(s=t.data)||void 0===s?void 0:s.key)){const s=g.current;s&&s.contentWindow===t.source&&(l(),u(function(e){const{url:t,showEventOrdinal:s,actionEventParamsSelector:r}=e;return(0,B.NV)((e=>(0,U.eU)((0,L.gY)({config:e,actionEventParamsSelector:r,originalHref:t,showEventOrdinal:s}),(e=>(0,z.v)({url:e,name:"_blank"})))))}({url:t.data.url,frameId:p.frameId,showEventOrdinal:o,actionEventParamsSelector:(0,S.p0)({frameId:p.frameId,banner:n,ownerName:e,rubrics:c})})))}},stopIfHandled:!0,priority:R.b.FrameElement}),(0,i.useEffect)((()=>{if(t&&m.current){const e=document.createElement("iframe");g.current=e,e.setAttribute("width",`${s.size[0]}px`),e.setAttribute("height",`${s.size[1]}px`),m.current.innerHTML="",m.current.appendChild(e),e.addEventListener("load",(t=>{var s,r,i,a;const n=t.currentTarget;if(!n)return;const o=null===(s=e.contentDocument)||void 0===s?void 0:s.querySelector("html");if(o&&(o.style.overflow="hidden"),null===(r=n.contentDocument)||void 0===r?void 0:r.querySelector("script#gwd-init-code")){const t=null===(i=n.contentDocument)||void 0===i?void 0:i.querySelector("gwd-page");if(t){const{width:s,height:r}=t.getBoundingClientRect();e.setAttribute("width",`${s}`),e.setAttribute("height",`${r}`)}}const c=null===(a=e.contentDocument)||void 0===a?void 0:a.querySelector(".mkb");if(c){const{width:t,height:s}=c.getBoundingClientRect();e.setAttribute("width",`${t}`),e.setAttribute("height",`${s}`)}})),e.srcdoc=t}}),[t,m.current]),(0,r.jsx)("div",Object.assign({ref:a},M.dx.n(d),{children:(0,r.jsx)("div",{ref:m})}))}));var D=s(98626);const V={start_banner:{size:[336,280],rotationInterval:4e4},smart_banner:{size:[336,280]}},Z=(0,i.memo)((({bannerSlot:e,ownerName:t,dataN:s,renderOnEmpty:a,onEmpty:n,rubrics:o})=>{var c;const d=(0,j.d4)(I.u),l=(0,j.d4)(O.zN),u=(0,j.d4)((e=>(0,p.bB)(e.appContext.frames,"search"))),m=(0,j.d4)(k.hv),{rotationInterval:g}=V[e],{data:h,isLoading:f,isError:b}=(0,T.u)({locale:d,regionId:l,bannerSlot:e,viewport:m,rubrics:o,query:"search"===(null==u?void 0:u.type)&&"query"===u.searchType?u.query:void 0},{refetchIntervalInBackground:"start_banner"===e,refetchOnMount:!0,keepPreviousData:!1,refetchInterval:g}),v=null==h?void 0:h.banners[0],y=null==v?void 0:v.ad_attributes.content,x=!f&&(b||!(null===(c=null==y?void 0:y.img)||void 0===c?void 0:c.link)||!(null==y?void 0:y.html));return(0,i.useEffect)((()=>{x&&(null==n||n())}),[x,n]),f?null:!b&&y&&v?(0,r.jsxs)("div",{children:[(0,r.jsx)($,{bannerSlot:e,ownerName:t,banner:v,rubrics:o,dataN:s}),(0,r.jsx)(D.Q,{tiny:!0,gray:!0,source:"banner",erid:v.ad_attributes.erid,legalName:v.ad_attributes.legal_name})]}):(null==a?void 0:a())||null})),$=(0,i.memo)((({bannerSlot:e,ownerName:t,dataN:s,banner:i,rubrics:a})=>{const{bssRef:n,showEventOrdinal:o,useBssHandler:c}=(0,l.E)((0,S.oM)({banner:i,ownerName:t,rubrics:a}),{forceSendShowIfParamsChanged:[i.ad_attributes.auction_id],forcedIntersection:"start_banner"===e}),d=c(S.RJ,{banner:i,ownerName:t,rubrics:a}),{html:u,img:p}=i.ad_attributes.content;return u?(0,r.jsx)(F,{banner:i,rubrics:a,ownerName:t,trackClick:d,bssRef:n,bannerSlotConfig:V[e],showEventOrdinal:o,htmlContent:u,dataN:s}):p?(0,r.jsx)(N,{bssRef:n,banner:i,rubrics:a,hrefLink:p.link,imageSrc:p.value,ownerName:t,showEventOrdinal:o,bannerSlotConfig:V[e],trackClick:d,dataN:s}):null})),q=()=>(0,r.jsx)(Z,{bannerSlot:"start_banner",ownerName:"dashboardFrame",dataN:"wat-start-banner"}),W=({ownerName:e,renderOnEmpty:t})=>(0,r.jsx)(Z,{bannerSlot:"smart_banner",dataN:"wat-smart-banner",ownerName:e,renderOnEmpty:t})},68473:(e,t,s)=>{"use strict";s.d(t,{X:()=>d});var r=s(66333),i=s(21959),a=s(57744),n=s(15582),o=s(82393),c=s(80905);const d=(0,r.Mz)([a.u,o.zN,e=>(0,c.bB)(e.appContext.frames,"search"),n.hv,i.LE],((e,t,s,r,i)=>({locale:e,regionId:t,viewport:r,authUserId:i,query:"search"===(null==s?void 0:s.type)&&"query"===s.searchType?s.query:void 0})))},78637:(e,t,s)=>{"use strict";s.d(t,{HB:()=>n});var r=s(85608),i=s(78170);const a=899e3,{use:n,prefetch:o}=(0,i.V)("banners",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){return(yield t.casinoApi.getGtaAdvise(e)).banners}))),{staleTime:a,cacheTime:9e5,refetchInterval:a})},45141:(e,t,s)=>{"use strict";s.d(t,{v3:()=>d,g_:()=>p});var r=s(31085),i=s(14041),a=s(14357),n=s(79594),o=s(10742),c=s(63041);const d=(0,i.memo)((({banners:e,ownerName:t,miniCardPosition:s=2})=>{const i=(0,n.wA)(),d=(0,o.D)((({entityId:e,hash:t})=>{i((0,c.UP)({id:e,type:"branch",hash:t}))}));return(0,r.jsx)(a.Y,{ownerName:t,onBannerClick:d,gtaBanners:e,title:"Реклама",miniCardPosition:s})})),l=s(68473).X;var u=s(10005);const p=(e={})=>{var t,s;const{isEnabled:r=!0}=e,i=(0,n.d4)(l),a=(0,u.u)(Object.assign(Object.assign({},i),{bannerSlot:"realty_banner"}),{enabled:r});return Object.assign(Object.assign({},a),{data:null!==(s=null===(t=a.data)||void 0===t?void 0:t.banners)&&void 0!==s?s:[]})}},86817:(e,t,s)=>{"use strict";s.d(t,{In:()=>Xe,SV:()=>st,UC:()=>We,xG:()=>i});var r={};s.r(r);var i={};s.r(i),s.d(i,{Types:()=>r,bssLayersIconTap:()=>m.pe,bssShow:()=>m.oM,bssShowList:()=>m.C3,bssShowSubLayersList:()=>Oe,bssShowSubLayersListMenu:()=>ke,bssSubLayerOpenTap:()=>Se,useRealtySublayers:()=>$e});var a=s(31085),n=s(14041),o=s(84175),c=s(81618),d=s(99259),l=s(80552),u=s(79594),p=s(8365),m=s(89712),g=s(95792),h=s(82781);function f(e,t,s=!1){switch(e){case"additional":return t._gg("Дополнительные слои");case"friends":return`${t._t("Друзья на карте")} (beta)`;case"realty":return t._gg("Недвижимость");case"parkings":return t._t("Парковки");case"eta":return t._t("Транспорт на карте");case"photos":return t._t("Фотографии");case"metro":return t._t("Метро на карте");case"exchange":return t._gg("Обмен валют");case"backTo2004":return s?t._gg("Назад в будущее"):t._gg("Назад в 2004");case"roadAccident":return t._gg("Карта плотности ДТП");case"tourism":return t._t("Туристические места");default:return}}var b=s(24255);function v({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,a.jsx)("path",{fill:e,d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29L27.52 24zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3L22.42 22z"})}))}function y({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,a.jsx)("path",{fill:e,d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2h-1.34zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22h-2.06z"})}))}function x({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,a.jsx)("path",{fill:e,d:"M8.47 24h3.43c-1.354-.696-2.51-1.723-3.358-2.987-.849-1.264-1.363-2.722-1.495-4.238-.132-1.517.123-3.042.74-4.433.619-1.391 1.58-2.603 2.793-3.522L16 24l5.42-15.18c1.213.919 2.174 2.13 2.792 3.522.618 1.391.872 2.916.74 4.433-.131 1.516-.646 2.974-1.494 4.238-.849 1.264-2.004 2.291-3.358 2.987h3.43c1.254-1.182 2.212-2.642 2.799-4.262.586-1.62.784-3.355.576-5.066-.207-1.71-.813-3.348-1.77-4.782C24.18 8.457 22.9 7.268 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58c-1.503.845-2.786 2.03-3.746 3.462-.96 1.432-1.57 3.069-1.782 4.78-.211 1.71-.017 3.447.566 5.069.583 1.622 1.54 3.084 2.792 4.27z"})}))}function j({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({width:32,height:32,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("path",{d:"M24 7.15C21.5649 5.76802 18.7989 5.07653 16 5.15C13.2011 5.07653 10.4351 5.76802 8 7.15V19.15L11.66 22.07L8.29 25.44L9.71 26.85L13.41 23.15H18.59L22.29 26.85L23.71 25.44L20.34 22.07L24 19.15V7.15ZM10 11.15H22V13.57L16 17L10 13.57V11.15ZM16 7.15C18.0612 7.1335 20.1037 7.54199 22 8.35V9.15H10V8.35C11.8954 7.53895 13.9385 7.13032 16 7.15ZM18.3 21.15H13.7L10 18.15V15.87L16 19.3L22 15.87V18.19L18.3 21.15Z",fill:e})}))}function w({color:e="currentColor"}){return(0,a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e,viewBox:"0 0 32 32"},{children:[(0,a.jsx)("path",{d:"M22 18h-3v2h3v-2zm-12 0h3v2h-3v-2zm12-4H10v2h12v-2z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M16 5c-2.484 0-5.011.308-6.776.583C7.313 5.881 6 7.544 6 9.418V14H4v2h2v9a2 2 0 002 2h2a2 2 0 002-2h8a2 2 0 002 2h2a2 2 0 002-2v-9h2v-2h-2V9.418c0-1.874-1.313-3.537-3.224-3.835C21.011 5.308 18.484 5 16 5zM9.532 7.56C11.249 7.292 13.662 7 16 7c2.337 0 4.751.292 6.468.56.878.136 1.532.91 1.532 1.858V25h-2v-1a1 1 0 00-1-1H11a1 1 0 00-1 1v1H8V9.418c0-.949.654-1.722 1.532-1.858z"})]}))}function _({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,a.jsx)("path",{d:"M14 4c2.582 0 4.935.978 6.71 2.585l1.936-1.939.708.708-1.939 1.937A9.959 9.959 0 0 1 24 14a9.954 9.954 0 0 1-2.084 6.111c.924.127 1.953.758 2.584 1.389.625.625 1.837 2.423 3.634 5.393a.903.903 0 0 1-1.241 1.241c-2.97-1.797-4.768-3.009-5.393-3.634-.63-.63-1.262-1.66-1.39-2.584A9.954 9.954 0 0 1 14 24a9.963 9.963 0 0 1-6.71-2.585l-1.936 1.939-.708-.708 1.939-1.937C4.978 18.935 4 16.582 4 14s.978-4.935 2.585-6.71L4.646 5.355l.708-.708L7.29 6.585A9.963 9.963 0 0 1 14 4zm6 4.708-4.277 4.276a2 2 0 0 1-2.739 2.739l-1.436 1.438a4.002 4.002 0 0 0 5.136-.195l.144-.138 1.415 1.415a6.002 6.002 0 0 1-8.117.34L8.708 20A8 8 0 0 0 20 8.708zm-12 0A7.967 7.967 0 0 0 6 14c0 2.03.755 3.882 2 5.292l1.418-1.418a6.003 6.003 0 0 1 0-7.748zm3.172 2.464a4 4 0 0 0-.332 5.281l1.437-1.437a2 2 0 0 1 2.739-2.739l1.437-1.437a4 4 0 0 0-5.281.332zM14 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-2.03 0-3.882.755-5.292 2l1.417 1.419a6.002 6.002 0 0 1 7.75-.001L19.291 8A7.962 7.962 0 0 0 14 6z",fill:e,fillRule:"evenodd"})}))}function C({color:e="currentColor"}){return(0,a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,a.jsx)("path",{d:"M27.14 22.36L25.23 8.59a3 3 0 0 0-3-2.59h-2.64l-2 2h-3.18l-2-2H9.74a3 3 0 0 0-3 2.59L4.86 22.36A3.2 3.2 0 0 0 11 24l1.68-4h6.66L21 24a3.2 3.2 0 0 0 6.13-1.67zm-2.26 1.23a1.24 1.24 0 0 1-2-.33L20.67 18h-9.34l-2.19 5.26a1.25 1.25 0 0 1-2 .33 1.2 1.2 0 0 1-.28-1L8.75 8.86a1 1 0 0 1 1-.86h1.85l2 2h4.82l2-2h1.85a1 1 0 0 1 1 .86l1.91 13.77a1.2 1.2 0 0 1-.3.96z"}),(0,a.jsx)("path",{d:"M18.005 14.002l2-2.003 2.002 2-2 2.003zM10.002 14.003l2-2.003 2.002 2-2 2.002z"})]}))}function I({color:e="currentColor"}){return(0,a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,a.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 10h4.5a3.5 3.5 0 110 7H15v1h3v2h-3v2h-2v-2h-2v-2h2v-1h-2v-2h2v-5zm2 5h2.5a1.5 1.5 0 000-3H15v3z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 5C9.925 5 5 9.925 5 16s4.925 11 11 11 11-4.925 11-11S22.075 5 16 5zM7 16a9 9 0 1118.001.001A9 9 0 017 16z",clipRule:"evenodd"})]}))}function k({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e},{children:(0,a.jsx)("path",{d:"M6 9a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V9zm3-1a1 1 0 00-1 1v10.586l1.879-1.879a2.998 2.998 0 014.242 0L20.414 24H23a1 1 0 001-1V9a1 1 0 00-1-1H9zM8 23v-.586l3.293-3.293a1 1 0 011.414 0L17.586 24H9a1 1 0 01-1-1zm9-9.5a1.5 1.5 0 113.001.001A1.5 1.5 0 0117 13.5zm1.5-3.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z",fillRule:"evenodd"})}))}var O=s(58689),S=s(49048),T=s(82393);function E({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.753 3.341a1 1 0 0 0-1.751.721l.5 8A1 1 0 0 0 15.5 13H24a1 1 0 0 0 .8-.4l3-4a1 1 0 0 0-1.017-1.576l-3.427.761-.364-2.91a1 1 0 0 0-1.643-.634l-2.748 2.356-2.848-3.256ZM16.439 11l-.258-4.131 1.566 1.79a1 1 0 0 0 1.404.1l2.087-1.79.27 2.155a1 1 0 0 0 1.209.852l1.861-.413L23.5 11h-7.06Zm-3.867.58-.248-1.991c-.993.05-1.928.12-2.695.21-1.252.149-2.133 1.12-2.358 2.246l-.707 3.536-.564.752a5 5 0 0 0-1 3V25a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5.667a5 5 0 0 0-1-3l-.564-.752L25.32 15H8.72l.512-2.563c.078-.39.35-.618.633-.652.753-.09 1.697-.158 2.707-.206ZM8 17l-.4.533A3 3 0 0 0 7.019 19H11a1 1 0 0 1 1 1v1H7v4h2v-2h14v2h2v-4h-5v-1a1 1 0 0 1 1-1h3.981a3 3 0 0 0-.581-1.467L24 17H8Z",fill:e})}))}var M=s(26091),P=s(39419);const L=(0,n.memo)((({type:e})=>{const t=(0,u.d4)(T.zN);switch(e){case"eta":return(0,a.jsx)(w,{});case"metro":return"32"===t?(0,a.jsx)(y,{}):"38"===t?(0,a.jsx)(x,{}):"99"===t?(0,a.jsx)(j,{}):(0,a.jsx)(v,{});case"realty":return(0,a.jsx)(b.G,{});case"parkings":return(0,a.jsx)(O.E,{});case"photos":return(0,a.jsx)(k,{});case"additional":return(0,a.jsx)(S.z,{});case"exchange":return(0,a.jsx)(I,{});case"backTo2004":return(0,a.jsx)(_,{});case"roadAccident":return(0,a.jsx)(E,{});case"tourism":return(0,a.jsx)(M.U,{});case"friends":return(0,a.jsx)(P.m,{});default:return(0,a.jsx)(C,{})}}));L.displayName="Icon";var N=s(54935),A=s(70498),R=s(64099),z=s(18887),U=s(71064),B=s(19952),H=s(27016),F=s(77847);const D=(0,n.memo)((e=>{const{type:t,isDropdownOpen:s,isActive:r,position:i,onLayerHover:d,hasLabel:l}=e,{css:b,s:v}=(0,o.I)(V),y=(0,h.c)(),{ref:x,addTooltip:j}=(0,g.J)({title:f(t,y,r),to:"bottomMiddle",offset:4}),w="additional"===t,_=(0,n.useRef)(null),{isHovered:C}=(0,N.M)({ref:_});(0,n.useEffect)((()=>{d(t,C)}),[C]);const{bssRef:I,useBssHandler:k}=(0,p.E)((0,m.oM)({type:t,position:i})),O=k(m.pe,{type:t,enableMapLayer:!r,position:i}),S=(0,p.E)().useBssHandler(H.s),E=(0,u.wA)(),M=(0,u.d4)((e=>e.appContext.relief)),P=(0,u.d4)(T.n$),A=(0,z.P)(function(e,t){switch(e){case"metro":return t?{type:"metroScheme",cityAlias:t.uri_code}:void 0;case"realty":return{type:"realty"};default:return}}(t,P));return(0,a.jsxs)("li",Object.assign({className:b(v.menuItem,w&&v._additional,r&&w&&v._additionalActive),ref:"additional"===t?_:x,onClick:()=>{w||(O(),E((0,F.po)({newLayer:r?void 0:t,manual:!0})),"roadAccident"===t&&!r&&M&&(E((0,B.g)(!1)),S({isActive:!1,autoEvent:!0})))}},c.dx.n("wat-layer-list-item"),c.dx.t(t),c.dx.s(r.toString()),{children:[(0,a.jsx)(U.A,Object.assign({href:A,color:"inherit"},{children:(0,a.jsx)("div",Object.assign({className:b(v.icon,!w&&r&&v._active),ref:I},{children:(0,a.jsx)(L,{type:t})}))})),l&&(0,a.jsx)("span",Object.assign({className:b(v.label)},{children:f(t,y,r)})),!s&&j]}))}));D.displayName="LayersControlItem";const V=(0,o.r)({menuItem:Object.assign(Object.assign({},l.Hg),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),_additional:{paddingStart:8,paddingEnd:8,marginEnd:-8,boxShadow:A.E.innerBorderStartBase,color:d.T.gray_929292,":hover":{color:d.T.blue_028eff}},_additionalActive:{color:d.T.blue_028eff},icon:{flex:"0 0 32px",height:32},_active:{marginEnd:-4,marginStart:-4,paddingEnd:4,paddingStart:4,color:d.T.white,borderRadius:R.Vq.small,backgroundColor:d.T.blue_028eff,":hover":{background:d.T.blue_0070cc}},label:{marginStart:8}});var Z=s(68887);const $=e=>{const{layer:t,activeLayer:s,isDropdownOpen:r,isDropdownHovered:i}=e;return r||i?t===s||"additional"===t:s===t};var q=s(11540);const W=(0,n.memo)((e=>{const{position:t,isActive:s,onClose:r,item:{title:i,type:d}}=e,{css:l,s:g}=(0,o.I)(G),{bssRef:h,useBssHandler:f}=(0,p.E)((0,m.oM)({type:d,position:t,hasOwner:!0})),b=f(m.pe,{type:d,enableMapLayer:!s,position:t,hasOwner:!0}),v=(0,p.E)().useBssHandler(H.s),y=(0,u.wA)(),x=(0,u.d4)((e=>e.appContext.relief)),j=(0,n.useCallback)((()=>{"additional"!==d&&(b(),y((0,F.po)({newLayer:s?void 0:d,manual:!0})),"roadAccident"===d&&!s&&x&&(y((0,B.g)(!1)),v({isActive:!1,autoEvent:!0}))),r&&r()}),[d,r,b,y,s,x,v]);return(0,a.jsxs)("li",Object.assign({className:l(g.root,s&&g._active),onClick:j,ref:h},c.dx.n("wat-layer-drop-down-list-item"),c.dx.t(d),c.dx.s(s.toString()),{children:[(0,a.jsx)("div",Object.assign({className:l(g.icon)},{children:(0,a.jsx)(L,{type:d})})),i]}))}));W.displayName="DropdownItem";const G=(0,o.r)({root:{position:"relative",display:"flex",alignItems:"center",minWidth:172,paddingTop:4,paddingBottom:4,paddingStart:20,paddingEnd:24,whiteSpace:"nowrap",listStyleType:"none",borderRadius:R.Vq.default,color:d.T.gray_929292,cursor:"pointer","--icon-color":d.T.gray_262626,":hover":{color:d.T.blue_028eff}},_active:{color:d.T.gray_262626,"--icon-color":d.T.blue_028eff,":hover":{color:d.T.blue_028eff}},icon:{postion:"absolute",height:32,width:32,start:0,marginEnd:16,color:"var(--icon-color)"}}),Q=(e,{tp:t})=>{const{items:s,activeLayer:r}=e;return{list:s.reduce(((e,s)=>{const i=f(s,t,s===r);return i?[...e,{type:s,title:i}]:e}),[])}},K=(0,n.memo)((e=>{const{items:t,isDropdownOpen:s,onClose:r}=e,{css:i,s:n}=(0,o.I)(Y),c=(0,u.d4)((e=>e.appContext.activeLayer)),{list:d}=(0,q.kc)(Q,{items:t,activeLayer:c});return(0,a.jsx)("nav",Object.assign({className:i(n.root)},{children:(0,a.jsx)("ul",Object.assign({className:i(n.list)},{children:d.map(((e,t)=>(0,a.jsx)(W,{item:e,position:t+1,onClose:r,isActive:$({layer:e.type,activeLayer:c,isDropdownOpen:s,isDropdownHovered:!0})},t)))}))}))}));K.displayName="Dropdown";const Y=(0,o.r)((({mobile:e})=>({root:{display:"block",boxShadow:e?"none":A.E.popup,borderRadius:R.Vq.default,background:d.T.white,paddingTop:8,paddingBottom:8},list:Object.assign({},e?{display:"flex",flexDirection:"column",gap:8}:{})})));var X=s(46579),J=s(27783),ee=s(67235),te=s(54752),se=s(85608);const re=(0,s(3398).createModel)("hasBusInViewport",(({services:e},{viewport:t},s)=>({fetch(){return(0,se.sH)(this,void 0,void 0,(function*(){return void 0!==s?s:(yield e.etaApi.getHasBusInViewport({viewport:t,zoom:11})).data.has_bus_in_viewport}))}})),(({fetch:e})=>{e()}));var ie=s(52160),ae=s(80905),ne=s(37163),oe=s(45396),ce=s(2459),de=s(84815);const le=(0,s(66333).Mz)([({state:e,localityId:t})=>{var s;return t&&(null===(s=e.data.roadAccident[t])||void 0===s?void 0:s.data)||void 0}],(e=>({roadAccidentData:e})));var ue=s(75750),pe=s(56624),me=s(22934);const ge=(0,ue.E)("fetchRoadAccident",(e=>({diskApi:t})=>t.getRoadAccidentData({localityId:e.localityId})),(0,pe.I)("roadAccident",{start:(e,{params:t})=>(0,me.vL)(e,t.localityId),success:(e,{result:t,params:s})=>(0,me.h$)(e,s.localityId,t),error:(e,{params:t,error:s})=>(0,me.i5)(e,t.localityId,s)}));var he=s(33082),fe=s(21959),be=s(78425),ve=s(55129),ye=s(81988),xe=s(47128);const je=["realty","metro","eta","friends","exchange","tourism","roadAccident","photos"],we=["realty","friends","metro","eta","parkings","exchange","tourism","roadAccident","photos","backTo2004"],_e=["5349042514588558","5349042514588559"];var Ce=s(76065),Ie=s(64433);const ke=()=>({frameId:e})=>({uiElement:{name:"mapSubLayersScreen",ownerName:"realtyLayerIcon",frameUuid:e}}),Oe=e=>({frameId:t})=>({uiElement:{name:"mapSubLayersList",ownerName:"mapSubLayersScreen",frameUuid:t},payload:{mapSubLayersList:{size:e.size}}}),Se=e=>({frameId:t})=>{const{type:s,size:r,enableMapSubLayer:i}=e;return{uiElement:{name:s,ownerName:"mapSubLayersList",frameUuid:t},action:"tap",payload:{mapSubLayersList:{size:r},mapSubLayer:{name:Te(s),enableMapSubLayer:i}}}},Te=e=>{switch(e){case"realtyBuySubLayerIcon":return"realtyBuySubLayer";case"realtyRentSubLayerIcon":return"realtyRentSubLayer";case"realtyWalkDistanceSubLayerIcon":return"realtyWalkDistanceSubLayer"}};var Ee=s(12017),Me=s(80556),Pe=s(2132),Le=s(92448);const Ne=(0,Ee.n5)("setSublayerOnClick",(e=>(0,Ee.gd)((0,Ee.K2)((0,Me.Z8)((t=>{const s=function(e){switch(e){case"realtyPriceRent":return Le.gI.rent.categoryId;case"realtyPriceSale":return Le.gI.sale.categoryId;default:return}}(e);return(null==t?void 0:t.categoryId)!==s&&s?(0,Pe.X)({newValue:s}):(0,Ee.lQ)()})),(0,ne.OB)(e)))));var Ae=s(12043),Re=s(85153);const ze=(0,n.memo)((({type:e,title:t,size:s})=>{const{s:r,css:i}=(0,o.I)(Ue),{isHovered:n,refCallback:d}=(0,N.M)(),{useBssHandler:l}=(0,p.E)(),m=e===(0,u.d4)(Re.C);let g="realtyBuySubLayerIcon";"realtyPriceRent"===e&&(g="realtyRentSubLayerIcon"),"realtyWalkDistance"===e&&(g="realtyWalkDistanceSubLayerIcon");const h=l(Se,{type:g,size:s,enableMapSubLayer:!m}),f=(0,Ie.I)((({isActive:e,type:t})=>(h(),e?(0,ne.Hq)():Ne(t))),{isActive:m,type:e});return(0,a.jsxs)("div",Object.assign({className:i(r.root),onClick:f,ref:d},c.dx.n("wat-on-off-sublayer"),{children:[(0,a.jsx)(Ae.j,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:i(r.dot,n&&r._hoveredDot,m&&!n&&r._activeDot)}),(0,a.jsx)("div",Object.assign({className:i(r.title_gray_929292,m&&r.title_gray_262626,n&&r.hoveredTitle)},{children:t}))]})}),(0,a.jsx)(Ae.h,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:i(r.bigDotWrapper,m&&r._activeBigDot)},{children:(0,a.jsx)("div",{className:i(m&&r._activeInnerDot)})})),(0,a.jsx)("div",Object.assign({className:i(r.title_gray_262626,m&&r.title_gray_929292)},{children:t}))]})})]}))}));ze.displayName="RealtySublayersItem";const Ue=(0,o.r)({root:{height:32,padding:"0 16px",display:"flex",alignItems:"center",boxSizing:"border-box",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${d.T.gray_262626}`,borderRadius:Z.V.oval},_hoveredDot:{borderColor:d.T.blue_028eff},_activeDot:{borderColor:d.T.blue_028eff},title_gray_929292:{whiteSpace:"nowrap",color:d.T.gray_929292},hoveredTitle:{color:d.T.blue_028eff},title_gray_262626:{whiteSpace:"nowrap",color:d.T.gray_262626},bigDotWrapper:{display:"flex",alignItems:"center",justifyContent:"center",marginEnd:20,boxSizing:"border-box",width:20,height:20,border:`2px solid ${d.T.gray_e6e6e6}`,borderRadius:"50%"},_activeBigDot:{border:`2px solid ${d.T.blue_028eff}`},_activeInnerDot:{width:12,height:12,borderRadius:"50%",backgroundColor:d.T.blue_028eff}});var Be=s(97423),He=s(24963),Fe=s(69969),De=s(46954),Ve=s(66698),Ze=s(91984);const $e=()=>{const e=(0,u.d4)(T.n$),t=(0,h.c)(),s=(0,u.d4)(Re.C);return(0,n.useMemo)((()=>{const r=[];return((null==e?void 0:e.code)&&Ve.Fx.includes(e.code)||"realtyPriceSale"===s||"realtyPriceRent"===s)&&r.push({type:"realtyPriceSale",title:t._gg("Цена продажи"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]},{type:"realtyPriceRent",title:t._gg("Цена аренды"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]}),((null==e?void 0:e.flags.metro)||"realtyWalkDistance"===s)&&r.push({type:"realtyWalkDistance",title:t._gg("Доступность метро"),temperatureLabels:[t._gg("< 5 мин"),t._gg("5-10"),t._gg("10-20"),t._gg("20-30")]}),r}),[t,null==e?void 0:e.flags.metro,s])},qe=(0,n.memo)((()=>{const{css:e,s:t}=(0,o.I)(Ge),s=(0,h.c)(),r=(0,u.d4)(Re.C),i=$e(),{isHovered:c,refCallback:l}=(0,N.M)(),{bssRef:m,useBssHandler:g}=(0,p.E)(ke()),f=r&&i.find((e=>e.type===r)),[b,v]=(0,n.useState)(!0),y=(0,n.useRef)(null);!function({ref:e,isActive:t,currentLayer:s,promotedLayer:r}){const i=(0,u.wA)(),a=(0,X.U)(),o=!(0,u.d4)(fe.Us),c=function(e){switch(e){case"metro":return"layer_metro";case"realty":return"layer_realty_heatmap";case"realty_sublayers":return"layer_realty_sublayers";case"exchange":return"layer_exchange";case"roadAccident":return"layer_road_accident";case"tourism":return"layer_tourism";default:return"layer_photo"}}(r);(0,n.useEffect)((()=>{r&&o&&s===r&&(t&&i((0,De.l)({name:`_seen-${c}`,value:!0})),setTimeout((()=>{e.current&&i((0,Fe.y)({type:c,targetBoundingClientRect:e.current.getBoundingClientRect(),to:"bottomMiddle",offset:0}))}),2500))}),[o,c,e.current,r,t,a])}({ref:y,isActive:!!r,currentLayer:"realty_sublayers",promotedLayer:"realty_sublayers"});const x=g(Ze.h,{type:b?"mapSubLayers":"closeMapSubLayers"}),j=(0,n.useCallback)((()=>{x(),v(!b)}),[b,x]);return(0,n.useEffect)((()=>{v(!0)}),[f]),(0,He.W)(y,(()=>{v(!0)})),(0,a.jsxs)("nav",Object.assign({className:e(t.root),ref:y},{children:[(0,a.jsx)("div",Object.assign({ref:m},{children:(0,a.jsx)(U.A,Object.assign({onClick:j,color:"inherit",styles:t.headerLink,dataN:"wat-realty-sublayers-switcher"},{children:(0,a.jsxs)("div",Object.assign({className:e(t.header),ref:l},{children:[(0,a.jsxs)("div",Object.assign({className:e(t.title)},{children:[(0,a.jsx)("div",{className:e(t.dot,f&&b&&t._dotCollapsed,f&&!b&&t._dotActive,c&&t._dotHovered)}),(0,a.jsx)("span",Object.assign({className:e(t.text,f&&!b&&t._collapsed,c&&t._textHovered)},{children:f&&b?f.title:s._gg("Карты недвижимости")}))]})),(0,a.jsx)(Ce.i,{direction:b?"down":"up",color:c?d.T.gray_262626:d.T.gray_929292})]}))}))})),f&&b&&(0,a.jsx)("div",Object.assign({className:e(t.temperature)},{children:(0,a.jsx)(Be.B,{segments:"realtyWalkDistance"===f.type?Ve.Ac:Ve.pA,labels:f.temperatureLabels})})),(0,a.jsx)(We,{items:i,isListCollapsed:b})]}))}));qe.displayName="RealtySublayers";const We=(0,n.memo)((({items:e,isListCollapsed:t})=>{const{css:s,s:r}=(0,o.I)(Ge),{bssRef:i}=(0,p.E)(Oe({size:e.length}),{forceSendShowIfParamsChanged:[t]});return(0,a.jsx)("ul",Object.assign({className:s(r.list,t&&r.listCollapsed),ref:t?void 0:i},{children:e.map(((t,s)=>(0,n.createElement)(ze,Object.assign({},t,{key:s,size:e.length}))))}))})),Ge=(0,o.r)({root:{display:"block",minWidth:216,padding:"6px 0",overflow:"hidden",boxShadow:A.E.popup,borderRadius:Z.V.default,backgroundColor:d.T.white},header:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:6,paddingBottom:6,paddingStart:16,paddingEnd:12},headerLink:{width:"100%",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${d.T.gray_e6e6e6}`,borderRadius:Z.V.oval},_dotActive:{borderColor:d.T.gray_262626},_dotCollapsed:{borderColor:d.T.blue_028eff},_dotHovered:{borderColor:d.T.blue_028eff},title:{display:"flex",alignItems:"center",boxSizing:"border-box",marginEnd:10},_titleHovered:{color:d.T.blue_028eff},text:{whiteSpace:"nowrap",color:d.T.gray_262626},_textHovered:{color:d.T.blue_028eff},_collapsed:{color:d.T.gray_929292},temperature:{paddingTop:0,paddingBottom:4,paddingStart:16,paddingEnd:16},list:{overflow:"hidden"},listCollapsed:{height:0}});var Qe=s(27892),Ke=s(35023);const Ye=["realtyPriceRent","realtyPriceSale","realtyWalkDistance"],Xe=(0,n.memo)((()=>{const e=(0,u.wA)(),{s:t,css:s}=(0,o.I)(Je),r=(0,n.useRef)(null),i=(0,n.useRef)(null),{isHovered:d,refCallback:l}=(0,N.M)({ref:i}),[g,h]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),v=(0,n.useRef)(!1);v.current=g||d,(0,n.useEffect)((()=>{setTimeout((()=>{b(v.current)}),0)}),[g,d]);const y=(0,u.d4)((e=>e.appContext.activeLayer)),{mainLayers:x,additionalLayers:j,isAirplaneShown:w}=function(e){const{isDropdownOpen:t,isDropdownHovered:s}=e,{featureRealty:r,featureReadOnly:i,featureExchange:a,featureBackTo2004:o,featureRoadAccidentHeatmap:c,featureTouristLayer:d,featureAirplane:l,featureFriends:p}=(0,X.U)(),m=(0,u.d4)((e=>e.appContext.activeLayer)),g=(0,u.wA)(),h=e=>$({layer:e,activeLayer:m,isDropdownOpen:t,isDropdownHovered:s}),f=(0,u.d4)((e=>(0,ce.Y)(e)||!!(0,ae.bB)(e.appContext.frames,"directions"))),b=(0,u.d4)(T.Hv),v=null==b?void 0:b.data,y=(0,n.useMemo)((()=>l&&(0,xe.a)(v,he.Wg.Lp.q)),[l,v]),x=(0,u.d4)((e=>e.session.is3dEnabled)),j=(0,u.d4)((e=>e.appContext.zoom)),w=j<9,_=(0,u.d4)((e=>(null==v?void 0:v.regionId)?(0,ie.b7)({state:e,id:v.regionId}):void 0)),C=null==_?void 0:_.data,I=(0,n.useMemo)((()=>(null==C?void 0:C.bounds)?(0,ee.R9)((0,oe.s)(C.bounds)):void 0),[null==C?void 0:C.id]),k=(0,te.fn)(I?re({viewport:[{lon:I[1][0],lat:I[0][1]},{lon:I[0][0],lat:I[1][1]}]}):void 0).data,O=!!C&&!!k&&x&&!(0,J.b)(j),S="loading"===(null==_?void 0:_.meta.status)||"loading"===(null==b?void 0:b.meta.status),E=h("roadAccident"),M=(0,u.d4)(T.Qc)||"",P=(0,u.d4)(T.ER),L=_e.includes(M)?P:M,N=(0,u.d4)((e=>le({state:e,localityId:L}).roadAccidentData));(0,n.useEffect)((()=>{E&&x&&c&&!N&&L&&g(ge({localityId:L}))}),[E,L,c,N,x,g]),(0,n.useEffect)((()=>{c&&x||!E||g((0,ne.xA)())}),[c,E,x,g]),function(e=[]){(0,de.e)(((t,{Heatmap:s})=>{const r=e.map((({longitude:e,latitude:t,severity:s})=>({coordinates:[e,t],weight:s})));if(!r.length)return;const i=new s(t,{points:r,pointRadius:["interpolate",["linear"],["zoom"],7,1,9,3,10,6,11,9,12,15,13,25,14,35,16,75,18,150,19,250,20,500],palette:{.37:"rgba(53,136,253,0)",.425:"rgba(53,136,253,0.2)",.45:"rgb(255,201,77,0.7)",.5:"rgb(255,202,20)",1:"rgb(245,0,7)"},intensity:["interpolate",["linear"],["zoom"],9,.13,11,.24,13,.35,16,.365,18,.47],opacity:1});return()=>{i.destroy()}}),[e])}(E?N:void 0);const A=o&&!f&&!w&&x,R=h("backTo2004");(0,n.useEffect)((()=>{(f||!o||w)&&R&&g((0,ne.xA)())}),[f,R,w,o,g]);const z=!(!(null==C?void 0:C.flags.metro)||!x||w),U=h("metro");(0,n.useEffect)((()=>{C&&C.flags.metro&&!w||!U||g((0,ne.xA)())}),[null==C?void 0:C.id,U,w]);const B=h("eta");(0,n.useEffect)((()=>{O||!B||void 0===k||S||g((0,F.po)({newLayer:void 0}))}),[O,k,S]);const H=(0,u.d4)((e=>!!(0,ae.bB)(e.appContext.frames,"realty"))),D=h("realty");(0,n.useEffect)((()=>{r&&(H&&!D&&g((0,ne.cK)("realty")),D&&!H&&g((0,ne.xA)()))}),[m,H,r,D,g,C]),function(e){const t=(0,u.d4)((e=>!!e.appContext.activeSublayer));(0,de.e)((s=>{e&&t&&s.once("styleload",(()=>{s.addLayer({id:"realty-heatmap-style",type:"raster",minzoom:6,filter:["match",["sourceAttr","type"],["realty_heatmap"],!0,!1],style:{opacity:["interpolate",["linear"],["zoom"],2,.7,10,.6,13,.5,16,.3,18,.15]}})}))}),[!!e,t])}(D);const V=!(!x||!(null==C?void 0:C.flags.parking_layer)),Z=h("parkings");(0,n.useEffect)((()=>{Z&&g((0,ne.cK)("parkings"))}),[Z,g]);const q=(0,u.d4)((e=>{var t;return null===(t=e.appContext.frames[e.appContext.frames.length-1])||void 0===t?void 0:t.type})),W=h("exchange");(0,n.useEffect)((()=>{a&&("exchange"!==q&&W&&g((0,ne.xA)()),"exchange"!==q||W||g((0,ne.cK)("exchange")))}),[a,q,m,W,g]);const G=h("tourism");return(0,n.useEffect)((()=>{x&&d||!G||g((0,ne.xA)())}),[x,d,G,g]),function({isLayerHighlighted:e}){const t=(0,u.wA)(),{featureFriends:s,friendsDebugToken:r,isMobileDevice:i,featureFriendsList:a}=(0,X.U)(),o=(0,u.d4)(fe.x3)||!!r,c=(0,u.d4)(fe.sX)&&!r,d=e("friends"),{data:l}=be.vK.useUserFriendshipCounterQuery({},{enabled:s&&!i&&o&&d}),p=l&&l.from.confirmed+l.to.confirmed,m=(0,u.d4)((e=>e.appContext.frames)),g=!!(0,ae.bB)(m,"userPublicProfile"),h=o&&d&&!!p&&(0===m.length||g),f=(0,u.d4)((e=>!!(0,ae.bB)(e.appContext.frames,"friendsList")));(0,n.useEffect)((()=>{s&&!i&&(h&&!f&&a?t(ve.V.openFriendsList(ye.M.openPublicProfile)):f&&c&&t(ve.V.closeFriendsList()))}),[f,t,s,h,i,c,a])}({isLayerHighlighted:h}),(0,n.useMemo)((()=>{function e(e){switch(e){case"realty":return r;case"friends":return p;case"metro":return z;case"eta":return O;case"parkings":return V;case"exchange":return a;case"tourism":return x&&d;case"roadAccident":return x&&c;case"photos":return x&&!i;case"backTo2004":return A;default:return!1}}const t=4-(y?2:0),s=je.filter((t=>e(t))).slice(0,t),n=we.filter((t=>e(t)));return n.length>0&&s.push("additional"),{mainLayers:s,additionalLayers:n,isAirplaneShown:y}}),[je,we,O,y,z,V,A])}({isDropdownOpen:f,isDropdownHovered:d}),{bssRef:_}=(0,p.E)((0,m.C3)({size:x.length})),C=(0,n.useCallback)(((e,t)=>{h("additional"===e&&!!t)}),[]),I=function(e){if(e.includes("tourism"))return"tourism";if(e.includes("roadAccident"))return"roadAccident";if((new Date).getMinutes()%2==0){if(e.includes("metro"))return"metro"}else if(e.includes("realty"))return"realty";return e.includes("exchange")?"exchange":e.includes("photos")?"photos":void 0}(x),k=(0,u.d4)((e=>e.session.is3dEnabled)),O=(0,u.d4)(T.n$),S=(0,u.d4)(Re.C),E=function({is3dEnabled:e,activeLayer:t,activeSublayer:s,projectData:r}){return e&&"realty"===t&&(s&&Ye.includes(s)||(null==r?void 0:r.code)&&Ve.Fx.includes(r.code)||(null==r?void 0:r.flags.metro))}({is3dEnabled:k,activeLayer:y,activeSublayer:S,projectData:O})&&!f;return x.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ae.j,{children:(0,a.jsxs)("nav",Object.assign({className:s(t.root),ref:_},{children:[(0,a.jsxs)("ul",Object.assign({className:s(t.list),ref:r},c.dx.n("wat-layers-icon-entry"),{children:[w&&(0,a.jsx)("li",Object.assign({className:s(t.menuItem)},{children:(0,a.jsx)(he.cv,{})})),x.map(((e,t)=>(0,a.jsx)(D,{type:e,isActive:$({layer:e,activeLayer:y,isDropdownOpen:f,isDropdownHovered:d}),onLayerHover:C,position:t+1,isDropdownOpen:f,promotedLayer:I,hasLabel:1===x.length},e)))]})),f&&(0,a.jsx)("div",Object.assign({className:s(t.dropdown),ref:l},c.dx.n("wat-layers-drop-down-list"),{children:(0,a.jsx)(K,{items:j,isDropdownOpen:f})})),E&&(0,a.jsx)("div",Object.assign({className:s(t.sublayers)},c.dx.n("wat-realty-sublayers-switcher-short"),{children:(0,a.jsx)(qe,{})}))]}))}),(0,a.jsx)(Ae.h,{children:(0,a.jsx)("div",Object.assign({className:s(t.mobile),ref:_},{children:(0,a.jsx)("div",Object.assign({onClick:()=>{e((0,Qe.PB)({id:(0,Ke.W7)(),type:"layersControl",layers:j}))},className:s(t.layersIcon)},{children:(0,a.jsx)(L,{type:"additional"})}))}))})]}):null}));Xe.displayName="LayersControl";const Je=(0,o.r)({root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"40px",background:d.T.white,cursor:"pointer",pointerEvents:"auto",boxShadow:A.E.popup,borderRadius:Z.V.default},list:{position:"relative",zIndex:R.fE.top,overflow:"hidden",height:"100%",padding:"0 8px"},dropdown:{position:"absolute",top:40,end:0,zIndex:R.fE.top,paddingTop:8},sublayers:{zIndex:R.fE.top,position:"absolute",top:48,start:"50%",transform:"translateX(-50%)"},menuItem:Object.assign(Object.assign({},l.Hg),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:Z.V.default,background:d.T.white,boxShadow:A.E.popup},layersIcon:{display:"flex",alignItems:"center"}});var et=s(1999),tt=s(46501);const st=({layers:e})=>{const t=(0,h.c)(),s=(0,u.wA)(),{css:r,s:i}=(0,o.I)(rt),n=()=>{s((0,Qe.fs)())};return(0,a.jsx)(et.j,{header:(0,a.jsxs)("div",Object.assign({className:r(i.title)},{children:[(0,a.jsx)("h2",{children:t._t("Слои")}),(0,a.jsx)(tt.b,{onClick:n})]})),body:(0,a.jsx)(K,{items:e,isDropdownOpen:!0,onClose:n})})},rt=(0,o.r)({title:Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",padding:24},l.Yn)})},89712:(e,t,s)=>{"use strict";s.d(t,{C3:()=>c,oM:()=>d,pe:()=>l});var r=s(7540),i=s(57744),a=s(82393);const n=e=>{switch(e){case"eta":return"ctxLayerIcon";case"photos":return"photosLayerIcon";case"realty":return"realtyLayerIcon";case"parkings":return"parkingLayerIcon";case"metro":return"metroLayerIcon";case"exchange":return"exchangeCurrencyLayerIcon";case"backTo2004":return"backTo2004LayerIcon";case"roadAccident":return"trafficIncidentLayerIcon";case"tourism":return"touristLayerIcon";case"friends":return"friendsLayerIcon";default:return}},o=e=>{switch(e){case"eta":return"ctxLayer";case"photos":return"photosLayer";case"backTo2004":return"backTo2004Layer";case"realty":return"realtyLayer";case"parkings":return"parkingLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"roadAccident":return"trafficIncidentLayer";case"tourism":return"touristLayer";case"friends":return"friendsLayer";default:return}},c=e=>({frameId:t})=>{const{size:s}=e;return{uiElement:{name:"mapLayersList",ownerName:"mapLayers",frameUuid:t},payload:{mapLayersList:{size:s}}}},d=e=>({frameId:t},s)=>{const c=(0,a.zN)(s),d=(0,i.u)(s),{type:l,position:u,hasOwner:p}=e,m=n(l),g=o(l);if(m&&g)return{uiElement:{name:m,ownerName:u&&p?"mapLayersList":void 0,frameUuid:t,position:u||1},payload:{mapLayer:{entity:{type:"mapLayer",segmentInfo:(0,r.o)({locale:d,region_id:c})},name:g}}}},l=e=>({frameId:t},s)=>{const c=(0,a.zN)(s),d=(0,i.u)(s),{type:l,enableMapLayer:u,position:p,hasOwner:m,autoEvent:g}=e,h=n(l),f=o(l);if(h&&f)return{autoEvent:g,uiElement:{name:h,ownerName:p&&m?"mapLayersList":void 0,frameUuid:t,position:p||1},action:"roadAccident"===l?u?"on":"off":"tap",payload:{mapLayer:{name:f,entity:{type:"mapLayer",segmentInfo:(0,r.o)({locale:d,region_id:c})},enableMapLayer:u}}}}},27016:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});const r=()=>(e,t,s)=>{const{isActive:r,autoEvent:i}=null!=s?s:{};return{autoEvent:i,uiElement:{name:"reliefButton",ownerName:"map",frameUuid:t.appContext.staticFrames.map.id},action:r?"on":"off"}}},47636:(e,t,s)=>{"use strict";s.d(t,{O:()=>o,z:()=>c});var r=s(31085),i=s(58471),a=s(10048),n=s(40837);const o=e=>(0,r.jsx)(a.w,{loader:i.b.videoPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(n.J,{asyncStatus:e})});var c=s(52276)},52276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Types:()=>r,bss:()=>i,openVideoPlayer:()=>m});var r={};s.r(r);var i={};s.r(i),s.d(i,{clickCtaButton:()=>d,showCtaButton:()=>c,showVideoPlayer:()=>o});var a=s(95845),n=s(99906);const o=()=>({frameId:e},t)=>(0,n.f_)({state:t,name:"videoFrame",uuid:e}),c=e=>({frameId:t},s)=>{const{banner:r,link:i,rubrics:n}=e,o=(0,a.TX)({banner:r,rubrics:n,state:s});if(i)return{uiElement:{name:"callToActionButton",ownerName:"videoFrame",frameUuid:t},payload:{callToAction:{actionType:"link",value:i},adsBanner:o}}},d=e=>t=>{const{banner:s,link:r,rubrics:i,frameId:n}=e;return{action:"tap",uiElement:{name:"callToActionButton",ownerName:"videoFrame",frameUuid:n},payload:{callToAction:{actionType:"link",value:r},adsBanner:(0,a.TX)({banner:s,rubrics:i,state:t})}}};var l=s(12017),u=s(27892),p=s(35023);const m=(0,l.n5)("openVideoPlayer",(({videoUrl:e,adInfoParams:t,cover:s,link:r,bssPayload:i})=>{const a=(0,p.W7)();return(0,u.PB)({id:a,type:"videoPlayer",isPopupGlassDark:!0,videoUrl:e,adInfoParams:t,cover:s,link:r,bssPayload:i})}))},95920:(e,t,s)=>{"use strict";s.d(t,{t:()=>a});var r=s(27892),i=s(35023);const a=e=>(0,r.PB)({promoType:e,type:"mobileAppPromoBannerPopup",id:(0,i.W7)()})},85757:(e,t,s)=>{"use strict";s.d(t,{W4:()=>f,nL:()=>x});var r=s(31085),i=s(85608),a=s(78170);const{use:n,invalidate:o}=(0,a.V)("reviewsRatings",(e=>({services:t})=>(0,i.sH)(void 0,void 0,void 0,(function*(){return(yield t.reviewsApi.getRatings(e)).ratings}))),{staleTime:1/0,cacheTime:1/0});var c=s(84175),d=s(99259),l=s(82316),u=s(80552);const p=({distribution:e,rating:t,reviewsTotalText:s})=>{const{css:i,s:a}=(0,c.I)(g),n=e?Math.max(...Object.values(e)):0;return(0,r.jsxs)("div",Object.assign({className:i(a.root)},{children:[(0,r.jsxs)("div",Object.assign({className:i(a.ratingBlock)},{children:[(0,r.jsx)("div",Object.assign({className:i(a.rating)},{children:t})),(0,r.jsx)("div",Object.assign({className:i(a.reviewsTotal)},{children:s}))]})),(0,r.jsx)("div",Object.assign({className:i(a.ratingsRows)},{children:new Array(5).fill("").map(((t,s)=>{const o=5-s,c=(null==e?void 0:e[o])||0;let d=c?c/n*100:0;return d>0&&d<1&&(d=1),(0,r.jsxs)("div",Object.assign({className:i(a.ratingRow)},{children:[(0,r.jsx)("div",Object.assign({className:i(a.stars)},{children:(0,r.jsx)(m,{stars:o})})),(0,r.jsx)("div",Object.assign({className:i(a.bar)},{children:(0,r.jsx)("div",{className:i(a.completeBar),style:{width:`${d}%`}})}))]}),s)}))}))]}))},m=({stars:e})=>(0,r.jsx)(r.Fragment,{children:new Array(e).fill("").map(((e,t)=>(0,r.jsx)(l.F,{size:12},t)))}),g=(0,c.r)({root:{borderTop:`1px solid ${d.T.gray_e6e6e6}`,borderBottom:`1px solid ${d.T.gray_e6e6e6}`,padding:"16px 20px",display:"flex",justifyContent:"space-between",gap:16},ratingBlock:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",paddingTop:8},rating:Object.assign(Object.assign({},u.sS),{color:d.T.gray_262626}),reviewsTotal:Object.assign(Object.assign({},u.Hg),{color:d.T.gray_929292}),ratingsRows:{display:"flex",flexDirection:"column",flexGrow:1,gap:2},ratingRow:{display:"flex",alignItems:"center",gap:8},stars:{minWidth:60,display:"flex",justifyContent:"flex-start",color:d.T.gray_b2b2b2},bar:{width:"100%",height:6,borderRadius:2,backgroundColor:d.T.gray_e6e6e6,overflow:"hidden"},completeBar:{height:6,borderRadius:2,backgroundColor:d.T.yellow_ffb81c,transition:"width .3s ease-in-out"}});var h=s(82781);const f=({objectId:e,isOrg:t,rating:s,reviewsTotal:i})=>{const a=(0,h.c)(),{data:o}=n({id:e,forOrg:t});return 0===i?null:(0,r.jsx)(p,{distribution:o,rating:s,reviewsTotalText:a._nt(["%% оценка","%% оценки","%% оценок"],i)})};var b=s(12017),v=s(7335),y=s(47919);const x=(0,b.n5)("invalidateReviewsRatings",(e=>(0,v.RC)({entity:(0,y.EV)(e)},(({entity:e})=>{const t=e.data;return t?(0,b._7)(o({id:t.id,forOrg:!1}),"branch"===t.type?o({id:t.org.id,forOrg:!0}):void 0):(0,b.lQ)()}))))},64372:(e,t,s)=>{"use strict";s.d(t,{St:()=>I,eC:()=>o});var r=s(31085),i=s(58471),a=s(10048),n=s(40837);const o=()=>(0,r.jsx)(a.w,{loader:i.b.selfPromoPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:n.N});var c=s(14041),d=s(79594),l=s(8365),u=s(99259),p=s(84175),m=s(82781),g=s(80552),h=s(54935),f=s(70498),b=s(49423),v=s(4340),y=s(46579),x=s(85608);const j=e=>{var{hovered:t}=e,s=(0,x.Tt)(e,["hovered"]);return(0,r.jsxs)("svg",Object.assign({viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{children:[(0,r.jsx)("path",{d:"M80 0V9.97008H92.8794C96.097 9.97008 97.7091 14.6687 95.4349 16.9451L80 32.38L87.62 40L103.055 24.5651C105.331 22.2887 109.968 23.9008 109.968 27.1206V40H120V0H80Z",fill:t?"#FFB919":"#19AA1E"}),(0,r.jsx)("path",{d:"M0 50V89.9701H12.8794C16.097 89.9701 17.7091 94.6687 15.4349 96.9451L0 112.38L7.61999 120L23.0549 104.565C25.3313 102.289 29.9678 103.901 29.9678 107.121V120H70V80H69.9678V67.1206C69.9678 63.9008 65.3313 62.2887 63.0549 64.5651L47.62 80L40 72.38L55.4349 56.9451C57.7091 54.6687 56.097 49.9701 52.8794 49.9701L0 50Z",fill:t?"#FFB919":"#19AA1E"})]}))},w=e=>{var{hovered:t}=e,s=(0,x.Tt)(e,["hovered"]);return(0,r.jsxs)("svg",Object.assign({width:"142",height:"40",viewBox:"0 0 142 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{children:[(0,r.jsx)("path",{d:"M0 40H65.0449V27.8668C72.0614 31.2134 78.2281 35.2694 84.0142 40H92.132L92.2049 27.6186L92.205 27.6133C99.3859 31.0128 106.132 35.1561 112.309 40H120.025L120.051 27.4395C127.272 30.8565 134.037 35.0828 140.229 40H142V7.7835C137.008 4.86017 131.808 2.25623 126.426 0H120.027V11.4099C113.356 7.03665 106.128 3.16156 98.6329 0H92.099L92.1415 11.3749C85.6069 7.08048 78.9387 3.17702 71.7947 0H65.0002L64.9695 8.68891C60.3566 5.48453 55.5412 2.5818 50.5446 0H0V40Z",fill:t?"#F5373C":"#1B61E1"}),(0,r.jsx)("path",{d:"M38 36C38 35.4477 38.4477 35 39 35C39.5523 35 40 35.4477 40 36C40 36.5523 39.5523 37 39 37C38.4477 37 38 36.5523 38 36Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M38 30C38 29.4477 38.4477 29 39 29C39.5523 29 40 29.4477 40 30C40 30.5523 39.5523 31 39 31C38.4477 31 38 30.5523 38 30Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M32 36C32 35.4477 32.4477 35 33 35C33.5523 35 34 35.4477 34 36C34 36.5523 33.5523 37 33 37C32.4477 37 32 36.5523 32 36Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M32 30C32 29.4477 32.4477 29 33 29C33.5523 29 34 29.4477 34 30C34 30.5523 33.5523 31 33 31C32.4477 31 32 30.5523 32 30Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M26 36C26 35.4477 26.4477 35 27 35C27.5523 35 28 35.4477 28 36C28 36.5523 27.5523 37 27 37C26.4477 37 26 36.5523 26 36Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M26 30C26 29.4477 26.4477 29 27 29C27.5523 29 28 29.4477 28 30C28 30.5523 27.5523 31 27 31C26.4477 31 26 30.5523 26 30Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M20 36C20 35.4477 20.4477 35 21 35C21.5523 35 22 35.4477 22 36C22 36.5523 21.5523 37 21 37C20.4477 37 20 36.5523 20 36Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M20 30C20 29.4477 20.4477 29 21 29C21.5523 29 22 29.4477 22 30C22 30.5523 21.5523 31 21 31C20.4477 31 20 30.5523 20 30Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M14 36C14 35.4477 14.4477 35 15 35C15.5523 35 16 35.4477 16 36C16 36.5523 15.5523 37 15 37C14.4477 37 14 36.5523 14 36Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M14 30C14 29.4477 14.4477 29 15 29C15.5523 29 16 29.4477 16 30C16 30.5523 15.5523 31 15 31C14.4477 31 14 30.5523 14 30Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M8 36C8 35.4477 8.44772 35 9 35C9.55228 35 10 35.4477 10 36C10 36.5523 9.55228 37 9 37C8.44772 37 8 36.5523 8 36Z",fill:t?"#19AA1E":"#1A1A1A"}),(0,r.jsx)("path",{d:"M8 30C8 29.4477 8.44772 29 9 29C9.55228 29 10 29.4477 10 30C10 30.5523 9.55228 31 9 31C8.44772 31 8 30.5523 8 30Z",fill:t?"#19AA1E":"#1A1A1A"})]}))};var _=s(41410);const C="isSelfPromoViewed",I=()=>{const e=(0,m.c)(),t=(0,d.wA)(),{brandName:s}=(0,y.U)(),{ref:i,isHovered:a}=(0,h.M)(),{css:n,s:o}=(0,p.I)(k),{bssRef:u,useBssHandler:g}=(0,l.E)(_.Nd.showSelfPromoButton()),f=g(_.Nd.tapSelfPromoButton),x=(0,b.O)("selfPromo");return(0,c.useEffect)((()=>{const e=v.IG.local.getItem(C),s=window.location.pathname.includes("/story/");e||s||(t((0,_.ew)()),v.IG.local.setItem(C,!0))}),[t]),(0,r.jsxs)("button",Object.assign({type:"button",className:n(o.container),ref:i,onClick:()=>{t((0,_.ew)()),f()}},{children:[(0,r.jsx)("div",Object.assign({className:n(o.background),ref:u},{children:(0,r.jsx)(w,{hovered:a})})),e._gg("Смотрите Презентацию %1",[s]),(0,r.jsx)("div",Object.assign({className:n(o.animationBox)},{children:(0,r.jsx)(j,{className:n(o.icon,!x&&o.animation),hovered:a})}))]}))},k=(0,p.r)({container:Object.assign({position:"relative",height:40,width:260,paddingStart:12,paddingEnd:40,boxSizing:"border-box",backgroundColor:u.T.black,borderRadius:4,transform:"translateZ(-1px)",overflow:"hidden",boxShadow:f.E.popup,color:u.T.white,textAlign:"start"},g.Co),background:{position:"absolute",top:0,left:0,width:142,height:40,zIndex:-1},animationBox:{position:"absolute",top:0,bottom:0,right:0,width:40,height:40,overflow:"hidden"},animation:{animationName:{"0%":{transform:"translate(-80px, 0)"},"10%":{transform:"translate(-80px, 0)"},"20%":{transform:"translate(-40px, -40px)"},"30%":{transform:"translate(-40px, -40px)"},"40%":{transform:"translate(0px, -80px)"},"100%":{transform:"translate(0px, -80px)"}},animationDuration:"10s",animationIterationCount:1,animationFillMode:"forwards",animationDelay:"3s"},icon:{width:120,height:120,transform:"translate(-80px, 0)"}})},41410:(e,t,s)=>{"use strict";s.d(t,{Nd:()=>r,ew:()=>p});var r={};s.r(r),s.d(r,{closeSelfPromoPopup:()=>n,showSelfPromoButton:()=>o,showSelfPromoPopup:()=>c,tapSelfPromoButton:()=>i,tapSelfPromoPopup:()=>a});const i=()=>({frameId:e})=>({uiElement:{name:"presentation24Icon",ownerName:"map",frameUuid:e},action:"tap"}),a=()=>(e,{appContext:t})=>({uiElement:{name:"playButton",ownerName:"presentation24Promo",frameUuid:t.staticFrames.map.id},action:"tap"}),n=()=>(e,{appContext:t})=>({uiElement:{name:"presentation24Promo",ownerName:"map",frameUuid:t.staticFrames.map.id},action:"close"}),o=()=>({frameId:e})=>({uiElement:{name:"presentation24Icon",ownerName:"map",frameUuid:e}}),c=()=>({frameId:e})=>({uiElement:{name:"presentation24Promo",ownerName:"map",frameUuid:e}});var d=s(27892),l=s(12017),u=s(35023);const p=(0,l.n5)("openSelfPromoPopup",(()=>(0,d.PB)({id:(0,u.W7)(),isClosableByClickingOutside:!0,type:"selfPromo"})))},38793:(e,t,s)=>{"use strict";s.d(t,{w:()=>M,L:()=>a});var r={};s.r(r),s.d(r,{closeBroadcastEndedPopup:()=>j,sendFriendRequestFromPopup:()=>y,sendFriendRequestFromProfile:()=>x,showBroadcastEndedPopup:()=>_,showSharerProfile:()=>w,showSharingGeoFrame:()=>C});var i={};s.r(i);var a={};s.r(a),s.d(a,{Types:()=>i,bss:()=>r,openBroadcastEndedPopup:()=>O,openSharerProfile:()=>E,useGetRouteByIdQuery:()=>b.N,useSubscribeSessionQuery:()=>b.A});var n=s(31085),o=s(79594),c=s(8365),d=s(62685),l=s(91466),u=s(84175),p=s(80552),m=s(96141),g=s(27892),h=s(82781),f=s(46579),b=s(87975),v=s(99906);const y=({publicProfileId:e})=>(t,{appContext:s})=>({uiElement:{name:"friendItem",ownerName:"promoGeoSharingFinished",frameUuid:s.staticFrames.map.id},action:"tap",payload:{profileItem:{publicProfileId:e}}}),x=({publicProfileId:e})=>({frameId:t})=>({uiElement:{name:"sendFriendRequestButton",ownerName:"sharingCard",frameUuid:t},action:"tap",payload:{profileItem:{publicProfileId:e}}}),j=({publicProfileId:e})=>(t,{appContext:s})=>({uiElement:{name:"promoGeoSharingFinished",ownerName:"geoSharingCardFrame",frameUuid:s.staticFrames.map.id},action:"close",payload:{profileItem:{publicProfileId:e}}}),w=({sharerLocationPlace:e,publicProfileId:t,sessionId:s,expirationTime:r})=>({frameId:i})=>({uiElement:{name:"sharingCard",ownerName:"geoSharingCardFrame",frameUuid:i},payload:Object.assign({profileItem:{publicProfileId:t},geoSharing:{sessionId:s,expirationTime:r}},e&&{messageInfo:{type:"friendsLocationPlace",value:e}})}),_=({publicProfileId:e})=>({frameId:t})=>({uiElement:{name:"promoGeoSharingFinished",ownerName:"geoSharingCardFrame",frameUuid:t},payload:{profileItem:{publicProfileId:e}}}),C=()=>({frameId:e},t)=>(0,v.f_)({name:"geoSharingCardFrame",uuid:e,state:t});var I=s(12017),k=s(35023);const O=(0,I.n5)("openBroadcastEndedPopup",(({sessionId:e,sharerProfile:t})=>(0,g.PB)({id:(0,k.W7)(),type:"broadcastEnded",sessionId:e,sharerProfile:t})));var S=s(77027),T=s(29787);const E=({sessionId:e})=>(0,I.K2)((0,T.PC)(),(0,S.fL)({id:(0,k.W7)(),type:"sharingGeo",sessionId:e})),M=({sharerProfile:e})=>{const t=(0,h.c)(),s=(0,o.wA)(),{isMobileDevice:r}=(0,f.U)(),{css:i,s:a}=(0,u.I)(P),p=null==e?void 0:e.id,{bssRef:b,useBssHandler:v}=(0,c.E)(_({publicProfileId:p})),x=v(j,{publicProfileId:p}),w=v(y,{publicProfileId:p}),C=(null==e?void 0:e.name)?`${t._t("%1 есть на карте 2ГИС. Добавьтесь в друзья, чтобы видеть друг друга всегда",[e.name])}`:t._t("Добавляйте друзей, чтобы всегда видеть друг друга на карте"),I=p?`https://friends.2gis.ru?user_id=${p}`:"https://friends.2gis.ru/",k=p?`https://2gis.ru/user/${p}`:"https://2gis.ru/mapfriends/invite/";return(0,n.jsx)(d.T,Object.assign({withCloseButton:!0,onClose:()=>{x(),s((0,g.fs)())}},{children:(0,n.jsxs)("div",Object.assign({className:i(a.popup),ref:b},{children:[(0,n.jsx)(l.i,{src:"/public/friendsOnMap/sharingPopupBg.png",width:323,height:182,isLoadingForced:!0}),(0,n.jsx)("h2",Object.assign({className:i(a.title)},{children:t._t("Трансляция завершена")})),(0,n.jsx)("p",{children:C}),(0,n.jsx)("div",Object.assign({className:i(a.button)},{children:(0,n.jsx)(m.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:r?k:I,onClick:w,dataN:"wat-add-to-friends-button"},{children:t._t("Добавить в друзья")}))}))]}))}))},P=(0,u.r)((({mobile:e})=>({popup:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:56,paddingBottom:42,paddingStart:e?20:45,paddingEnd:e?20:45},title:Object.assign(Object.assign({},p.Yn),{paddingTop:20,paddingBottom:16,paddingStart:0,paddingEnd:0}),button:{paddingTop:32,maxWidth:e?"auto":303,width:"100%"}})))},87975:(e,t,s)=>{"use strict";s.d(t,{A:()=>a,N:()=>n});var r=s(85608),i=s(78170);const{use:a}=(0,i.V)("subscribeSession",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){return t.sharingGeoApi.subscribeSession(e)})))),{use:n}=(0,i.V)("getRouteById",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){return t.sharingRouteApi.getRouteById(e)}))))},17286:(e,t,s)=>{"use strict";s.d(t,{fV:()=>c,IP:()=>r.IP,KR:()=>r.KR,jp:()=>r.jp});var r=s(99902),i=s(31085),a=s(10048),n=s(58471),o=s(40837);const c=e=>(0,i.jsx)(a.w,{loader:n.b.viewStoryPopup,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:o.N})},99902:(e,t,s)=>{"use strict";s.d(t,{IP:()=>o,KR:()=>n,jp:()=>d,pU:()=>c});var r=s(7143),i=s(35023),a=s(1269);const n=(0,a.V)("openStoryPopup",(0,r.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{storiesPopupData:{currentStoryId:t.id,popupId:(0,i.W7)(),type:t.type}})))),o=(0,a.V)("closeStoryPopup",(0,r.T)("appContext",(e=>Object.assign(Object.assign({},e),{storiesPopupData:{}})))),c=(0,a.V)("setCurrentStory",(0,r.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{storiesPopupData:Object.assign(Object.assign({},e.storiesPopupData),t)})))),d=e=>e.appContext.storiesPopupData},16316:(e,t,s)=>{"use strict";s.d(t,{Yr:()=>a.Y,no:()=>M,aB:()=>P,hU:()=>U,ZC:()=>V,cF:()=>i});var r={};s.r(r),s.d(r,{generators:()=>S,tapChangeSubscriptionButton:()=>k});var i={};s.r(i),s.d(i,{bss:()=>r,openUserRelationDifferencePopup:()=>I,saveSubscribeToUserInCache:()=>v,useSubscribe:()=>j,useUnsubscribe:()=>w});var a=s(26560),n=s(31085),o=s(14041),c=s(82781),d=s(96141),l=s(10742),u=s(79594),p=s(91818),m=s(85608),g=s(87017),h=s(37573),f=s(78425),b=s(12017);const v=(0,b.n5)("subscribeToUser",((e,{isSubscription:t})=>f.vK.updatePublicProfileCache(e,(e=>Object.assign(Object.assign({},e),{public_user:Object.assign(Object.assign({},e.public_user),{relation:Object.assign(Object.assign({},e.public_user.relation||{is_friend:!1}),{is_subscription:t})})})))));var y=s(29094),x=s(536);const j=()=>{const{socialGraphApi:e,credentialsApi:t}=(0,h.A)(),s=(0,u.wA)(),r=(0,c.c)();return(0,g.useMutation)((s=>(0,m.sH)(void 0,void 0,void 0,(function*(){const r=yield t.getToken();if(r)return yield e.subscribe({accessToken:r,user_ids:[s.userId]})}))),{onSuccess:(e,t)=>{s(v(t.publicUserId,{isSubscription:!0}))},onError:()=>{s((0,y.D)((0,x.z)({title:r._t("Что-то пошло не так"),message:r._t("Не удалось подписаться, попробуйте позже")})))}})},w=()=>{const{socialGraphApi:e,credentialsApi:t}=(0,h.A)(),s=(0,u.wA)(),r=(0,c.c)();return(0,g.useMutation)((s=>(0,m.sH)(void 0,void 0,void 0,(function*(){const r=yield t.getToken();if(r)return yield e.unsubscribe({accessToken:r,user_ids:[s.userId]})}))),{onSuccess:(e,t)=>{s(v(t.publicUserId,{isSubscription:!1}))},onError:()=>{s((0,y.D)((0,x.z)({title:r._t("Что-то пошло не так"),message:r._t("Не удалось подписаться, попробуйте позже")})))}})};var _=s(27892),C=s(35023);const I=(0,b.n5)("openUserRelationDifferencePopup",(e=>(0,_.PB)({type:"userRelationDifferencePopup",id:(0,C.W7)(),publicUserId:e}))),k=({userId:e,publicProfileId:t,inSubscriptions:s,name:r})=>({frameId:i})=>({uiElement:{name:r,frameUuid:i,ownerName:"profileCardFull"},action:"tap",payload:{profileItem:{authUser:e,publicProfileId:t,inSubscriptions:s}}});var O=s(60545);const S={actions:{changeSubscriptionsButton:e=>(0,O.gD)({uiElement:{name:expect.any(String),ownerName:"profileCardFull",frameUuid:expect.any(String)},payload:{profileItem:{authUser:expect.any(String),publicProfileId:expect.any(String),inSubscriptions:expect.any(Boolean)}}})(e)}};var T=s(21959),E=s(8365);const M=({userId:e,publicUserId:t})=>{const s=(0,c.c)(),r=(0,u.wA)(),i=j(),a=(0,u.d4)(T.x3),m=(0,E.E)().useBssHandler(k,{name:"subscribeButton",inSubscriptions:!1,userId:e,publicProfileId:t});(0,o.useEffect)((()=>{var s;"subscribeToUser"===(null===(s=(0,p.G7)())||void 0===s?void 0:s.key)&&(r((0,p.BP)()),i.mutate({userId:e,publicUserId:t}))}),[r,i,t,e]);const g=(0,l.D)((()=>{m(),a&&i.mutate({userId:e,publicUserId:t}),a||r((0,p.oC)("subscribeToUser"))}));return(0,n.jsx)(d.$,Object.assign({noBorder:!0,wide:!0,appearance:"noncontrast",onClick:g,disabled:i.isLoading,dataN:"wat-add-subscribe-button"},{children:s._t("Подписаться")}))},P=({userId:e,publicUserId:t})=>{const s=(0,c.c)(),r=w(),i=(0,E.E)().useBssHandler(k,{name:"unsubscribeButton",inSubscriptions:!0,userId:e,publicProfileId:t}),a=(0,l.D)((()=>{i(),r.mutate({userId:e,publicUserId:t})}));return(0,n.jsx)(d.$,Object.assign({noBorder:!0,wide:!0,appearance:"noncontrast",onClick:a,disabled:r.isLoading,dataN:"wat-unsubscribe-button"},{children:s._t("Отписаться")}))};var L=s(84175),N=s(2359),A=s(99259),R=s(80552),z=s(46579);const U=({publicUserId:e})=>{const t=(0,c.c)(),s=(0,u.wA)(),{featureFriends:r}=(0,z.U)(),{css:i,s:a}=(0,L.I)(B);return r?(0,n.jsxs)("button",Object.assign({className:i(a.button),type:"button",onClick:()=>{s(I(e))}},{children:[(0,n.jsx)(N.a,{color:"currentColor"}),(0,n.jsx)("span",{children:t._t("Разница между подписчиками и друзьями?")})]})):null},B=(0,L.r)({button:Object.assign({display:"flex",background:"transparent",justifyContent:"center",gap:8,width:"100%",color:A.T.gray_929292,padding:"12px 0"},R.Hg)});var H=s(10048),F=s(40837),D=s(58471);const V=e=>(0,n.jsx)(H.w,{loader:D.b.userRelationDifferencePopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:F.N})},26560:(e,t,s)=>{"use strict";s.d(t,{Y:()=>d});var r=s(31085),i=s(79594),a=s(46579),n=s(82781),o=s(96141),c=s(55027);const d=({publicUserId:e,onClick:t})=>{const s=(0,n.c)(),d=(0,i.d4)((e=>e.session.platform)),{featureFriends:l}=(0,a.U)(),u=(0,c.zP)({platform:d,type:"addFriendPromo",deepLink:`https://2gis.ru/user/${e}`});return l?(0,r.jsx)(o.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:u,onClick:t,dataN:"wat-add-to-friends-button"},{children:s._t("Добавить в друзья")})):null}},77577:(e,t,s)=>{"use strict";s.d(t,{Fi:()=>f,LH:()=>_,HI:()=>C,j_:()=>m,is:()=>b});var r=s(12017),i=s(86185),a=s(95014),n=s(90882),o=s(1511),c=s(77027),d=s(51557),l=s(10742),u=s(79594);const p=(0,r.n5)("deleteCollection",(e=>{const{id:t}=e;return(0,d.QY)((({tp:e})=>(0,n.L)(e._t("Удалить подборку? Это действие нельзя отменить."),(()=>{return(0,r.K2)((e=t,(0,r.Q2)((t=>{const s=t.appContext.frames.find(o.S);return s?s.collectionId===e?(0,c.wU)({id:s.id}):void 0:(0,r.lQ)()}))),(0,i.y)({[t]:void 0}),(0,a.v)());var e}))))})),m=()=>{const e=(0,u.wA)();return{deleteCollection:(0,l.D)((t=>{e(p({id:t}))}))}};var g=s(7335),h=s(84082);const f=(0,r.n5)("editCollection",(e=>{const{id:t,title:s,color:n,is_visible_on_map:o}=e;return(0,g.eU)((0,h.nq)(t),(e=>e?(0,r.K2)((0,i.y)({[t]:Object.assign(Object.assign(Object.assign(Object.assign({},e),s?{title:s}:{}),n?{color:n}:{}),void 0!==o?{is_visible_on_map:o}:{})}),(0,a.v)()):(0,r.lQ)()))})),b=()=>{const e=(0,u.wA)();return{edit:(0,l.D)((t=>{e(f(t))}))}};var v=s(29787),y=s(71794),x=s(63041),j=s(35023),w=s(60776);const _=(0,r.n5)("openCollectionFromList",(e=>{const{id:t}=e;return(0,r.K2)((0,v.PC)(),(0,y.l)({collectionId:t,type:"private"}))})),C=(0,r.n5)("openEntityCardFromPlace",(e=>!e.object_id&&e.point?(0,w.v)({point:e.point,shouldCenterMap:!0}):e.object_type&&(0,j.O9)(e.object_id)?(0,x.UP)({id:e.object_id,type:e.object_type,point:e.point}):(0,r.lQ)()))},80982:(e,t,s)=>{"use strict";s.d(t,{Jj:()=>D,Iu:()=>$,IH:()=>B,rx:()=>U});var r=s(31085),i=s(14041),a=s(10742),n=s(85608),o=s(84175),c=s(64099),d=s(99259),l=s(52821);function u({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 19V6.33333L9 5L14 6.11111V16H15V6.33333L20 5V17.6667L15 19L10 17.8889V12H9V17.6667L4 19Z",fill:e})}))}function p({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.99799 3.58789L2.58594 4.99994L4 6.414V18.9999L9 17.6666V11.9999H9.58594L10 12.414V17.8888L15 18.9999L16.2521 18.6661L18.9999 21.4139L20.412 20.0019L3.99799 3.58789ZM20 16.7653V4.99994L15 6.33327V11.7642L20 16.7653ZM14 10.764V6.11105L9 4.99994L8.39782 5.16052L14 10.764Z",fill:e})}))}var m=s(18971);const g=i.memo((({onClick:e,icon:t,children:s})=>{const{css:i,s:a}=(0,o.I)(h);return(0,r.jsxs)("button",Object.assign({type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),e()},className:i(a.button)},{children:[(0,r.jsx)("div",Object.assign({className:i(a.icon)},{children:t})),s]}))})),h=(0,o.r)({button:{paddingTop:6,width:"100%",boxSizing:"border-box",paddingEnd:16,paddingBottom:6,paddingStart:12,display:"flex",gap:12,color:d.T.gray_929292,background:d.T.white,cursor:"pointer",alignItems:"center",":hover":{color:d.T.blue_028eff}},icon:{color:d.T.gray_262626,display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"}});var f=s(82781);const b=i.memo((({isVisibleOnMap:e,hideRemoveControl:t,onEditIsVisibleOnMap:s,onDelete:i,onEditTitle:a})=>{const n=(0,f.c)(),o=e?n._t("Убрать с карты"):n._t("Показывать на карте");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,Object.assign({icon:e?(0,r.jsx)(p,{}):(0,r.jsx)(u,{}),onClick:s},{children:o})),(0,r.jsx)(g,Object.assign({icon:(0,r.jsx)(l.f,{}),onClick:a},{children:n._t("Изменить")})),!t&&(0,r.jsx)(g,Object.assign({icon:(0,r.jsx)(m.l,{color:d.T.red_fe5000}),onClick:i},{children:n._t("Удалить")}))]})})),v=i.memo((e=>{var{innerRef:t}=e,s=(0,n.Tt)(e,["innerRef"]);const{css:i,s:a}=(0,o.I)(y);return(0,r.jsx)("div",Object.assign({ref:t,className:i(a.root)},{children:(0,r.jsx)("div",Object.assign({className:i(a.dropdown)},{children:(0,r.jsx)(b,Object.assign({},s))}))}))})),y=(0,o.r)({root:{position:"absolute",top:24,zIndex:c.fE.top,width:200,end:0,paddingTop:8},dropdown:{width:"100%",background:"#fff",padding:"8px 0",borderRadius:4,boxShadow:"0px 1px 3px 0px rgba(38, 38, 38, 0.5)"}});var x=s(54935);function j({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5C14 7.32843 13.3284 8 12.5 8Z",fill:e}),(0,r.jsx)("path",{d:"M12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14Z",fill:e}),(0,r.jsx)("path",{d:"M11 18.5C11 19.3284 11.6716 20 12.5 20C13.3284 20 14 19.3284 14 18.5C14 17.6716 13.3284 17 12.5 17C11.6716 17 11 17.6716 11 18.5Z",fill:e})]}))}var w=s(46579),_=s(24963);const C=i.memo((({onClick:e,dropdown:t,styles:s,openByClick:n=!1})=>{const{css:c,s:d}=(0,o.I)(I),l=(0,i.useRef)(null),[u,p]=(0,i.useState)(!1),{isMobileDevice:m}=(0,w.U)(),{isHovered:g,ref:h}=(0,x.M)(),{isHovered:f,ref:b}=(0,x.M)(),v=g||f||u,y=(0,a.D)((t=>{t.preventDefault(),t.stopPropagation(),e&&e(),n&&p(!0)}));(0,_.W)(l,(()=>{n&&u&&p(!1)}));const C=m?(0,r.jsx)("button",Object.assign({onClick:y,type:"button",className:c(d.control)},{children:(0,r.jsx)(j,{})})):(0,r.jsx)("div",Object.assign({className:c(d.control),ref:h},{children:(0,r.jsx)(j,{})}));return(0,r.jsxs)("div",Object.assign({ref:l,className:c(d.root,s)},{children:[C,v&&t(b)]}))})),I=(0,o.r)({root:{position:"relative"},control:{background:"transparent",color:d.T.gray_929292,border:"none",display:"flex",justifyContent:"center",alignItems:"center",":hover":{cursor:"pointer",color:d.T.gray_262626}}}),k=i.memo((e=>{var{onClick:t}=e,s=(0,n.Tt)(e,["onClick"]);return(0,r.jsx)(C,{onClick:t,dropdown:e=>(0,r.jsx)(v,Object.assign({innerRef:e},s))})}));var O=s(79594),S=s(27892),T=s(12017),E=s(35023);const M=(0,T.n5)("openEditUserFavoritesPopup",((e,t)=>(0,S.PB)({type:"editUserFavoritesPopup",id:(0,E.W7)(),collection:e,itemsCount:t})));var P=s(8365),L=s(77577);const N=e=>{const{id:t,size:s}=e;return{entity:{id:t,type:"collection"},size:s}},A=e=>({frameId:t})=>{const{id:s,isVisibleOnMap:r,size:i}=e;return{action:r?"on":"off",uiElement:{frameUuid:t,name:"showFavoritesOnMap",ownerName:"collectionItem"},payload:{collectionItem:N({id:s,size:i})}}};var R=s(7143),z=s(1269);const U=(0,z.V)("enableEditMode",(0,R.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:Object.assign(Object.assign({},e.weak.favoritesUIState),{[t.id]:{editMode:!0}})})})))),B=(0,z.V)("disableEditMode",(0,R.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:Object.assign(Object.assign({},e.weak.favoritesUIState),{[t.id]:{editMode:!1}})})})))),H=((0,z.V)("clearFavoritesUIState",(0,R.T)("appContext",(e=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:{}})})))),(e,t)=>{const{edit:s}=(0,L.is)(),{deleteCollection:r}=(0,L.j_)(),{enterEditMode:i}=(()=>{const e=(0,O.wA)();return{enterEditMode:(0,a.D)((t=>{e(U({id:t}))}))}})(),n=(0,P.E)().useBssHandler(A,{id:e.id,isVisibleOnMap:void 0!==e.is_visible_on_map&&!e.is_visible_on_map,size:t}),o=(0,a.D)((()=>{s({id:e.id,is_visible_on_map:!e.is_visible_on_map}),n()}));return{delete:(0,a.D)((()=>{r(e.id)})),changeIsVisibleOnMap:o,enterEditMode:(0,a.D)((()=>{i(e.id)}))}});var F=s(68299);const D=i.memo((({collection:e,itemsCount:t})=>{const{open:s}=(()=>{const e=(0,O.wA)();return{open:(0,a.D)(((t,s)=>{e(M(t,s))}))}})(),i=H(e,t),n=(0,a.D)((()=>{void 0!==e.is_visible_on_map&&s(e,t)})),o=(0,F.Y)((()=>{i.changeIsVisibleOnMap()}),300);return(0,r.jsx)(k,{onClick:n,isVisibleOnMap:!!e.is_visible_on_map,onDelete:i.delete,onEditIsVisibleOnMap:o,onEditTitle:i.enterEditMode,hideRemoveControl:!!e.is_default})}));var V=s(5449),Z=s(99906);const $=i.memo((e=>{const{popup:{collection:t,itemsCount:s}}=e,{css:i,s:n}=(0,o.I)(q),c=(0,O.wA)(),{bssRef:d}=(0,P.E)((({frameId:e},t)=>(0,Z.f_)({state:t,uuid:e,name:"showFavoritesSettingsFrame"}))),l=H(t,s),u=(0,a.D)((()=>{l.enterEditMode(),c((0,S.fs)())})),p=(0,a.D)((()=>{l.changeIsVisibleOnMap(),c((0,S.fs)())})),m=(0,a.D)((()=>{l.delete(),c((0,S.fs)())}));return(0,r.jsx)(V.B,Object.assign({innerRef:d,withCloseButton:!0},{children:(0,r.jsx)("div",Object.assign({className:i(n.root)},{children:(0,r.jsx)(b,{isVisibleOnMap:!!t.is_visible_on_map,hideRemoveControl:!!t.is_default,onEditIsVisibleOnMap:p,onDelete:m,onEditTitle:u})}))}))})),q=(0,o.r)({root:{width:"100%",height:"100%",paddingTop:44,paddingBottom:24,paddingStart:24,paddingEnd:24}})},81988:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});var r={};s.r(r),s.d(r,{openPublicProfile:()=>u,showOpenPublicProfileError:()=>h});var i=s(21959),a=s(77314),n=s(77027),o=s(12017),c=s(35023),d=s(29787),l=s(7335);const u=({userId:e})=>(0,l.eU)(i.ug,(t=>{var s;const r=null===(s=t.data)||void 0===s?void 0:s.public_user_id;return r&&r===e?(0,a.x)("reviews"):(0,o.K2)((0,d.PC)(),(0,n.fL)({id:(0,c.W7)(),type:"userPublicProfile",userId:e}))}));var p=s(51557),m=s(29094),g=s(536);const h=(0,o.n5)("showOpenPublicProfileError",(()=>(0,p.QY)((({tp:e})=>(0,m.D)((0,g.z)({title:e._t("Отзыв из внешнего источника"),message:e._t("Не можем показать профиль пользователя")}))))))},42586:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var r={};s.r(r),s.d(r,{generators:()=>c,getProfileItemPayload:()=>d,showVisitedPlaces:()=>l,tapFeedTab:()=>n,tapFriendsTab:()=>a,tapVisitedPlaces:()=>u});var i=s(78425);const a=()=>({frameId:e},t,s)=>{if(!s)return;const{isFriend:r,profile:a}=s;return{uiElement:{name:"friendsTab",ownerName:r?"friendCardFull":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:i.vK.bss.getProfileItemPayload({user:a})}}},n=()=>({frameId:e},t,s)=>{if(!s)return;const{isFriend:r,profile:a}=s;return{uiElement:{name:"activitiesTab",ownerName:r?"friendCardFull":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:i.vK.bss.getProfileItemPayload({user:a})}}};var o=s(60545);const c={actions:{tab:e=>(0,o.gD)({uiElement:{name:"friendsTab",ownerName:"friendCardFull",frameUuid:expect.any(String)},payload:{profileItem:{authUser:expect.any(String),publicProfileId:expect.any(String),isPrivate:expect.any(Boolean),isDeleted:expect.any(Boolean),hasPhoto:expect.any(Boolean)}}})(e)}},d=({user:e})=>({authUser:e.user_id,publicProfileId:e.public_user_id,isPrivate:"CLOSE"===e.privacy,isDeleted:e.is_deleted,hasPhoto:!!e.avatar}),l=({user:e})=>({frameId:t})=>({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds",frameUuid:t},payload:{profileItem:d({user:e}),activitiesList:{size:756}}}),u=()=>({frameId:e},t,s)=>{if(!s)return;const{isFriend:r,user:i}=s;return{uiElement:{name:"profileCardActivitiesList",ownerName:r?"profileCardTwoThirds":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:d({user:i}),activitiesList:{size:756}}}}},58471:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});const r={prices:{asyncImport:()=>s.e(401).then(s.bind(s,35670)),chunkName:"prices",moduleID:35670},catalog:{asyncImport:()=>Promise.all([s.e(4121),s.e(9114),s.e(7654),s.e(5880),s.e(7624)]).then(s.bind(s,34473)),chunkName:"catalog",moduleID:34473},collection:{asyncImport:()=>s.e(1171).then(s.bind(s,70443)),chunkName:"collection",moduleID:70443},contactsTab:{asyncImport:()=>Promise.all([s.e(2988),s.e(2597),s.e(1293)]).then(s.bind(s,26007)),chunkName:"contactsTab",moduleID:26007},discountsTab:{asyncImport:()=>s.e(4250).then(s.bind(s,83231)),chunkName:"discountsTab",moduleID:83231},dashboard:{asyncImport:()=>s.e(945).then(s.bind(s,46058)),chunkName:"dashboard",moduleID:46058},direction:{asyncImport:()=>s.e(2526).then(s.bind(s,27199)),chunkName:"direction",moduleID:27199},directions:{asyncImport:()=>Promise.all([s.e(4121),s.e(4849)]).then(s.bind(s,19913)),chunkName:"directions",moduleID:19913},editFavorite:{asyncImport:()=>s.e(1603).then(s.bind(s,32476)),chunkName:"editFavorite",moduleID:32476},entityList:{asyncImport:()=>s.e(8962).then(s.bind(s,3330)),chunkName:"entityList",moduleID:3330},entityTooltip:{asyncImport:()=>s.e(2851).then(s.bind(s,65673)),chunkName:"entityTooltip",moduleID:65673},entityVideoPopup:{asyncImport:()=>s.e(6115).then(s.bind(s,27343)),chunkName:"entityVideoPopup",moduleID:27343},exchangeTooltip:{asyncImport:()=>s.e(9185).then(s.bind(s,14980)),chunkName:"exchangeTooltip",moduleID:14980},favorites:{asyncImport:()=>s.e(4062).then(s.bind(s,77242)),chunkName:"favorites",moduleID:77242},feedback:{asyncImport:()=>s.e(7030).then(s.bind(s,60268)),chunkName:"feedback",moduleID:60268},filters:{asyncImport:()=>s.e(5028).then(s.bind(s,31054)),chunkName:"filters",moduleID:31054},galleryAlbum:{asyncImport:()=>Promise.all([s.e(7361),s.e(7724)]).then(s.bind(s,86545)),chunkName:"galleryAlbum",moduleID:86545},gtaAds:{asyncImport:()=>s.e(3907).then(s.bind(s,35205)),chunkName:"gtaAds",moduleID:35205},gdprCookieBanner:{asyncImport:()=>s.e(1644).then(s.bind(s,72793)),chunkName:"gdprCookieBanner",moduleID:72793},infoTab:{asyncImport:()=>Promise.all([s.e(9114),s.e(2988),s.e(2597),s.e(2500)]).then(s.bind(s,32886)),chunkName:"infoTab",moduleID:32886},insideTab:{asyncImport:()=>s.e(8828).then(s.bind(s,1613)),chunkName:"insideTab",moduleID:1613},installAppToSeeFriendsPopup:{asyncImport:()=>s.e(4392).then(s.bind(s,41822)),chunkName:"installAppToSeeFriendsPopup",moduleID:41822},interestingCarousel:{asyncImport:()=>s.e(825).then(s.bind(s,79232)),chunkName:"interestingCarousel",moduleID:79232},realtyTooltip:{asyncImport:()=>s.e(1959).then(s.bind(s,58954)),chunkName:"realtyTooltip",moduleID:58954},miniEntity:{asyncImport:()=>s.e(5163).then(s.bind(s,38451)),chunkName:"miniEntity",moduleID:38451},offer:{asyncImport:()=>Promise.all([s.e(4121),s.e(9114),s.e(7654),s.e(5880),s.e(1895)]).then(s.bind(s,24346)),chunkName:"offer",moduleID:24346},photoUploader:{asyncImport:()=>s.e(1475).then(s.bind(s,27687)),chunkName:"photoUploader",moduleID:27687},photoViewer:{asyncImport:()=>s.e(1651).then(s.bind(s,41553)),chunkName:"photoViewer",moduleID:41553},mediaViewer:{asyncImport:()=>s.e(2195).then(s.bind(s,52028)),chunkName:"mediaViewer",moduleID:52028},product:{asyncImport:()=>Promise.all([s.e(9114),s.e(964)]).then(s.bind(s,60611)),chunkName:"product",moduleID:60611},pricesTab:{asyncImport:()=>s.e(1894).then(s.bind(s,7417)),chunkName:"pricesTab",moduleID:7417},publicFavorites:{asyncImport:()=>s.e(9975).then(s.bind(s,63887)),chunkName:"publicFavorites",moduleID:63887},realtyTab:{asyncImport:()=>Promise.all([s.e(6981),s.e(4431)]).then(s.bind(s,91535)),chunkName:"realtyTab",moduleID:91535},reviewsTab:{asyncImport:()=>s.e(1103).then(s.bind(s,73551)),chunkName:"reviewsTab",moduleID:73551},menuTab:{asyncImport:()=>s.e(8587).then(s.bind(s,8538)),chunkName:"menuTab",moduleID:8538},mediaTab:{asyncImport:()=>Promise.all([s.e(7361),s.e(1790)]).then(s.bind(s,52515)),chunkName:"mediaTab",moduleID:52515},rubric:{asyncImport:()=>s.e(4828).then(s.bind(s,16460)),chunkName:"rubric",moduleID:16460},rubricator:{asyncImport:()=>s.e(7656).then(s.bind(s,50859)),chunkName:"rubricator",moduleID:50859},servicesTab:{asyncImport:()=>s.e(8340).then(s.bind(s,19669)),chunkName:"servicesTab",moduleID:19669},sharing:{asyncImport:()=>Promise.all([s.e(9114),s.e(8969)]).then(s.bind(s,90422)),chunkName:"sharing",moduleID:90422},suggestList:{asyncImport:()=>Promise.all([s.e(9114),s.e(5747)]).then(s.bind(s,30589)),chunkName:"suggestList",moduleID:30589},typedFeedback:{asyncImport:()=>s.e(7392).then(s.bind(s,93358)),chunkName:"typedFeedback",moduleID:93358},userProfile:{asyncImport:()=>Promise.all([s.e(9114),s.e(8269)]).then(s.bind(s,99522)),chunkName:"userProfile",moduleID:99522},subscriptions:{asyncImport:()=>s.e(6671).then(s.bind(s,33646)),chunkName:"subscriptions",moduleID:33646},subscribers:{asyncImport:()=>s.e(2512).then(s.bind(s,47521)),chunkName:"subscribers",moduleID:47521},successfulSubscriptions:{asyncImport:()=>s.e(5253).then(s.bind(s,57099)),chunkName:"successfulSubscriptions",moduleID:57099},noFriends:{asyncImport:()=>s.e(4061).then(s.bind(s,960)),chunkName:"noFriends",moduleID:960},social:{asyncImport:()=>s.e(9158).then(s.bind(s,54909)),chunkName:"social",moduleID:54909},recommendations:{asyncImport:()=>s.e(8770).then(s.bind(s,2080)),chunkName:"recommendations",moduleID:2080},videoPopup:{asyncImport:()=>s.e(4930).then(s.bind(s,67713)),chunkName:"videoPopup",moduleID:67713},mediaVideoPlayer:{asyncImport:()=>s.e(5477).then(s.bind(s,59466)),chunkName:"mediaVideoPlayer",moduleID:59466},writeReview:{asyncImport:()=>s.e(5952).then(s.bind(s,94049)),chunkName:"writeReview",moduleID:94049},unconfirmedReviews:{asyncImport:()=>s.e(4248).then(s.bind(s,47099)),chunkName:"unconfirmedReviews",moduleID:47099},currentReview:{asyncImport:()=>s.e(5670).then(s.bind(s,10208)),chunkName:"currentReview",moduleID:10208},tUgcCard:{asyncImport:()=>s.e(6494).then(s.bind(s,53177)),chunkName:"tUgcCard",moduleID:53177},searchResults:{asyncImport:()=>Promise.all([s.e(4121),s.e(7654),s.e(5880),s.e(4163)]).then(s.bind(s,23282)),chunkName:"searchResults",moduleID:23282},deliveryOrderPopup:{asyncImport:()=>s.e(4197).then(s.bind(s,34933)),chunkName:"deliveryOrderPopup",moduleID:34933},cart:{asyncImport:()=>Promise.all([s.e(4121),s.e(9114),s.e(7654),s.e(7949)]).then(s.bind(s,95632)),chunkName:"cart",moduleID:95632},sendOrderPopup:{asyncImport:()=>Promise.all([s.e(9114),s.e(7443)]).then(s.bind(s,77932)),chunkName:"sendOrderPopup",moduleID:77932},confirm:{asyncImport:()=>s.e(4029).then(s.bind(s,96397)),chunkName:"confirm",moduleID:96397},userFriendsActivity:{asyncImport:()=>s.e(8386).then(s.bind(s,93355)),chunkName:"userFriendsActivity",moduleID:93355},realty:{asyncImport:()=>Promise.all([s.e(9114),s.e(2988),s.e(6981),s.e(5106)]).then(s.bind(s,2725)),chunkName:"realty",moduleID:2725},realtyCard:{asyncImport:()=>Promise.all([s.e(9114),s.e(6220)]).then(s.bind(s,75115)),chunkName:"realtyCard",moduleID:75115},achievementsFrame:{asyncImport:()=>Promise.all([s.e(9114),s.e(2086)]).then(s.bind(s,38233)),chunkName:"achievementsFrame",moduleID:38233},privacyPolicyBanner:{asyncImport:()=>Promise.all([s.e(9114),s.e(6097)]).then(s.bind(s,7192)),chunkName:"privacyPolicyBanner",moduleID:7192},exchange:{asyncImport:()=>s.e(7552).then(s.bind(s,60075)),chunkName:"exchange",moduleID:60075},personalDataAgreementPopup:{asyncImport:()=>s.e(6381).then(s.bind(s,61533)),chunkName:"personalDataAgreementPopup",moduleID:61533},thanksForPhoto:{asyncImport:()=>s.e(6539).then(s.bind(s,50536)),chunkName:"thanksForPhoto",moduleID:50536},thanksForReview:{asyncImport:()=>s.e(389).then(s.bind(s,57218)),chunkName:"thanksForReview",moduleID:57218},smmTipPopup:{asyncImport:()=>s.e(3615).then(s.bind(s,83761)),chunkName:"smmTipPopup",moduleID:83761},smmCheckoutPopup:{asyncImport:()=>s.e(8738).then(s.bind(s,88682)),chunkName:"smmCheckoutPopup",moduleID:88682},phonePopup:{asyncImport:()=>s.e(5197).then(s.bind(s,85021)),chunkName:"phonePopup",moduleID:85021},newYearPromoPopup:{asyncImport:()=>s.e(5109).then(s.bind(s,10012)),chunkName:"newYearPromoPopup",moduleID:10012},otelloChooseBookingParamsPopup:{asyncImport:()=>Promise.all([s.e(4121),s.e(5870)]).then(s.bind(s,83886)),chunkName:"otelloChooseBookingParamsPopup",moduleID:83886},otelloGeoWidget:{asyncImport:()=>s.e(7841).then(s.bind(s,84875)),chunkName:"otelloGeoWidget",moduleID:84875},desktopPromoMapBanner:{asyncImport:()=>s.e(4226).then(s.bind(s,63804)),chunkName:"desktopPromoMapBanner",moduleID:63804},mobileAppPromoBannerPopup:{asyncImport:()=>s.e(3625).then(s.bind(s,21390)),chunkName:"mobileAppPromoBannerPopup",moduleID:21390},routeEditorBillboardBanner:{asyncImport:()=>s.e(6480).then(s.bind(s,97092)),chunkName:"routeEditorBillboardBanner",moduleID:97092},launchSimplePopup:{asyncImport:()=>s.e(4338).then(s.bind(s,82809)),chunkName:"launchSimplePopup",moduleID:82809},routeSearchFullscreenPopup:{asyncImport:()=>s.e(217).then(s.bind(s,26840)),chunkName:"routeSearchFullscreenPopup",moduleID:26840},viewStoryPopup:{asyncImport:()=>s.e(3199).then(s.bind(s,65632)),chunkName:"viewStoryPopup",moduleID:65632},airplaneLogoOnMap:{asyncImport:()=>s.e(3663).then(s.bind(s,19597)),chunkName:"airplaneLogoOnMap",moduleID:19597},airplaneControl:{asyncImport:()=>s.e(1808).then(s.bind(s,86806)),chunkName:"airplaneControl",moduleID:86806},friendsOnMap:{asyncImport:()=>s.e(6377).then(s.bind(s,32507)),chunkName:"friendsOnMap",moduleID:32507},facts:{asyncImport:()=>s.e(7612).then(s.bind(s,88907)),chunkName:"facts",moduleID:88907},attributes:{asyncImport:()=>Promise.all([s.e(541),s.e(3772)]).then(s.bind(s,46794)),chunkName:"attributes",moduleID:46794},review:{asyncImport:()=>Promise.all([s.e(541),s.e(7219)]).then(s.bind(s,9030)),chunkName:"review",moduleID:9030},mobileFriendsOnMapPopup:{asyncImport:()=>s.e(5679).then(s.bind(s,15335)),chunkName:"mobileFriendsOnMapPopup",moduleID:15335},invitingFriendsOnMapPopup:{asyncImport:()=>s.e(1195).then(s.bind(s,58597)),chunkName:"invitingFriendsOnMapPopup",moduleID:58597},competitionNoFriends:{asyncImport:()=>s.e(1871).then(s.bind(s,49445)),chunkName:"competitionNoFriendsOnMapPopup",moduleID:49445},competitionHaveFriends:{asyncImport:()=>s.e(9606).then(s.bind(s,32794)),chunkName:"competitionHaveFriendsOnMapPopup",moduleID:32794},authFriendsOnMapPopup:{asyncImport:()=>s.e(3415).then(s.bind(s,94961)),chunkName:"authFriendsOnMapPopup",moduleID:94961},userPublicProfileFrame:{asyncImport:()=>s.e(7587).then(s.bind(s,67065)),chunkName:"userPublicProfileFrame",moduleID:67065},friendsListFrame:{asyncImport:()=>s.e(9605).then(s.bind(s,64838)),chunkName:"friendsListFrame",moduleID:64838},friendInOtherDomainPopup:{asyncImport:()=>s.e(7110).then(s.bind(s,81683)),chunkName:"friendInOtherDomainPopup",moduleID:81683},friendsBanner:{asyncImport:()=>s.e(3840).then(s.bind(s,54446)),chunkName:"friendsBanner",moduleID:54446},immersivePromoBanner:{asyncImport:()=>s.e(6899).then(s.bind(s,78773)),chunkName:"immersivePromoBanner",moduleID:78773},immersivePromoTour:{asyncImport:()=>s.e(2703).then(s.bind(s,86354)),chunkName:"immersivePromoTour",moduleID:86354},mobileImmersiveFullscreenPopup:{asyncImport:()=>s.e(981).then(s.bind(s,42054)),chunkName:"mobileImmersiveFullscreenPopup",moduleID:42054},userRelationDifferencePopup:{asyncImport:()=>s.e(4635).then(s.bind(s,93434)),chunkName:"userRelationDifferencePopup",moduleID:93434},selfPromoPopup:{asyncImport:()=>s.e(5244).then(s.bind(s,99773)),chunkName:"selfPromoPopup",moduleID:99773}}},56946:(e,t,s)=>{"use strict";s.d(t,{Q:()=>p});var r=s(31085),i=s(14041),a=s(79594),n=s(84593),o=s(44920),c=s(98827);const d=()=>{const e=[(0,o.A)({isLabelShown:!0}),(0,c.n)()];return(0,r.jsx)(n.L,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,r.jsx)(n.j,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=s(33489);const u=()=>{const e=[(0,o.A)({isLabelShown:!0}),(0,l.j)({isLabelShown:!0})];return(0,r.jsx)(n.L,{children:e.map(((e,t)=>e&&(0,r.jsx)(n.j,Object.assign({icon:e.icon,grow:"map"===e.type,type:"gray",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})};u.displayName="FullMobileCollectionCardNavigationFooter";const p=(0,i.memo)((()=>(0,a.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(d,{}):(0,r.jsx)(u,{})))},89235:(e,t,s)=>{"use strict";s.d(t,{n:()=>r});const r=50},71794:(e,t,s)=>{"use strict";s.d(t,{l:()=>c});var r=s(77027),i=s(35023),a=s(12017),n=s(5795),o=s(89235);function c(e){const{collectionId:t,type:s}=e;return(0,a._7)((0,r.fL)({id:(0,i.W7)(),type:"collection",subtype:s,collectionId:t,visibleItemsLimit:o.n}),(0,n.m)(s,t,o.n))}},5795:(e,t,s)=>{"use strict";s.d(t,{m:()=>u});var r=s(12017),i=s(63041),a=s(96863),n=s(46287),o=s(14908),c=s(74961),d=s(76127);const l=(e,t,s)=>r=>{const i=("private"===e?c.c_:a.iP)(t)(r);if(!i.length)return[];const l=[];return("private"===e?i.slice(0,s):i).forEach((e=>{const t=e.object_id;if(!t)return;const s=(0,n.DE)({state:r,entityId:t});(0,o.$)(s)&&l.push(t)})),(0,d.h)(l,(e=>e))};function u(e,t,s){return"private"===e?function(e,t){return(0,r.Q2)((s=>{const a=l("private",e,t)(s);return a.length?(0,i.r_)({ids:a.slice(0,50),searchId:void 0}):(0,r.lQ)()}))}(t,s):function(e){return(0,r.Q2)((t=>{const s=l("public",e)(t);if(!s.length)return(0,r.lQ)();const a=new Array(Math.ceil(s.length/50)).fill(1).map(((e,t)=>s.slice(50*t,50*t+50)));return(0,r._7)(...a.map((e=>(0,i.r_)({ids:e,searchId:void 0}))))}))}(t)}},1511:(e,t,s)=>{"use strict";function r(e){return"collection"===e.type}s.d(t,{S:()=>r,i:()=>i});const i=(0,s(84642).W)(r)},88632:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var r=s(12017),i=s(77027),a=s(1511);const n=(0,r.n5)("closeUserProfileFrame",(()=>(0,a.i)((e=>"private"===(null==e?void 0:e.subtype)?(0,i.wU)({id:e.id}):(0,r.lQ)()))))},70143:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var r=s(77027),i=s(35023),a=s(12017);function n(e){const{reviewId:t,searchId:s,publicUserId:n}=e;if(!t)return(0,a.lQ)();const o=(0,i.W7)();return(0,r.fL)({id:o,type:"currentReview",reviewId:t,searchId:s,publicUserId:n})}},21282:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,a:()=>n});var r=s(48914),i=s(99906);const a=(e,t)=>({bssOnFeedbackClick(){e((0,r.cD)({uiElement:{name:"feedbackButton",ownerName:"dashboard",frameUuid:t.ownerFrameId},action:"tap"}))}}),n=()=>({frameId:e},t)=>(0,i.f_)({state:t,name:"dashboardFrame",uuid:e})},86676:(e,t,s)=>{"use strict";s.d(t,{J:()=>m});var r=s(31085),i=s(14041),a=s(4431),n=s(80774),o=s(99259),c=s(21252),d=s(48914),l=s(7335),u=s(7515);class p extends i.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,r.jsx)(n.X,{color:o.T.gray_262626}),this.handleClick=()=>{this.props.bssOnClick(),this.props.onClick()}}render(){return(0,r.jsx)(a.D,{icon:this.renderIcon,title:this.props.i18n.tp._t("Избранное"),onClick:this.handleClick,dataT:"favorite"})}}const m=(0,u.Q)()((0,c.f)(void 0,(e=>({bssOnClick(){e((0,l.eU)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,d.cD)({uiElement:{name:"favoritesIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))(p))},45193:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,L:()=>a});const r=e=>{switch(e){case"interesting":return"interestingIcon";case"guidebook":return"guidebookIcon";case"award2019":return"awardsIcon";case"realty":return"realtyIcon";case"award2022":return"award2gisIcon";case"GreatList":return"greatlistIcon";case"РРФ":return"rrfIcon";default:return}},i=e=>({frameId:t})=>{const{code:s,position:i}=e,a=r(s);if(a)return{uiElement:{name:a,ownerName:"dashboardFrame",frameUuid:t,position:i}}},a=e=>({frameId:t})=>{const{code:s,position:i}=e,a=r(s);if(a)return{uiElement:{name:a,ownerName:"dashboardFrame",frameUuid:t,position:i},action:"tap"}}},44724:(e,t,s)=>{"use strict";s.d(t,{M:()=>j});var r=s(31085),i=s(14041),a=s(71064),n=s(84175),o=s(66698),c=s(82781),d=s(80552),l=s(99259),u=s(69158),p=s(64099),m=s(8365),g=s(45193),h=s(46579),f=s(91466),b=s(95305),v=s(98626);const y="https://2023-awards.2gis.ru?utm_source=dashboard_online&utm_campaign=premiya_2023",x='ООО "Байкал-Сервис ТК"',j=(0,i.memo)((()=>{const{s:e,css:t}=(0,n.I)(w),{_t:s}=(0,c.c)(),{feature2gisAwardPromoAnnouncement:o,feature2gisAwardPromoMain:d,featureAwardPartner:l}=(0,h.U)(),{bssRef:u,useBssHandler:p}=(0,m.E)((0,g.H)({code:"award2022",position:1})),j=p(g.L,{code:"award2022",position:1}),_=(0,i.useCallback)((()=>{j()}),[j]);return d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({ref:u,className:t(e.root)},{children:(0,r.jsxs)(a.A,Object.assign({external:!0,href:y,onClick:_,styles:e.link},{children:[(0,r.jsx)("p",Object.assign({className:t(e.title)},{children:`${s("Премия 2ГИС")}`})),(0,r.jsx)("p",Object.assign({className:t(e.title,e.extraTitle)},{children:s("Победители")})),(0,r.jsx)("p",Object.assign({className:t(e.description)},{children:s("Лучшие компании города по&nbsp;версии пользователей")})),l&&(0,r.jsx)("div",Object.assign({className:t(e.partnerLogo)},{children:(0,r.jsx)(f.i,{src:`${(0,b.c)()}promo2gisAwards/partner-logo.png`,width:81,height:19})}))]}))})),l&&(0,r.jsx)("div",Object.assign({className:t(e.regularErid)},{children:(0,r.jsx)(v.Q,{tiny:!0,gray:!0,source:"banner",erid:["2RanynkWasr"],legalName:x})})),l&&(0,r.jsx)("div",Object.assign({className:t(e.compactErid)},{children:(0,r.jsx)(v.Q,{tiny:!0,gray:!0,source:"banner",erid:["22RanynYN9Jp"],legalName:x})}))]}):o?(0,r.jsx)("div",Object.assign({ref:u,className:t(e.root)},{children:(0,r.jsxs)(a.A,Object.assign({external:!0,href:y,onClick:_,styles:e.link},{children:[(0,r.jsx)("p",Object.assign({className:t(e.title,e.flexTitle)},{children:`${s("Премия 2ГИС")}`})),(0,r.jsx)("p",Object.assign({className:t(e.description)},{children:s("Пользователи выбрали лучшие компании, результаты уже в мае")}))]}))})):null})),w=(0,n.r)((({mobile:e})=>({root:{display:"block",position:"relative",height:e?56:132,boxSizing:"border-box",backgroundSize:"cover",borderRadius:p.Vq.default,backgroundImage:`url(/public/promo2gisAwards/promo-${e?"small":"large"}.jpg)`,[`@media (max-height: ${o.J1}px)`]:{height:56,backgroundImage:"url(/public/promo2gisAwards/promo-small.jpg)"}},link:{display:"block",width:"100%",height:"100%",padding:e?"10px 16px":16,boxSizing:"border-box",[`@media (max-height: ${o.J1}px)`]:{padding:"10px 16px"}},title:Object.assign(Object.assign({},d.Yn),{color:l.T.white,maxWidth:190,"&:hover, &:focus":{color:l.T.white}}),flexTitle:{paddingTop:e?8:0,[`@media (max-height: ${o.J1}px)`]:{paddingTop:8}},extraTitle:Object.assign(Object.assign({},d.HI),{display:e?"inline-block":"none",[`@media (max-height: ${o.J1}px)`]:{display:"inline-block"}}),description:Object.assign(Object.assign({},d.Hg),{maxWidth:163,marginTop:8,color:(0,u.m)(l.T.white,.7),display:e?"none":"inline-block","&:hover, &:focus":{color:(0,u.m)(l.T.white,.7)},[`@media (max-height: ${o.J1}px)`]:{display:"none"}}),partnerLogo:{position:"absolute",bottom:e?10:16,right:e?13:"auto",left:e?"auto":16,[`@media (max-height: ${o.J1}px)`]:{bottom:10,right:13,left:"auto"}},regularErid:{display:e?"none":"block",[`@media (max-height: ${o.J1}px)`]:{display:"none"}},compactErid:{display:e?"block":"none",[`@media (max-height: ${o.J1}px)`]:{display:"block"}}})))},12055:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});const r=new Set(["Москва","Санкт-Петербург","Екатеринбург","Сочи","Красноярск","Ялта","Симферополь","Казань","Краснодар","Геленджик","Нижний Новгород","Челябинск","Калининград","Владивосток","Ярославль","Уфа","Киров","Кострома","Тюмень","Новокузнецк","Тобольск","Мурманск","Самара","Волгоград","Пермь","Альметьевск","Воронеж","Махачкала","Новосибирск","Ростов-на-Дону","Томск","Орел","Кемерово","Владимир","Иркутск","Курган","Тула","Дзержинск","Иваново","Омск","Тверь","Саратов","Пенза","Благовещенск","Архангельск","Йошкар-Ола","Ставрополь","Новороссийск","Тольятти"])},1346:(e,t,s)=>{"use strict";s.d(t,{Q:()=>g});var r=s(31085),i=s(8365),a=s(14041),n=s(12043),o=s(99259),c=s(64433),d=s(84175),l=s(82781),u=s(12579),p=s(80552),m=s(45193);const g=()=>{const{s:e,css:t}=(0,d.I)(h),s=(0,l.c)(),{bssRef:o,useBssHandler:p}=(0,i.E)((0,m.H)({code:"РРФ",position:1})),g=p(m.L,{code:"РРФ",position:1}),f=(0,c.I)(u.bP,{query:"Российский ресторанный фестиваль"}),b=(0,a.useCallback)((()=>{g(),f()}),[g,f]);return(0,r.jsxs)("div",Object.assign({ref:o,onClick:b,className:t(e.root)},{children:[(0,r.jsx)(n.j,{children:(0,r.jsx)("div",{className:t(e.promoRRF)})}),(0,r.jsx)(n.h,{children:(0,r.jsxs)("div",Object.assign({className:t(e.promoRRF)},{children:[(0,r.jsx)("div",{children:s._gg("РРФ 2024")}),(0,r.jsx)("div",Object.assign({className:t(e.erid)},{children:"erid: 2RanynDp6aU"}))]}))})]}))},h=(0,d.r)((({mobile:e})=>({root:{cursor:"pointer"},promoRRF:Object.assign(Object.assign({background:o.T.white,color:o.T.black},p.Yn),{fontWeight:600,fontSize:16,paddingBottom:e?6:0,paddingTop:e?15:0,paddingStart:e?16:0,paddingEnd:e?16:0,borderRadius:e?4:7,backgroundImage:e?"url(/public/rrf/rrfLogo.png)":"url(/public/rrf/restFestBig.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:e?"auto":132,backgroundPosition:e?"right":"center"}),erid:Object.assign(Object.assign({},p.nU),{fontSize:4,opacity:.7,marginTop:3,letterSpacing:-.2})})))},83104:(e,t,s)=>{"use strict";s.d(t,{D:()=>m});var r=s(31085),i=s(14041),a=s(4431),n=s(97984),o=s(7515),c=s(27248),d=s(21252),l=s(48914),u=s(7335);class p extends i.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,r.jsx)(n.L,{}),this.handleClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(),this.props.bssOnClick()}}render(){return(0,r.jsx)(c.W,Object.assign({type:"rubrics"},{children:e=>(0,r.jsx)(a.D,{href:e,icon:this.renderIcon,title:this.props.i18n.tp._t("Рубрики"),onClick:this.handleClick,dataT:"rubricator"})}))}}const m=(0,d.f)(void 0,(e=>({bssOnClick(){e((0,u.eU)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,l.cD)({uiElement:{name:"rubricatorIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))((0,o.Q)()(p))},74690:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var r=s(91818);const i=()=>(0,r.oC)("openFavorites")},77620:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var r=s(12017),i=s(27892),a=s(35023),n=s(29787);const o=(0,r.n5)("openDeliveryOrderPopup",(({productId:e,entityId:t,source:s})=>(0,n.PC)((0,i.PB)({id:(0,a.W7)(),type:"deliveryOrder",productId:e,entityId:t,source:s}))))},78926:(e,t,s)=>{"use strict";s.d(t,{nN:()=>n});var r=s(39064),i=s(80905);const a=e=>"direction"===e.type;function n(e){const t=(0,i.bB)(e.appContext.frames,"direction");return t&&a(t)?t:void 0}(0,r.m)(a)},13843:(e,t,s)=>{"use strict";s.d(t,{P:()=>b});var r=s(77027),i=s(35023),a=s(66698),n=s(12017),o=s(25872),c=s(34686),d=s(74182),l=s(77424),u=s(13971),p=s(69929),m=s(90555),g=s(59172),h=s(26893),f=s(64438);function b(e={}){var t;const s=(0,i.W7)(),b=(0,i.W7)(),v=function(e){switch(e){case"car":case"truck":case"bus":case"pedestrian":return e;default:return a.ye}}(e.tab),y=function(e){const t=Math.max(0,a.vl-e.length);return(t?e.concat(Array(t).fill(void 0)):e.slice(0,a.Fj)).map((e=>(0,l.n)(e)))}(e.points||[]),x=(0,u.E)(y)?y:void 0,j=(0,u.E)(y)?(0,i.W7)():void 0,{filterValues:w,isMetroSchemeMode:_}=e,C=null===(t=(0,f.z)())||void 0===t?void 0:t.ppng,I={[v]:w};return I.truck=I.truck||C,(0,n.K2)((0,r.fL)({id:s,type:"directions",statusId:b,tab:v,points:y,searchId:(0,d.vt)(j),filterValuesByTab:I,filterPanelState:(0,i.Im)(w)||_?"manuallyClosed":"auto",isPpngSelected:"truck"===v,isMetroSchemeMode:_}),(0,n._7)((0,m.Y)({tab:v}),...y.map(p.Q)),(0,g.v)(),!!j&&!!x&&(0,n.K2)((0,o.J)(),(0,c.O)({searchId:j})),(0,h.x)())}},49109:(e,t,s)=>{"use strict";s.d(t,{GQ:()=>c,Iz:()=>n,Sy:()=>d,yj:()=>o});var r=s(39064),i=s(80905),a=s(84642);function n(e){return"directions"===e.type}function o(e){const t=(0,i.bB)(e.appContext.frames,"directions");return t&&n(t)?t:void 0}const c=(0,r.m)(n),d=(0,a.W)(n)},37051:(e,t,s)=>{"use strict";s.d(t,{X:()=>o});var r=s(45302),i=s(82393),a=s(49109),n=s(43793);const o=e=>{var t;const s=(0,a.yj)(e);if(!s||"car"===s.tab||"truck"===s.tab)return(0,i.JC)(e);const o=(0,n.X)(s);if(!o)return(0,i.JC)(e);const c=null===(t=(0,r.l4)({searchId:o,state:e}))||void 0===t?void 0:t.data;return c&&"projectCode"in c?c.projectCode:(0,i.JC)(e)}},25872:(e,t,s)=>{"use strict";s.d(t,{J:()=>v});var r=s(85608),i=s(3119),a=s(31823),n=s(1021),o=s(95983),c=s(7335),d=s(57744),l=s(15582),u=s(49109),p=s(74182),m=s(13971),g=s(37051),h=s(77664),f=s(82393),b=s(52160);function v(){return(0,c.RC)({locale:d.u,viewpoint:l.Pz,zoom:e=>e.appContext.zoom,frame:u.yj,profile:e=>e.data.entity.profile,region:e=>(0,f.$4)({state:e,code:(0,g.X)(e)||""}),segmentCode:e=>(0,b.kB)(e)},(({locale:e,viewpoint:t,zoom:s,frame:c,profile:d,region:l,segmentCode:u})=>{if(!c)return;const{tab:g,searchId:f,points:b,filterValuesByTab:v}=c,y=v[g],x=(0,p.At)(f),j=(0,h.J)(b,g),w=(0,m.E)(j)?j.map((e=>{var t,s;const{entityId:i}=e,a=(0,r.Tt)(e,["entityId"]),n=i?null===(t=d[i])||void 0===t?void 0:t.data:void 0;return i&&n?"group"in n&&(null===(s=n.group)||void 0===s?void 0:s.some((e=>"adm_div"===e.type&&"place"===e.subtype)))?a:e:a})):void 0;if(x&&w)switch(g){case"car":return(0,a.s)({searchId:x,points:w,locale:e,viewpoint:t,zoom:s});case"truck":return(0,n.s)({searchId:x,locale:e,points:w,viewpoint:t,zoom:s,filterValues:y});case"bus":return(0,i.i)({searchId:x,projectCode:(null==l?void 0:l.code)||u,points:w,locale:e,viewpoint:t,zoom:s,filterValues:y});case"pedestrian":return(0,o.a)({searchId:x,projectCode:(null==l?void 0:l.code)||u,points:w,locale:e,viewpoint:t,zoom:s})}}))}},90555:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l});var r=s(7335),i=s(45302),a=s(53896),n=s(12017),o=s(81866),c=s(37051),d=s(82393);function l({tab:e}){return"bus"!==e?(0,n.lQ)():(0,r.eU)((e=>(0,d.$4)({state:e,code:(0,c.X)(e)||""})),(e=>(null==e?void 0:e.flags.public_transport)?(0,o.s)((0,i.W4)(e.code),(0,a.V)({projectCode:e.code})):(0,n.lQ)()))}},69929:(e,t,s)=>{"use strict";s.d(t,{Q:()=>u});var r=s(12017),i=s(82393),a=s(35606),n=s(46287),o=s(63041),c=s(65668),d=s(12148),l=s(7335);function u(e){if((0,c.p)(e)||(0,d.Yk)(e))return(0,r.lQ)();const{lonLat:t,searchId:s,entityId:u}=e;return(0,l.eU)((e=>(0,n.tx)({state:e,searchId:s,entityId:u})),(e=>e&&e.meta&&"error"!==e.meta.status?(0,r.lQ)():u?(0,o.x7)({id:u,searchId:s,clickPoint:t}):(0,l.RC)({zoom:e=>e.appContext.zoom,is3dEnabled:e=>e.session.is3dEnabled,projectId:i.MJ},(({zoom:e,is3dEnabled:r,projectId:i})=>!!e&&(0,l.Cl)((n=>(0,a.tc)({point:t,searchId:s,viewpoint:n,is3dEnabled:r,zoom:Math.ceil(e),regionId:i||"0"})))))))}},34686:(e,t,s)=>{"use strict";s.d(t,{O:()=>g});var r=s(12017),i=s(7335),a=s(45302),n=s(24872),o=s(15582),c=s(6514),d=s(9729),l=s(19263),u=s(66698);function p(e){switch(e.type){case"ppna":case"ppng":case"pedestrian":return function(e){let t=[];return e.forEach((e=>{e.begin_pedestrian_path&&(t=t.concat(m(e.begin_pedestrian_path.geometry.selection))),(e.maneuvers||[]).forEach((e=>{const s=e.outcoming_path&&e.outcoming_path.geometry;s&&s.forEach((e=>{t=t.concat(m(e.selection))}))})),e.end_pedestrian_path&&(t=t.concat(m(e.end_pedestrian_path.geometry.selection)))})),t}(e.items);case"ppnot":return function(e){let t=[];return e.forEach((e=>{e.movements.forEach((e=>{(e.alternatives?e.alternatives[0].geometry.map((e=>e.selection)):[]).forEach((e=>{t=t.concat(m(e))}))}))})),t}(e.items)}}function m(e){const t=(0,l.sX)(e);return t&&t.length?t.map((e=>[e.lon,e.lat])):[]}const g=(0,r.n5)("fitDirectionsSearchInMapView",(({searchId:e,movementId:t,directionId:s})=>(0,i.eU)((t=>(0,a.l4)({searchId:e,state:t})),(e=>{if(!e)return;const{data:r,meta:a}=e;return a&&"success"===a.status&&r?(0,i.eU)((e=>function({directionsData:e,state:t,routeId:s,movementId:r}){const i=(0,o.kD)(t);let a;if(s&&r){if("ppnot"!==e.type)return;const t=e.items.filter((e=>e.id===s)),i=t[0].movements.filter((e=>e.id===r)),n=[Object.assign(Object.assign({},t[0]),{movements:i})];a=p(Object.assign(Object.assign({},e),{items:n}))}else a=p(e);if(!a.length)return;const n=(0,c.Y)(t.session.screen,i),l=(0,d.getCenterZoomByPoints)(a,t.appContext.rotation,[n.width,n.height]);return l?{lon:l.center[0],lat:l.center[1],zoom:Math.min(l.zoom,16)-u.qh}:void 0}({directionsData:r,state:e,routeId:s,movementId:t})),(e=>e&&(0,n.xZ)(e))):void 0}))))},59172:(e,t,s)=>{"use strict";s.d(t,{v:()=>o});var r=s(12017),i=s(56803),a=s(49109),n=s(59954);function o(){return(0,r.Q2)((e=>{const t=(0,a.yj)(e);if(!t)return;let s=!1;const r=t.points.map((t=>{if(t&&"point"===t.type&&!t.entityId){const r=(0,i.nJ)({state:e,searchId:t.searchId});if(r!==n.K0)return s=!0,Object.assign(Object.assign({},t),{entityId:r})}return t}));return s?(0,a.GQ)(t.id,(e=>Object.assign(Object.assign({},e),{points:r}))):void 0}))}},38337:(e,t,s)=>{"use strict";s.d(t,{J:()=>x});var r=s(12017),i=s(25872),a=s(34686),n=s(49109),o=s(77027),c=s(35023),d=s(74182),l=s(7335),u=s(13971),p=s(69929),m=s(90555),g=s(29787),h=s(59172),f=s(77664),b=s(66698),v=s(65668),y=s(26893);function x({frameId:e,tab:t,framePoints:s,filterValues:x,filterPanelState:j,dontClearEmptyAdditional:w,skipHistoryPush:_}){const C=s.length>b.vl&&!w&&(0,v.p)(s[s.length-1])?s.slice(0,s.length-1):s,I=(0,f.J)(C,t),k=(0,u.E)(I)?(0,c.W7)():void 0;return(0,r.K2)(!_&&(0,g.PC)(),(0,n.GQ)(e,(e=>Object.assign(Object.assign({},e),{tab:t,points:C,searchId:k?(0,d.fY)(e.searchId,k):(0,d.vt)(void 0),activeDirectionId:void 0,filterValuesByTab:x?Object.assign(Object.assign({},e.filterValuesByTab),{[t]:x}):e.filterValuesByTab,filterPanelState:j||e.filterPanelState,isPpngSelected:"truck"===t||"car"!==t&&e.isPpngSelected}))),(0,o.hU)({id:e}),(0,r._7)(!!k&&(0,r.K2)((0,i.J)(),function({frameId:e,searchId:t}){return t?(0,l.CG)(e,n.Iz,(s=>(0,d.At)(s.searchId)===t&&(0,n.GQ)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,d.ZS)(e.searchId)}))))):(0,r.lQ)()}({frameId:e,searchId:k}),(0,a.O)({searchId:k})),(0,m.Y)({tab:t}),...C.map((e=>(0,p.Q)(e))),(0,h.v)()),(0,y.x)())}},26893:(e,t,s)=>{"use strict";s.d(t,{x:()=>u});var r=s(12017),i=s(80905),a=s(82393),n=s(49109),o=s(46287),c=s(52160),d=s(7335),l=s(91565);const u=(0,r.n5)("updatePpngFiltersAvailability",(()=>(0,r.NV)((({featureFullCoveragePPNG:e})=>(0,r.Q2)((t=>{const s=(0,i.bB)(t.appContext.frames,"directions");if(!s||!p(s))return(0,r.lQ)();if(e)return(0,n.GQ)(s.id,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})));const u=[...s.points.map((e=>{var s;return"point"===(null==e?void 0:e.type)&&e.entityId?null===(s=(0,o.DE)({state:t,entityId:e.entityId}).data)||void 0===s?void 0:s.region_id:void 0})),(0,a.MJ)(t)].map((e=>function(e,t){if(e)return(0,n.Sy)((s=>p(s)?(0,r.K2)((0,r.Q2)((t=>(0,l.cx)(t,e))),(0,d.eU)((t=>{var s;return null===(s=(0,c.b7)({state:t,id:e}))||void 0===s?void 0:s.data}),(e=>function(e){return!!e&&!!e.flags.truck_graph}(e)&&(0,n.GQ)(t,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})))))):(0,r.lQ)()))}(e,s.id)));return(0,r.K2)(...u)}))))));function p(e){return e&&["car","truck"].includes(e.tab)&&!e.isPpngFiltersAvailable}},75456:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var r=s(35023),i=s(24855),a=s(2895),n=s(66698),o=s(65668),c=s(12148);function d(e,t,s){if((0,o.p)(e)){if(!(0,r.O9)(s))return;return t.length>n.vl?(0,a.T)(t,s):(0,i.H)(t,void 0,s)}const c=(0,r.O9)(s)?s:t.findIndex(o.p);if(c<0)return;let d=t;return l(e,t[c-1])&&(d=(0,i.H)(d,void 0,c-1)),l(e,t[c+1])&&(d=(0,i.H)(d,void 0,c+1)),(0,i.H)(d,e,c)}function l(e,t){return!((0,o.p)(e)||(0,o.p)(t)||(!(0,c.Yk)(e)||!(0,c.Yk)(t))&&((0,c.Yk)(e)||(0,c.Yk)(t)||e.entityId!==t.entityId||e.lonLat.lon!==t.lonLat.lon||e.lonLat.lat!==t.lonLat.lat))}},77424:(e,t,s)=>{"use strict";s.d(t,{n:()=>a});var r=s(35023),i=s(12148);function a(e,t){return e?(0,i.Yk)(e)?e:Object.assign(Object.assign({},e),{searchId:t||(0,r.W7)()}):void 0}},23196:(e,t,s)=>{"use strict";function r(e){return"car"===e||"pedestrian"===e}s.d(t,{d:()=>r})},13971:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var r=s(66698),i=s(65668);function a(e){const t=e.reduce(((e,t)=>{if((0,i.p)(t))return e;const s=t.lonLat;return s?e.concat({type:"point",lonLat:s,entityId:"entityId"in t?t.entityId:void 0}):e}),[]);return t.length===e.length&&t.length>=r.vl}},65668:(e,t,s)=>{"use strict";function r(e){return!e}s.d(t,{p:()=>r})},64438:(e,t,s)=>{"use strict";s.d(t,{S:()=>n,z:()=>a});var r=s(4340);const i="pp_filters",a=()=>{if("undefined"==typeof window)return;const e=r.IG.local.getItem(i);return e?JSON.parse(e):void 0},n=e=>{"undefined"!=typeof window&&r.IG.local.setItem(i,JSON.stringify({ppng:e}))}},77664:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});var r=s(23196),i=s(66698);function a(e,t){return e.length<=i.vl||(0,r.d)(t)?e:[e[0],e[e.length-1]]}},52342:(e,t,s)=>{"use strict";s.d(t,{D:()=>p});var r=s(12017),i=s(27892),a=s(7335),n=s(84082),o=s(32065),c=s(35023),d=s(61165),l=s(10522),u=s(15401);const p=(0,r.n5)("openEditFavorite",(e=>(0,a.eU)(m(e),(t=>(0,i.PB)(Object.assign(Object.assign({},t),{id:(0,c.W7)(),type:"editFavorite",item:e})))))),m=e=>t=>{const s={},r=(0,l.cd)(t),i=(0,l.cU)(t),a=(0,u.b)(null==r?void 0:r.point,e.point)||(null==r?void 0:r.object_id)===e.object_id,c=(0,u.b)(null==i?void 0:i.point,e.point)||(null==i?void 0:i.object_id)===e.object_id;return(0,o.sm)((0,n.b1)(t)).forEach((t=>{if(t&&"favorite"===t.type&&(0,d.K)(t,e)){const e=t.collection_id;e&&(s[e]=!0)}})),{collectionsInitial:s,collectionsCurrent:s,homeInitial:a,workInitial:c,homeCurrent:void 0,workCurrent:void 0}}},4013:(e,t,s)=>{"use strict";s.d(t,{K7:()=>c,cT:()=>l,go:()=>d});var r=s(98379),i=s(50432),a=s(80905),n=s(16641),o=s(21959);const c=({ownerFrameId:e},t)=>{const s=(0,a.w1)(t.appContext.frames,e);if(!s||"entity"!==s.type)return void(0,i.vV)({message:"Попытка показать фрейм, которого нет",level:"warn",id:"iq3n4",payload:{type:"debug",subtype:"InconsistentState",data:t.appContext.frames.map((e=>e.type)).reverse().join(";")||"dashboard"}});const c=(0,o.LE)(t),d=(0,r.t)({state:t,entityFrameId:e});d||(0,i.vV)({message:"Не удалось сформировать payload для события показа полной карточки организации placeCardFull",level:"error",id:"kgvq5",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,a.w1)(t.appContext.frames,e))}});const l=(null==d?void 0:d.entity.id)?n.bK.get()[(0,n.QO)({entityId:d.entity.id,userId:c})]:void 0,u=l?{hasNote:!!l}:void 0;return{uiElement:{name:"placeCardFull",frameUuid:e},payload:{placeItem:d?Object.assign(Object.assign({},d),{adsId:void 0}):void 0,noteItem:u}}},d=e=>({frameId:t},s)=>{const{tag:i,name:a,ownerName:n}=e;return{uiElement:{name:"award2gisLink",ownerName:n,frameUuid:t},payload:{placeItem:(0,r.t)({state:s,entityFrameId:t}),awardItem:{id:i,name:a}}}},l=({tag:e,name:t,ownerName:s,link:i})=>({frameId:a},n)=>({uiElement:{name:"award2gisLink",ownerName:s,frameUuid:a},action:"tap",payload:Object.assign({placeItem:(0,r.t)({state:n,entityFrameId:a}),awardItem:{id:e,name:t}},i?{link:{value:i}}:{})})},16546:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var r=s(31085),i=s(87543),a=s(1626);const n=e=>"loading"===e.asyncStatus?(0,r.jsx)(i.Y,{hasPinnedGoods:e.hasPinnedGoods}):(0,r.jsx)(a.$,{code:500})},27337:(e,t,s)=>{"use strict";s.d(t,{c:()=>p});var r=s(12017),i=s(46287),a=s(51143),n=s(8335),o=s(48699),c=s(28631),d=s(73865),l=s(51021),u=s(20091);function p(e){return(0,r._7)((0,o.TE)(["Beta","Card_flight_around","Click"]),(0,r.Q2)((t=>{const{rotation:s,zoom:r,pitch:i}=t.appContext;if(!t.session.is3dEnabled)return;const o=m(t);if(!o||!o.data)return;const d=(0,a.d)({entity:o.data,state:t});if(!d)return;const p=[{main:[{zoom:17,duration:c.P5,pitch:45,center:[d.lon,d.lat]}]},{main:[{rotation:s-150,duration:c.L5/2,easing:"easeInSine"}]},{main:[{rotation:s-300,duration:c.L5/2,easing:"easeOutSine"}]},{main:[{zoom:r,duration:c.P5,rotation:s,pitch:i}]}];return function(e,t){let s=0;const r=[];t.forEach((t=>{const i=t.main,a=t.background;if(a){const t=window.setTimeout((()=>{e((0,n.m3)(a))}),s);r.push(t)}i.forEach((t=>{const i=window.setTimeout((()=>{e((0,n.m3)(t))}),s);r.push(i),s+=t.duration||0}))}))}(e,p),(0,l.n)((0,u.X_)({isMinimized:!0}))})))}function m(e){const t=e.appContext.frames[0];switch(t.type){case"entity":return(0,i.Tq)({state:e,entityId:t.entityId});case"realtyCard":{const t=(0,d.X)(e);if(!t)return;return(0,i.Tq)({state:e,entityId:t})}}}},28631:(e,t,s)=>{"use strict";s.d(t,{Gp:()=>j,L5:()=>b,P5:()=>v});var r=s(31085),i=s(14041),a=s(7515),n=s(33626);const o=(0,s(66333).Mz)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),c=(0,n.tr)(((e,t)=>o({state:e,props:t})));var d=s(27337);const l=(0,n.Yn)((e=>({onClick:()=>e((0,d.c)(e))})));var u=s(26461),p=s(96141),m=s(21252),g=s(48914),h=s(98379),f=s(7335);const b=4e3,v=1e3,y=b+2*v;class x extends i.PureComponent{constructor(){super(...arguments),this.state={isDisabled:!1},this.handleClick=()=>{this.setState({isDisabled:!0}),this.props.onClick(),this.props.bssOnFlightAroundClick(),setTimeout((()=>this.setState({isDisabled:!1})),y)}}render(){const{i18n:{tp:e},is3d:t}=this.props;return t?(0,r.jsx)(p.$,Object.assign({appearance:"default",compact:!0,onClick:this.handleClick,disabled:this.state.isDisabled},{children:e._t("Рассмотреть")})):null}}x.displayName=(0,u.d)("src/modules/entity/containers/content/containers/flightAround");const j=(0,m.f)(void 0,((e,{ownerFrameId:t,ownerName:s})=>({bssOnFlightAroundClick(){e((0,f.eU)((e=>(0,h.t)({state:e,entityFrameId:t})),(e=>{if("TODO_REALTY_BSS_FAKE_OWNER_NAME_FOR_ADDRESS"===s)return;const r={uiElement:{name:"descry",ownerName:s,frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,g.cD)(r)})))}})))((0,n.Ng)(c,l)((0,a.Q)()(x)))},62363:(e,t,s)=>{"use strict";s.d(t,{D8:()=>v,Ip:()=>f,$4:()=>g,Is:()=>h});var r=s(85608),i=s(78170),a=s(66333),n=s(46287),o=s(15582),c=s(80905),d=s(76125),l=s(82393),u=s(92448),p=s(9729),m=s(53790);const g=12,{use:h,prefetch:f,withQueryData:b}=(0,i.r)("realty-tab-search",(e=>[[e.geo_id,e.locale,e.category_ids,e.filters],({services:t,context:s})=>(0,r.sH)(void 0,void 0,void 0,(function*(){return yield t.marketApi.getRealtyItems(Object.assign(Object.assign({},e),{page:Number(s.pageParam)||1,pageSize:g}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:(e,t)=>g*(t.length-1)+e.items.length<e.total?t.length+1:void 0}),v=(0,a.Mz)([e=>(0,c.bB)(e.appContext.frames,"entity"),e=>{var t;const s=null===(t=(0,c.bB)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId;return s?(0,n.DE)({state:e,entityId:s}).data:void 0},o.Pz,l.zN],((e,t,s,r)=>{var i,a;const n="building"===(null==e?void 0:e.entityType)||"branch"===(null==e?void 0:e.entityType)?(0,d.$)(t):null==e?void 0:e.entityId,o=null===(i=null==e?void 0:e.tabRealty)||void 0===i?void 0:i.currentCategoryValue,c="building"===(null==e?void 0:e.entityType)||(0,m._)(t)||"branch"===(null==e?void 0:e.entityType)?"":u.gI.sale.categoryId,l=o||c,g=(null==t?void 0:t.point)&&!(0,m._)(t)?function(e){const{point:t,radius:s=500}=e,r=[t.lon,t.lat],i=(0,p.lonLatToMapPoint)(r),a=(0,p.geoToMapDistance)(r,s),n=2*Math.PI/20,o=[];for(let e=0;e<20;e++){const t=n*e,s=i[0]+a*Math.cos(t),r=i[1]+a*Math.sin(t);o.push((0,p.mapPointToLonLat)([s,r]))}return`POLYGON((${o.reduce(((e,t)=>e.concat(`${t[0]} ${t[1]}`)),[]).concat(`${o[0][0]} ${o[0][1]}`).join(",")}))`}({point:null==t?void 0:t.point}):void 0;if(n&&s)return Object.assign(Object.assign({geometry:g,region_id:r,viewpoint:s,locale:"ru_RU",geo_id:n},l&&{category_ids:l}),{filters:null===(a=null==e?void 0:e.tabRealty)||void 0===a?void 0:a.currentFiltersValues})}))},33118:(e,t,s)=>{"use strict";s.d(t,{j:()=>o});var r=s(31085),i=s(10048),a=s(58471),n=s(16546);const o=e=>(0,r.jsx)(i.w,{loader:a.b.reviewsTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(n.z,{asyncStatus:e})})},54477:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var r=s(73581);function i({activeDirectionId:e,frameId:t}){return(0,r.$e)(t,(t=>Object.assign(Object.assign({},t),{activeDirectionId:e})))}},50548:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var r=s(12017),i=s(29787),a=s(66944),n=s(36539),o=s(77027),c=s(76125);function d(e){const{entity:t,tab:s,frame:d}=e;return(0,r.K2)((0,i.PC)(),(0,o.hU)({id:d.id}),(0,a.pd)({entityId:t.id,frameId:d.id,tab:s,searchId:(0,n.z)(d,s),buildingId:(0,c.$)(t),tabQuery:"inside"===s&&d.tabInside?d.tabInside.query:void 0,filterValues:"inside"===s&&d.tabInside?d.tabInside.filterValues:void 0}))}},83438:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});var r=s(12017),i=s(27892),a=s(35023);const n=(0,r.n5)("openVideoPlayerByEntity",(({entityId:e,searchId:t,isFmcg:s})=>{const r=(0,a.W7)();return(0,i.PB)({id:r,type:"entityVideoPlayer",isPopupGlassDark:!0,entityId:e,searchId:t,isFmcg:s})}))},53772:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(12017),i=s(27892),a=s(35023),n=s(29787);const o=(0,r.n5)("erirPopup",(e=>(0,n.PC)((0,i.PB)(Object.assign({id:(0,a.W7)(),type:"erir"},e)))))},89571:(e,t,s)=>{"use strict";s.d(t,{E:()=>u});var r=s(12017),i=s(77027),a=s(35023),n=s(69395),o=s(29787),c=s(37163),d=s(7335);const l=(0,r.n5)("openExchangeFrame",((e,t,s)=>(0,r.NV)((c=>c.featureExchange?(0,r.K2)((0,d.RC)({zoom:e=>e.appContext.zoom,center:e=>e.appContext.center},(({zoom:r,center:n})=>(0,o.PC)((0,i.fL)({type:"exchange",filterPanelState:"auto",id:(0,a.W7)(),page:e||1,scrollId:(0,a.W7)(),searchId:(0,a.W7)(),zoom:r,center:n,action:null==s?void 0:s.action,currencyCode:null==s?void 0:s.currencyCode,volume:null==s?void 0:s.volume,filterValues:t})))),(0,n.Tl)({suggesterKey:"primary",query:void 0})):(0,r.lQ)())))),u=(0,r.n5)("openExchange",(()=>(0,r.NV)((e=>e.featureExchange?(0,r.K2)((0,r.gd)(l()),(0,c.cK)("exchange")):(0,r.lQ)()))))},31610:(e,t,s)=>{"use strict";function r(e){return"exchange"===e.type}s.d(t,{p:()=>r,x:()=>i});const i=(0,s(39064).m)(r)},93818:(e,t,s)=>{"use strict";s.d(t,{H:()=>u});var r=s(85608);const i=(0,s(3398).createModel)("exchangeItems",(({services:e},t,s)=>({fetch(){return(0,r.sH)(this,void 0,void 0,(function*(){return s||(yield e.marketApi.getExchangeItems(t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var a=s(79594),n=s(54752),o=s(57744),c=s(31610),d=s(14041),l=s(15582);function u(){const e=(0,a.d4)(o.u),t=(0,a.d4)((e=>e.appContext.frames.find(c.p))),s=(0,a.d4)(l.Pz),r=(0,d.useMemo)((()=>s),[null==t?void 0:t.zoom,null==t?void 0:t.center,null==t?void 0:t.filterValues,null==t?void 0:t.action,null==t?void 0:t.volume,null==t?void 0:t.currencyCode,null==t?void 0:t.searchId]),u=(0,n.fn)(t?i({viewpoint:r,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode,page:t.page,page_size:12,frameId:t.id}):void 0),m=(0,d.useMemo)((()=>Object.assign(Object.assign({},u),{data:p(u.data)})),[u]);return"undefined"==typeof window?n.Ml:m}const p=e=>{if(e)return Object.assign(Object.assign({},e),{pages:Math.ceil(e.total/12)})}},76087:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var r=s(73861);const i=e=>{if(!e)return;let t=String(e);if(!t.includes("."))return`${(0,r.B)(e)},00`;t=t.replace(".",",");const[s,i]=t.split(",");return`${(0,r.B)(parseInt(s))},${1===i.length?i+"0":i.slice(0,2)}`}},34857:(e,t,s)=>{"use strict";s.d(t,{V:()=>a,i:()=>i});var r=s(76087);const i="--,--",a=({data:e,frame:t,short:s})=>{const{bid:i,offer:a,rate:o,total_amount:c}=e,{action:d}=t,l=o&&"buy"===d?o:a,u=o&&"sell"===d?o:i,p=(0,r.n)(l),m=(0,r.n)(u),g=(0,r.n)(c);if(!t.action)return[n({value:p,type:"buy"}),n({value:m,type:"sell"})];const h="buy"===t.action?p:m;return t.volume?s?[n({value:g,type:"result"})]:[n({value:h,type:t.action}),n({value:g,type:"result"})]:[n({value:h,type:t.action})]},n=e=>({type:e.type,value:e.value?e.value:i})},15417:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});var r=s(12017),i=s(77027);const a=(0,s(84642).W)((function(e){return"userFriendsActivity"===e.type})),n=(0,r.n5)("closeUserFriendsActivityFrame",(()=>a((e=>e?(0,i.kg)():(0,r.lQ)()))))},1243:(e,t,s)=>{"use strict";s.d(t,{z:()=>h});var r=s(66698),i=s(12017),a=s(35023),n=s(25346),o=s(13179),c=s(10109),d=s(77027),l=s(74786),u=s(7335),p=s(71085),m=s(61120),g=s(47919);function h(e){const{entityId:t,searchId:s,entityType:h,photoId:f,photoAlbum:b}=e,v=(0,a.W7)();return(0,u.RC)({queryCtx:p.y,searchKeyword:(0,g.QW)(t)},(({queryCtx:e,searchKeyword:a})=>{var u;const p=(0,n.lq)({objectId:t}),g=(0,l.MV)(e),y=m.S$?(0,i.lQ)():(0,o.$D)({id:t,albumId:null!==(u=null==b?void 0:b.id)&&void 0!==u?u:r.Qh,searchCtx:g,searchKeyword:a}),x=f&&!m.S$?(0,c.y)({photoId:f}):(0,i.lQ)();return(0,i._7)(p,y,x,(0,d.fL)({id:v,type:"gallery",entityType:h,photoId:f,entityId:t,searchId:s,photoAlbum:b}))}))}},53180:(e,t,s)=>{"use strict";s.d(t,{$0:()=>z,Ak:()=>U,Br:()=>M,CU:()=>E,EQ:()=>L,K7:()=>I,Xr:()=>k,Xy:()=>O,YJ:()=>R,dH:()=>P,dh:()=>S,hJ:()=>T,qk:()=>A});var r=s(48914),i=s(56803),a=s(7335),n=s(99906),o=s(80905),c=s(19519),d=s(16205),l=s(50432),u=s(12017),p=s(7818),m=s(14414),g=s(35023),h=s(7540),f=s(57744),b=s(82393),v=s(60695),y=s(31610),x=s(63892),j=s(66367),w=s(20371),_=s(46287),C=s(21329);const I=(e,t)=>(0,n.f_)({state:t,name:"map",uuid:e.ownerFrameId});function k(){return(0,a.RC)({mapUuid:e=>e.appContext.staticFrames.map.id},(({mapUuid:e})=>{const t={uiElement:{name:"favoritesMapIcon",ownerName:"map",frameUuid:e},action:"tap"};return(0,r.cD)(t)}))}function O(e,t){return(0,a.RC)({search:e=>(0,i.s8)({state:e,searchId:t.searchId}),mapUuid:e=>e.appContext.staticFrames.map.id},(({search:s,mapUuid:i})=>{var a,n,o;const d={uiElement:{name:"mapMarker",ownerName:N(e,s.data&&s.data.searchSourceType),frameUuid:i},action:"tap",payload:{mapMarker:{scale:(0,c.j)(e.currentType),adsHighlight:"commercial"===e.type,hasLogo:!!(null===(n=null===(a=t.ads)||void 0===a?void 0:a.options)||void 0===n?void 0:n.marker_logo)||void 0,rubricType:(0,C.Y)(e,t),hasActivities:!!(null===(o=t.friends)||void 0===o?void 0:o.total)}}};return(0,r.cD)(d)}))}function S(e){return(0,a.RC)({mapUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>({geoPosition:(0,p.U)({lon:e.lonLat[0],lat:e.lonLat[1]}),entity:{type:"building",id:e.buildingId,segmentInfo:(0,h.o)({locale:(0,f.u)(t),region_id:(0,b.MJ)(t)})}})},(({mapUuid:t,placeItem:s})=>{const i={uiElement:{name:"realtyMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{placeItem:s,mapMarker:{scale:(0,c.j)(e.currentType),mapLayer:"realtyLayer"}}};return(0,r.cD)(i)}))}function T(e){return(0,a.RC)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>(0,o.bB)(e.appContext.frames,"realtyCard")},(({mapUuid:t,frame:s})=>{const i=(0,j.Iu)(s);return i?(0,j.N5)(i,(s=>{if(!s||!s.data)return(0,u.lQ)();const{data:i}=e,a=(0,x.h)({realtyItem:s.data});if(!a)return(0,l.vV)({message:"Не удалось сформировать payload.productOfferItem для события показа блока инфраструктуры v-gvroz",level:"error",id:"fd12s",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.lQ)();const n={uiElement:{name:"infrastructureMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{infrastructureItem:{tagName:null==i?void 0:i.mainInfrastructureType},productOfferItem:a}};return(0,r.cD)(n)})):(0,u.lQ)()}))}function E(e){const t=e.isCommercial&&e.entity?(0,p.ij)({entity:e.entity}):void 0;return(0,a.eU)((e=>e.appContext.staticFrames.map.id),(s=>(0,r.cD)({uiElement:{name:"POI",ownerName:"map",frameUuid:s},action:"tap",payload:{POI:(0,w.T)(e),placeItem:t},dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function M({id:e,adsPriority:t}){return(0,a.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>{const s=(0,_.DE)({state:t,entityId:e}).data;return s&&(0,p.ij)({entity:s})}},(({mapBssUuid:e,placeItem:s})=>(0,r.X_)({uiElement:{name:"POI",ownerName:"map",frameUuid:e},payload:{POI:{adsPriority:t,adsHighlight:!0},placeItem:s},showEventKey:(0,g.W7)()})))}function P(e){return(0,a.eU)((e=>e.appContext.staticFrames.map.id),(t=>(0,r.cD)({uiElement:{name:"stationIcon",ownerName:"routeGeometry",frameUuid:t},action:"tap",dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function L(e){const{entity:t,isModel3d:s,forcedEventOrdinal:i}=e;return(0,a.eU)((e=>e.appContext.staticFrames.map.id),(e=>s?t?(0,r.cD)({action:"tap",uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:(0,p.ij)({entity:t})},dangerouslyForcedEventOrdinal:i}):((0,l.vV)({message:"Не удалось отправить сообщение для тапа в рекламную 3d-модель на карте",level:"error",id:"m2n3j",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.lQ)()):(0,r.cD)({uiElement:{name:"mapObject",ownerName:"map",frameUuid:e},action:"tap",dangerouslyForcedEventOrdinal:i})))}function N(e,t){switch(t){case"filial":return"filialsList";case"firmsInBuilding":return"buildingOrgsList";default:return e.data&&e.data.type&&("offer"===e.data.type||"product"===e.data.type)?"product"===e.data.type?"productsList":"productOffersList":"searchResultsList"}}function A(){return(0,a.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,query:e=>{const t=(0,o.bB)(e.appContext.frames,"search");return t&&t.query||""},rubric:e=>{const t=(0,o.bB)(e.appContext.frames,"search");if(t&&"query"===t.searchType)return t.tabCatalog.rubricId||(0,o.al)(t)}},(({mapBssUuid:e,query:t,rubric:s})=>(0,r.cD)({uiElement:{name:"map",frameUuid:e},action:"dragAndDrop",payload:{searchRequest:{text:t,entities:s?[{id:s,type:"rubric"}]:[]}}})))}function R(e,t){return(0,a.RC)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:s=>(0,m.E)((0,g.ox)(e.id),t.searchId)(s)},(({mapUuid:e,entity:s})=>{const i=(0,d.d)(t);if(!i||!s)return(0,l.vV)({message:"Не удалось отправить сообщение для тапа СТА в карте",level:"error",id:"ksdnkd",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.lQ)();const a={action:"tap",uiElement:{name:"callToActionButton",ownerName:"mapMarker",frameUuid:e},payload:{callToAction:{actionType:i.type,value:i.value},placeItem:(0,p.ij)({entity:s})}};return(0,r.cD)(a)}))}const z=(e,t)=>(0,a.RC)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>e.appContext.frames.find(y.p)},(({mapUuid:s,frame:i})=>{if(!i)return void(0,l.vV)({message:"Не удалось затрекать клик в маркер обмена валют(a-knpw8)",level:"error",id:"a-knpw8",payload:{type:"debug",subtype:"BssTrackerV3"}});const a={uiElement:{name:"exchangeCurrencyMarker",ownerName:"exchangeCurrencyList",frameUuid:s},action:"tap",payload:{mapMarker:{scale:(0,c.j)(e.currentType),mapLayer:"exchangeCurrencyLayer"},exchangeCurrencyList:(0,v.$)(i,t)}};return(0,r.cD)(a)})),U=({entityId:e,searchId:t})=>(0,a.RC)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:s=>(0,m.E)(e,t)(s)},(({mapUuid:e,entity:t})=>t?(0,r.X_)({uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:(0,p.ij)({entity:t})},showEventKey:(0,g.W7)()}):((0,l.vV)({message:"Не удалось отправить сообщение для показа рекламной 3d-модели на карте",level:"error",id:"rkt44k",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.lQ)())))},35602:(e,t,s)=>{"use strict";s.d(t,{z:()=>g});var r=s(31085),i=s(14041),a=s(82316),n=s(88756),o=s(81618),c=s(90809),d=s(69158),l=s(68887),u=s(84175),p=s(99259),m=s(21644);const g=(0,i.memo)((e=>{const{labelLines:t,dbgSize:s}=e,{css:c,s:d}=(0,u.I)(h),l=(0,i.useMemo)((()=>(e,t)=>{if(t)return(0,r.jsx)("span",Object.assign({className:c(d.workingTime),style:{color:t}},{children:e}),"workingTime")}),[c,d.workingTime]),p=(0,i.useMemo)((()=>e=>(0,r.jsxs)("span",{children:[(0,r.jsx)("div",Object.assign({className:c(d.ratingStar)},{children:(0,r.jsx)(a.F,{color:"#666",size:12})})),(0,r.jsx)("div",Object.assign({className:c(d.rating)},{children:e}))]},"rating")),[]),m=(0,i.useMemo)((()=>e=>(0,r.jsx)("span",Object.assign({"data-isctabutton":!0,className:c(d.ctaButtonContainer)},{children:e.href?(0,r.jsx)("a",Object.assign({href:e.href,target:"_blank",className:c(d.ctaButton)},{children:e.text})):(0,r.jsx)("span",Object.assign({className:c(d.ctaButton)},{children:e.text}))}),"actionButton")),[]),g=(0,i.useMemo)((()=>(e,s)=>{const{type:i,text:a,color:n}=e;switch(i){case"name":return(0,r.jsx)("span",Object.assign({className:c(d.title)},{children:a}),"name");case"adsText":return(0,r.jsx)("span",Object.assign({className:c(d.ads)},{children:a}),"adsText");case"rating":return p(a);case"stopFactor":return(0,r.jsx)("span",Object.assign({className:c(d.stopFactor)},{children:a}),s);case"workingTime":return l(a,n);case"link":case"order":return m(e);case"exchange":return(0,r.jsx)("span",Object.assign({className:c(d.exchange,1===t.length&&d.__onlyExchange)},o.dx.n("wat-exchange-rate-in-marker"),{children:a}),"exchange")}}),[m,p,l]),f=(0,i.useMemo)((()=>(e,t)=>{if(e[0])return"rating"===e[0].type||"stopFactor"===e[0].type?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",Object.assign({className:c(d.stopFactorsLine),"data-ismarkerlabel":!0},{children:(0,r.jsx)(n.u,Object.assign({inline:!0,styles:d.labelKebab,dotTheme:"dark"},{children:e.map(g)}))})),(0,r.jsx)("br",{})]},t):(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",{children:e.map(g)},t),(0,r.jsx)("br",{})]},t)}),[g]);return t.length?(0,r.jsx)("div",Object.assign({className:c(d.wrapper,s&&d._dbgSelfOverlay)},o.dx.n("wat-marker-label"),{children:(0,r.jsxs)("span",Object.assign({className:c(d.container)},{children:[t.map(f),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",Object.assign({className:c(d.dbgSizes)},{children:`${s.width}/${s.height}`})),(0,r.jsx)("span",{className:c(d._dbgSizeOverlay),style:{width:s.width,height:s.height}})]})]}))})):null})),h=(0,u.r)({wrapper:Object.assign(Object.assign({maxWidth:c.g,userSelect:"none"},m.KJ),{fontFamily:"SBSansText, Helvetica, Arial, sans-serif",textShadow:"-1px -1px 0 #ffffff66, 1px -1px 0 #ffffff66, -1px 1px 0 #ffffff66, 1px 1px 0 #ffffff66",color:p.T.gray_4d4d4d,cursor:"pointer",position:"relative"}),_dbgSelfOverlay:{background:(0,d.m)(p.T.green_299400,.2)},_dbgSizeOverlay:{background:(0,d.m)("#94002a",.2),position:"absolute",top:0,left:0,pointerEvents:"none"},container:{pointerEvents:"auto"},title:Object.assign({color:"#262626"},m.yH),ads:{marginTop:2},stopFactorsLine:Object.assign({marginTop:2,color:"#555"},m.KJ),labelKebab:{display:"inline"},ratingStar:{display:"inline-flex",verticalAlign:"top",stroke:"#ffffffee"},rating:Object.assign({display:"inline-flex",padding:"0 1px"},m.KJ),stopFactor:Object.assign({padding:"0 1px"},m.KJ),workingTime:Object.assign({marginTop:2},m.KJ),dbgSizes:Object.assign(Object.assign({position:"absolute",color:p.T.red_fe5000,bottom:0,right:0},m.HT),{pointerEvents:"none"}),ctaButtonContainer:{paddingTop:2,display:"inline-block"},ctaButton:Object.assign(Object.assign({height:20,borderRadius:l.V.minicard,color:p.T.blue_0072ce,background:(0,d.m)(p.T.white,.8),padding:"4px 8px",boxSizing:"border-box",display:"inline-block"},m.HT),{":hover":{background:p.T.white,color:p.T.blue_028eff}}),exchange:Object.assign({marginTop:2},m.yH),__onlyExchange:{marginTop:0,color:"#262626"}})},61700:(e,t,s)=>{"use strict";s.d(t,{C:()=>f,q:()=>b});var r=s(57806),i=s(56803),a=s(12017),n=s(67013),o=s(7335),c=s(15582),d=s(57744),l=s(20368),u=s(35023);const p=(0,a.n5)("searchMarkersWithViewpoint",(e=>(0,o.RC)({viewpoint:c.Pz,mapSize:c.Yk,locale:d.u,currentMarkers:t=>{var s;return null===(s=t.data.search.markers[e.searchId])||void 0===s?void 0:s.data},geolocationPosition:e=>e.session.geolocation.position,zoom:e=>e.appContext.zoom},(({viewpoint:t,mapSize:s,locale:r,currentMarkers:i,geolocationPosition:n})=>(0,a.rq)((0,l.r)({query:e.query,attrId:e.attrId,rubrId:e.rubricId,buildingId:e.buildingId,orgId:e.orgId,searchId:e.searchId,filters:e.filters||{},adsIds:e.adsIds,sortPoint:n,viewpoint:e.isViewportChanged?t:e.viewpoint||t,isViewportChanged:!!e.isViewportChanged,mapSize:s,locale:r,markersWithLogoIds:i&&200===i.code?i.items.reduce(((e,t)=>{var s,r;return(null===(r=null===(s=t.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.marker_logo)&&e.push((0,u.ox)(t.id)),e}),[]):[]}))))));var m=s(98638),g=s(1321),h=s(92695);const f=e=>b(e),b=e=>(0,a.Q2)((t=>{h.k.startTracker();const{update:s,isViewportChanged:i}=e||{},n=(0,r.u)(t);return n&&("query"===n.searchType&&"catalog"===n.tab||"filials"===n.searchType||"inbuilding"===n.searchType||"buyHere"===n.searchType||"fmcg"===n.searchType)?(0,a.K2)(v(),y({update:s,isViewportChanged:i})):(0,a.lQ)()})),v=(0,a.n5)("updateCatalogMarkersId",(()=>(0,o.RC)({frame:r.u,markersId:c.rL},(({frame:e,markersId:t})=>e&&!t?(0,g.q)({frameId:e.id,markersId:(0,u.W7)()}):(0,a.lQ)())))),y=(0,a.n5)("fetchCatalogMarkersIfNecessary",(({update:e,isViewportChanged:t})=>(0,a.Q2)((s=>{const o=(0,r.u)(s),d=(0,c.rL)(s);if(!o||!d)return(0,a.lQ)();const l=!!(0,i.Iv)({state:s,searchId:d});if(!e&&l)return(0,a.lQ)();let u;if("query"===o.searchType){const e=o.tabCatalog.rubricId||o.tabCatalog.attributeId?void 0:o.query;u={searchId:d,attrId:o.tabCatalog.attributeId,filters:(0,m.G)(o),isViewportChanged:t,query:e,rubricId:o.tabCatalog.rubricId,viewpoint:(0,n.b)(o)}}return"filials"===o.searchType&&(u={searchId:d,filters:(0,m.G)(o),isViewportChanged:t,orgId:o.orgId,viewpoint:void 0}),"inbuilding"===o.searchType&&o.query&&(u={searchId:d,filters:(0,m.G)(o),isViewportChanged:t,query:o.query,rubricId:o.rubricId,buildingId:o.originalSearchId?void 0:o.buildingId,viewpoint:void 0}),"buyHere"!==o.searchType&&"fmcg"!==o.searchType||(u={query:o.query,searchId:d,viewpoint:void 0,isViewportChanged:t,adsIds:o.adsIds,filters:(0,m.G)(o)}),u?p(u):(0,a.lQ)()}))))},57806:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var r=s(80905);function i(e){const t=(0,r.Su)(e.appContext.frames);if(t)return t}},87016:(e,t,s)=>{"use strict";s.d(t,{a:()=>o});var r=s(62260),i=s(46287),a=s(48506);const n=(0,i.eJ)();function o({state:e}){const t=(0,a.q)({state:e});if(!t)return;const{entityId:s,searchId:i}=(0,r.w)(t,e);return s?n({state:e,entityId:s,searchId:i}):void 0}},48506:(e,t,s)=>{"use strict";s.d(t,{q:()=>a});var r=s(66333),i=s(80905);const a=(0,r.Mz)([({state:e})=>e.appContext.frames],(e=>(0,i.K$)(e,["search","entity","pending","product","prices","realty","realtyCard"])))},58309:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(74867);function i(e){if(!e||!e.type)return"other";switch(e.type){case"crash":return"crash";case"camera":return(0,r.e)(e);case"roadwork":return"roadwork";case"restriction":return"closure";case"comment":return"chat"}return"other"}},74867:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(47);const i=e=>{var t,s;const i=null===(t=e.data)||void 0===t?void 0:t.violation;if(!i)return"camera";if(i.includes(1)||i.includes(9)){const t=null===(s=e.data)||void 0===s?void 0:s.speed,i=`camera-${t}`;return t&&r.d.includes(i)?i:"camera"}return i.includes(10)?"camera-parking":i.includes(11)?"camera-line":i.includes(4)?"camera-bus":i.includes(2)?"camera-tl":"camera"}},10753:(e,t,s)=>{"use strict";function r(e){let t;return t="3d"===e?s.e(7826).then(s.bind(s,27703)):s.e(6389).then(s.bind(s,3910)),t.then((e=>{"get3dMap"in e&&e.get3dMap?e.get3dMap().then(n):n(void 0)})),t}function i(e,t,s,i){return r(i).then((r=>r.init(e,t,s)))}function a(e,t){return r(t).then((t=>t.update(e)))}let n;s.d(t,{Q2:()=>r,cA:()=>a,uj:()=>c,vU:()=>i});const o=new Promise((e=>{n=e}));function c(){return o}},85616:(e,t,s)=>{"use strict";s.d(t,{B:()=>a});var r=s(12017),i=s(43657);const a=(0,r.n5)("killTooltips",(()=>(0,r.gd)((0,r.v6)((()=>i.o.set((()=>{})))))))},33616:(e,t,s)=>{"use strict";s.d(t,{e:()=>h});var r=s(12017),i=s(15582),a=s(24571),n=s(80905),o=s(30066),c=s(56803),d=s(39115),l=s(98638),u=s(7335),p=s(53180),m=s(61700),g=s(44138);const h=(0,r.n5)("refreshSearchResults",(({prevZoom:e,afterMapViewChange:t})=>(0,u.eU)((e=>function(e){const t=e[e.length-1];if(t&&"search"===t.type)switch(t.searchType){case"query":case"fmcg":case"buyHere":case"filials":case"inbuilding":return t;default:return}}(e.appContext.frames)),(s=>s?f({frame:s,prevZoom:e,afterMapViewChange:t}):(0,r.lQ)())))),f=(0,r.n5)("refreshCatalogSearchResults",(({prevZoom:e,frame:t,afterMapViewChange:s})=>(0,r.Q2)((h=>{var f;const b=(0,n.Xk)(t),v=(0,c.s8)({state:h,searchId:b}).data,y=(0,l.G)(t),x=(0,i.Pz)(h),j="filials"===t.searchType,{center:w,zoom:_,pitch:C,rotation:I}=h.appContext,{screen:k}=h.session,O=(0,i.kD)(h),S=(0,d.Ag)({dragBound:v&&v.searchAttributes&&v.searchAttributes.drag_bound,center:w,zoom:_,screen:k,offset:O,pitch:C,rotation:I}),T=(0,d.SI)({zoomInBound:null===(f=null==v?void 0:v.searchAttributes)||void 0===f?void 0:f.zoomin_bound,viewpoint:x}),E=(0,d.Ru)({isDragboundOut:S,isZoomInBoundOut:T,isFilialsResults:j,isBuyHereResult:"buyHere"===t.searchType||"fmcg"===t.searchType,zoom:_,prevZoom:e,filterValues:y}),M=(0,d.fX)({updateSearchAndMarkers:E,isFilialsResults:j,zoom:_,prevZoom:e}),P=s&&M;switch(t.searchType){case"query":if(M)return(0,r.K2)(P&&(0,p.qk)(),(0,u.Cl)((e=>(0,a.kY)({frameId:t.id,rubricId:t.tabCatalog.rubricId,filterValues:y||{},parentSearchId:(0,n.Rh)(t),filtersId:(0,o.Y)(t),isViewportChanged:!0,query:t.query,preserveMarkers:!1,searchId:b,viewpoint:e}))));break;case"filials":if(M)return(0,r.K2)(P&&(0,p.qk)(),(0,a.xT)({frameId:t.id,filterValues:y||{},isViewportChanged:!0,filtersId:(0,o.Y)(t),orgId:t.orgId}));break;case"buyHere":case"fmcg":if(M)return(0,r.K2)(P&&(0,p.qk)(),(0,g.b)({frame:t,filterValues:(0,l.G)(t),isViewportChanged:!0}))}return(0,m.C)({update:!0,isViewportChanged:!0})}))))},79183:(e,t,s)=>{"use strict";s.d(t,{F:()=>S});var r=s(85608);const i=(0,s(3398).createModel)("exchangeMarkers",(({services:e},t)=>({fetch(){return(0,r.sH)(this,void 0,void 0,(function*(){return yield e.marketApi.getExchangeMarkers(Object.assign({},t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var a=s(79594),n=s(15582),o=s(54752),c=s(57744),d=s(31610),l=s(14041),u=s(31085),p=s(22758),m=s(40931),g=s(35602),h=s(34857);const f=`${s(80690).aY}/ `;var b=s(18006),v=s(73923),y=s(42494),x=s(10330);const j={offset:[14,-7]};function w(e){const{marker:t,tp:s,currency:r,labelLines:i,frame:a,is12h:n}=e,o=function(e){const t=(e=>{const{marker:t,labelLines:s,frame:r,currency:i,time:a,tp:n,is12h:o}=e,{name_ex:c,reviews:d}=t.data.branch;if(s.length)return s.reduce(((e,s)=>{var l;switch(s){case"name":{const t=null==c?void 0:c.primary;return t&&e.push([{type:"name",text:t}]),e}case"rating":{const s=null===(l=null==d?void 0:d.general_rating)||void 0===l?void 0:l.toString(),r=(e=>{const{marker:t,tp:s,time:r,is12h:i}=e,{timezone_offset:a,schedule:n}=t.data.branch;if(void 0===a||!n)return;const o=(0,x.F)(r,a),c=(0,v.v3)(n,!1,o,s,i),d=(0,b.f)(n,o);return c?{text:c,color:(0,y.w)(d),type:"workingTime"}:void 0})({marker:t,time:a,tp:n,is12h:o}),i=[];return s&&i.push({type:"rating",text:s}),r&&i.push(r),e.push(i),e}case"rates":{const s=(0,h.V)({frame:r,data:t.data,short:!0}),a=(e=>{const{tp:t,values:s,symbol:r}=e;return null==s?void 0:s.map((e=>t._gg("%1&nbsp;%2",[e.value,r]))).join(f)})({symbol:i.symbol||i.code,tp:n,values:s});return e.push([{type:"exchange",text:a}]),e}default:return e}}),[])})(e);if(!t)return;const s=(0,p.k)(t),r=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,m.qV)((0,u.jsx)(g.z,{labelLines:t,dbgSize:r?s:void 0})),width:s.width,height:s.height,offset:j.offset}}({marker:t,tp:s,currency:r,labelLines:i,frame:a,time:Date.now(),is12h:n});return Object.assign(Object.assign({},t),{htmlLabel:o})}var _=s(82781),C=s(46579),I=s(59954),k=s(54700),O=s(37383);function S(){const e=(0,a.d4)(c.u),t=(0,a.d4)((e=>e.appContext.frames.find(d.p))),s=(0,_.c)(),r=(0,a.d4)(n.Pz),u=(0,a.d4)((e=>e.appContext.zoom)),p=(0,a.d4)((e=>e.appContext.center)),m=(0,a.d4)((e=>(0,O.h)({state:e}))),g=(0,l.useMemo)((()=>r),[u,p]),{is12h:h}=(0,C.U)(),f=(0,o.fn)(t?i({viewpoint:g,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode}):void 0);return(0,l.useMemo)((()=>{if(!(null==f?void 0:f.data)||!t)return{markersData:void 0,isPending:null==f?void 0:f.isPending,error:null==f?void 0:f.error};const{items:e,national_currency:r}=f.data;return{markersData:e.reduce(((e,i,a)=>{const n=i.branch.id,o=Object.assign(Object.assign({},i),{source:"exchange"}),c=w({marker:{key:n,id:n,lonLat:[i.lon,i.lat],type:"bigbullet",data:o,icon:(0,k.R)(m.styles.exchange.icons,i.benefit,"hover")},currency:r,tp:s,labelLines:E({zoom:u}),frame:t,is12h:h});return e.hashMap[n]=a,e.markers.push(c),e}),{hashMap:{},markers:[]}),isPending:null==f?void 0:f.isPending,error:null==f?void 0:f.error}}),[f.data,t])}const T=[{zoom:15,lines:["name","rating","rates"]},{zoom:12,lines:["name","rates"]},{zoom:9,lines:["rates"]},{zoom:1,lines:I.Ml}];function E(e){const{zoom:t}=e,s=T.find((e=>t>=e.zoom));return void 0!==s?s.lines:I.Ml}},39115:(e,t,s)=>{"use strict";s.d(t,{GF:()=>h,Zs:()=>g,Ag:()=>u,SI:()=>f,fX:()=>m,Ru:()=>p});var r=s(49804),i=s(6514),a=s(27783),n=s(35023),o=s(73516),c=s(29908),d=s(66900);function l(e,t){return Math.floor(e)!==Math.floor(t)}function u(e){const{dragBound:t,center:s,zoom:a,screen:n,offset:o,pitch:c,rotation:d}=e;if(!t)return!0;const l=(0,i.Y)(n,o);return u=(0,r.I4)({center:s,zoom:a,mapSize:l,pitch:c,rotation:d}),p=t.map((e=>[e.longitude,e.latitude])),!!u.find((e=>!function(e,t){const s=e[0],r=e[1];let i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){const n=t[e][0],o=t[e][1],c=t[a][0],d=t[a][1];o>r!=d>r&&s<(c-n)*(r-o)/(d-o)+n&&(i=!i)}return i}(e,p)));var u,p}function p(e){const{filterValues:t,isFilialsResults:s,isBuyHereResult:r,isDragboundOut:i,isZoomInBoundOut:n,prevZoom:o,zoom:c}=e;return!((!t||"true"!==t.bound)&&(s||r||!i&&(!l(o,c)||!(0,a.b)(o))&&!n))}function m(e){const{updateSearchAndMarkers:t,isFilialsResults:s,zoom:r,prevZoom:i}=e;return!!t||!s&&!!l(i,r)&&Math.min(r,i)<=11}function g(e){return"marker"===e.origin&&e.marker?e.marker&&e.marker.data&&"market"===e.marker.data.source?e.marker.data.branch_id:e.marker&&e.marker.data&&"favorites"===e.marker.data.source?e.marker.data.entityId?e.marker.data.entityId:void 0:(0,n.ox)(e.marker.id):"poi"===e.origin?e.target.id:void 0}function h(e,t,s,r){const{floorNames:i,firmsToFloorIndexMap:a,currentFloor:n}=e;if(void 0!==t&&!t.floorsId&&void 0!==t.currentFloor&&e.floorNames[t.currentFloor])return t.currentFloor;const d=s?a[s.entityId]:void 0;if(void 0!==d)return d;if(void 0===n){const e=(0,c.k)({floorNames:i,firmsToFloorIndexMap:a},r),t=e&&(0,o._)(e);if(void 0!==t)return t}return n}function f(e){const{viewpoint:t,zoomInBound:s}=e,[r,i]=t;if(void 0===s)return!1;if(0===s)return!0;const a={lon:i.lon,lat:r.lat},n=(0,d.g)(r,a),o=(0,d.g)(a,i);return Math.max(n,o)<s}},49726:(e,t,s)=>{"use strict";function r(e){return e.match(/^(personal)(?:_|$)/)}s.d(t,{z:()=>r})},48616:(e,t,s)=>{"use strict";s.d(t,{D:()=>n});var r=s(12017),i=s(35023),a=s(27892);const n=(0,r.n5)("openAgreementPopup",(e=>(0,a.PB)({id:(0,i.W7)(),type:"personalDataAgreement",withDecline:e})))},68710:(e,t,s)=>{"use strict";s.d(t,{AQ:()=>a,B:()=>o,Cf:()=>i,YG:()=>l,aO:()=>d,eU:()=>n,gN:()=>c});var r=s(99906);const i=e=>({frameId:t})=>({uiElement:{name:e?"editPhoneNumber":"addPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap"}),a=()=>({frameId:e})=>({uiElement:{name:"confirmPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:e},action:"tap"}),n=e=>({frameId:t})=>({uiElement:{name:"phoneExistsError",ownerName:"profile"===e?"profileSettingsFrame":"phoneVerificationFrame",frameUuid:t}}),o=()=>({frameId:e},t)=>(0,r.f_)({state:t,name:"phoneConfirmationFrame",uuid:e}),c=()=>({frameId:e})=>({uiElement:{name:"sendAgainButton",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),d=e=>({uiElement:{name:"sendConfirm",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),l=()=>({frameId:e})=>({uiElement:{name:"phoneConfirmationFrame",frameUuid:e},action:"close"})},92782:(e,t,s)=>{"use strict";s.d(t,{G:()=>n});var r=s(12017),i=s(35023),a=s(27892);const n=(0,r.n5)("openPhoneConfirmationPopup",(({phone:e,withDecline:t,source:s,error:n})=>e?(0,a.PB)({id:(0,i.W7)(),type:"phoneConfirmationPopup",phone:e,withDecline:t,source:s,error:n}):(0,r.lQ)()))},78522:(e,t,s)=>{"use strict";s.d(t,{L:()=>w});var r=s(31085),i=s(99259),a=s(46579),n=s(10742),o=s(84175),c=s(71064),d=s(37171),l=s(8365),u=s(81618),p=s(14041),m=s(79594),g=s(82781),h=s(68913),f=s(604),b=s(80552),v=s(68710),y=s(1707),x=s(63180),j=s(43984);const w=(0,p.memo)((({phone:e,phoneCode:t,isConfirmed:s,onChange:b,onSubmit:w,source:C,autofocus:I,showConfirm:k,hasPhone:O})=>{const{_t:S}=(0,g.c)(),{css:T,s:E}=(0,o.I)(_),M=(0,m.wA)(),{useBssHandler:P}=(0,l.E)(),{bssRef:L}=(0,l.E)((0,v.eU)(C)),N=P(v.Cf,!!e&&s),A=P(v.AQ),{featurePhone:R,countryPhoneCode:z}=(0,a.U)(),U=(0,p.useRef)(null),B=t||z,H=(0,m.d4)((e=>e.appContext.weak.phoneError)),F=(0,m.d4)((e=>{var t,s;return"loading"===(null===(s=null===(t=e.data.user.phone)||void 0===t?void 0:t[j._])||void 0===s?void 0:s.status)})),[D,V]=(0,p.useState)((()=>(0,x.qH)(e,z))),[Z,$]=(0,p.useState)(!1),q=!!e&&!s,W=!!D&&!(0,x.fn)(D),G=q&&k||W||!!H;(0,p.useEffect)((()=>()=>{M((0,y.w0)())}),[]);const Q=(0,p.useCallback)((()=>{$(!0)}),[]),K=(0,n.D)((()=>{"profile"===C&&N()})),Y=(0,n.D)((()=>{$(!1)})),X=(0,n.D)((()=>{F||(A(),M((0,y.Sv)({phone:D,source:C})))})),J=(0,n.D)((e=>{13===e.keyCode&&(0,x.fn)(D)&&w&&(e.preventDefault(),w())})),ee=(0,n.D)((e=>{V(e),(0,x.fn)(e)?b(e):b(""),H&&M((0,y.w0)())})),te=(0,p.useRef)(0),se=(0,p.useCallback)((e=>(setTimeout((()=>{if(!U.current||e===D)return;const t=U.current.selectionStart||0,s=(0,x.Oz)({currentPosition:t,previousPosition:te.current,newValue:e,oldValue:D});U.current.setSelectionRange(s,s),te.current=s})),e)),[D]),re=(0,p.useCallback)((e=>(0,x.qH)(e,z)),[z]);return R||O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.S,{label:S("Телефон"),hasLabel:!0,input:(0,r.jsx)(d.$,Object.assign({accept:/[\d\s/+]+/g,format:re,onChange:ee,value:D,replace:se},{children:({value:e,onChange:t})=>(0,r.jsx)("input",Object.assign({ref:U,className:T(E.input),type:"tel",autoComplete:"tel",placeholder:B,value:e,onChange:t,onFocus:Q,onBlur:Y,onKeyDown:J,onClick:K,autoFocus:I},u.dx.n("wat-phone-input")))})),error:!Z&&G,focused:Z,renderOutside:()=>e&&(0,x.fn)(e)&&k?q?(0,r.jsx)(c.A,Object.assign({styles:Z?E.appendixFocused:E.appendixError,onClick:X},{children:S("Подтвердить")})):(0,r.jsx)("span",Object.assign({className:T(E.appendix,Z&&E.appendixFocused)},{children:(0,r.jsx)(h.J,{color:i.T.gray_e6e6e6})})):null}),G&&(0,r.jsx)("div",Object.assign({className:T(E.errorMessage)},{children:"EntityExists"===H?(0,r.jsx)("div",Object.assign({ref:L},{children:S("Этот номер привязан к другому аккаунту. Воспользуйтесь вторым аккаунтом или привяжите другой номер")})):"ValueIsNotValid"===H?S("Неправильный номер телефона"):H?S("Что-то пошло не так, попробуйте позже"):W&&!Z?S("Указан неполный номер телефона"):q?S("Телефон не подтверждён"):""}))]}):null}));w.displayName="PhoneInput";const _=(0,o.r)({input:Object.assign(Object.assign({color:i.T.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial"},b.hF),{"::placeholder":{color:i.T.gray_929292}}),appendix:{display:"flex",alignItems:"center",borderBottom:`1px solid ${i.T.gray_e6e6e6}`},appendixError:{borderBottom:`1px solid ${i.T.red_fe5000}`},appendixFocused:{borderBottom:`1px solid ${i.T.blue_0072ce}`},errorMessage:Object.assign(Object.assign({},b.EX),{color:i.T.red_fe5000,paddingTop:6})})},1707:(e,t,s)=>{"use strict";s.d(t,{SA:()=>j,Sv:()=>y,ll:()=>v,rH:()=>x,w0:()=>w});var r=s(88735),i=s(48914),a=s(82384),n=s(12017),o=s(35023),c=s(21959),d=s(35383),l=s(27892),u=s(1321),p=s(82393),m=s(7335),g=s(68710),h=s(92782),f=s(63180),b=s(48065);const v=(0,n.n5)("requestCode",((e,t)=>(0,m.RC)({projectId:p.MJ,userId:e=>{var t;return null===(t=(0,c.ug)(e).data)||void 0===t?void 0:t.user_id}},(({projectId:s,userId:r})=>r?(0,n.NV)((({authClientId:i})=>(0,b.C)({phone:(0,f.Lk)(e),segmentId:s||"65573",userId:r,statusId:t,authClientId:i}))):(0,n.lQ)())))),y=(0,n.n5)("tryConfirmPhone",(({phone:e,withDecline:t,source:s})=>{const i=(0,o.W7)();return(0,n.K2)(v((0,f.Lk)(e),i),(0,r.zC)(i,(r=>(0,d.o)(r)?(0,h.G)({phone:e,withDecline:!!t,source:s}):(0,u.Ip)({phoneError:(null==r?void 0:r.meta).error.message}))))})),x=(0,n.n5)("confirmPhone",(({phone:e,confirmationCode:t,withDecline:s,source:c})=>{const l=(0,o.W7)();return(0,n.K2)((0,n.NV)((({authClientId:s})=>(0,b.r)({phone:(0,f.Lk)(e),confirmationCode:t,statusId:l,authClientId:s}))),(0,r.zC)(l,(t=>(0,d.o)(t)?(0,n.K2)((0,a.y)({}),(0,m.eU)((e=>{var t;return null===(t=e.appContext.popup)||void 0===t?void 0:t.id}),(e=>e?(0,i.cD)((0,g.aO)(e)):(0,n.lQ)())),j(c,!0)):(0,h.G)({phone:e,withDecline:s,source:c,error:(null==t?void 0:t.meta).error.message}))))})),j=(0,n.n5)("closeConfirmationPopup",((e,t)=>(0,n.K2)((0,l.fs)(),(0,f.Fj)(e,t)))),w=()=>(0,u.Ip)({phoneError:""})},63180:(e,t,s)=>{"use strict";s.d(t,{$H:()=>I,qH:()=>y,Fj:()=>_,B$:()=>k,xj:()=>S,Oz:()=>O,CF:()=>j,jU:()=>w,hh:()=>T,yp:()=>C,fn:()=>p,Lk:()=>x});var r=s(59939),i=s(12017),a=s(29094),n=s(536),o=s(60832),c=s(51557);const d=(0,i.n5)("returnToPhoneLawPopup",(e=>e?(0,r.M)(!0):(0,o.z)())),l=(0,i.n5)("returnToPhoneAddPopup",(e=>e?(0,c.QY)((({tp:e})=>(0,a.D)((0,n.k)({title:e._gg("Готово!"),message:e._gg("Теперь вы можете использовать номер телефона для входа в 2ГИС.")})))):(0,o.W)()));var u=s(85724);function p(e){const t=x(e),s=t.length;return t.startsWith("7")||t.startsWith("8")||t.startsWith("996")?11===s:t.startsWith("375")||t.startsWith("380")||t.startsWith("998")||t.startsWith("994")?12===s:t.startsWith("971")?12===s||11===s:10<=t.length&&t.length<=20}const m=/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/,g=/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/,h=/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})(\d{0,2})/,f=/(\d{0,3})(\d{0,1})(\d{0,7})/,b=/(\d{0,3})(\d{0,9})/,v=/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/;function y(e,t){var s;const r=x(e),i="+"===e[0],a=function(e,t){return e.startsWith("7")||e.startsWith("8")&&!t?m:e.startsWith("375")||e.startsWith("380")||e.startsWith("998")||e.startsWith("994")?g:e.startsWith("996")?h:e.startsWith("971")?12===e.length?b:f:v}(r,i),n=null===(s=a.exec(r))||void 0===s?void 0:s.slice(1);if(!n)return e;const o=n.join(" ").trim();return p(o)&&!i?"+7"===t&&o.startsWith("8")?"+7"+o.slice(1,o.length):"+"+o:i?"+"+o:o}function x(e){return e.replace(/\D/g,"")}function j(e){const t=e.previousSibling;t&&t.focus()}function w(e){const t=e.nextSibling;t&&t.focus()}function _(e,t){switch(e){case"profile":return(0,u.v)();case"law":return d(t);case"add":return l(t)}}function C(e){const t=parseInt(e);return 0<=t&&t<=9}const I="ConfirmationAttemptsExceeded";function k(e,t){switch(e){case"ConfirmationCodeIsNotValid":return t("Неверный код");case I:return t("Упс, вы ввели неверный код несколько раз подряд. Попробуйте ещё разок через несколько часов — верим, всё получится!");case"SMSLimitExceeded":return t("Дождитесь SMS с кодом подтверждения. Если код не приходит, запросите его ещё раз через несколько часов");default:return t("Что-то пошло не так, попробуйте позже")}}function O({currentPosition:e,previousPosition:t,newValue:s,oldValue:r}){return" "===s[e]?r.length?e+2:e+1:0===e&&s.startsWith("+")&&!r.startsWith("+")?t?t+3:2:e}function S(e){return((null==e?void 0:e.phone_code)||"")+((null==e?void 0:e.phone_number)||"")}function T(e){return e.join("").length===e.length}},60832:(e,t,s)=>{"use strict";s.d(t,{W:()=>o,z:()=>n});var r=s(12017),i=s(35023),a=s(27892);const n=(0,r.n5)("openPhoneLawPopup",(()=>(0,a.PB)({id:(0,i.W7)(),type:"phonePopup",subtype:"law"}))),o=(0,r.n5)("openPhoneAddPopup",(()=>(0,a.PB)({id:(0,i.W7)(),type:"phonePopup",subtype:"add"})))},60776:(e,t,s)=>{"use strict";s.d(t,{v:()=>c});var r=s(77027),i=s(12017),a=s(59954),n=s(24872),o=s(35023);const c=(0,i.n5)("openPoint",(e=>{const{point:t,shouldCenterMap:s}=e;return(0,i.K2)((0,r.fL)({id:(0,o.W7)(),type:"entity",entityId:a.K0,entityType:"point",point:e.point,searchId:"",gtaId:""}),s?(0,n.xZ)({lon:t.lon,lat:t.lat,zoom:16}):(0,i.lQ)())}))},36250:(e,t,s)=>{"use strict";s.d(t,{z:()=>$s,A:()=>v});var r=s(31085),i=s(14041),a=s(33626);const n=(0,a.tr)((e=>({popup:e.appContext.popup})));var o=s(27892);const c=(0,a.Yn)((e=>({closePopup(){e((0,o.fs)())}})));var d=s(68076),l=s(26461),u=s(10048),p=s(58471),m=s(40837);const g=e=>(0,r.jsx)(u.w,{loader:p.b.feedback,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N});var h=s(69158),f=s(99259);class b extends i.PureComponent{constructor(){super(...arguments),this.handleContentClick=e=>{e.stopPropagation()}}render(){const{children:e,isDark:t,onClick:s,s:i,contentStyles:a}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,d.AH)(i.overlay,t&&i._dark),onClick:s},{children:(0,r.jsx)("div",Object.assign({className:(0,d.AH)(i.content,a),onClick:this.handleContentClick},{children:e}))}))}}b.displayName=(0,l.d)("src/modules/popup/components/wrapper");const v=(0,d.Xy)((e=>({overlay:{background:(0,h.m)(f.T.black,.6),boxSizing:"border-box",padding:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},_dark:{background:(0,h.m)(f.T.black,.8)},content:{flex:"1 0 auto",display:"flex",justifyContent:"center",width:e.mobile?"100%":"initial"}})))(b),y=()=>(0,r.jsx)(u.w,{loader:p.b.photoUploader,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),x=e=>(0,r.jsx)(u.w,{loader:p.b.writeReview,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),j=e=>(0,r.jsx)(u.w,{loader:p.b.typedFeedback,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N});var w=s(27942);const _=e=>(0,r.jsx)(u.w,{loader:p.b.editFavorite,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N});var C=s(47636);const I=e=>(0,r.jsx)(u.w,{loader:p.b.entityVideoPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(m.J,{asyncStatus:e})}),k=e=>(0,r.jsx)(u.w,{loader:p.b.sharing,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N});var O=s(15471),S=s(85608),T=s(7515),E=s(1999),M=s(62284),P=s(60077),L=s(12017),N=s(7335),A=s(73740),R=s(57744),z=s(35023),U=s(21959),B=s(80905),H=s(82384);const F=(0,L.n5)("updateInfo",(e=>(0,N.RC)({locale:e=>(0,R.u)(e),userInfo:e=>(0,U.ug)(e),frame:e=>(0,B.bB)(e.appContext.frames,"userProfile")},(({userInfo:t,frame:s})=>{if(!t||!t.data)return(0,L.lQ)();if(!s)return(0,L.lQ)();const{first_name:r,middle_name:i,last_name:a,public_identity_accepted:n}=e,c=r!==t.data.first_name,d=i!==t.data.middle_name,l=a!==t.data.last_name,u=n!==t.data.public_identity_accepted,p=(0,z.W7)();return(0,L.K2)((0,L._7)((c||l||d||u)&&(0,A.bu)({userInfo:{first_name:r,last_name:a,middle_name:i,public_identity_accepted:n},statusId:p}),(0,o.fs)()),(0,H.y)({}))}))));var D=s(51068),V=s(80552);const Z={title:Object.assign(Object.assign({},V.EX),{color:f.T.gray_929292})},$=(0,d.Xy)(Z)((0,w.J)(((e,{tp:t})=>{const{type:s,user:r}=e;if(!r)return;const i=((e,t,s)=>{switch(e){case"firstName":{const e=t.first_name;return{title:s._t("Имя"),initialValue:e}}case"middleName":{const e=t.middle_name;return{title:s._gg("Отчество"),initialValue:e,placeholder:s._gg("если есть")}}case"lastName":{const e=t.last_name;return{title:s._t("Фамилия"),initialValue:e}}case"email":{const e=t.new_email||t.email;return{title:s._t("Электронная почта"),initialValue:e,htmlInputType:"email"}}case"password":{const e=void 0;return{title:s._t("Сменить пароль"),initialValue:e,htmlInputType:"password"}}}})(s,r,t);return{data:i}}))((0,T.Q)()((({data:e,type:t,onChange:s,error:i,s:a})=>{const{title:n,initialValue:o,htmlInputType:c,placeholder:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.title)},{children:n})),(0,r.jsx)(D.A,{onChange:s,initialValue:o,error:i,dataT:t,inputType:c,placeholder:l})]})}))));var q=s(23098),W=s(40819),G=s(64099),Q=s(70498);function K({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13.222 12.843a4.999 4.999 0 115.555 8.312 4.999 4.999 0 01-5.555-8.312zm1.111 6.651a3 3 0 103.333-4.987 3 3 0 00-3.333 4.987z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M20.72 6l1.08 3.24 5.2 2.08V23a3 3 0 01-3 3H8a3 3 0 01-3-3V11.32l5.2-2.08L11.28 6h9.44zm3.987 17.707A1 1 0 0025 23V12.68l-4.8-1.92L19.28 8h-6.56l-.92 2.76L7 12.68V23a1 1 0 001 1h16a1 1 0 00.707-.293z",clipRule:"evenodd"})]}))}const Y={wrapper:{display:"flex",alignItems:"center",position:"relative"},avatar:{display:"flex",justifyContent:"center",alignItems:"center",color:f.T.gray_262626,background:f.T.white,boxShadow:Q.E.popup,overflow:"hidden",borderRadius:G.Vq.oval,width:56,height:56,marginEnd:16},icon:{position:"absolute"},input:{display:"none"},errorText:{color:f.T.red_fe5000},uploaderText:{color:f.T.blue_0072ce,cursor:"pointer",display:"flex",alignItems:"center",":hover":{color:f.T.gray_262626}}},X=(0,d.Xy)(Y)((0,w.J)(((e,{tp:t})=>{const{user:s}=e;if(s)return{initials:(0,W.Z)(s,t)}}))((0,T.Q)()((({onUpload:e,avatarUrl:t,errorText:s,initials:a,i18n:{tp:n},s:o})=>{const c=(0,i.useCallback)((()=>{}),[a]),l=(0,i.useCallback)((t=>{e(t)}),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",Object.assign({htmlFor:"avatar-uploader",className:(0,d.AH)(o.uploaderText)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,d.AH)(o.avatar)},{children:[(0,r.jsx)(q.e,{src:t,initials:c}),(0,r.jsx)("div",Object.assign({className:(0,d.AH)(o.icon)},{children:(0,r.jsx)(K,{color:t?f.T.white:f.T.gray_929292})}))]})),n._t("Загрузить аватар")]})),!!s&&(0,r.jsx)("div",Object.assign({className:(0,d.AH)(o.errorText)},{children:s})),(0,r.jsx)("input",{name:"wat-upload-input",id:"avatar-uploader",type:"file",multiple:!0,accept:"image/*",className:(0,d.AH)(o.input),onChange:l})]})}))));var J=s(71064),ee=s(81239),te=s(59321),se=s(82393),re=s(14524);const ie=(0,L.n5)("uploadAvatar",(e=>{const{userId:t,file:s}=e;return(0,N.RC)({locale:e=>(0,R.u)(e),regionId:e=>(0,se.zN)(e)},(({locale:e,regionId:r})=>{const i=(0,z.W7)(),a=(0,z.W7)();return(0,L.K2)((0,re.t)({objectType:"profile",albumCode:"avatar",objectId:t,locale:e,regionId:r,temporaryId:a,file:s,isReplaced:!0}),(0,N.eU)((e=>e.data.photo[a]),(e=>{if(!e||!e.data||!("url"in e.data))return(0,L.lQ)();const t=e.data.url;return(0,A.bu)({userInfo:{avatar:t},statusId:i})})))}))}));var ae=s(81618),ne=s(80677),oe=s(46579),ce=s(82781),de=s(57758),le=s(84175),ue=s(25877),pe=s(8365),me=s(99906),ge=s(78522),he=s(65622),fe=s(63180);const be=(0,he.pv)("userAvatar"),ve={openDeleteUserProfilePopup:o.PB,closePopup:o.fs,uploadUserAvatar:ie},ye=(0,le.r)({wrapper:{color:f.T.gray_929292,padding:"16px 24px"},bottomBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},removeLinks:{display:"flex",flexDirection:"column",alignItems:"flex-end"},input:{marginBottom:16,":empty":{marginBottom:0}},agreement:{display:"flex",alignItems:"center",paddingTop:28,cursor:"pointer"},agreementLabel:{color:f.T.gray_262626,marginInlineStart:4},agreementText:Object.assign(Object.assign({marginTop:14},V.EX),{color:f.T.gray_929292}),law:{marginTop:14},privacy:{marginTop:24,width:"100%",display:"flex",flexDirection:"column",gap:"16px"},privacyItem:Object.assign(Object.assign({},V.Hg),{cursor:"pointer",lineHeight:"24px",color:f.T.black,display:"flex",gap:8,'& input[type="radio"]':{WebkitAppearance:"none",height:16,width:16,display:"inline-block",outline:0,cursor:"pointer",borderRadius:"50%",border:`2px solid ${f.T.gray_e6e6e6}`,verticalAlign:"top",position:"relative",flexShrink:0,"&:checked":{border:`2px solid ${f.T.blue_0168f9}`,background:f.T.blue_0168f9,"&::after":{content:"''",position:"absolute",width:6,height:6,top:3,left:3,borderRadius:"50%",background:f.T.white}}}}),privacyItemText:{display:"flex",flexDirection:"column"},privacyItemSubtitle:Object.assign(Object.assign({},V.Hg),{fontSize:"11px",color:f.T.gray_929292}),title:Object.assign(Object.assign({},V.Hg),{color:f.T.gray_929292}),checkboxes:{display:"flex"}}),xe=(0,P.M)({selectors:{},handlers:ve})((({getUserInfo:e,openDeleteUserProfilePopup:t,uploadUserAvatar:s,user:a,privacy:n})=>{const[o,c]=(0,i.useState)(a.first_name),[d,l]=(0,i.useState)(a.middle_name),[u,p]=(0,i.useState)(a.last_name),[m,g]=(0,i.useState)(a.new_email||a.email),[h,b]=(0,i.useState)((0,fe.xj)(a)),[v,y]=(0,i.useState)(a.avatar_preview_tpl&&(0,ue.$)(a.avatar_preview_tpl,{width:128,height:128})),[x,j]=(0,i.useState)(n),[w,_]=(0,i.useState)(),[C,I]=(0,i.useState)(a.public_identity_accepted),{featurePersonalDataAgreement:k,featurePublicProfile:O}=(0,oe.U)(),{css:S,s:T}=(0,le.I)(ye),E=(0,ce.c)(),{bssRef:M}=(0,pe.E)((({frameId:e},t)=>(0,me.f_)({state:t,name:"profileSettingsFrame",uuid:e}))),P=(0,i.useCallback)((e=>{c(e)}),[]),L=(0,i.useCallback)((e=>{l(e)}),[]),N=(0,i.useCallback)((e=>{p(e)}),[]),A=(0,i.useCallback)((e=>{g(e)}),[]),R=(0,i.useCallback)((e=>{b(e.replace(/ /g,""))}),[]),U=(0,i.useCallback)((()=>{t({id:(0,z.W7)(),user:a,type:"deleteUserProfile"})}),[t,a]),B=(0,i.useCallback)((e=>{j(e.target.value)}),[]),H=(0,i.useCallback)((()=>{I(!C)}),[C,I]),F=(0,i.useCallback)((e=>{I(!e)}),[I]),D=(0,i.useMemo)((()=>({first_name:o,middle_name:d,last_name:u,avatarUrl:v,email:m,phone:h,public_identity_accepted:null!==a.public_identity_accepted||C?C:null,userId:a.user_id,privacy:x})),[o,d,u,v,m,h,C,a,x]);(0,i.useEffect)((()=>e(D)),[D,e]);const V=(0,i.useCallback)((e=>{const t=e.target.files;if(!t||!t.length)return;const r=t[0];(0,ee.z)(r,be).then((e=>{s({userId:a.user_id,file:r}),_(void 0),y(e.src)})).catch((e=>{const t=(0,te.y)(e,be,E);_(t)}))}),[a.user_id]),Z=a.phone_number_confirmed&&h.replace("+","")===(0,fe.xj)(a)||!1;return(0,r.jsxs)("div",Object.assign({className:S(T.wrapper),ref:M},{children:[(0,r.jsx)("div",Object.assign({className:S(T.input)},ae.dx.n("wat-edit-userprofile-firstname"),{children:(0,r.jsx)($,{onChange:P,type:"firstName",user:a,error:!o})})),k&&(0,r.jsx)("div",Object.assign({className:S(T.input)},ae.dx.n("wat-edit-userprofile-middlename"),{children:(0,r.jsx)($,{onChange:L,type:"middleName",user:a})})),(0,r.jsx)("div",Object.assign({className:S(T.input)},ae.dx.n("wat-edit-userprofile-lastname"),{children:(0,r.jsx)($,{onChange:N,type:"lastName",user:a,error:!u})})),(0,r.jsx)("div",Object.assign({className:S(T.input)},ae.dx.n("wat-edit-userprofile-email"),{children:(0,r.jsx)($,{onChange:A,type:"email",user:a,error:!m})})),(0,r.jsx)("div",Object.assign({className:S(T.input)},ae.dx.n("wat-edit-userprofile-phone"),{children:(0,r.jsx)(ge.L,{hasPhone:!!a.phone_number,phoneCode:a.phone_code?"+"+a.phone_code:"",phone:h,isConfirmed:Z,onChange:R,source:"profile",showConfirm:!0})})),(0,r.jsxs)("div",Object.assign({className:S(T.bottomBar)},ae.dx.n("wat-edit-userprofile-avatar"),{children:[(0,r.jsx)(X,{user:a,avatarUrl:v,errorText:w,onUpload:V}),(0,r.jsx)("div",Object.assign({className:S(T.removeLinks)},{children:(0,r.jsx)(J.N,Object.assign({color:"gray",dataN:"wat-edit-profile-link",dataT:"remove",onClick:U},{children:E._t("Удалить профиль")}))}))]})),O&&n&&(0,r.jsxs)("div",Object.assign({className:S(T.privacy)},{children:[(0,r.jsx)("span",Object.assign({className:S(T.title)},{children:E._t("Настройка публичности профиля")})),(0,r.jsxs)("div",Object.assign({className:S(T.checkboxes)},{children:[(0,r.jsxs)("label",Object.assign({className:S(T.privacyItem)},{children:[(0,r.jsx)("input",{type:"radio",name:"privacy",value:"OPEN",checked:"OPEN"===x,onChange:B}),(0,r.jsxs)("div",Object.assign({className:S(T.privacyItemText)},{children:[(0,r.jsx)("span",{children:E._t("Открытый профиль")}),(0,r.jsx)("span",Object.assign({className:S(T.privacyItemSubtitle)},{children:E._t("Люди могут читать отзывы и фото в вашем профиле, а также подписываться на него")}))]}))]})),(0,r.jsxs)("label",Object.assign({className:S(T.privacyItem)},{children:[(0,r.jsx)("input",{type:"radio",name:"privacy",value:"CLOSE",checked:"CLOSE"===x,onChange:B,className:S(T.privacyItem)}),(0,r.jsxs)("div",Object.assign({className:S(T.privacyItemText)},{children:[(0,r.jsx)("span",{children:E._t("Закрытый профиль")}),(0,r.jsx)("span",Object.assign({className:S(T.privacyItemSubtitle)},{children:E._t("Ленту отзывов и фото в вашем профиле будут видеть только друзья и одобренные подписчики")}))]}))]}))]}))]})),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",Object.assign({className:S(T.agreement)},ae.dx.n("wat-edit-userprofile-agreement"),{onClick:H},{children:[(0,r.jsx)(de.S,{isChecked:!!C,backgroundColor:C?f.T.green_30ad00:void 0,tickColor:f.T.white,onClick:F,dataN:"wat-edit-userprofile-agreement-acception"}),(0,r.jsx)("span",Object.assign({className:S(T.agreementLabel)},{children:E._gg("Показывать моё имя, фамилию или никнейм в продуктах 2ГИС")}))]})),(0,r.jsx)("div",Object.assign({className:S(T.agreementText)},{children:E._gg("Обратите внимание: если вы отзовёте согласие на обработку и распространение персональных данных, весь ваш контент будет обезличен. Ваши имя, фамилию или никнейм смогут увидеть только представители компаний, имеющие доступ к Личному кабинету.")}))]}),(0,r.jsx)("div",Object.assign({className:S(T.law)},{children:(0,r.jsx)(ne.t,{type:"default",buttonName:E._t("Сохранить")})}))]}))}));var je=s(46501),we=s(37573),_e=s(56841),Ce=s(87017),Ie=s(79594),ke=s(91818),Oe=s(90861),Se=s(78425);const Te={updateUserInfo:F,closePopup:o.fs},Ee={wrapper:{color:f.T.gray_929292,paddingTop:16,paddingBottom:16,paddingStart:24,paddingEnd:34},header:{borderBottom:`1px solid ${f.T.gray_e6e6e6}`},close:{position:"absolute",top:12,end:16,cursor:"pointer"},footer:{paddingTop:20,paddingBottom:20}},Me=(0,P.M)({selectors:()=>({}),handlers:Te})((0,d.Xy)(Ee)((0,T.Q)()((({popup:e,closePopup:t,updateUserInfo:s,s:a,i18n:{tp:n}})=>{var c,l,u,p,m,g;const h=(0,Ie.wA)(),b=(0,Ie.d4)(U.ug),v=Se.vK.useUpdatePrivacy(),y=Se.vK.usePublicProfile(null===(c=b.data)||void 0===c?void 0:c.public_user_id),x=(0,pe.E)().useBssHandler(Se.vK.bss.changeProfilePrivacy,{profile:null===(l=y.profile.data)||void 0===l?void 0:l.public_user});(0,i.useEffect)((()=>{var e,t;"success"!==(null===(e=b.meta)||void 0===e?void 0:e.status)&&"error"!==(null===(t=b.meta)||void 0===t?void 0:t.status)||b.data||h((0,ke.oC)())}),[h,b]);const j=null===(u=y.profile.data)||void 0===u?void 0:u.public_user.privacy,w=b.data,[_,C]=(0,i.useState)({first_name:null==w?void 0:w.first_name,middle_name:null==w?void 0:w.middle_name,last_name:null==w?void 0:w.last_name,avatarUrl:null==w?void 0:w.avatar,email:(null==w?void 0:w.new_email)||(null==w?void 0:w.email),public_identity_accepted:null==w?void 0:w.public_identity_accepted,userId:null==w?void 0:w.user_id,phone:(0,fe.xj)(w),privacy:null===(p=y.profile.data)||void 0===p?void 0:p.public_user.privacy}),I=function(){const{authApi:e,credentialsApi:t}=(0,we.A)(),s=(0,Ie.d4)(R.u),r=(0,Ie.d4)(U.ug).data,i=(0,Ie.wA)(),{mutateAsync:a}=(0,Ce.useMutation)((i=>(0,S.sH)(this,void 0,void 0,(function*(){if(i===((null==r?void 0:r.new_email)||(null==r?void 0:r.email)))return;if(!(0,_e.B)(i))throw new Error("invalid email");const a=yield t.getToken();if(!a)throw new Error("no access token");return yield e.updateEmail({accessToken:a,authClientId:"online",locale:s,email:i})}))),{onSuccess(e,t){var s;void 0!==e&&(e.code&&200!==e.code&&204!==e.code?i((0,o.PB)({id:(0,z.W7)(),type:"emailConfirmation",subtype:422===e.code&&"EntityExists"===(null===(s=e.error_fields)||void 0===s?void 0:s[0].error)?"errorWithEmail":"error",email:t})):i((0,o.PB)({id:(0,z.W7)(),type:"emailConfirmation",subtype:"success",email:t})))},onError(e,t){i((0,o.PB)({id:(0,z.W7)(),type:"emailConfirmation",subtype:"error",email:t}))}});return a}(),k=(0,i.useCallback)((()=>(0,S.sH)(void 0,void 0,void 0,(function*(){_.email&&(yield I(_.email),s((0,z.cJ)(_,["privacy"])),_.privacy&&j!==_.privacy&&b.data&&(x({newPrivacy:_.privacy}),v.mutateAsync({publicUserId:b.data.public_user_id,privacy:_.privacy})))}))),[x,_,j,I,s,v,b.data]),O=(0,i.useCallback)((()=>{t()}),[e.id]),T=(0,i.useCallback)((e=>{C(e)}),[]);return!w||y.profile.isLoading?(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.wrapper)},{children:(0,r.jsx)(Oe.Z,{})})):(0,r.jsx)(E.j,{dataN:"wat-edit-user-profile-popup",header:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.wrapper,a.header)},{children:n._t("Редактирование профиля")})),(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.close),onClick:O},ae.dx.n("wat-edit-popup-close"),{children:(0,r.jsx)(je.b,{color:f.T.gray_262626})}))]}),body:(0,r.jsx)(xe,{privacy:j,user:w,getUserInfo:e=>T(e)}),footer:(0,r.jsx)(M.I,{submitText:n._t("Сохранить"),withoutUserAvatar:!0,onSubmit:k,onCancel:O,experimentalStyles:a.footer,disabledButton:!(null===(m=_.first_name)||void 0===m?void 0:m.trim())||!(null===(g=_.last_name)||void 0===g?void 0:g.trim())})})}))));var Pe=s(77027),Le=s(9181),Ne=s(89781);const Ae={deleteUserProfile:(0,L.n5)("deleteProfile",(e=>e?(0,L.K2)((0,o.fs)(),(0,Pe.P8)(),(0,Ne.W)({userId:e}),(0,Le.r)()):(0,L.lQ)())),openEditProfilePopup:s(85724).v},Re={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},V.HI),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56},cancel:{background:f.T.blue_028eff,color:f.T.white}},ze=(0,P.M)({selectors:{},handlers:Ae})((0,d.Xy)(Re)((0,T.Q)()((({popup:e,deleteUserProfile:t,openEditProfilePopup:s,s:a,i18n:{tp:n}})=>{const o=(0,i.useCallback)((()=>{t(e.user.user_id)}),[e]),c=(0,i.useCallback)((()=>{s()}),[e.id]),l=(0,i.useMemo)((()=>(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.wrapper)},{children:(0,r.jsxs)("div",Object.assign({className:(0,d.AH)(a.text)},{children:[(0,r.jsx)("h1",Object.assign({className:(0,d.AH)(a.title)},{children:n._t("Уверены в этом?")})),(0,r.jsx)("p",{children:n._t("Ваш аккаунт будет удалён, но все отзывы, фотографии и зацепки останутся в справочнике, став анонимными.")})]}))}))),[e.id]),u=(0,i.useMemo)((()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.button,a.cancel),onClick:c},{children:n._t("Не удалять")})),(0,r.jsx)("div",Object.assign({className:(0,d.AH)(a.button)},{children:(0,r.jsx)(J.N,Object.assign({onClick:o},{children:n._t("Удалить")}))}))]})),[e.id]);return(0,r.jsx)(E.j,{dataN:"wat-delete-user-profile-popup",header:(0,r.jsx)(r.Fragment,{}),body:l,footer:u})})))),Ue={closeEmailConfirmaionPopup:o.fs},Be=i.memo((e=>{const{closeEmailConfirmaionPopup:t,title:s,description:a,s:n,i18n:{tp:o}}=e,c=(0,i.useMemo)((()=>(0,r.jsx)("div",Object.assign({className:(0,d.AH)(n.wrapper)},{children:(0,r.jsxs)("div",Object.assign({className:(0,d.AH)(n.text)},{children:[(0,r.jsx)("h1",Object.assign({className:(0,d.AH)(n.title)},ae.dx.n("wat-confirm-email-popup-title"),{children:s})),(0,r.jsx)("p",Object.assign({},ae.dx.n("wat-confirm-email-popup-desc"),{children:a}))]}))}))),[a,s,n.wrapper,n.text,n.title]),l=(0,i.useMemo)((()=>(0,r.jsx)("div",Object.assign({className:(0,d.AH)(n.button)},ae.dx.n("wat-email-popup-close"),{onClick:t},{children:o._t("ok")}))),[t,n.button,o]);return(0,r.jsx)(E.j,{dataN:"wat-confirm-email-popup",body:c,footer:l})})),He={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},V.HI),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56,background:f.T.blue_028eff,color:f.T.white,borderRadius:`0 0 ${G.Vq.default} ${G.Vq.default}`}},Fe=(0,P.M)({selectors:{},handlers:Ue})((0,d.Xy)(He)((0,T.Q)()((0,w.J)((({popup:{subtype:e,email:t}},{tp:s})=>({title:"success"===e?s._t("Необходимо подтвердить новый адрес"):s._t("Что-то пошло не так"),description:"success"===e?s._t("Для подтверждения перейдите по ссылке в письме, которое мы отправили по адресу %1",[t]):"errorWithEmail"===e?s._t("Данный e-mail занят другим пользователем"):s._t("Попробуйте еще раз!")})))(Be)))),De=()=>(0,r.jsx)(u.w,{loader:p.b.subscribers,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),Ve=()=>(0,r.jsx)(u.w,{loader:p.b.subscriptions,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N});var Ze,$e=s(37544),qe=s(29094),We=s(536),Ge=s(88337),Qe=s(85566),Ke=s(51557);!function(e){e.offensiveContent="offensive_content",e.pornography="pornography_violence_drugs",e.violationOfTheLaw="violation_of_the_law",e.ageInappropriateAds="age_inappropriate_ads",e.other="other"}(Ze||(Ze={}));const Ye=(0,L.n5)("submitComplaint",(({data:e,context:t})=>{var s,r;const i=(0,z.W7)(),a=null!==(s=e.categoryCode)&&void 0!==s?s:Ze.other;return(0,L.K2)((0,o.R4)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),"review"===e.type&&(0,$e._C)({reviewId:e.id,text:e.text,statusId:i}),("photo"===e.type||"media"===e.type)&&Xe(e,i,t),"story"===e.type&&(0,$e.rX)({segmentId:null!==(r=t.popup.segmentId)&&void 0!==r?r:"",storyId:e.id,categoryCode:a,comment:a===Ze.other?e.text:void 0,userEmail:t.email,statusId:i}),Je(i,e.type))})),Xe=(e,t,s)=>(0,N.RC)({baseParams:Ge.$},(({baseParams:r})=>(0,$e._z)({statusId:t,data:Object.assign(Object.assign(Object.assign({},r),(0,Qe.A)()),{photoId:e.id,message:e.text,errorType:"product",emailValue:s.email})}))),Je=(e,t)=>(0,L.Q2)((s=>{const r=s.status[e];return r&&r.meta?r&&"success"===r.meta.status?(0,L.K2)((0,Ke.QY)((({tp:e})=>(0,qe.D)((0,We.k)({title:e._t("Спасибо"),message:"photo"===t||"media"===t?e._t("Мы ценим вашу помощь!"):"review"===t?e._t("Мы проверим этот отзыв!"):e._t("Мы проверим эту историю!")})))),(0,o.fs)()):r&&"error"===r.meta.status?(0,L.K2)(et(r.meta.code),(0,o.R4)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!1})}))):void 0:et()})),et=e=>(0,Ke.QY)((({tp:t})=>(0,qe.D)((0,We.z)({title:400===e?t._t("Длина сообщения должна быть от 3 до 500 символов"):t._t("Что-то пошло не так"),message:t._t("Не получилось отправить жалобу. Повторите попытку.")}))));var tt=s(96141);const st=f.T.black_transparent_50,rt=(0,i.memo)((e=>{const{formType:t,isDisabledEasyComplaintButton:s,onEasyComplaintBtnClick:a,activeText:n}=e,{s:o,css:c}=(0,le.I)(it),d=(0,ce.c)(),l=(0,i.useMemo)((()=>({value:d._t("Другая причина"),code:Ze.other})),[d]),u=(0,i.useMemo)((()=>"media"===t||"photo"===t?[{value:d._t("Это спам"),code:void 0},{value:d._t("Другое место"),code:void 0},{value:d._t("Неактуально"),code:void 0},{value:d._t("Порнография, насилие, наркотики"),code:void 0},{value:d._t("Дубль"),code:void 0},l]:"story"===t?[{value:d._t("Оскорбительное содержание"),code:Ze.offensiveContent},{value:d._t("Порнография, насилие, наркотики"),code:Ze.pornography},{value:d._t("Нарушение закона"),code:Ze.violationOfTheLaw},{value:d._t("Несоответствующая возрасту реклама"),code:Ze.ageInappropriateAds},l]:[{value:d._t("Маты и оскорбления"),code:void 0},{value:d._t("Спам и реклама"),code:void 0},{value:d._t("О другом месте"),code:void 0},{value:d._t("Это не отзыв"),code:void 0},l]),[t,l,d]);return(0,r.jsx)("div",Object.assign({className:c(o.easyBtnsWrap)},{children:u.map((e=>(0,r.jsx)(tt.$,Object.assign({disabled:e!==l&&s,noBorder:!0,appearance:"noncontrast",wide:!0,onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),a(t)})(t,e),background:e.value===n?st:void 0},{children:e.value}),e.value)))}))}));rt.displayName="EasyComplaintsBtns";const it=(0,le.r)({easyBtnsWrap:{display:"flex",flexDirection:"column",gap:10,paddingTop:"8px",paddingBottom:"8px"}}),at={isSendingStatus:e=>!(!e.appContext.popup||"complaint"!==e.appContext.popup.type||!e.appContext.popup.isSending),user:e=>(0,U.ug)(e).data},nt={onSubmitComplaintButtonClick:Ye,onCloseButtonClick:o.fs},ot={wrapper:{padding:"12px 24px",boxShadow:Q.E.innerBorderBottomBase},title:Object.assign({},V.HI),law:{marginTop:16}},ct=(0,P.M)({selectors:at,handlers:nt})((0,d.Xy)(ot)((0,T.Q)()((e=>{const{user:t,popup:s,onSubmitComplaintButtonClick:a,onCloseButtonClick:n,i18n:{tp:o},s:c,isSendingStatus:l}=e,{itemId:u,subtype:p}=s,m="photo"===p||"media"===p,g="story"===p,[h,f]=(0,i.useState)(""),[b,v]=(0,i.useState)(void 0),[y,x]=(0,i.useState)(""),[j,w]=(0,i.useState)("btns"),_="btns"===j?o._t("Пожаловаться"):o._t("Другая причина"),C=(0,i.useMemo)((()=>!(0,_e.B)(y)||y.length>100),[y]),I=(0,i.useMemo)((()=>h.length<4||h.length>500),[h]),k=(m||g)&&!t&&C,O=k||l||I,S=k||l,T=(0,i.useCallback)((()=>a({data:Object.assign({type:p,id:u,text:h},b?{categoryCode:b}:{}),context:{popup:s,email:t&&t.email||y}})),[h,t,u,y,a,s,p,b]),P=(0,i.useCallback)((e=>{if(e.code===Ze.other)return f(""),v(void 0),void w("text");f(e.value),v(e.code)}),[w,f,v]),L=(0,i.useMemo)((()=>{const e=(m||g)&&!t;return(0,r.jsxs)("div",Object.assign({className:(0,d.AH)(c.wrapper)},{children:[e&&(0,r.jsx)(D.A,{error:!!y&&C,placeholder:o._t("Укажите эл. почту, и мы ответим на ваши вопросы"),onChange:x,inputType:"email"}),"text"===j?(0,r.jsx)(D.A,{multiline:!0,linesCount:6,placeholder:o._t("Опишите суть жалобы своими словами"),error:!!h&&I,onChange:f}):(0,r.jsx)(rt,{formType:p,isDisabledEasyComplaintButton:S,onEasyComplaintBtnClick:P,activeText:h})]}))}),[m,t,j,S,y,h]);return(0,r.jsx)(E.j,{withCloseButton:!0,onClose:n,dataN:"wat-review-coplaint-popup",header:(0,r.jsx)("div",Object.assign({className:(0,d.AH)(c.wrapper,c.title)},{children:(0,r.jsx)("h1",{children:_})})),body:L,footer:(0,r.jsx)(M.I,{disabledButton:O,withAuth:!0,submitText:o._t("Отправить"),onSubmit:T,onCancel:n})})}))));var dt=s(1364),lt=s(11540),ut=s(46287),pt=s(43322);const mt=(e,{dateFns:t,config:{comma:s}})=>{const{date:r,entity:i}=e;if(!i)return;const a="name"in i?i.name:void 0;return{title:a,description:`${t.format(new Date(r),"d MMMM yyyy")}${s} ${a}`}},gt=(0,P.M)({selectors:({entityId:e,searchId:t})=>({entity:s=>(0,ut.Tq)({state:s,entityId:e,searchId:t}).data,isSearchBot:e=>e.session.isSearchBot})})((e=>{const{s:t,css:s}=(0,le.I)(ht),i=(0,lt.kc)(mt,e);if(!i)return null;const{title:a,description:n}=i;if(!a)return null;const{entity:o,isSearchBot:c}=e;return(0,r.jsxs)("div",Object.assign({className:s(t.wrapper)},{children:[!!o&&(0,r.jsx)("div",Object.assign({className:s(t.image)},{children:(0,r.jsx)(pt.g,{entity:o,isLoadingForced:c})})),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:s(t.title)},{children:(0,r.jsx)("h1",{children:a})})),!!n&&(0,r.jsx)("div",{children:n})]})]}))})),ht=(0,le.r)({wrapper:{padding:"12px 24px",boxShadow:Q.E.innerBorderBottomBase,display:"flex",alignItems:"center"},image:{marginEnd:16},title:Object.assign(Object.assign({},V.HI),{marginBottom:4})}),ft=(0,i.memo)((({onTextChange:e,officialAnswerText:t})=>{const{s:s,css:i}=(0,le.I)(bt),a=(0,ce.c)();return(0,r.jsxs)("div",Object.assign({className:i(s.wrapper)},{children:[!!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:i(s.title)},{children:a._t("Официальный ответ")})),(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t}))]}),(0,r.jsx)("div",Object.assign({className:i(s.title)},{children:a._t("Добавьте комментарий")})),(0,r.jsx)(D.A,{onChange:t=>e(t),autoFocus:!0,multiline:!0})]}))}));ft.displayName="Body";const bt=(0,le.r)({wrapper:Object.assign(Object.assign({},V.Hg),{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}),title:{color:f.T.gray_929292},text:{boxShadow:Q.E.innerBorderBottomBase,paddingTop:8,paddingBottom:20,paddingStart:0,paddingEnd:0,marginBottom:16}});var vt=s(11989),yt=s(88735),xt=s(35383),jt=s(89697),wt=s(59939),_t=s(48616),Ct=s(60832);const It=(0,L.n5)("submitReviewComment",(e=>{const{reviewId:t,text:s}=e,r=(0,z.W7)(),i=(0,L.K2)((0,vt.m7)({id:t,text:s,statusId:r}),(0,yt.zC)(r,(e=>(0,xt.o)(e)?(0,L._7)((0,o.fs)(),(0,Ke.QY)((({tp:e})=>(0,qe.D)((0,We.k)({title:e._t("Спасибо!"),message:e._t("Ваш комментарий отправлен")}))))):(0,Ke.QY)((({tp:e})=>(0,qe.D)((0,We.z)({title:e._t("Ошибка!"),message:e._t("Попробуйте еще раз!")})))))));return(0,L.NV)((({featurePersonalDataAgreement:e,featurePhoneLaw:t})=>(0,N.RC)({hasPhone:U.vY,status:t=>(0,jt.y)(t,e)},(({hasPhone:e,status:s})=>{const r=t&&!e;return r||"idle"===s?(0,wt.b)({after:e=>e?i:(0,L.lQ)(),openPopup:r?()=>(0,Ct.z)():()=>(0,_t.D)(!1)}):i}))))})),kt={review:e=>{const{popup:t}=e.appContext;if("addReviewComment"!==(null==t?void 0:t.type))return;const s=t.reviewId;return(0,dt.xW)({state:e,id:s}).data}},Ot={closeAddReviewCommentPopup:o.fs,submitComment:It},St=e=>{var t;const{review:s}=e;if(s&&!s.temporary)return{date:s.date_created,officialAnswer:null===(t=s.official_answer)||void 0===t?void 0:t.text,entityId:s.object.id}},Tt=(0,P.M)({selectors:kt,handlers:Ot})((e=>{const{closeAddReviewCommentPopup:t,submitComment:s,review:a,popup:{searchId:n}}=e,[o,c]=(0,i.useState)(""),[d,l]=(0,i.useState)(!0),u=(0,i.useCallback)((e=>{c(e),l(e.length<4)}),[o]),p=(0,i.useCallback)((()=>{a&&s({text:o,reviewId:a.id})}),[t,o]),m=(0,ce.c)(),g=(0,lt.kc)(St,e);if(!g)return null;const{date:h,entityId:f,officialAnswer:b}=g;return(0,r.jsx)(E.j,{dataN:"wat-add-review-comment-popup",header:(0,r.jsx)(gt,{date:h,entityId:f,searchId:n}),body:(0,r.jsx)(ft,{onTextChange:u,officialAnswerText:b}),footer:(0,r.jsx)(M.I,{submitText:m._t("Опубликовать"),withAuth:!0,onSubmit:p,onCancel:t,disabledButton:d})})})),Et=e=>(0,r.jsx)(u.w,{loader:p.b.cart,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),Mt=e=>(0,r.jsx)(u.w,{loader:p.b.deliveryOrderPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),Pt=e=>(0,r.jsx)(u.w,{loader:p.b.sendOrderPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),Lt=()=>(0,r.jsx)(u.w,{loader:p.b.thanksForReview,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),Nt=()=>(0,r.jsx)(u.w,{loader:p.b.thanksForPhoto,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),At=e=>(0,r.jsx)(u.w,{loader:p.b.personalDataAgreementPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),Rt=e=>(0,r.jsx)(u.w,{loader:p.b.smmTipPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(m.J,{asyncStatus:e})}),zt=e=>(0,r.jsx)(u.w,{loader:p.b.smmCheckoutPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(m.J,{asyncStatus:e})});var Ut=s(67730),Bt=s(10742),Ht=s(99449);function Ft(){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"212",height:"103",fill:"none"},{children:[(0,r.jsx)("path",{fill:"url(#phone-confirmation-a)",d:"M81.866 93.095h-4.23c-3.085.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.588-6.467 5.673-6.169h3.882c2.737.249 12.989 4.428 12.989 7.811v24.776c0 3.334-9.954 7.065-12.64 7.264Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-b)",d:"m94.108 92.249-12.043.846c-3.086.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.587-6.467 5.673-6.169l12.043 1.194c2.737.249 4.877 3.234 4.877 6.567v24.776c0 3.383-2.14 6.269-4.877 6.468Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-c)",d:"M60.07 47.423c0-8.905-3.534-16.965-8.86-20.995l-2.09-2.686h-5.225c-8.808-.15-16.173 9.95-16.173 23.184 0 13.78 7.962 23.632 17.169 23.632.298 0 6.32-.1 6.32-.1V68.12c5.325-3.831 8.858-11.791 8.858-20.697Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-d)",d:"M95.402 27.174c0-7.462-2.986-14.229-7.415-17.562l-1.741-2.239h-4.38c-7.365-.1-13.536 8.309-13.536 19.403 0 11.493 6.619 19.752 14.382 19.752.25 0 5.325-.05 5.325-.05v-1.94c4.38-3.234 7.365-9.901 7.365-17.364Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-e)",d:"M65.642 47.423c0 12.14-6.569 22.488-15.178 23.134-9.207.697-17.17-9.85-17.17-23.631 0-13.782 7.963-24.08 17.17-23.135 8.61.945 15.178 11.443 15.178 23.632Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-f)",d:"M101.225 27.125c0 10.149-5.474 18.806-12.69 19.353-7.714.597-14.333-8.209-14.333-19.702 0-11.492 6.669-20.099 14.332-19.303 7.216.697 12.691 9.503 12.691 19.652Z"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M128.951 98.456c0 1.426-.771 2.641-1.78 2.717-1.082.082-2.016-1.155-2.016-2.77 0-1.613.934-2.825 2.016-2.713 1.009.105 1.78 1.34 1.78 2.766ZM200.352 3.773c0 1.426-.771 2.64-1.781 2.717-1.081.082-2.015-1.155-2.015-2.77 0-1.613.934-2.825 2.015-2.713 1.01.105 1.781 1.34 1.781 2.766ZM14.247 17.012c0 1.426-.77 2.64-1.78 2.717-1.082.082-2.016-1.156-2.016-2.77s.934-2.825 2.016-2.713c1.01.104 1.78 1.34 1.78 2.766ZM51.083 36.765l-.302 21.402M44.167 46.996l13.197.543M93.758 74.888l-10.942-.068 7.627-10.98v21.485M150.099 77.903c5.897.582 45.866 4.547 51.091-27.312 2.683-16.373-37.845-37.523-52.341-36.302-6.539.55-49.442 5.432-55.097 6.7-5.002 1.122-7.54 3.693-7.224 6.754.144 1.384.475 4.264 5.947 5.729.799.215 1.645.407 2.546.575 5.182.986 12.031 1.198 20.261.096.597-.078 1.99-.145 2.641-.195.025 0 .049 0 .07-.002"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M123.256 50.321c-3.307 4.941-1.567 16.859 16.951 17.493 12.249.42 15.19-4.363 15.939-8.803"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M121.345 43.28c-.593 7.517 4.84 11.995 18.307 12.551 3.022.125 10.696.205 14.545-3.32M124.815 62.323c-2.963 1.271-4.214 9.292 4.565 13.774 7.412 3.783 22.95 3.55 25.875-2.522 1.565-3.25.167-6.608-2.962-8.06"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M162.21 31.402c-14.232-5.966-17.263-.587-28.369-1.077-12.518-.553-16.333 1.618-16.359 5.702-.044 6.814 8.821 11.165 20.194 9.347 4.936-.789 10.035 1.793 14.433 3.206 4.959 10.675 12.888 18.007 23.258 16.535"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-a",x1:"71.946",x2:"94.527",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-b",x1:"76.426",x2:"99.007",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-c",x1:"27.703",x2:"60.062",y1:"47.161",y2:"47.161",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-d",x1:"68.311",x2:"95.391",y1:"26.976",y2:"26.976",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-e",x1:"33.278",x2:"65.638",y1:"47.205",y2:"47.205",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-f",x1:"74.202",x2:"101.232",y1:"26.942",y2:"26.942",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]}))]})]}))}var Dt=s(68710),Vt=s(92782),Zt=s(1707);const $t=(0,i.memo)((({phone:e,resetCode:t})=>{const[s,a]=(0,i.useState)(59),{_t:n}=(0,ce.c)(),{css:o,s:c}=(0,le.I)(qt),d=(0,Ie.wA)(),{useBssHandler:l}=(0,pe.E)(),u=l(Dt.gN),p=()=>{const e=Date.now(),t=setInterval((()=>{const s=Math.floor(60-(Date.now()-e)/1e3);s>0?a(s):(clearInterval(t),a(0))}),1e3);return()=>{t&&clearInterval(t)}};(0,i.useEffect)((()=>p()),[]);const m=(0,Bt.D)((()=>{a(59),p(),u(),d((0,Zt.ll)(e.replace(/ /g,""),(0,z.W7)())),t()}));if(0===s)return(0,r.jsx)(tt.$,Object.assign({appearance:"ghost",onClick:m,experimentalStyles:c.refreshButton,dataN:"wat-request-code-again"},{children:n("Отправить код ещё раз")}));const g=`0:${s<10?0:""}${s}`;return(0,r.jsx)("p",Object.assign({className:o(c.text)},{children:n("Новый код можно запросить через %1",[g])}))}));$t.displayName="RefreshCodeTimer";const qt=(0,le.r)({text:Object.assign(Object.assign({},V.Hg),{color:f.T.gray_929292,marginTop:32,width:255,marginStart:"auto",marginEnd:"auto",textAlign:"left"}),refreshButton:{marginTop:32,padding:0}});var Wt=s(97673);const Gt=["","","",""],Qt=(0,i.memo)((({phone:e,withDecline:t,source:s,error:a})=>{const{_t:n}=(0,ce.c)(),{css:o,s:c}=(0,le.I)(Kt),d=(0,Ie.wA)(),{bssRef:l,useBssHandler:u}=(0,pe.E)((0,Dt.B)()),p=u(Dt.YG),m=(0,Ie.d4)((e=>{var t,s;return"loading"===(null===(s=null===(t=e.data.user.phone)||void 0===t?void 0:t[Wt._])||void 0===s?void 0:s.status)})),[g,h]=(0,i.useState)(Gt),[f,b]=(0,Ut.P)(!!a),v=(0,fe.hh)(g),y=a!==fe.$H;(0,Ht.A)({type:"common:escapeKeyUp",handler:()=>{p()}});const x=r=>{m||d((0,L.K2)(a?(0,Vt.G)({phone:e,withDecline:t,source:s}):(0,L.lQ)(),(0,Zt.rH)({phone:e,confirmationCode:r,source:s,withDecline:t})))},j=(0,Bt.D)((()=>{p(),d((0,Zt.SA)(s,!1))})),w=(0,Bt.D)((e=>{const t=parseInt(e.target.dataset.index||""),s=[...g];if(""===e.target.value&&!Number.isNaN(t))return s[t]=e.target.value,h(s),void b(!1);const r=e.target.value;return(0,fe.yp)(r)&&!Number.isNaN(t)?(s[t]=r,h(s),b(!1),(0,fe.jU)(e.target),void(t===g.length-1&&(0,fe.hh)(s)&&x(s.join("")))):void 0})),_=(0,Bt.D)((e=>{const t=e.target;if(37!==e.keyCode&&(8!==e.keyCode||""!==t.value))return 39===e.keyCode?(e.preventDefault(),void(0,fe.jU)(e.target)):13===e.keyCode?(e.preventDefault(),void I()):void 0;if(e.preventDefault(),(0,fe.CF)(e.target),8===e.keyCode){const e=parseInt(t.dataset.index||"");if(e){const t=[...g];t[e-1]="",h(t)}}})),C=(0,Bt.D)((e=>{(0,fe.yp)(e.key)||e.preventDefault()})),I=(0,Bt.D)((()=>{v&&x(g.join(""))})),k=(0,Bt.D)((()=>{h(Gt)}));return(0,r.jsx)(E.j,{dataN:"wat-confirm-phone-popup",withCloseButton:!0,onClose:j,body:(0,r.jsxs)("div",Object.assign({className:o(c.body),ref:l},{children:[(0,r.jsx)(Ft,{}),(0,r.jsx)("h1",Object.assign({className:o(c.header)},{children:n("Подтвердите номер")})),(0,r.jsx)("p",Object.assign({className:o(c.text)},{children:n("Введите код из SMS, отправленного на номер %1",[e.replace(" ","&nbsp;")])})),(0,r.jsx)("div",Object.assign({className:o(c.inputWrapper)},{children:g.map(((e,t)=>(0,r.jsx)("input",Object.assign({autoFocus:0===t,className:o(c.input,f&&c._error),type:"number",placeholder:"-",min:0,max:9,value:e,"data-index":t,onChange:w,onKeyDown:_,onKeyPress:C},ae.dx.n(`wat-phone-code-input-${t}`)),t)))})),f&&(0,r.jsx)("div",Object.assign({className:o(c.error)},{children:(0,fe.B$)(a,n)})),y&&(0,r.jsx)($t,{phone:e,resetCode:k}),(0,r.jsx)(tt.$,Object.assign({appearance:v&&y?"secondary":"noncontrast",wide:!0,disabled:!fe.hh||!y||m,onClick:I,experimentalStyles:c.confirmButton,dataN:"wat-confirm-code"},{children:n("Подтвердить")})),t&&(0,r.jsx)(tt.$,Object.assign({appearance:"ghost",onClick:j,dataN:"wat-confirm-phone-cancel"},{children:n("Отказаться и не привязывать")}))]}))})}));Qt.displayName="PhoneConfirmationPopup";const Kt=(0,le.r)((e=>({body:{padding:e.mobile?"56px 16px":"56px 116px",textAlign:"center"},header:Object.assign(Object.assign({},V.Yn),{fontWeight:V.Wy.bold,marginTop:28,marginBottom:16}),text:Object.assign({},V.Hg),textLine:{display:"block"},inputWrapper:{display:"flex",justifyContent:"space-between",marginTop:32},input:Object.assign(Object.assign({},V.Yn),{flexGrow:1,border:"none",borderBottom:`1px solid ${f.T.gray_e6e6e6}`,padding:"12px 0",marginEnd:16,textAlign:"center",minWidth:1,":focus":{borderBottomColor:f.T.blue_0070cc,outline:"none","::placeholder":{color:"transparent"}}}),_error:{borderBottomColor:f.T.red_fe5000},error:Object.assign(Object.assign({},V.EX),{marginTop:6,color:f.T.red_fe5000}),confirmButton:{marginTop:40}}))),Yt=e=>(0,r.jsx)(u.w,{loader:p.b.phonePopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),Xt=e=>(0,r.jsx)(u.w,{loader:p.b.successfulSubscriptions,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N});var Jt=s(10361);const es=e=>(0,r.jsx)(u.w,{loader:p.b.social,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),ts=()=>(0,r.jsx)(u.w,{loader:p.b.recommendations,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N});var ss=s(5449),rs=s(88942),is=s(49423),as=s(91905),ns=s(45276);const os=(0,i.memo)((()=>{const{css:e,s:t}=(0,le.I)(cs),s=(0,ce.c)(),{brandName:i}=(0,oe.U)(),a=(0,is.O)("choosePhone"),n=(0,rs.t)(null==a?void 0:a.entityId),o=(0,ns.Y)(n,"phone");return(0,r.jsx)(ss.B,{children:(0,r.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,r.jsx)("div",Object.assign({className:e(t.caption)},{children:s._t("Выберите номер для звонка")})),(0,r.jsx)("div",Object.assign({className:e(t.message)},{children:s._t("Пожалуйста, скажите, что узнали номер в %1",[i])})),(0,r.jsx)("div",Object.assign({className:e(t.phones)},{children:o.map((({text:s,value:i,comment:a},n)=>(0,r.jsxs)("a",Object.assign({className:e(t.phone),href:`tel:${i}`},{children:[(0,r.jsx)(as.b,{color:f.T.green_30ad00}),(0,r.jsxs)("span",Object.assign({className:e(t.text)},{children:[(0,r.jsx)("span",Object.assign({className:e(t.value)},{children:s||i})),a&&(0,r.jsx)("span",Object.assign({className:e(t.comment)},{children:a}))]}))]}),n)))}))]}))})}));os.displayName="ChoosePhonePopup";const cs=(0,le.r)({root:{padding:28,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},V.HI),{marginTop:24}),message:{marginTop:12},phones:{marginTop:16,width:"100%"},phone:{paddingTop:16,paddingBottom:16,display:"flex",alignItems:"center"},text:{marginStart:16,display:"flex",flexDirection:"column"},value:{},comment:Object.assign({marginTop:2,color:f.T.gray_929292},V.EX)});var ds=s(99937),ls=s(77017),us=s(46516),ps=s(62685),ms=s(11042),gs=s(98379),hs=s(13179),fs=s(66698),bs=s(38132);const vs=(0,i.memo)((()=>{var e;const{css:t,s:s}=(0,le.I)(ys),a=(0,ce.c)(),{frame:n,entity:c}=(0,ms.Z)(),d=c&&(0,us.O)(c)?(0,ls.F)(c.rubrics):void 0,{searchCtx:l,searchKeyword:u}=(0,bs.Z)({entityId:n.entityId}),p=(0,hs.Sg)({id:n.entityId,albumId:fs.ge,searchCtx:l,searchKeyword:u},{enabled:"menu"===(null==n?void 0:n.tab)&&"branch"===(null==c?void 0:c.type)}),m=p.data?(null===(e=p.data)||void 0===e?void 0:e.pages[0].items.length)||0:void 0,{bssRef:g}=(0,pe.E)((({size:e})=>(t,s)=>{const r=(0,B.bB)(s.appContext.frames,"entity");if(void 0!==e&&r)return{uiElement:{name:"addPricePhotoSuccess",ownerName:"cardPrices",frameUuid:r.id},payload:{productOffersList:{entity:{id:r.entityId,type:"branch"},size:e},placeItem:(0,gs.t)({state:s,entityFrameId:r.id}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0}}}})({size:m})),h="menu"===d?a._t("Фотография появится в разделе Меню сразу после модерации: обычно на проверку уходит 1-2 дня"):a._t("Фотография появится в разделе с ценами сразу после модерации: обычно на проверку уходит 1-2 дня"),f=(0,Ie.wA)(),b=(0,i.useCallback)((()=>{f((0,o.fs)())}),[f]);return(0,r.jsx)(ps.T,Object.assign({onClose:b},{children:(0,r.jsxs)("div",Object.assign({ref:g,className:t(s.root)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.icon)},{children:(0,r.jsx)(ds.Q,{})})),(0,r.jsx)("div",Object.assign({className:t(s.caption)},{children:a._t("Знаете цену и другим подсказываете. Спасибо!")})),(0,r.jsx)("div",Object.assign({className:t(s.message)},{children:h})),(0,r.jsx)("div",Object.assign({className:t(s.button)},{children:(0,r.jsx)(J.A,Object.assign({onClick:b},{children:a._t("Хорошо")}))}))]}))}))}));vs.displayName="MenuPhotoThankPopup";const ys=(0,le.r)({root:{padding:90,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},icon:{width:304,height:180},caption:Object.assign(Object.assign({},V.HI),{marginTop:32}),message:{marginTop:16},button:{marginTop:32}});var xs=s(88756),js=s(3135);const ws=(0,i.memo)((()=>{var e,t;const{css:s,s:a}=(0,le.I)(_s),n=(0,ce.c)(),c=(0,Ie.wA)(),d=(0,is.O)("erir"),l=(0,js.R)(d),u=!(null===(e=null==l?void 0:l.blocks)||void 0===e?void 0:e.length)&&!(null==l?void 0:l.isLoading)&&!(null==l?void 0:l.wasLoading),{onCopy:p,renderIdInput:m}=(0,js.m)(),g=(0,i.useCallback)((()=>{c((0,o.fs)())}),[c]);return(0,i.useEffect)((()=>{u&&c((0,o.fs)())}),[]),u?null:(0,r.jsx)(ps.T,Object.assign({onClose:g},{children:(0,r.jsxs)("div",Object.assign({className:s(a.root)},{children:[(0,r.jsx)("div",Object.assign({className:s(a.caption)},{children:n._t("О рекламодателе")})),(0,r.jsx)("div",Object.assign({className:s(a.info)},{children:(null==l?void 0:l.isLoading)?(0,r.jsx)(Oe.Z,{}):(null===(t=null==l?void 0:l.blocks)||void 0===t?void 0:t.length)?(0,r.jsxs)(r.Fragment,{children:[l.blocks.map((({erid:e,legalName:t},i)=>(0,r.jsx)("div",Object.assign({className:s(a.block)},{children:(0,r.jsxs)(xs.u,Object.assign({inline:!0},{children:[t&&t,e&&(0,r.jsx)("span",Object.assign({className:s(a.erid)},{children:`erid: ${e}`})),"description"in l&&l.description&&(0,r.jsx)("p",Object.assign({className:s(a.description)},{children:l.description}))]}))}),i))),!!l.erid&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,Object.assign({styles:a.link,onClick:p},{children:n._t("Скопировать ID")})),m(l.erid)]})]}):n._t("Не удалось загрузить данные.")}))]}))}))}));ws.displayName="ErirPopup";const _s=(0,le.r)({root:{padding:24,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},V.HI),{marginTop:24}),info:{marginTop:12,textAlign:"center"},block:{marginTop:12,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},link:{marginTop:20,marginBottom:20},description:{padding:"10px 0"}}),Cs=()=>(0,r.jsx)(u.w,{loader:p.b.newYearPromoPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),Is=e=>(0,r.jsx)(u.w,{loader:p.b.mobileAppPromoBannerPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N}),ks=e=>(0,r.jsx)(u.w,{loader:p.b.otelloChooseBookingParamsPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:m.N});var Os=s(69935),Ss=s(56803),Ts=s(66089),Es=s(43793);const Ms={32:"4504222397630173",38:"5348647327760881",21:"2956110025720010",9:"1267260165455895",1:"141360258613345",30:"4222747420917890",40:"5630122304471834",19:"2674635049009413",25:"3519059979141128",18:"2533897560653928",33:"4644959885983809",28:"3941272444207172",11:"1548735142166607",31:"4363484909273106",24:"3378322490785844",27:"11260016975675394",17:"2393160072298497",7:"985785188745271",23:"3237585002430511",13:"1830210118877480",36:"5067172351050327",35:"4926434862694425",114:"16044696473293721",43:"6052334769537063",241:"1267655302447163",3:"422835235324469",37:"5207909839405058",4:"563572723679253",2:"282097746968728",44:"6193072257892359",15:"2111685095587875",16:"2252422583943339",113:"15903958954410051",8:"1126522677100564",74:"10415196908552284",77:"10837409373618180",88:"12385521745526786",59:"8304134583222334",41:"5770859792826456",90:"12666996722237442",206:"70030076128121878",80:"11259621838684168",70:"9852246955130881",52:"7318972164734977",50:"7037497188024321",47:"6615284722958337",53:"7459709653090305",5:"704310212034621",115:"16185433961648964",58:"8163397094867289",97:"13652159140724744",39:"5489384816115713",34:"4785697374339092",22:"3096847514075285",55:"7741184629801014"},Ps=((0,L.n5)("openOtelloPopupIfNeeded",(()=>(0,L.Q2)((e=>{const t=e.appContext.frames[0];return t?"search"===t.type?((e,t)=>{var s,r;if(!e.config.featureOtelloPopupInSearch)return(0,L.lQ)();if(!e.config.isHumanFromSeo)return(0,L.lQ)();const i=(0,se.MJ)(e),a=i?Ms[i]:void 0;if(!a)return(0,L.lQ)();const n=(0,Es.X)(t),c=(0,Ss.s8)({state:e,searchId:n}),d=(0,Ts.l)(null===(r=null===(s=c.data)||void 0===s?void 0:s.searchAttributes)||void 0===r?void 0:r.query_context);return(null==d?void 0:d.includes("269"))?(0,o.PB)({id:(0,z.W7)(),type:"otelloChooseBookingParamsPopup",subtype:"search",targetId:a,ownerFrameId:t.id,isClosableByClickingOutside:!0}):(0,L.lQ)()})(e,t):"entity"===t.type?((e,t)=>{var s,r,i;if(!e.config.featureOtelloPopupInCard)return(0,L.lQ)();if(!e.config.isHumanFromSeo)return(0,L.lQ)();const a=null===(s=(0,ut.Tq)({state:e,entityId:t.entityId,searchId:t.searchId}))||void 0===s?void 0:s.data;if(!a)return(0,L.lQ)();const n=null===(r=(0,Os.d)(a))||void 0===r?void 0:r.adsBuyHere;return n&&(null===(i=n.actions)||void 0===i?void 0:i.find((e=>e.value.includes("otello.ru"))))?(0,o.PB)({id:(0,z.W7)(),type:"otelloChooseBookingParamsPopup",subtype:"hotel",targetId:t.entityId,ownerFrameId:t.id,isClosableByClickingOutside:!0}):(0,L.lQ)()})(e,t):(0,L.lQ)():(0,L.lQ)()})))),()=>(0,r.jsx)(u.w,{loader:p.b.installAppToSeeFriendsPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}));var Ls=s(80982);const Ns=()=>(0,r.jsx)(u.w,{loader:p.b.authFriendsOnMapPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),As=()=>(0,r.jsx)(u.w,{loader:p.b.invitingFriendsOnMapPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),Rs=()=>(0,r.jsx)(u.w,{loader:p.b.mobileFriendsOnMapPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),zs=()=>(0,r.jsx)(u.w,{loader:p.b.competitionNoFriends,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N}),Us=()=>(0,r.jsx)(u.w,{loader:p.b.competitionHaveFriends,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:m.N});s(56475);var Bs=s(86817),Hs=s(81181),Fs=s(38793),Ds=s(16316),Vs=s(64372);class Zs extends i.PureComponent{constructor(){super(...arguments),this.handleWrapperClick=()=>{this.props.popup.isClosableByClickingOutside&&!this.props.popup.isModal&&this.props.closePopup()}}render(){const{s:e,isDark:t,popup:s}=this.props,i=this.renderContentModule();return i?(0,r.jsx)(O.X.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:(0,d.AH)(e.popup)},{children:(0,r.jsx)(v,Object.assign({isDark:t,onClick:this.handleWrapperClick},{children:i}))}))})):null}renderContentModule(){const{popup:e}=this.props;switch(e.type){case"feedback":return(0,r.jsx)(g,{type:e.subtype});case"createReview":case"editReview":return(0,r.jsx)(x,{popup:e});case"photoUploader":return(0,r.jsx)(y,{});case"typedFeedback":return(0,r.jsx)(j,{popup:e});case"editFavorite":return(0,r.jsx)(_,{popup:e});case"videoPlayer":return(0,r.jsx)(C.O,Object.assign({},e));case"entityVideoPlayer":return(0,r.jsx)(I,{popup:e});case"editUserProfile":return(0,r.jsx)(Me,{popup:e});case"deleteUserProfile":return(0,r.jsx)(ze,{popup:e});case"subscribers":return(0,r.jsx)(De,{});case"subscriptions":return(0,r.jsx)(Ve,{});case"recommendations":return(0,r.jsx)(ts,{});case"successfulSubscriptions":return(0,r.jsx)(Xt,{popup:e});case"noFriends":return(0,r.jsx)(Jt.h,{});case"social":return(0,r.jsx)(es,{source:e.source});case"sharing":return(0,r.jsx)(k,{popup:e});case"complaint":return(0,r.jsx)(ct,{popup:e});case"emailConfirmation":return(0,r.jsx)(Fe,{popup:e});case"addReviewComment":return(0,r.jsx)(Tt,{popup:e});case"deliveryOrder":return(0,r.jsx)(Mt,{popup:e});case"cart":return(0,r.jsx)(Et,{popup:e});case"sendOrder":return(0,r.jsx)(Pt,{popup:e});case"thanksForReview":return(0,r.jsx)(Lt,{});case"thanksForPhoto":return(0,r.jsx)(Nt,{});case"personalDataAgreement":return(0,r.jsx)(At,{withDecline:e.withDecline});case"smmTipPopup":return(0,r.jsx)(Rt,{popup:e});case"smmCheckout":return(0,r.jsx)(zt,{popup:e});case"phoneConfirmationPopup":return(0,r.jsx)(Qt,{phone:e.phone,withDecline:e.withDecline,source:e.source,error:e.error});case"phonePopup":return(0,r.jsx)(Yt,{type:e.subtype});case"choosePhone":return(0,r.jsx)(os,{});case"menuPhotoThank":return(0,r.jsx)(vs,{});case"erir":return(0,r.jsx)(ws,{});case"newYearPromo":return(0,r.jsx)(Cs,{});case"otelloChooseBookingParamsPopup":return(0,r.jsx)(ks,{popup:e});case"mobileAppPromoBannerPopup":return(0,r.jsx)(Is,{promoType:e.promoType});case"installAppToSeeFriends":return(0,r.jsx)(Ps,{});case"editUserFavoritesPopup":return(0,r.jsx)(Ls.Iu,{popup:e});case"mobileFriendsOnMapPopup":return(0,r.jsx)(Rs,{});case"invitingFriendsOnMapPopup":return(0,r.jsx)(As,{});case"competitionNoFriendsOnMapPopup":return(0,r.jsx)(zs,{});case"competitionHaveFriendsOnMapPopup":return(0,r.jsx)(Us,{});case"authFriendsOnMapPopup":return(0,r.jsx)(Ns,{});case"layersControl":return(0,r.jsx)(Bs.SV,Object.assign({},e));case"friendInOtherDomain":return(0,r.jsx)(Hs.u,Object.assign({},e));case"broadcastEnded":return(0,r.jsx)(Fs.w,Object.assign({},e));case"userRelationDifferencePopup":return(0,r.jsx)(Ds.ZC,{publicUserId:e.publicUserId});case"selfPromo":return(0,r.jsx)(Vs.eC,{});default:return null}}}Zs.displayName=(0,l.d)("src/modules/popup");const $s=(0,a.Ng)(n,c)((0,w.J)((({popup:e})=>{if(e)return{popup:e,isDark:"isPopupGlassDark"in e&&e.isPopupGlassDark}}))((0,d.Xy)({popup:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})(Zs)))},14414:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});const r=(0,s(46287).eJ)(),i=(e,t)=>s=>r({state:s,entityId:e,searchId:t}).data},68367:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var r=s(12017),i=s(29787),a=s(77027),n=s(7335),o=s(92585),c=s(63041);const d=(0,r.n5)("backToEntityCard",(e=>(0,n.eU)((e=>e.appContext.graveyard),(t=>t[0]&&t[0].find(o.n)?(0,r.K2)((0,i.PC)(),(0,a.kg)()):(0,r.K2)((0,a.S2)(),(0,c.UP)({id:e.id,type:e.type}))))))},3741:(e,t,s)=>{"use strict";s.d(t,{l:()=>u});var r=s(31085),i=s(14041),a=s(79594),n=s(10048),o=s(58471);const c=e=>(0,r.jsx)(n.w,{loader:o.b.privacyPolicyBanner,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,r.jsx)("div",{})});var d=s(35023),l=s(15471);const u=i.memo((({isAbsolute:e})=>{const t=(0,a.d4)((e=>e.appContext.showPrivacyPolicyBanner)),s=(0,i.useMemo)((()=>({frameId:(0,d.W7)()})),[]);return t?(0,r.jsx)(l.X.Provider,Object.assign({value:s},{children:(0,r.jsx)(c,{isAbsolute:e})})):null}));u.displayName="PrivacyPolicyBanner"},91414:(e,t,s)=>{"use strict";s.d(t,{n:()=>m});var r=s(31085),i=s(14041),a=s(79594),n=s(84593),o=s(44920),c=s(98827);const d=()=>{const e=[(0,o.A)({isLabelShown:!0}),(0,c.n)({isLabelShown:!0})];return(0,r.jsx)(n.L,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,r.jsx)(n.j,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=s(33489),u=s(18389);const p=()=>{const e=(0,u.o)(),t=e&&"tab"in e?e.tab:void 0,s=[(0,o.A)({isLabelShown:"whereToBuy"===t}),(0,l.j)({isLabelShown:!0})];return(0,r.jsx)(n.L,{children:s.map(((e,t)=>e&&(0,r.jsx)(n.j,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})},m=(0,i.memo)((()=>(0,a.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(d,{}):(0,r.jsx)(p,{})))},72760:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});var r=s(77027),i=s(35023);function a(e){return(0,r.fL)({id:(0,i.W7)(),type:"publicFavorites",subtype:e})}},41949:(e,t,s)=>{"use strict";s.d(t,{P:()=>m});var r=s(12017),i=s(29787),a=s(77027),n=s(35023),o=s(7335),c=s(80905),d=s(88113),l=s(92448),u=s(51021),p=s(20091);const m=(0,r.n5)("openRealtyFrame",(e=>{const t=(0,n.W7)(),s=null==e?void 0:e.entity,m=null==e?void 0:e.source,g=(0,n.W7)();return(0,r.NV)((({featureRealty:h,defaultCountryCode:f})=>h?(0,r.K2)((0,o.eU)((e=>(0,c.bB)(e.appContext.frames,"realty")),(r=>{const o="KZ"===f&&l.gI.rentDaily.categoryId||(null==e?void 0:e.categoryId)||(null==r?void 0:r.categoryId)||l.gI.sale.categoryId;return(0,i.PC)((0,a.fL)({id:(0,n.W7)(),scrollId:(0,n.W7)(),type:"realty",page:1,entity:s,searchId:t,reviewSearchId:g,suggestId:null==e?void 0:e.suggestId,filterPanelState:(null==r?void 0:r.filterPanelState)||"auto",filterValues:(null==e?void 0:e.filters)||(null==r?void 0:r.filterValues),categoryId:o,source:m,isOpenedFromMap:null==e?void 0:e.isOpenedFromMap}))})),(0,u.P)((0,d.D)()),(0,u.n)((0,o.eU)((e=>e.appContext.isDataViewerMinimized),(e=>e&&(0,p.X_)({isMinimized:!1}))))):(0,r.lQ)()))}))},25880:(e,t,s)=>{"use strict";s.d(t,{R:()=>l,d:()=>d});var r=s(35023),i=s(29787),a=s(7335),n=s(80556),o=s(39890),c=s(12017);const d=(0,c.n5)("resetFilters",(()=>(0,n.Z8)((e=>e?(0,n.DT)(e.id,(e=>Object.assign(Object.assign({},e),{entity:void 0,filterValues:{}}))):(0,c.lQ)())))),l=(0,c.n5)("setFilter",(e=>{const{filter:t}=e,s=(0,r.W7)();return(0,i.PC)((0,a.eU)((e=>e.appContext.frames.find(n.$R)),(e=>{if(!e||!(0,n.$R)(e))return(0,c.lQ)();const i=void 0===t.value&&t.name&&e.filterValues?(0,r.cJ)(e.filterValues,[t.name]):(0,o.$)(t,e.filterValues);return(0,n.DT)(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,r.W7)(),page:1,filtersId:s,scrollId:(0,r.W7)(),filterValues:i,seoH1:void 0})))})))}))},80556:(e,t,s)=>{"use strict";s.d(t,{$R:()=>a,DT:()=>o,Z8:()=>n});var r=s(84642),i=s(39064);function a(e){return"realty"===e.type}const n=(0,r.W)(a),o=(0,i.m)(a)},31373:(e,t,s)=>{"use strict";s.d(t,{n:()=>o,p:()=>n});var r=s(79594),i=s(79773);function a(e,t){const s=(0,r.d4)(e),a=s&&(null==t?void 0:t.entityId)?Object.assign(Object.assign({},s),{geo_id:t.entityId}):s;return(0,i.py)(a)}function n(e){return a(i.Iq,e)}function o(e){return a(i.P5,e)}},88113:(e,t,s)=>{"use strict";s.d(t,{D:()=>n});var r=s(12017),i=s(85616),a=s(1321);const n=(0,r.n5)("killRealtyTooltip",(()=>(0,r._7)((0,i.B)(),(0,a.Ip)({realtyHoveredId:void 0}))))},97435:(e,t,s)=>{"use strict";s.d(t,{CI:()=>l,Hb:()=>d,Q6:()=>a,e1:()=>n,rz:()=>c});var r=s(806);const i="realtytooltip",a={[`data-${i}`]:!0},n=(0,r.e)(void 0),o=(0,r.e)(void 0),c=()=>{var e;return"true"===(null===(e=n.get())||void 0===e?void 0:e.dataset[i])},d=()=>{o.get()&&(clearTimeout(o.get()),o.set((()=>{})))},l=(e,t)=>{const s=setTimeout((()=>e()),t);o.set((()=>s))}},31263:(e,t,s)=>{"use strict";s.d(t,{h:()=>z});var r=s(31085),i=s(90882),a=s(12017),n=s(14041),o=s(79594),c=s(10742),d=s(14701),l=s(20091),u=s(84175),p=s(82781),m=s(86817),g=s(99259),h=s(69158),f=s(64099),b=s(93404),v=s(80552),y=s(4957),x=s(49048),j=s(84593),w=s(85153),_=s(16914),C=s(8365),I=s(91984),k=s(61979),O=s(81618);const S=n.memo((({onLogoClick:e,showFilters:t,showList:s})=>{const[i,a]=n.useState(!1),c=(0,o.d4)((e=>e.session.is3dEnabled)),{bssRef:d,useBssHandler:l}=(0,C.E)(),h=l(I.h,{type:i?"closeMapSubLayers":"mapSubLayers"}),f=n.useCallback((()=>{c&&(h(),a((e=>!e)))}),[c,h]),v=(0,o.d4)(w.C),S=!!v,E=m.xG.useRealtySublayers(),M=S?E.find((e=>e.type===v)):void 0,P=(0,p.c)(),{css:L,s:N}=(0,u.I)(T);return(0,r.jsx)("div",Object.assign({ref:d},{children:(0,r.jsxs)(j.L,Object.assign({appearance:"transparent"},{children:[(0,r.jsx)("button",Object.assign({onClick:e,className:L(N.dgisButton)},{children:(0,r.jsx)(k.z,{size:36})})),(0,r.jsx)(j.j,Object.assign({onClick:t,icon:(0,r.jsx)(y.C,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-filter"},{children:P._gg("Фильтры")})),(0,r.jsx)(j.j,Object.assign({onClick:s,icon:(0,r.jsx)(_.B,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-list"},{children:P._gg("Списком")})),(null==E?void 0:E.length)>0&&c&&(0,r.jsx)(j.j,Object.assign({onClick:f,icon:(0,r.jsx)(x.z,{}),type:S?"blueWithShadow":"whiteWithShadow",dataN:"wat-realty-footer-sublyers"},{children:M?M.title:P._gg("Карты недвижимости")})),i&&c&&(0,r.jsx)("div",Object.assign({onClick:f,className:L(N.sublayerRoot)},{children:(0,r.jsxs)("div",Object.assign({className:L(N.sublayerList)},O.dx.n("wat-realty-footer-sublayer-list"),{children:[(0,r.jsxs)("div",Object.assign({className:L(N.sublayersHeader)},{children:[P._gg("Карты недвижимости"),(0,r.jsx)("div",Object.assign({className:L(N.icon)},{children:(0,r.jsx)(b.b,{color:g.T.gray_cccccc})}))]})),(0,r.jsx)(m.UC,{items:E,isListCollapsed:!i})]}))}))]}))}))})),T=(0,u.r)({dgisButton:{marginEnd:10},sublayerRoot:{position:"fixed",zIndex:f.fE.top,top:0,start:0,width:"100%",height:"100%",background:(0,h.m)(g.T.black,.7),display:"flex",flexDirection:"column",justifyContent:"flex-end"},sublayerList:{background:g.T.white,borderRadius:"8px 8px 0 0",paddingTop:20,paddingBottom:20,paddingStart:20,paddingEnd:24},sublayersHeader:Object.assign(Object.assign({},v.HI),{display:"flex",justifyContent:"space-between",paddingBottom:20}),icon:{display:"flex",justifyContent:"center",alignItems:"center",width:28,height:28}});var E=s(75098),M=s(22786),P=s(18887),L=s(92448);const N=n.memo((({onLogoClick:e,showFilters:t,showMap:s,entityId:i,goBack:a,categoryId:n})=>{const o=(0,p.c)(),{css:c,s:d}=(0,u.I)(A),l=(0,P.P)({type:n===L.gI.rent.categoryId?"realtyRent":"realtySales"});return(0,r.jsxs)(j.L,{children:[i?(0,r.jsx)(j.j,{href:l,onClick:a,icon:(0,r.jsx)(M.v,{})}):(0,r.jsx)("button",Object.assign({onClick:e,className:c(d.dgisButton)},{children:(0,r.jsx)(k.z,{size:36})})),(0,r.jsx)(j.j,Object.assign({dataN:"wat-realty-footer-filters",onClick:t,icon:(0,r.jsx)(y.C,{})},{children:o._gg("Фильтры")})),(0,r.jsx)(j.j,Object.assign({dataN:"wat-realty-footer-map",onClick:s,icon:(0,r.jsx)(E.T,{})},{children:o._gg("На карте")}))]})})),A=(0,u.r)({dgisButton:{marginEnd:10}});var R=s(52072);const z=(0,n.memo)((()=>{const e=(0,o.d4)((e=>e.appContext.frames[0]));return e&&"realty"===e.type&&"manuallyOpened"!==e.filterPanelState?(0,r.jsx)(U,{frame:e}):null})),U=(0,n.memo)((({frame:e})=>{var t;const s=(0,o.d4)((e=>e.appContext.isDataViewerMinimized)),n=(0,o.wA)(),u=(0,c.D)((()=>{n((0,i.L)("Уверены, что хотите покинуть раздел недвижимости?",(()=>(0,a.v6)((()=>{window.location.href=`https://${window.location.host}`})))))})),p=(0,c.D)((()=>n((0,R.c)()))),m=(0,c.D)((()=>n((0,a.K2)((0,l.X_)({isMinimized:!1}),(0,d.p)({frameId:e.id,shouldOpen:!0}))))),g=(0,c.D)((()=>{n((0,l.X_)({isMinimized:!s}))}));return s?(0,r.jsx)(S,{onLogoClick:u,showFilters:m,showList:g}):(0,r.jsx)(N,{onLogoClick:u,showFilters:m,showMap:g,entityId:null===(t=e.entity)||void 0===t?void 0:t.id,goBack:p,categoryId:e.categoryId})}))},79773:(e,t,s)=>{"use strict";s.d(t,{Iq:()=>f,M4:()=>h,P5:()=>b,jE:()=>g,py:()=>m});var r=s(85608),i=s(49804),a=s(78170),n=s(6514),o=s(66333),c=s(35023),d=s(15582),l=s(82393),u=s(80905),p=s(92448);const{use:m,prefetch:g,withQueryState:h}=(0,a.V)("realty-search",(e=>[(0,c.cJ)(e,["viewpoint"]),({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){const s=(0,c.cJ)(e,["region_id"]);return yield t.marketApi.getRealtyItems(s)}))]),{staleTime:1/0,cacheTime:1/0}),f=(0,o.Mz)([e=>(0,u.bB)(e.appContext.frames,"realty"),d.Pz,l.ER,e=>e.appContext.weak.realtyListRegionId,e=>{var t,s;return"true"===(null===(s=null===(t=(0,u.bB)(e.appContext.frames,"realty"))||void 0===t?void 0:t.filterValues)||void 0===s?void 0:s.on_map)?(0,i.$H)(Object.assign(Object.assign({},(0,d.iK)(e)),{mapSize:(0,n.Y)(e.session.screen,(0,d.kD)(e))})):void 0}],((e,t,s,r,i)=>{var a;if(e&&t)return{region_id:r||s,viewpoint:t,locale:"ru_RU",geometry:i,category_ids:e.categoryId,geo_id:null===(a=e.entity)||void 0===a?void 0:a.id,page:(null==e?void 0:e.page)||1,page_size:50,filters:null==e?void 0:e.filterValues}})),b=(0,o.Mz)([d.Pz,l.ER],((e,t)=>({region_id:t,viewpoint:e,locale:"ru_RU",geometry:void 0,category_ids:p.gI.sale.categoryId,geo_id:void 0,page:1,page_size:1})))},85153:(e,t,s)=>{"use strict";s.d(t,{C:()=>r});const r=e=>e.appContext.activeSublayer},2132:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});var r=s(35023),i=s(80556),a=s(12017);const n=(0,a.n5)("changeCategory",(e=>{const{newValue:t}=e;return(0,i.Z8)((e=>e?(0,i.DT)(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,r.W7)(),filterValues:{},page:1,categoryId:t,scrollId:(0,r.W7)(),seoH1:void 0}))):(0,a.lQ)()))}))},86857:(e,t,s)=>{"use strict";s.d(t,{b:()=>b});var r=s(31085),i=s(12017),a=s(14041),n=s(79594),o=s(10742),c=s(82781),d=s(20091),l=s(24872),u=s(52072),p=s(75098),m=s(22786),g=s(16914),h=s(34603),f=s(84593);const b=(0,a.memo)((({href:e})=>{const t=(0,n.d4)((e=>e.appContext.frames[0]));return t&&"realtyCard"===t.type?(0,r.jsx)(v,{frame:t,href:e}):null})),v=(0,a.memo)((({frame:e,href:t})=>{const s=(0,n.d4)((e=>e.appContext.isDataViewerMinimized)),a="tab"in e?e.tab:void 0,b=(0,n.wA)(),v=(0,c.c)(),y=(0,o.D)((()=>{b((0,i.K2)(!!e.buildingId&&(0,l.TE)({entityId:e.buildingId}),(0,d.X_)({isMinimized:!s})))})),x=(0,o.D)((()=>{b((0,i.K2)((0,u.c)(),(0,d.X_)({isMinimized:!1})))})),j=v._gg("К результатам"),w=s?v._gg("Объявлениe"):v._gg("Дом на карте");return"ad"===a||s?(0,r.jsxs)(f.L,Object.assign({appearance:s?"transparent":"solid"},{children:[(0,r.jsx)(f.j,Object.assign({onClick:x,icon:s?(0,r.jsx)(g.B,{}):(0,r.jsx)(m.v,{}),type:s?"whiteWithShadow":"gray",href:t,dataT:j},{children:j})),(0,r.jsx)(f.j,Object.assign({onClick:y,icon:s?(0,r.jsx)(h.Ad,{}):(0,r.jsx)(p.T,{}),grow:!0,type:s?"whiteWithShadow":"gray",dataT:w},{children:w}))]})):(0,r.jsxs)(f.L,Object.assign({appearance:"solid"},{children:[(0,r.jsx)(f.j,{onClick:x,icon:(0,r.jsx)(m.v,{}),href:t,dataT:j}),(0,r.jsx)(f.j,{onClick:y,icon:(0,r.jsx)(p.T,{}),dataT:w})]}))}))},24763:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var r=s(77027),i=s(35023),a=s(12017),n=s(29787),o=s(80556);const c=(0,a.n5)("openRealtyCard",(e=>{const t=(0,o.Z8)((t=>(0,r.fL)({id:(0,i.W7)(),reviewSearchId:(null==t?void 0:t.reviewSearchId)||(0,i.W7)(),type:"realtyCard",realtyId:e.realtyId,tab:e.tab||"ad"}))),s=(null==e?void 0:e.skipHistoryPush)?t:(0,n.PC)(t);return(0,a.NV)((({featureRealty:e})=>e?s:(0,a.lQ)()))}))},60066:(e,t,s)=>{"use strict";s.d(t,{NL:()=>a,dD:()=>n,vs:()=>o});var r=s(84642),i=s(39064);function a(e){return"realtyCard"===e.type}const n=(0,r.W)(a),o=(0,i.m)(a)},66367:(e,t,s)=>{"use strict";s.d(t,{Iu:()=>d,N5:()=>c,gH:()=>n});var r=s(85608),i=s(78170),a=s(35023);const{use:n,prefetch:o,withQueryState:c}=(0,i.V)("getRealtyItem",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){if(e.id)try{return yield t.marketApi.getRealtyItem(Object.assign(Object.assign({},e),{id:e.id}))}catch(e){if((0,a.Gv)(e)&&"code"in e&&404===e.code)return;throw e}}))),{staleTime:1/0,cacheTime:1/0}),d=e=>{if(e&&e.realtyId)return{id:e.realtyId,locale:"ru_RU"}}},99562:(e,t,s)=>{"use strict";function r(e){return"realtyIsochroneDriving"===e||"realtyIsochroneWalking"===e}s.d(t,{g:()=>r})},27431:(e,t,s)=>{"use strict";s.d(t,{G:()=>d});var r=s(77027),i=s(35023),a=s(35314),n=s(12017),o=s(82393),c=s(69395);function d(){return(0,n.K2)((0,n.Q2)((e=>{const t=(0,o.zN)(e);return(0,r.fL)({regionId:t,id:(0,i.W7)(),type:"rubricator"})})),(0,a.k8)(),(0,c.TJ)({suggesterKey:"primary",show:!1}))}},94687:(e,t,s)=>{"use strict";s.d(t,{P:()=>r});const r=(e,t)=>{var s,r;const i=e.find((e=>"buttons"===e.widget&&"tag"in e&&e.tag===t));return null===(r=null===(s=null==i?void 0:i.items)||void 0===s?void 0:s[0])||void 0===r?void 0:r[0].values}},42744:(e,t,s)=>{"use strict";s.d(t,{k:()=>O});var r=s(31085),i=s(14041),a=s(79594),n=s(14701),o=s(84593),c=s(98827),d=s(10742),l=s(82781),u=s(12017);const p=e=>"offers"!==(null==e?void 0:e.searchType);var m=s(20091),g=s(4957),h=s(39123);function f({signalToOpen:e,trackBssTap:t}){const s=(0,a.wA)(),i=(0,l.c)(),n=(0,h.U)("search"),o=p(n),c=(0,d.D)((()=>{t(),s((0,u.K2)((0,m.X_)({isMinimized:!1}),e))}));if(o)return{type:"filters",label:i._t("Фильтры"),icon:(0,r.jsx)(g.C,{}),href:void 0,onClick:c}}var b=s(7335),v=s(8365),y=s(28076);const x=()=>(e,t)=>{const s=t.appContext.frames.find((e=>"search"===e.type));if(!s||"search"!==s.type)return;const r=(0,y.e)(s);return{uiElement:{name:"showFilters",frameUuid:s.id,ownerName:r},action:"tap"}},j=()=>{const{useBssHandler:e}=(0,v.E)(),t=e(x),s=[f({signalToOpen:(0,b.eU)((e=>e.appContext.frames[0]),(e=>(0,n.p)({frameId:e.id,shouldOpen:!0}))),trackBssTap:t}),(0,c.n)({isLabelShown:!0})];return(0,r.jsx)(o.L,Object.assign({appearance:"transparent"},{children:s.map(((e,t)=>e&&(0,r.jsx)(o.j,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var w=s(29787),_=s(22786),C=s(75098),I=s(68367);const k=()=>{const e=(0,a.wA)(),t=(0,l.c)(),s=(0,h.U)("search"),{useBssHandler:i}=(0,v.E)(),c=i(x),u=p(s),f=(0,d.D)((()=>{e((0,w.PC)((0,m.X_)({isMinimized:!0})))})),y=(0,d.D)((()=>{s&&(c(),e((0,n.p)({frameId:s.id,shouldOpen:!0})))})),j=(0,d.D)((()=>{e((0,b.eU)((e=>{var t;return"offers"===(null==s?void 0:s.searchType)&&s.branchId?null===(t=e.data.entity.profile[s.branchId])||void 0===t?void 0:t.data:void 0}),(e=>e&&(0,I._)(e))))}));return(0,r.jsxs)(o.L,{children:["offers"===(null==s?void 0:s.searchType)&&(0,r.jsx)(o.j,Object.assign({icon:(0,r.jsx)(_.v,{}),onClick:j},{children:t._t("Назад к карточке")})),u&&(0,r.jsx)(o.j,Object.assign({dataT:"Фильтры",icon:(0,r.jsx)(g.C,{}),onClick:y},{children:t._t("Фильтры")})),(0,r.jsx)(o.j,Object.assign({dataT:"На карте",icon:(0,r.jsx)(C.T,{}),grow:!0,onClick:f},{children:t._t("На карте")}))]})},O=(0,i.memo)((()=>(0,a.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(j,{}):(0,r.jsx)(k,{})))},6532:(e,t,s)=>{"use strict";s.d(t,{X:()=>f,Y:()=>h});var r=s(12017),i=s(35023),a=s(77027),n=s(95083),o=s(7335),c=s(57744),d=s(74182),l=s(39890),u=s(59954),p=s(29787),m=s(13204),g=s(61700);const h=(0,r.n5)("openSearchBranchOffers",(({query:e="",filterValues:t={},page:s=1,branchId:p,branchSearchId:m=u.j4,categoryId:g})=>{const h=(0,i.W7)(),f=(0,i.W7)(),b=(0,i.W7)(),v=g&&t.category_ids!==g?(0,l.$)({valueType:"single",value:g,isChecked:!0,name:"category_ids"},t):t;return(0,r.K2)((0,a.fL)({id:(0,i.W7)(),type:"search",searchType:"offers",searchId:h,filtersId:(0,d.vt)(b),query:e,filterValues:v,statusId:f,branchId:p,branchSearchId:m,filterPanelState:"auto",page:(0,d.vt)(s)}),(0,o.eU)((e=>(0,c.u)(e)),(t=>(0,n.TI)({branchId:p,offersSearchId:h,filtersId:b,filters:v,query:e,page:s,locale:t,statusId:f}))))})),f=(0,r.n5)("searchBuyHere",(({adsIds:e,isFMCG:t=!1,page:s=1,filters:n={}})=>{const c=(0,i.W7)(),l=(0,i.W7)();return(0,r.K2)((0,p.PC)((0,a.fL)({id:(0,i.W7)(),type:"search",searchType:t?"fmcg":"buyHere",query:"",filterPanelState:"auto",adsIds:e,searchId:(0,d.vt)(c),page:(0,d.vt)(s),scrollIdHash:(0,i.W7)(),filtersId:l,filterValues:n})),(0,o.Cl)((t=>(0,r._7)((0,o.eU)((e=>e.session.geolocation.position),(r=>(0,m.Wj)({query:"",searchId:c,page:s,viewpoint:t,adsIds:e,filtersId:l,filters:n,withFilters:!0,sortPoint:r}))),(0,r.gd)((0,g.C)())))))}))},14701:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(12017),i=s(77027),a=s(80905);function n(e){return(0,r.K2)(e.shouldOpen?(0,r.Q2)((e=>{const t=(0,a.bB)(e.appContext.frames,"offer");if(t)return(0,i.wU)({id:t.id})})):void 0,(0,i.oy)(e.frameId,(t=>Object.assign(Object.assign({},t),{filterPanelState:e.shouldOpen?"manuallyOpened":"manuallyClosed"}))))}},81951:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});const r=["Премия","Премия 2ГИС","Премия 2ГИС 2023","Премия 2GIS","Премия 2023","Award","2GIS Award","2GIS Award for 2023","2023 Award","Award 2023","сыйлығы","2ГИС сыйлығы","2ГИС сыйлығы 2023","сыйлығы 2023"].map((e=>e.toLowerCase())),i=e=>{const{searchType:t,awards2GisTags:s,query:i,checkAwards2GisTags:a=!0,config:n}=e;if("query"!==t)return!1;if(!n.feature2gisAwards)return!1;if(a&&!(null==s?void 0:s.length))return!1;const o=null==i?void 0:i.trim().toLowerCase();return!!o&&r.includes(o)}},7758:(e,t,s)=>{"use strict";s.d(t,{T:()=>o,t:()=>c});var r=s(91818),i=s(27892),a=s(12017),n=s(29787);const o=(0,a.n5)("openSendOrderPopup",(e=>e.hasDelivery?(0,r.oC)("openSendOrderPopup",e):c(e))),c=(0,a.n5)("openSendOrderPopupSimple",(e=>(0,n.PC)((0,i.PB)({type:"sendOrder",id:e.popupId,params:e}))))},7682:(e,t,s)=>{"use strict";s.d(t,{$D:()=>c,G1:()=>a,JL:()=>n,i7:()=>o,w$:()=>d});var r=s(98379),i=s(99906);const a=({ownerName:e})=>(t,s)=>({uiElement:{name:"share",ownerName:e,frameUuid:t.frameId},action:"tap",payload:{placeItem:(0,r.t)({state:s,entityFrameId:t.frameId})}}),n=()=>(e,t)=>(0,i.f_)({state:t,name:"shareFrame",uuid:e.frameId}),o=()=>e=>({uiElement:{name:"devicesList",frameUuid:e.frameId,ownerName:"shareFrame"}}),c=()=>e=>({uiElement:{name:"device",ownerName:"devicesList",frameUuid:e.frameId},action:"tap"}),d=()=>e=>({uiElement:{name:"copy",ownerName:"shareFrame",frameUuid:e.frameId},action:"tap"})},84963:(e,t,s)=>{"use strict";s.d(t,{T:()=>p});var r=s(12017),i=s(27892),a=s(35023),n=s(7246),o=s(5599),c=s(333),d=s(68443),l=s(80905);function u(e){const t=["userProfile","collection"],s=(0,l.bB)(e.frames,"collection");return Object.assign(Object.assign({},e),{frames:"private"===(null==s?void 0:s.subtype)?e.frames.filter((e=>!t.includes(e.type))):e.frames})}const p=(0,r.n5)("openSharingPopup",(e=>(0,r.gd)((0,r.Q2)((t=>{const s=(0,a.W7)(),l=e.path||(0,c.w)((0,d.I)(Object.assign(Object.assign({},t),{appContext:u(t.appContext)}))),p=l?`${location.protocol}//${location.host}${l}`:location.href;return(0,r.K2)((0,i.PB)({id:s,type:"sharing",isPopupGlassDark:!0,urlToShort:p,frameId:e.frameId}),(0,n.f)({url:p}),(0,o.YO)())})))))},5599:(e,t,s)=>{"use strict";s.d(t,{Cz:()=>f,NR:()=>b,Xh:()=>g,YO:()=>h});var r=s(12017),i=s(21959),a=s(39684),n=s(27892),o=s(91818),c=s(35023),d=s(88735),l=s(29094),u=s(536),p=s(35383),m=s(51557);const g=()=>(0,o.oC)("openSharingPopup"),h=(0,r.n5)("fetchDevices",(()=>(0,r.gd)((0,r.Q2)((e=>(0,i.x3)(e)?(0,a.U)({}):(0,r.lQ)()))))),f=(0,r.n5)("pushNotification",(e=>(0,r.gd)((0,r.Q2)((t=>{if(!(0,i.x3)(t))return(0,r.lQ)();const s=(0,c.W7)();return(0,r.K2)((0,a.Y)(Object.assign(Object.assign({},e),{statusId:s})),(0,d.zC)(s,(t=>(0,p.o)(t)?(0,r.K2)((0,n.fs)(),(0,m.QY)((({tp:t})=>(0,l.D)((0,u.k)({title:t._t("Готово"),message:t._t("Уведомление отправлено на %1",[e.deviceName])}))))):(0,m.QY)((({tp:e})=>(0,l.D)((0,u.z)({title:e._t("Ошибка!"),message:e._t("Не удалось отправить уведомление, попробуйте позднее")})))))))}))))),b=(0,r.n5)("copyShareLink",(()=>(0,r.K2)((0,n.fs)(),(0,m.QY)((({tp:e})=>(0,l.D)((0,u.k)({title:e._t("Готово"),message:e._t("Ссылка скопирована")})))))))},16632:(e,t,s)=>{"use strict";s.d(t,{m:()=>r});const r=(0,s(806).e)(!1)},53898:(e,t,s)=>{"use strict";s.d(t,{N:()=>c});var r=s(48914),i=s(12017),a=s(35023),n=s(99906),o=s(7335);const c=e=>({bssSideMenuClick(){e((0,o.RC)({showFrameEvent:e=>(0,n.f_)({state:e,name:"sidebar",uuid:e.appContext.staticFrames.sidebar.id}),mapUuid:e=>e.appContext.staticFrames.map.id},(({showFrameEvent:e,mapUuid:t})=>(0,i.K2)((0,r.cD)({uiElement:{name:"sidebarIcon",frameUuid:t},action:"tap"}),e&&(0,r.X_)(Object.assign(Object.assign({},e),{showEventKey:(0,a.W7)()}))))))},bssOnFeedbackClick(){e((0,o.eU)((e=>e.appContext.staticFrames.sidebar.id),(e=>(0,r.cD)({uiElement:{name:"feedbackButton",ownerName:"sidebar",frameUuid:e},action:"tap"}))))}})},6028:(e,t,s)=>{"use strict";s.d(t,{Wb:()=>o,Xp:()=>a,a1:()=>n});var r=s(12017),i=s(46954);const a=(0,s(59754).lQ)("UI/SET_SHOW_SNOW"),n=(0,r.n5)("setSnowStatus",((e,t)=>(0,r.K2)(a({status:e,allowSnowStyle:t}),(0,i.l)({name:"noSnow",value:"off"===e}))));function o(){return(0,r.Q2)((e=>(0,r.NV)((({isMobileDevice:t,featureNewYear:s})=>t?a({status:"off",intensity:0,allowSnowStyle:e.appContext.showSnow.allowSnowStyle}):e.session.is3dEnabled&&s?(0,r.lQ)():a({status:"off",intensity:0,allowSnowStyle:!1})))))}},69969:(e,t,s)=>{"use strict";s.d(t,{G:()=>n,y:()=>c});var r=s(12017),i=s(1321),a=s(35023);const n=(0,r.n5)("showAddedToCollectionToast",(e=>{const{collectionId:t,item:s,targetBoundingClientRect:r}=e;return(0,i.Ip)({toast:{id:(0,a.W7)(),type:"addedToCollection",collectionId:t,item:s,targetBoundingClientRect:r}})}));var o=s(46954);const c=(0,r.n5)("showPromoToast",(e=>{const{targetBoundingClientRect:t,type:s,to:n,offset:c}=e;return(0,r.Q2)((e=>{const d=`_seen-${s}`;return!e.session.flags[d]&&(0,r.K2)((0,i.Ip)({toast:{id:(0,a.W7)(),type:"showPromoToast",subtype:s,targetBoundingClientRect:t,to:n,offset:c}}),(0,o.l)({name:d,value:!0}))}))}))},27127:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var r=s(1321);const i=()=>(0,r.Ip)({toast:void 0})},43657:(e,t,s)=>{"use strict";s.d(t,{o:()=>U,m:()=>B});var r=s(31085),i=s(14041),a=s(35731),n=s(76298),o=s(4986);function c({tooltip:e}){if(!e)return;const t=function(e){if("poi"===e.origin){if(!e.poi)return;return{type:"poi",data:e.poi}}if(!e.marker)return;const t=(0,n.w)(e.marker);if(t)switch(t.source){case"catalog":case"favorites":case"infrastructure":return{type:"catalog",data:t,marker:e.marker};case"tUgc":return{type:"tUgc"};case"realty":return{type:"realty",data:t,marker:e.marker};case"exchange":return{type:"exchange",data:t,marker:e.marker};default:return}}(e);return t?{targetClientRect:(0,o.K)({left:e.point[0],top:e.point[1]}),tooltipData:t}:void 0}var d=s(8365),l=s(99259),u=s(84175),p=s(79495),m=s(47425),g=s(34406),h=s(80552),f=s(11540),b=s(98787),v=s(58309),y=s(823),x=s(3683),j=s(79594),w=s(82393);const _=({tUgcEvent:e,offset:t},{tp:s,dateFns:r,config:i})=>{if(e)return{title:(0,m.X)(e,s),description:(0,g.a)(e,s,i),hint:(0,p.$)(e,s,r,i,t),comment:e.comment}},C=(0,i.memo)((e=>{var t,s;const{tooltipId:i}=e,a=(0,b.d)({id:i}),n=(0,j.d4)((e=>(0,w.$4)({state:e,code:(0,w.JC)(e)||""}))),{data:o,isFetching:c}=(0,x.s)({eventId:i}),d=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.preview_urls["328x170"];return(0,r.jsx)(I,{photo:d,tUgcEvent:a,isFetching:c,offset:(null===(s=null==n?void 0:n.time_zone)||void 0===s?void 0:s.offset)||0})}));C.displayName="TUgcTooltip";const I=(0,i.memo)((e=>{const{photo:t,tUgcEvent:s,isFetching:i,offset:a}=e,{s:n,css:o}=(0,u.I)(k),{bssRef:c}=(0,d.E)((l={tUgcEvent:s},({frameId:e},t)=>{const{tUgcEvent:s}=l;if(s)return{uiElement:{name:"tUGCTooltip",ownerName:"tUGCPOI",frameUuid:e},payload:{tUGC:{id:s.id,category:(0,v.O)(s),mode:(0,y.$)(t)}}}}));var l;const p=(0,f.kc)(_,{tUgcEvent:s,offset:a});if(!p||i)return null;const{title:m,description:g,comment:h,hint:b}=p;return(0,r.jsxs)("div",Object.assign({className:o(n.root),ref:c},{children:[(0,r.jsxs)("div",Object.assign({className:o(n.content)},{children:[(0,r.jsx)("div",Object.assign({className:o(n.title)},{children:m})),g&&(0,r.jsx)("div",Object.assign({className:o(n.description)},{children:g})),h&&(0,r.jsx)("div",Object.assign({className:o(n.comment)},{children:h})),b&&(0,r.jsx)("div",Object.assign({className:o(n.hint)},{children:b}))]})),t&&(0,r.jsx)("div",{className:o(n.photo),style:{backgroundImage:`url(${t})`}})]}))}));I.displayName="TUgcTooltipInner";const k=(0,u.r)({root:Object.assign({minHeight:64,display:"flex",justifyContent:"space-between"},h.Hg),content:{minWidth:0,padding:16},title:{paddingBottom:2,color:l.T.blue_0072ce},description:Object.assign({},h.EX),comment:Object.assign({paddingTop:2},(0,h.lR)(3,h.EX)),hint:Object.assign({paddingTop:8,color:l.T.gray_929292,whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"},h.EX),photo:{flex:"0 0 64px",width:64,minHeight:64,maxHeight:"100%",backgroundSize:"cover",backgroundPosition:"center"}});var O=s(79086),S=s(10048),T=s(58471),E=s(40837);const M=e=>(0,r.jsx)(S.w,{loader:T.b.realtyTooltip,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:E.N});var P=s(806),L=s(46287),N=s(15582);const A=e=>(0,r.jsx)(S.w,{loader:T.b.exchangeTooltip,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:E.N});var R=s(63795),z=s(63109);const U=(0,P.e)(void 0),B=i.memo((()=>{const e=U.use(),t=(0,f.kc)(c,{tooltip:e});if(!e||!t)return null;const{targetClientRect:s,tooltipData:i}=t;return(0,r.jsx)(O.w,Object.assign({to:"bottomEnd",targetBoundingClientRect:s,offset:5,pointerEvents:"none"},{children:(0,r.jsx)(z.T,Object.assign({dataN:"wat-tooltip"},{children:(0,r.jsx)(H,{tooltipId:e.id,tooltipData:i})}))}))}));function H(e){var t;const{tooltipData:s,tooltipId:i}=e,n=(0,j.d4)((e=>(0,L.Tq)({state:e,entityId:i,searchId:(0,N.uI)(e)}))).data,o=(0,j.d4)((e=>e.session.time));switch(s.type){case"realty":const e=null===(t=null==s?void 0:s.marker)||void 0===t?void 0:t.buildingId;return e?(0,r.jsx)(M,{entityId:e},e):null;case"catalog":case"poi":return(0,r.jsx)(a.Z,{entity:n,tooltipData:s,marker:"marker"in s?s.marker:void 0,time:o});case"tUgc":return(0,r.jsx)(C,{tooltipId:i});case"exchange":return(0,r.jsx)(A,{marker:s.marker});case"friend":return(0,r.jsx)(R.Oq,{friendId:s.friendId});default:return null}}B.displayName="Tooltip"},85005:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(27892),i=s(35023);function a(e){return(0,r.PB)({id:(0,i.W7)(),type:"typedFeedback",withBackToFeedbackForm:e.withBackToFeedbackForm,subtype:e.subtype,frameId:e.frameId,entityId:e&&e.entityId,searchId:e&&e.searchId})}},99949:(e,t,s)=>{"use strict";s.d(t,{U:()=>o});var r=s(77314),i=s(12017),a=s(29787),n=s(27127);const o=(0,i.n5)("openProfile",(e=>{return(0,i.K2)((0,a.PC)(),(0,r.x)("achievements"===(t=e)||"photos"===t||"feedbacks"===t||"reviews"===t||"favorites"===t||"missions"===t||"places"===t?t:void 0),(0,n.c)());var t}))},35774:(e,t,s)=>{"use strict";s.d(t,{U:()=>u,d:()=>d});var r=s(31085),i=s(14041),a=s(84175),n=s(81618),o=s(80552),c=s(99259);const d=(0,i.memo)((e=>{const{image:t,title:s,description:i,styles:o,titleStyle:c,imageStyle:d}=e,{s:u,css:p}=(0,a.I)(l);return(0,r.jsxs)("figure",Object.assign({className:p(u.wrapper,o)},n.dx.n("wat-empty-ugc"),{children:[(0,r.jsx)("div",Object.assign({className:p(u.image,d)},n.dx.n("wat-status-empty-image"),{children:t})),(0,r.jsxs)("figcaption",{children:[(0,r.jsx)("p",Object.assign({className:p(u.title,c)},n.dx.n("wat-status-empty-title"),{children:s})),i&&(0,r.jsx)("p",Object.assign({className:p(u.description)},n.dx.n("wat-status-empty-description"),{children:i}))]})]}))})),l=(0,a.r)({wrapper:{padding:"48px 66px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},image:{marginBottom:32},title:Object.assign(Object.assign({},o.HI),{marginBottom:12}),description:Object.assign({},o.Hg)}),u=(0,i.memo)((e=>{const{message:t}=e,{s:s,css:i}=(0,a.I)(p);return(0,r.jsxs)("div",Object.assign({},n.dx.n("wat-empty-ugc"),{className:i(s.wrapper)},{children:[(0,r.jsx)("div",Object.assign({className:i(s.icon)},{children:(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"140",height:"140",viewBox:"0 0 140 140"},{children:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{fill:"#E6E6E6",d:"M57.804 47.49a20.454 20.454 0 0 0-2.914-3.287C57.716 38.736 63.422 35 70 35c6.485 0 12.122 3.631 14.988 8.971l-.375 1.093c0 2.527-.408 4.88-1.099 6.936H83c0-7.18-5.82-13-13-13-5.594 0-10.362 3.533-12.196 8.49zm44.516 58.78l2.828-2.829 14.85 14.85-2.829 2.828-14.85-14.85zM18.88 22.83l2.829-2.828 14.849 14.849-2.829 2.828-14.849-14.849zm98.995-4.243l2.829 2.829-14.85 14.849-2.828-2.828 14.85-14.85zm-83.438 83.439l2.828 2.828-14.85 14.85-2.828-2.829 14.85-14.85zM119 73v-4h21v4h-21zM0 73v-4h21v4H0zM68 0h4v21h-4V0zm0 118h4v21h-4v-21zm0-68v-5h4v5h5v4h-5v5h-4v-5h-5v-4h5z"}),(0,r.jsx)("path",{fill:"#B5D4ED",d:"M58 88c0-6.619 5.381-12 12-12s12 5.381 12 12-5.381 12-12 12-12-5.381-12-12zm4 0c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8-8 3.59-8 8zM52 76v24.002A2.996 2.996 0 0 0 55.005 103h29.99A2.999 2.999 0 0 0 88 100.002V76h-4.958l-.155-.025a9.676 9.676 0 0 1-2.803-.931c-1.406-.717-2.484-1.73-3.02-3.193L76.11 69H63.89l-.974 2.904c-.517 1.41-1.594 2.423-3 3.14a9.673 9.673 0 0 1-2.803.931l-.155.025H52zm40-4v28.002A6.999 6.999 0 0 1 84.995 107h-29.99A6.996 6.996 0 0 1 48 100.002V72h8.613c.086-.019.204-.047.345-.086.396-.109.79-.254 1.14-.434.588-.3.946-.635 1.043-.9L61.012 65h17.976l.457 1.365 1.394 4.163c.116.317.474.652 1.062.952.351.18.745.325 1.14.434.142.039.26.067.346.086H92zm-60.718-6.547c4.993 0 8.424 2.963 10.354 7.94 1.375 3.545 1.947 7.93 1.947 12.652 0 .378.016.793.045 1.21.017.25.033.442.044.543l-3.98.404a21.448 21.448 0 0 1-.055-.678c-.034-.5-.054-1-.054-1.479 0-9.982-2.564-16.592-8.301-16.592h-3.598l-.446-1.388C26.492 65.745 26 61.553 26 58.387 26 50.245 33.205 43 41.682 43c8.479 0 15.682 7.244 15.682 15.387 0 3.164-.492 7.357-1.237 9.677l-3.808-1.222c.598-1.866 1.045-5.67 1.045-8.455C53.364 52.448 47.947 47 41.682 47 35.419 47 30 52.45 30 58.387c0 2.206.28 5.051.695 7.066h.587zm52.077.003l-1.338-3.996c3.86-3.214 6.592-9.337 6.592-16.396.515-1.502.515-1.502 1.074-1.778.328-.146.328-.146.494-.187.134-.032.253-.05.386-.063a7.67 7.67 0 0 1 .543-.029c.338-.009.785-.01 1.293-.003 1.415.019 2.048.04 2.393.142 2.987.884 4.754 5.665 3.888 13.655v.902h-4v-1.011l.012-.221c.42-3.786.206-6.492-.431-8.228-.208-.566-.438-.963-.658-1.21-.354-.012-.708-.02-1.055-.026-.505 8.045-4.11 14.971-9.193 18.45zM96 83.776c1.478.137 2.797.214 3.907.223.944.008 1.716-.033 2.281-.12.249-.039.442-.083.571-.128.197-.167.776-1.128 1.39-2.47.722-1.578 1.44-3.527 2.024-5.533 1.24-4.258 1.72-8.167 1.238-10.748H92v-4h16.31c1.236-.002 2.423.982 2.756 2.106 1.889 6.364-2.297 20.744-5.731 23.721-1.413 1.226-4.479 1.42-9.335.975v-4.025z"})]})}))})),(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t}))]}))})),p=(0,a.r)({wrapper:{padding:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{paddingBottom:20},text:{color:c.T.gray_929292}})},27812:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var r=s(12017),i=s(7335),a=s(80905),n=s(77027);const o=(0,r.n5)("notifySuccessPlaceUpdate",(e=>{const{entityId:t,type:s}=e;return(0,i.eU)((e=>(0,a.bB)(e.appContext.frames,"userProfile")),(e=>e?(0,n.oy)(e.id,(e=>{if("userProfile"===e.type)return Object.assign(Object.assign({},e),{placeNotifications:Object.assign(Object.assign({},e.placeNotifications),{[t]:{type:s}})})})):(0,r.lQ)()))}))},10361:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var r=s(31085),i=s(10048),a=s(58471),n=s(40837);const o=()=>(0,r.jsx)(i.w,{loader:a.b.noFriends,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:n.N})},77314:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var r=s(77027),i=s(35023);function a(e="favorites"){const t=(0,i.W7)();return(0,r.fL)({id:(0,i.W7)(),type:"userProfile",profileTab:e,searchId:t})}},23205:(e,t,s)=>{"use strict";s.d(t,{g:()=>c});var r=s(12017),i=s(77027),a=s(39064);const n=e=>"userProfile"===e.type,o=(0,s(84642).W)(n),c=((0,a.m)(n),(0,r.n5)("closeUserProfileFrame",(()=>o((e=>e?(0,i.kg)():(0,r.lQ)())))))},85724:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var r=s(12017),i=s(27892),a=s(35023);const n=(0,r.n5)("openEditUserProfilePopup",(()=>(0,i.PB)({id:(0,a.W7)(),type:"editUserProfile"})))},80981:(e,t,s)=>{"use strict";s.d(t,{C8:()=>r,Gt:()=>i,lS:()=>o,sA:()=>a});const r=10,i=2e3,a=20,n=90/a;function o({textScore:e,hasPhotos:t,hasRating:s}){return c(e.words)+(s?10:0)+(t?30:0)}const c=e=>{switch(!0){case 0===e:return 0;case e>=a:return 90;default:return n*e}}},88654:(e,t,s)=>{"use strict";s.d(t,{Q:()=>r});const r=e=>{var t;return{length:e.replace(/\s+/gm,"").length,words:(null===(t=e.match(/\S+/gm))||void 0===t?void 0:t.length)||0}}},66688:(e,t,s)=>{"use strict";s.d(t,{P:()=>p});var r=s(31085),i=s(10742),a=s(8365),n=s(14041),o=s(4431),c=s(82781);function d(){return(0,r.jsxs)("svg",Object.assign({width:"33",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_842_55722)"},{children:[(0,r.jsx)("mask",Object.assign({id:"mask0_842_55722",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"33",height:"32"},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M.333 16c0-10.4 5.6-16 16-16s16 5.6 16 16-5.6 16-16 16-16-5.6-16-16Z",fill:"#000"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#mask0_842_55722)"},{children:[(0,r.jsx)("path",{fill:"#7FE740",d:"M.333 0h32v32h-32z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.27 15.5c0-3.875 2.5-6.25 6.126-6.25 2.813 0 4.949 1.43 5.764 3.882a.527.527 0 0 0 .494.368h9.617a.5.5 0 0 1 .5.5v2.75a.5.5 0 0 1-.5.5H25.18a.5.5 0 0 0-.5.47l-.194 3.31a.5.5 0 0 1-.5.47h-2.181a.5.5 0 0 1-.5-.47l-.194-3.31a.5.5 0 0 0-.5-.47h-2.88a.527.527 0 0 0-.499.387c-.755 2.592-2.935 4.113-5.836 4.113-3.626 0-6.125-2.375-6.125-6.25Zm2.626-.011c0 .886.286 2.011 1.75 2.011s1.75-1.125 1.75-2.011c0-.864-.286-1.989-1.75-1.989s-1.75 1.125-1.75 1.989Z",fill:"#224249"})]}))]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_842_55722"},{children:(0,r.jsx)("path",{fill:"#fff",d:"M.333 0h32v32h-32z"})}))})]}))}function l(){return(0,r.jsxs)("svg",Object.assign({width:"25",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_842_55722)"},{children:[(0,r.jsx)("mask",Object.assign({id:"mask0_842_55722",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"24"},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M.333 12c0-7.8 4.2-12 12-12s12 4.2 12 12-4.2 12-12 12-12-4.2-12-12Z",fill:"#000"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#mask0_842_55722)"},{children:[(0,r.jsx)("path",{fill:"#7FE740",d:"M.333 0h24v24h-24z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.037 11.625c0-2.906 1.875-4.688 4.593-4.688 2.11 0 3.712 1.073 4.323 2.912.054.161.201.276.37.276h7.213c.208 0 .375.168.375.375v2.063a.375.375 0 0 1-.375.374h-1.568a.375.375 0 0 0-.374.354l-.146 2.481a.375.375 0 0 1-.375.353h-1.636a.375.375 0 0 1-.374-.353l-.146-2.482a.375.375 0 0 0-.375-.352h-2.16a.395.395 0 0 0-.374.29c-.567 1.944-2.202 3.085-4.378 3.085-2.72 0-4.594-1.782-4.594-4.688Zm1.968-.008c0 .664.215 1.508 1.313 1.508 1.098 0 1.312-.844 1.312-1.508 0-.648-.214-1.492-1.312-1.492s-1.313.844-1.313 1.492Z",fill:"#224249"})]}))]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_842_55722"},{children:(0,r.jsx)("path",{fill:"#fff",d:"M.333 0h24v24h-24z"})}))})]}))}const u=()=>({frameId:e,showEventParams:t})=>{if(null==t?void 0:t.payload)return{uiElement:{name:"otelloIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap",payload:Object.assign({searchRequest:{text:"Бронирование отелей"}},t.payload)}},p=(0,n.memo)((({isMobile:e})=>{const t=(0,c.c)(),{bssRef:s,useBssHandler:p}=(0,a.E)((({frameId:e})=>({uiElement:{name:"otelloIcon",ownerName:"dashboardFrame",frameUuid:e},payload:{icon:{tag:"otello",where:"Dashboard"}}}))),m=p(u),g=(0,i.D)((()=>{m()})),h=(0,n.useCallback)((()=>e?(0,r.jsx)(l,{}):(0,r.jsx)(d,{})),[e]);return(0,r.jsx)(o.D,{bssRef:s,title:t._gg("Бронирование отелей"),href:"https://otello.ru/?utm_source=2gis-dashboard",external:!0,icon:h,dataT:"otello-dashboard-icon",onClick:g})}))},86366:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(92206);const i=e=>!!e&&e!==r.j&&e!==r.p},95305:(e,t,s)=>{"use strict";s.d(t,{c:()=>a,q:()=>i});let r="";function i(e){s.p=e,r=e}function a(){return r}},95993:(e,t,s)=>{"use strict";s.d(t,{c:()=>i,f:()=>n,q2:()=>a});var r=s(76428);const{emitEvent:i,addEventListener:a,removeEventListener:n}=(0,r.m)()},77027:(e,t,s)=>{"use strict";s.d(t,{P8:()=>p,S2:()=>u,fL:()=>h,hU:()=>d,kg:()=>l,oy:()=>g,sr:()=>m,wU:()=>c,xd:()=>f});var r=s(59754),i=s(7335),a=s(12017),n=s(51021),o=s(20091);function c(e){return{type:"UI/REMOVE_FRAME",payload:e}}const d=(0,r.lQ)("UI/REMOVE_RIGHT_FRAMES"),l=(0,r.lQ)("UI/RESURRECT_FRAMES"),u=(0,r.lQ)("UI/CLEAR_FRAMES"),p=(0,r.lQ)("UI/KILL_FRAMES"),m=(0,r.lQ)("UI/REPLACE_FRAME"),g=(0,a.n5)("patchFrame",((e,t)=>(0,i.kE)(e,(s=>{if(!s)return(0,a.lQ)(`skipped patchFrame: there is no frame with id ${e}`);const r=t(s);return r===s?(0,a.lQ)():r?m(r):(0,a.lQ)("skipped patchFrame: callback returned undefined")})))),h=(0,a.n5)("addFrame",(e=>(0,a.Q2)((t=>(0,a._7)(function(e){return{type:"UI/ADD_FRAME",payload:e}}(e),t.appContext.isDataViewerMinimized&&(0,n.n)((0,o.X_)({isMinimized:!1})))))));function f(e,t){return(0,i.kE)(e,(e=>e&&"pending"===e.type?m(t(e)):(0,a.lQ)()))}},73581:(e,t,s)=>{"use strict";s.d(t,{$e:()=>l,Q7:()=>u,WB:()=>m,Zv:()=>h,mY:()=>p,rO:()=>f,ye:()=>g});var r=s(77027),i=s(18396),a=s(33920),n=s(76666),o=s(81625),c=s(92585),d=s(35781);function l(e,t){return(0,r.oy)(e,(e=>(0,c.n)(e)?t(e):void 0))}function u(e,t,s){return(0,r.oy)(e,(e=>t(e)?s(e):void 0))}function p(e,t){return(0,r.oy)(e,(e=>(0,i.O)(e)?t(e):void 0))}function m(e,t){return(0,r.oy)(e,(e=>(0,n.A)(e)?t(e):void 0))}function g(e,t){return(0,r.oy)(e,(e=>(0,a.a)(e)?t(e):void 0))}function h(e,t){return(0,r.oy)(e,(e=>(0,d.h)(e)?t(e):void 0))}function f(e,t){return(0,r.oy)(e,(e=>(0,o.D)(e)?t(e):void 0))}},51557:(e,t,s)=>{"use strict";s.d(t,{QY:()=>a,Zc:()=>i});var r=s(59754);const i=(0,r.lQ)("I18N/SET_LOCALE"),a=((0,r.lQ)("I18N/SYNC_LANG"),(0,r.lQ)("I18N/WITH_INTL"))},37163:(e,t,s)=>{"use strict";s.d(t,{Hq:()=>c,OB:()=>o,cK:()=>a,xA:()=>n});var r=s(1269),i=s(7143);const a=(0,r.V)("setActiveLayer",(0,i.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeLayer:t,activeSublayer:t!==e.activeLayer?void 0:e.activeSublayer})))),n=(0,r.V)("clearActiveLayer",(0,i.T)("appContext",(e=>Object.assign(Object.assign({},e),{activeLayer:void 0,activeSublayer:void 0})))),o=(0,r.V)("setActiveLayer",(0,i.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeSublayer:t,showTrafficOnMap:!1})))),c=(0,r.V)("clearActiveLayer",(0,i.T)("appContext",(e=>Object.assign(Object.assign({},e),{activeSublayer:void 0}))))},8335:(e,t,s)=>{"use strict";s.d(t,{G0:()=>i,Jc:()=>o,iw:()=>a,m3:()=>c,s_:()=>n,y5:()=>d});var r=s(59754);const i=(0,r.lQ)("MAP/SYNC_VIEW"),a=(0,r.lQ)("MAP/SET_FLOORS"),n=(0,r.lQ)("MAP/REMOVE_FLOORS"),o=(0,r.lQ)("MAP/SELECT_FLOOR"),c=(0,r.lQ)("MAP/SET_VIEW"),d=(0,r.lQ)("MAP/GENERALIZE_MARKERS")},29094:(e,t,s)=>{"use strict";s.d(t,{D:()=>i,_:()=>a});var r=s(59754);const i=(0,r.lQ)("UI/SHOW_NOTIFICATION"),a=(0,r.lQ)("UI/HIDE_NOTIFICATION")},27892:(e,t,s)=>{"use strict";s.d(t,{PB:()=>a,R4:()=>o,fs:()=>n});var r=s(59754),i=s(12017);const a=(0,r.lQ)("UI/OPEN_POPUP"),n=(0,r.lQ)("UI/CLOSE_POPUP"),o=e=>(0,i.Q2)((t=>{const s=t.appContext.popup;if(!s)return(0,i.lQ)("skipped patchPopup: popup is not opened");const r=e(s);return r===s?(0,i.lQ)():r?a(r):(0,i.lQ)("skipped patchPopup: callback returned undefined")}))},19952:(e,t,s)=>{"use strict";s.d(t,{g:()=>a});var r=s(1269),i=s(7143);const a=(0,r.V)("setReliefIsActive",(0,i.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{relief:t}))))},69395:(e,t,s)=>{"use strict";s.d(t,{TJ:()=>n,Tl:()=>a,qP:()=>i,r_:()=>o});var r=s(59754);const i=(0,r.lQ)("SUGGEST/SET_SUGGEST_ID"),a=(0,r.lQ)("SUGGEST/SET_QUERY"),n=(0,r.lQ)("SUGGEST/TOGGLE"),o=(0,r.lQ)("SUGGEST/HIGHLIGHT_SUGGESTION")},20091:(e,t,s)=>{"use strict";s.d(t,{HT:()=>c,JE:()=>o,X_:()=>n});var r=s(59754),i=s(1269),a=s(7143);const n=(0,i.V)("minimizeDataViewer",(0,a.T)("appContext",((e,{isMinimized:t})=>Object.assign(Object.assign({},e),{isDataViewerMinimized:t})))),o=((0,r.lQ)("UI/SET_LANG"),(0,r.lQ)("UI/SET_DEFAULT_LOCALE"),(0,r.lQ)("UI/SET_RULER")),c=(0,r.lQ)("UI/TOGGLE_TRAFFIC")},1321:(e,t,s)=>{"use strict";s.d(t,{Ip:()=>c,Vz:()=>o,YB:()=>l,bn:()=>a,cr:()=>i,q:()=>d,zu:()=>n});var r=s(59754);const i=(0,r.lQ)("WEAK/SET_DASHBOARD_RUBRICS_ID"),a=(0,r.lQ)("WEAK/MAP_INTERACTION_START"),n=(0,r.lQ)("WEAK/SET_RUBRICATOR_ID"),o=(0,r.lQ)("WEAK/SET_RUBRIC_ID"),c=(0,r.lQ)("WEAK/PATCH"),d=(0,r.lQ)("WEAK/SET_CATALOG_MARKERS_ID"),l=((0,r.lQ)("WEAK/SET_REVIEW_RATING"),(0,r.lQ)("WEAK/REMOVE_REVIEW_RATING"))},33466:(e,t,s)=>{"use strict";s.d(t,{S:()=>r,l:()=>i});const r={long:0,veryshort:120,short:200,spinner:1e3},i={base:"cubic-bezier(0.25, 0.1, 0.25, 1)"}},50334:(e,t,s)=>{"use strict";s.d(t,{eY:()=>c,kC:()=>o});var r=s(91171),i=s(19297),a=s(35023),n=s(50432);const o=e=>e?{"X-Request-Id":e}:void 0;function c(e,t,s){return o=>{const c=(0,i.cl)(o),l=`${c.name}: ${c.message||"Unknown error"}`;if("skipLog"in o&&o.skipLog)throw c;var u;throw o instanceof r.pe?(0,n.vV)({message:l,id:"xsk47",level:"undefined"==typeof window?"error":"warn",payload:{type:"network",subtype:e,request_url:o.details.config.url,request_params:JSON.stringify(o.details.config.params),request_data:JSON.stringify(o.details.config.data),is_timeout:"ECONNABORTED"===o.details.code,response_status_code:o.details.response&&o.details.response.status},requestId:s}):o instanceof i.Dr?(0,n.vV)({message:l,id:"5tnb8",level:"warn",payload:{type:"network",subtype:e},requestId:s}):(0,n.vV)({message:l,id:"guf37",level:"error",payload:{type:"exception",subtype:e,stack:o.stack,data:JSON.stringify((u=t,Object.assign(Object.assign({},(0,a.cJ)(u,["accessToken","refreshToken","access_token","token"])),{fields:d(u,"fields",50),type:d(u,"type",50)})))},requestId:s}),c}}function d(e,t,s){const r=e[t];if("string"==typeof r)return r.length>s?`...(${r.length})`:void 0}},53930:(e,t,s)=>{"use strict";s.d(t,{NO:()=>d,PL:()=>c,Sl:()=>f,So:()=>v,WI:()=>o,Xr:()=>u,aY:()=>h,cS:()=>x,ce:()=>l,fn:()=>n,kt:()=>m,n_:()=>p,tH:()=>a,tm:()=>y,wh:()=>i,xz:()=>g,z9:()=>b});var r=s(19400);const i=e=>h(e.pages[0].items[0]),a=e=>(0,r.ED)(e.pages[0].items[0]),n=e=>h(e[0].items[0]),o=e=>(0,r.ED)(e[0].items[0]),c=e=>{if(!e||!e.items)return!1;if(!(Object.keys(null==e?void 0:e.items).length>0))return!1;const t=Object.values(null==e?void 0:e.items).find((e=>e.find((e=>v(e)||y(e)))));return Boolean(t)},d=e=>{if(!e||!e.items)return!1;if(!(Object.keys(null==e?void 0:e.items).length>0))return!1;const t=Object.values(null==e?void 0:e.items).find((e=>e.find((e=>x(e)))));return Boolean(t)},l=e=>e&&"photo"in e&&"photo"===e.media_type&&!("object"in e),u=e=>e&&"video"in e&&"video"===e.media_type&&!("object"in e),p=e=>e&&"photo"in e&&"photo"===e.media_type&&"object"in e,m=e=>e&&"video"in e&&"video"===e.media_type&&"object"in e,g=e=>p(e)||m(e),h=e=>l(e)||u(e),f=e=>Array.isArray(e),b=e=>e&&"photo"in e,v=e=>e&&"photo"in e&&!!e.photo&&"photo"===e.media_type,y=e=>e&&"video"in e&&"video"===e.media_type,x=e=>e&&!("video"in e)&&!("photo"in e)&&"preview_urls"in e},52524:(e,t,s)=>{"use strict";s.d(t,{C:()=>a,Z:()=>n});var r=s(50334),i=s(98767);const a=s(37397).$.join(",");function n(e,t){const{requestId:s,photoApiKey:n,photoApiUrl:o,photosPerPage:c,photosPerPageInUserProfile:d,featureDiscoveryKeywords:l}=t;return{getPhotos({objectId:t,objectType:d,page:l,locale:u,pageSize:p,accessToken:m}){const g={key:n,object_id:t,object_type:d,locale:u,status:"active",sort_by:"position",album_code:"branch"===d?"common":"view",preview_size:a,size:p||c,page:l};return e(`${o}2.0/photo/get`,{params:g,headers:Object.assign({},m?{"Auth-Version":"2.0","Auth-Token":m}:void 0)}).then((e=>(0,i.Je)(e,c))).catch((0,r.eY)("getPhotos",g,s))},getPhotosByAlbum({objectId:a,albumId:d,preview_size:u,page_size:p,page_token:m,accessToken:g,searchCtx:h,searchKeyword:f}){const b=Object.assign(Object.assign({locale:t.locale,key:n,preview_size:u,page_size:p||c,page_token:m},h?{search_ctx:h}:{}),f&&l?{search_keyword:f}:{});return e(`${o}3.0/objects/${a}/albums/${d}/photos`,{params:b,headers:Object.assign({},g?{"Auth-Version":"2.0","Auth-Token":g}:void 0)}).then(i.$H).catch((0,r.eY)("getPhotosByAlbum",b,s))},getPhotosCount({objectIds:t,objectType:a,locale:c,accessToken:d}){const l={key:n,object_id:t.join(","),object_type:a,locale:c};return e(`${o}2.0/photo/count`,{params:l,headers:Object.assign({},d?{"Auth-Version":"2.0","Auth-Token":d}:void 0)}).then(i.Sv).catch((0,r.eY)("getPhotosCount",l,s))},getUserPhotos({locale:t,page:c,accessToken:l}){const u={key:n,object_type:"branch,geo",preview_size:a,page:c,size:d,locale:t,access_token:l};return e(`${o}2.0/user/photo/get`,{params:u}).then(i.Ux).catch((0,r.eY)("getUserPhotos",u,s))},getPhotosLight({objectIds:t,photosCount:c,searchCtx:d,searchKeywords:u}){const p=Object.assign(Object.assign({key:n,object_ids:t.join(","),preview_size:a,size:c},d?{search_ctx:d}:{}),u&&l?{search_keywords:u}:{});return e(`${o}2.0/photo/get/light`,{params:p}).then(i.tw).catch((0,r.eY)("getPhotosLight",p,s))},getEntityAlbums({objectId:a,accessToken:c}){const d={key:n,locale:t.locale};return e(`${o}3.0/objects/${a}/albums/counts`,{params:d,headers:Object.assign({},c?{"Auth-Version":"2.0","Auth-Token":c}:void 0)}).then(i.wz).catch((0,r.eY)("getAlbums",d,s))},getPhotoById({photoId:c,locale:d,preview_size:l,accessToken:u}){const p={key:n,id:c,locale:d||t.locale||"ru_RU",preview_size:null!=l?l:a};return e(`${o}2.0/photo/by-id`,{params:p,headers:Object.assign({},u?{"Auth-Version":"2.0","Auth-Token":u}:void 0)}).then(i.si).catch((0,r.eY)("getPhotoById",p,s))}}}},98767:(e,t,s)=>{"use strict";s.d(t,{$H:()=>p,BZ:()=>d,Fj:()=>l,Je:()=>n,Sv:()=>i,Ux:()=>a,bT:()=>c,si:()=>m,tw:()=>o,wz:()=>u});var r=s(19297);function i({data:e}){return{items:e.result,total:0,code:e.meta.code}}function a({data:e}){if(e.result&&e.result.total){const t=e.result;return{items:t.items,total:t.total,code:200}}return g(e.meta.code)}function n(e,t){var s;const r=null===(s=e.data.result)||void 0===s?void 0:s[0];return r?{items:r.items,total:Math.min(t||0,r.total),code:200}:g(e.data.meta.code)}function o({data:e}){return e.result?{items:e.result.items,code:200}:{items:{},code:(0,r.F6)(e.meta.code)}}function c({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):g(e.meta.code)}function d({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):g(e.meta.code)}function l({data:e}){const t=e.result&&e.result.items[0];if(!t)throw{name:"Error",message:"Unexpected add photos error",code:(0,r.F6)(e.meta.code)};if(t.error)throw{name:t.error.type,message:t.error.message,code:(0,r.F6)(e.meta.code)};return{items:[t],total:1,code:200}}function u({data:e,status:t}){return e.albums?{albums:e.albums,code:200}:{albums:[],code:t}}function p({data:e,status:t}){return e.albums&&e.items?e:{albums:[],items:[],code:t}}function m({data:e,status:t}){var s;const r=null===(s=e.result)||void 0===s?void 0:s.items[0];return r?{photo:r,code:200}:{photo:void 0,code:t}}function g(e){return{items:[],total:0,code:(0,r.F6)(e)}}},33592:(e,t,s)=>{"use strict";s.d(t,{DR:()=>a,FD:()=>n});var r=s(85608),i=s(50334);const a=20;function n(e,t){return{getProfile(s){var{accessToken:a,id:n}=s,o=(0,r.Tt)(s,["accessToken","id"]);const c=Object.assign({method:"get",params:o},a?{headers:{Authorization:`Bearer ${a}`}}:{}),d=`${t.publicProfileUrl}/user/${n}`;return e(d,c).then((({data:e})=>e)).catch((0,i.eY)("getPublicProfile",o,t.requestId))},getCounters(s){const r=`${t.publicProfileUrl}/user/${s.id}/content/count`;return e(r,{method:"get"}).then((({data:e})=>e)).catch((0,i.eY)("getPublicProfileCounters",s,t.requestId))},getVisitedPlacesCounter(s){var{accessToken:a}=s,n=(0,r.Tt)(s,["accessToken"]);const o=Object.assign({method:"get",params:n},a?{headers:{Authorization:`Bearer ${a}`}}:{}),c=`${t.publicProfileUrl}/user/${n.id}/content/objects/count`;return e(c,o).then((({data:e})=>e)).catch((0,i.eY)("getPublicProfileVisitedPlacesCounters",n,t.requestId))},getContentFeed(s){const{page_size:r=a,id:n,preview_sizes:o,locale:c,page_token:d,accessToken:l}=s,u=`${t.publicProfileUrl}/user/${n}/content/feed`,p=Object.assign({method:"get",params:{page_size:r,page_token:d,locale:c,preview_sizes:o}},l?{headers:{Authorization:`Bearer ${l}`}}:{});return e(u,p).then((({data:e})=>e)).catch((0,i.eY)("getPublicProfileContentFeed",s,t.requestId))},updatePrivacy(s){const{publicUserId:r,privacy:a,accessToken:n}=s,o=`${t.publicProfileUrl}/user/${r}`;return e(o,{method:"put",data:{privacy:a},headers:{Authorization:`Bearer ${n}`}}).then((({data:e})=>e)).catch((0,i.eY)("updatePublicProfilePrivacy",s,t.requestId))}}}(0,s(65671).UM)("PublicProfileApi",n)},91984:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});const r=e=>({frameId:t})=>({uiElement:{name:e.type,ownerName:"mapSubLayersScreen",frameUuid:t},action:"tap"})},49959:(e,t,s)=>{"use strict";s.d(t,{B:()=>p});var r=s(31085),i=s(99259),a=s(84175),n=s(82781),o=s(88756),c=s(14041),d=s(90861),l=s(80552),u=s(3135);const p=(0,c.memo)((e=>{var t;const{css:s,s:i}=(0,a.I)(m),c=(0,n.c)(),l=(0,u.R)(e),p="description"in e&&void 0!==e.description;return(null==l?void 0:l.isLoading)?(0,r.jsx)(d.Z,{}):(null===(t=null==l?void 0:l.blocks)||void 0===t?void 0:t.length)?(0,r.jsxs)("div",Object.assign({className:s(i.root)},{children:[l.blocks.map((({erid:t,legalName:a},n)=>(0,r.jsx)("div",Object.assign({className:s(i.block)},{children:t?(0,r.jsxs)(o.u,Object.assign({inline:!0},{children:[a||null,(0,r.jsxs)("span",{children:["erid:"," ",(0,r.jsx)("span",Object.assign({className:s(i.erid)},{children:t}))]}),p&&(0,r.jsx)("p",Object.assign({className:s(i.description)},{children:e.description}))]})):a}),n))),!!l.erid&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:s(i.comment)},{children:c._gg("Нажмите на «Реклама», чтобы скопировать ID")})),e.renderIdInput(l.erid)]})]})):(null==l?void 0:l.wasLoading)?(0,r.jsx)("div",{children:c._gg("Не удалось загрузить данные")}):null})),m=(0,a.r)({root:{position:"relative",maxWidth:240},block:{marginTop:6,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},comment:Object.assign(Object.assign({marginTop:6},l.EX),{color:i.T.gray_b2b2b2}),description:{padding:"10px 0"}})},12043:(e,t,s)=>{"use strict";s.d(t,{h:()=>i,j:()=>a});var r=s(46579);const i=({children:e})=>{const{isMobileDevice:t}=(0,r.U)();return e&&t?e:null},a=({children:e})=>{const{isMobileDevice:t}=(0,r.U)();return e?t?null:e:null}},60784:(e,t,s)=>{"use strict";s.d(t,{a:()=>g});var r=s(31085),i=(s(14041),s(81618)),a=s(84175),n=s(80552),o=s(99259),c=s(51989),d=s(88756),l=s(98626),u=s(74641),p=s(95792),m=s(28478);const g=({text:e,legalName:t,adInfo:s,dataN:n,colorOpacity:o,mt:g,withoutHint:f,withBlackTooltip:b,isUncollapsed:v})=>{const{s:y,css:x}=(0,a.I)(h),{isContentOverflow:j,containerRef:w}=(0,m.b)(),{ref:_,addTooltip:C}=(0,p.J)({title:(0,r.jsx)("div",Object.assign({className:x(y.blackTooltip)},{children:e})),to:"bottomBottomStart"}),I=({isExpanded:a})=>(0,r.jsx)("div",Object.assign({ref:w,className:x(y.root,"4"===g&&y.mt4,"8"===g&&y.mt8,o?y.colorOpacity:y.grey,!a&&y.collapsed)},{children:(0,r.jsxs)(d.u,Object.assign({inline:!0,styles:y.inline},{children:[!!s&&(0,r.jsx)(l.Q,Object.assign({},s)),null!=t?t:null,!!e&&(0,r.jsx)("span",Object.assign({ref:_},{children:(0,r.jsx)(c.v,Object.assign({html:e},i.dx.n(n||"wat-ads-text-warning"),{title:f||b?void 0:e}))})),b&&e&&C]}))}));return j||v?(0,r.jsx)(u.v,Object.assign({withoutShevron:!0},{children:e=>I({isExpanded:e})})):I({isExpanded:!1})},h=(0,a.r)({root:Object.assign({},n.nU),grey:{color:o.T.gray_9b9b9b},colorOpacity:{opacity:.7},mt4:{marginTop:4},mt8:{marginTop:8},collapsed:Object.assign({},(0,n.lR)(1,n.nU)),inline:{display:"inline"},blackTooltip:{maxWidth:300}})},63694:(e,t,s)=>{"use strict";s.d(t,{E:()=>h});var r=s(31085),i=s(14041),a=s(84175),n=s(80813),o=s(80552),c=s(99259),d=s(47320),l=s(89446),u=s(7098),p=s(81618),m=s(92432),g=s(98626);const h=(0,i.memo)((({title:e,link:t,source:s,platform:i,lang:o,onClick:h,erid:b,legalName:v})=>{const{s:y,css:x}=(0,a.I)(f),j=(0,u.M)(i);return(0,r.jsx)("div",Object.assign({className:x("card"===s&&y.wrapper)},{children:(0,r.jsxs)("div",Object.assign({className:x(y.content)},{children:[(0,r.jsx)("a",Object.assign({},p.dx.n("wat-app-banner"),{className:x(y.link),href:t,target:"_blank",onClick:h},{children:(0,r.jsxs)("div",Object.assign({className:x(y.root,"dashboard"===s&&y.dashboardRoot)},{children:[(0,r.jsx)("div",Object.assign({className:x(y.logo)},{children:(0,r.jsx)(n.z,{})})),(0,r.jsxs)("div",Object.assign({className:x(y.info)},{children:[(0,r.jsx)("div",Object.assign({className:x(y.title)},{children:e})),(0,r.jsxs)("span",Object.assign({className:x(y.stat)},{children:[(0,r.jsx)(l.G,{color:c.T.yellow_ffb81c,size:"small",rating:j.rating}),(0,r.jsx)("span",Object.assign({className:x(y.additionalInfo)},{children:j.reviews}))]}))]})),(0,r.jsx)("div",Object.assign({className:x(y.storeLink)},{children:"ios"===i?(0,r.jsx)(d.h,{lang:o}):(0,r.jsx)(m.v,{lang:o})}))]}))})),(0,r.jsx)("div",{children:(0,r.jsx)(g.Q,{small:!0,gray:!0,source:"banner",erid:[b],legalName:v,rating:0})})]}))}))}));h.displayName="AppBannerInner";const f=(0,a.r)({wrapper:{marginTop:4,marginBottom:4},content:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:16,paddingRight:24,paddingBottom:16,paddingLeft:24,background:c.T.gray_f2f2f2,gap:8},root:{display:"flex",alignItems:"center",width:"100%"},dashboardRoot:{"@media (max-width: 320px)":{padding:16}},logo:{display:"flex","& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",paddingStart:8,color:c.T.black},title:Object.assign(Object.assign({},o.Hg),{"@media (max-width: 320px)":Object.assign({},o.nU)}),stat:{display:"flex",alignItems:"center"},additionalInfo:Object.assign(Object.assign({},o.nU),{paddingStart:4,color:c.T.gray_929292}),storeLink:{display:"flex",paddingStart:4}})},26485:(e,t,s)=>{"use strict";s.d(t,{k:()=>m});var r=s(31085),i=s(14041),a=s(79594),n=s(82781),o=s(55027),c=s(46579),d=s(63694),l=s(8365);function u(e){switch(e){case"branch":return"cardContacts";case"dashboard":return"dashboardFrame";case"geo":case"route":return"cardInformation"}}const p=e=>({frameId:t})=>({uiElement:{name:e.store,ownerName:"mobileDownloadPromo",frameUuid:t},action:"tap"}),m=(0,i.memo)((({cardType:e})=>{const t=(0,n.c)(),{brandName:s}=(0,c.U)(),i=(0,a.d4)((e=>e.session.platform)),m=(0,a.d4)((e=>e.appContext.lang)),g=e?"card":"dashboard",h=function(e,t){if("card"===e)switch(t){case"geo":return"geoCardPromo";case"route":return"transportCardPromo";default:return"firmCardPromo"}return"mainScreen"}(g,e),f=function(e){switch(e){case"geoCardPromo":return"2RanynPukDW";case"transportCardPromo":return"2RanynRPjVr";case"firmCardPromo":case"mainScreen":return"2RanynAZrgQ";default:return}}(h),{bssRef:b,useBssHandler:v}=(0,l.E)((y={cardType:e},({frameId:e})=>{const{cardType:t}=y;return{uiElement:{name:"mobileDownloadPromo",ownerName:u(t),frameUuid:e}}}));var y;const x=v(p,{store:"ios"===i?"appStoreButton":"googlePlayButton"}),j=(0,o.zP)({platform:i,type:h});if(!j||!f)return null;const{title:w}=function(e,t,s){switch(e){case"card":return function(e,t,s){return{title:t._t("%1 лучше в&nbsp;приложении",[e])}}(s,t);case"dashboard":return{title:t._t("%1 умеет работать без интернета",[s])}}}(g,t,s);return(0,r.jsx)("div",Object.assign({ref:b},{children:(0,r.jsx)(d.E,{title:w,link:j,source:g,platform:i,lang:m,onClick:x,erid:f,legalName:'ООО "ДубльГИС"'})}))}));m.displayName="AppBanner"},23098:(e,t,s)=>{"use strict";s.d(t,{e:()=>c});var r=s(31085),i=(s(14041),s(80552)),a=s(91466),n=s(81618),o=s(84175);const c=e=>{const{src:t,initials:s,isLoadingForced:i,initialStyles:c}=e,{css:l,s:u}=(0,o.I)(d),p=()=>(0,r.jsx)("div",Object.assign({className:l(u.initials,c)},n.dx.n("wat-initials"),{children:s()}));return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(a.i,{src:t,isLoadingForced:!!i,renderPlaceholder:e=>{if("error"===e)return p()}}):p()})},d=(0,o.r)({initials:Object.assign(Object.assign({width:"100%",height:"100%"},i.Co),{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"})})},90905:(e,t,s)=>{"use strict";s.d(t,{b:()=>m});var r=s(31085),i=s(84175),a=s(14041),n=s(848),o=s(33466),c=s(99259),d=s(69158),l=s(55322),u=s(75704),p=s(81618);const m=(0,a.memo)((({scrollboxRef:e,offset:t,size:s})=>{const{s:a,css:o}=(0,i.I)(g),{isStartArrowShown:c,isEndArrowShown:d,clickArrowStart:m,clickArrowEnd:h}=(0,l.j)({scrollboxRef:e});return c||d?(0,r.jsxs)("div",Object.assign({className:o(a.root),style:{padding:`0 ${t}px`}},{children:[(0,r.jsx)("div",Object.assign({onClick:m},p.dx.n("wat-arrow-to-left"),{style:s?{width:`${s}px`,height:`${s}px`}:void 0,className:o(a.arrow,!c&&a._arrowHidden)},{children:(0,r.jsx)(n.i,{direction:"start",icon:u.B,size:18})})),(0,r.jsx)("div",Object.assign({onClick:h},p.dx.n("wat-arrow-to-right"),{className:o(a.arrow,!d&&a._arrowHidden)},{children:(0,r.jsx)(n.i,{direction:"end",icon:u.B,size:18})}))]})):null}));m.displayName="EntityImageArrows";const g=(0,i.r)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"space-between",opacity:0,pointerEvents:"none",transition:`${o.S.short}ms ${o.l.base}`,"*:hover>&":{opacity:1}},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,d.m)(c.T.black,.8),color:c.T.white,pointerEvents:"auto",userSelect:"none",transition:`${o.S.short}ms ${o.l.base}`,cursor:"pointer",opacity:.6,":hover":{opacity:1}},_arrowHidden:{opacity:0,pointerEvents:"none",":hover":{opacity:1,pointerEvents:"auto"}}})},98312:(e,t,s)=>{"use strict";s.d(t,{V:()=>h});var r=s(31085),i=s(14041),a=s(68076),n=s(7515),o=s(26461),c=s(99259),d=s(80552),l=s(32443),u=s(81618),p=s(35890);class m extends i.PureComponent{render(){const{s:e,showFeedbackButton:t=!1,entityId:s,i18n:i}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.root)},u.n("wat-error"),u.v("404"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},u.n("wat-error-icon"),{children:(0,r.jsx)(l.C,{})})),(0,r.jsx)("h1",Object.assign({className:(0,a.AH)(e.title)},u.n("wat-error-text"),{children:i.tp._t("Ничего не нашлось, попробуйте уточнить запрос")})),t&&(0,r.jsxs)("span",Object.assign({className:(0,a.AH)(e.message)},u.n("wat-error-message"),{children:[i.tp._t("Если уверены, что организация действительно существует, просто добавьте её:"),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.entry)},{children:(0,r.jsx)(p.M,{type:"addOrg",entityId:s})}))]}))]}))}}m.displayName=(0,o.d)("src/shared/components/error/components");const g={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:c.T.gray_262626},title:Object.assign(Object.assign({},d.HI),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.Hg),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},h=(0,a.Xy)(g)((0,n.Q)()(m))},84097:(e,t,s)=>{"use strict";s.d(t,{m:()=>h});var r=s(31085),i=s(14041),a=s(68076),n=s(7515),o=s(26461),c=s(99259),d=s(80552),l=s(96141),u=s(75506),p=s(81618);class m extends i.PureComponent{render(){const{s:e,i18n:t,userAgent:s}=this.props,i=s&&s.toLowerCase().indexOf("safari")>=0&&s.toLowerCase().indexOf("chrome")<0;return(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.root)},p.n("wat-error"),p.v("500"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},p.n("wat-error-icon"),{children:(0,r.jsx)(u.j,{})})),(0,r.jsx)("h1",Object.assign({className:(0,a.AH)(e.title)},p.n("wat-error-text"),{children:t.tp._t("Что-то пошло не так")})),(0,r.jsx)("span",Object.assign({className:(0,a.AH)(e.message)},{children:t.tp._t("Обязательно найдем проблему и исправим её. Можете повторить действие через пару минут или попробовать")})),(0,r.jsx)(l.$,Object.assign({appearance:"secondary",onClick:this.reloadPage,dataN:"wat-reload-btn"},{children:t.tp._t("Перезагрузить страницу")})),i&&(0,r.jsx)("span",Object.assign({className:(0,a.AH)(e.message,e._aboutBrowser)},{children:t.tp._t("Если вы используете браузер Safari, попробуйте воспользоваться Chrome или Firefox.")}))]}))}reloadPage(){"undefined"!=typeof window&&window.location.reload(!0)}}m.displayName=(0,o.d)("src/shared/components/error/components");const g={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:24,paddingEnd:24,alignItems:"center",flexDirection:"column",color:c.T.gray_262626},title:Object.assign(Object.assign({},d.HI),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.Hg),{textAlign:"center",paddingBottom:12,maxWidth:"100%"}),_aboutBrowser:{paddingBottom:0,paddingTop:12}},h=(0,a.Xy)(g)((0,n.Q)()(m))},3127:(e,t,s)=>{"use strict";s.d(t,{e:()=>h});var r=s(31085),i=s(14041),a=s(84189),n=s(28909),o=s(84175),c=s(80552),d=s(99259),l=s(81618),u=s(32443),p=s(75506);function m(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"50",height:"96",viewBox:"0 0 50 96"},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M43 0c3.86 0 7 3.14 7 7v82c0 3.86-3.14 7-7 7H7c-3.86 0-7-3.14-7-7V7c0-3.86 3.14-7 7-7zM12.046 2H7a5 5 0 00-5 5v82a5 5 0 005 5h36a5 5 0 005-5V7a5 5 0 00-5-5h-5.046a2 2 0 00-1.857 1.257l-.594 1.486A2 2 0 0133.646 6H16.354a2 2 0 01-1.857-1.257l-.594-1.486A2 2 0 0012.046 2zM39 65v6a4 4 0 01-7.995.2L31 71v-4H11v-2h28zm-2 2h-4v4a2 2 0 003.995.15L37 71v-4zM18.293 42.293l1.414 1.414L16.414 47l3.293 3.293-1.414 1.414L15 48.414l-3.293 3.293-1.414-1.414L13.586 47l-3.293-3.293 1.414-1.414L15 45.586l3.293-3.293zm20 0l1.414 1.414L36.414 47l3.293 3.293-1.414 1.414L35 48.414l-3.293 3.293-1.414-1.414L33.586 47l-3.293-3.293 1.414-1.414L35 45.586l3.293-3.293z"})}))}var g=s(12043);const h=(0,i.memo)((({title:e,message:t,code:s,additionalContent:i})=>{(0,n.a)((0,a.r)(s));const{css:c,s:d}=(0,o.I)(f),h=Array.isArray(t)?t:[t];return(0,r.jsxs)("div",Object.assign({className:c(d.root)},l.dx.n("wat-error"),l.dx.v(s),{children:[(0,r.jsx)("div",Object.assign({className:c(d.icon)},{children:s&&s<500?(0,r.jsx)(u.C,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.h,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(g.j,{children:(0,r.jsx)(p.j,{})})]})})),(0,r.jsx)("h1",Object.assign({className:c(d.title)},{children:e})),t?(0,r.jsx)("div",Object.assign({className:c(d.message)},{children:h.map((e=>(0,r.jsx)("p",Object.assign({className:c(d.paragraph)},{children:e}),e)))})):null,!!i&&(0,r.jsx)("div",{children:i})]}))}));h.displayName="CustomError";const f=(0,o.r)({root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:d.T.gray_262626},title:Object.assign(Object.assign({},c.HI),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px",textAlign:"center"},message:Object.assign(Object.assign({},c.Hg),{textAlign:"center",maxWidth:"100%"}),paragraph:{marginBottom:16}})},1626:(e,t,s)=>{"use strict";s.d(t,{$:()=>k});var r=s(31085),i=s(14041),a=s(98312),n=s(82781),o=s(3127);const c=()=>{const e=(0,n.c)();return(0,r.jsx)(o.e,{title:e._t("Не удалось проложить маршрут"),message:[e._t("Мы постоянно работаем над тем, чтобы такое повторялось как можно реже."),e._t("А пока попробуйте другие типы маршрутов.")],code:404})};var d=s(68076),l=s(7515),u=s(26461),p=s(99259),m=s(80552),g=s(32443),h=s(81618);class f extends i.PureComponent{render(){const{s:e,i18n:t}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,d.AH)(e.root)},h.n("wat-rubricator-error"),{children:[(0,r.jsx)("div",Object.assign({className:(0,d.AH)(e.icon)},{children:(0,r.jsx)(g.C,{})})),(0,r.jsx)("h1",Object.assign({className:(0,d.AH)(e.title)},{children:t.tp._t("Ничего не нашлось, попробуйте открыть рубрикатор в другом городе")}))]}))}}f.displayName=(0,u.d)("src/shared/components/error/components");const b={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:p.T.gray_262626},title:Object.assign(Object.assign({},m.HI),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},m.Hg),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},v=(0,d.Xy)(b)((0,l.Q)()(f));var y=s(84097),x=s(27942),j=s(60077),w=s(82393),_=s(28909),C=s(84189);const I={regionId:w.zN,userAgent:e=>e.session.userAgent},k=(0,j.M)({selectors:I})((0,x.J)((({regionId:e,type:t,code:s,userAgent:r})=>{const i=(0,C.r)(s),a=function(e){const{codeForRaise:t,type:s,regionId:r}=e;return 404===t||410===t?"search"===s||"entity"===s?"0"===r?"nothingFound":"nothingFoundWithAddOrgButton":"rubricator"===s?"nothingFoundInRubricator":"directions"===s?"canNotFindDirections":"nothingFound":"somethingGoneWrong"}({codeForRaise:i,type:t,regionId:e});return{codeForRaise:i,viewType:a,userAgent:r}}))(i.memo((({codeForRaise:e,viewType:t,entityId:s,userAgent:i})=>{switch((0,_.a)(e),t){case"nothingFound":return(0,r.jsx)(a.V,{});case"nothingFoundWithAddOrgButton":return(0,r.jsx)(a.V,{showFeedbackButton:!0,entityId:s});case"canNotFindDirections":return(0,r.jsx)(c,{});case"nothingFoundInRubricator":return(0,r.jsx)(v,{});default:return(0,r.jsx)(y.m,{userAgent:i})}}))))},84189:(e,t,s)=>{"use strict";function r(e){return 404===e||410===e?e:500}s.d(t,{r:()=>r})},91255:(e,t,s)=>{"use strict";s.d(t,{Y:()=>d});var r=s(31085),i=s(84175),a=s(82781);function n(){return(0,r.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M3.12305 17.2285L11.9666 22.04L20.8102 16.9079V6.91876L11.9666 2.01569L3.12305 6.91876V17.2285Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3079 1.35023C12.4914 0.922318 11.5086 0.922317 10.6921 1.35023L3.45076 5.14541C2.55721 5.61371 2 6.52172 2 7.5095V16.278C2 17.2376 2.52612 18.1242 3.38008 18.6037L10.6215 22.67C11.4746 23.1491 12.5254 23.1491 13.3785 22.67L20.6199 18.6037C21.4739 18.1242 22 17.2376 22 16.278V7.5095C22 6.52172 21.4428 5.61371 20.5492 5.14541L13.3079 1.35023ZM11.673 3.1233C11.8772 3.01632 12.1228 3.01632 12.327 3.1233L18.8945 6.56532L12 10.6949L5.1055 6.56531L11.673 3.1233ZM10.9655 12.4398L4.06897 8.30899V16.278C4.06897 16.5179 4.2005 16.7396 4.41398 16.8594L10.9655 20.5383V12.4398ZM13.0345 20.5383L19.586 16.8594C19.7995 16.7396 19.931 16.5179 19.931 16.278V8.309L13.0345 12.4398V20.5383Z",fill:"#0059D6"})]}))}function o(){return(0,r.jsxs)("svg",Object.assign({width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.84086 0.703852C6.31592 0.432049 5.68408 0.432049 5.15914 0.703852L0.932729 2.89221C0.358246 3.18966 0 3.76641 0 4.39382V9.44987C0 10.0594 0.338258 10.6225 0.887284 10.9271L5.1137 13.2718C5.6622 13.5761 6.3378 13.5761 6.8863 13.2718L11.1127 10.9271C11.6617 10.6225 12 10.0594 12 9.44987V4.39382C12 3.76641 11.6418 3.18966 11.0673 2.89221L6.84086 0.703852Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.84086 0.703852C6.31592 0.432049 5.68408 0.432049 5.15914 0.703852L0.932729 2.89221C0.358246 3.18966 0 3.76641 0 4.39382V9.44987C0 10.0594 0.338258 10.6225 0.887284 10.9271L5.1137 13.2718C5.6622 13.5761 6.3378 13.5761 6.8863 13.2718L11.1127 10.9271C11.6617 10.6225 12 10.0594 12 9.44987V4.39382C12 3.76641 11.6418 3.18966 11.0673 2.89221L6.84086 0.703852ZM5.88669 2.00312C5.95743 1.96649 6.04257 1.96649 6.11331 2.00312L9.69552 3.85792L7.56004 5.12159C7.52567 5.14193 7.49355 5.16446 7.46376 5.18886L5.99404 6.06535L4.55017 5.20202C4.5164 5.1729 4.47945 5.14628 4.43945 5.12261L2.30329 3.85854L5.88669 2.00312ZM1.53459 5.13634V9.44987C1.53459 9.532 1.58017 9.60789 1.65415 9.64893L5.23282 11.6342L5.23282 7.34784L1.53459 5.13634ZM6.76741 8.23703L6.76741 7.34051L10.4654 5.13502V9.44987C10.4654 9.532 10.4198 9.60789 10.3458 9.64893L6.76741 11.6341L6.76741 8.23703C6.76741 8.2373 6.76741 8.23677 6.76741 8.23703Z",fill:"#0059D6"})]}))}var c=s(80552);const d=({onClick:e,size:t="m"})=>{const{css:s,s:c}=(0,i.I)(l),d=(0,a.c)();return(0,r.jsxs)("div",Object.assign({className:s(c.root,c[t]),onClick:e},{children:["s"===t?(0,r.jsx)(o,{}):(0,r.jsx)(n,{}),(0,r.jsx)("span",{children:d._t("3D-модель")})]}))},l=(0,i.r)({root:{display:"inline-flex",alignItems:"center",gap:4,paddingTop:2,paddingBottom:2,paddingStart:6,paddingEnd:6,borderRadius:6,backgroundColor:"#14141417","&:hover":{cursor:"pointer"}},s:Object.assign({},c.H8),m:Object.assign({},c._w)})},4:(e,t,s)=>{"use strict";s.d(t,{U:()=>p});var r=s(31085),i=s(14041),a=s(84175),n=s(99259),o=s(43224),c=s(58171),d=s(74639),l=s(68887),u=s(80552);const p=i.memo((e=>{const{userName:t,backgroundSeed:s,experimentalStyles:i}=e,{css:n,s:l}=(0,a.I)(m),u=(0,o.Y)(t),p=(0,c.k)((0,d.F)(s));return(0,r.jsx)("div",Object.assign({className:n(l.initials,i),style:{background:p}},{children:u}))})),m=(0,a.r)({initials:Object.assign(Object.assign({},u.Co),{borderRadius:l.V.oval,display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:n.T.white,overflow:"hidden"})})},40837:(e,t,s)=>{"use strict";s.d(t,{J:()=>a,N:()=>n});var r=s(31085),i=s(1626);const a=e=>{const{asyncStatus:t}=e;return"error"===t?(0,r.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,r.jsx)(i.$,{code:500})})):(0,r.jsx)("div",{})},n=e=>(0,r.jsx)(a,{asyncStatus:e})},43322:(e,t,s)=>{"use strict";s.d(t,{g:()=>v,r:()=>b});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(27942),c=s(99259),d=s(64099),l=s(87712),u=s(53615),p=s(91466),m=s(81618),g=s(70498);class h extends i.PureComponent{constructor(){super(...arguments),this.renderPlaceholder=e=>{const{size:t=d.Ej.cardLogo,s:s}=this.props;return"error"===e?(0,r.jsx)("div",Object.assign({className:(0,a.AH)(s.crownLogo),style:{width:t,height:t}},{children:(0,r.jsx)(u.O,{color:c.T.yellow_ffb81c,size:32})})):(0,r.jsx)("div",{className:(0,a.AH)(this.props.s.placeholder)})}}render(){const{image:e,size:t=d.Ej.cardLogo,isLoadingForced:s=!1,s:i}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,a.AH)(i.logo),style:{width:t,height:t}},{children:(0,r.jsx)(p.i,{src:e,renderPlaceholder:this.renderPlaceholder,isLoadingForced:s})})):(0,r.jsx)("div",Object.assign({className:(0,a.AH)(i.crownLogo),style:{width:t,height:t}},m.dx.n("wat-crown"),{children:(0,r.jsx)(u.O,{color:c.T.yellow_ffb81c,size:32})}))}}const f={logo:{display:"inline-block",backgroundColor:c.T.white,borderRadius:"50%",overflow:"hidden",boxShadow:g.E.logo},placeholder:{width:"100%",height:"100%",backgroundColor:c.T.gray_f2f2f2},crownLogo:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:g.E.logo,background:c.T.white}},b=(0,n.Xy)(f)(h),v=(0,o.J)((function({entity:e,size:t=d.Ej.cardLogo}){const s=(0,l.Y)(e,`${2*t}x${2*t}`);if(s)return s}))(b)},63109:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var r=s(31085),i=(s(14041),s(84175)),a=s(80552),n=s(70498),o=s(64099),c=s(99259),d=s(81618);const l=({children:e,dataN:t})=>{const{css:s,s:a}=(0,i.I)(u);return(0,r.jsx)("div",Object.assign({className:s(a.root)},t?d.dx.n(t):void 0,{children:e}))},u=(0,i.r)((()=>({root:Object.assign(Object.assign({pointerEvents:"none",overflow:"hidden"},a.Hg),{maxWidth:296,boxShadow:n.E.popup,borderRadius:o.Vq.default,background:c.T.white})})))},12869:(e,t,s)=>{"use strict";s.d(t,{M:()=>C});var r=s(31085),i=s(14041),a=s(41155),n=s(84175),o=s(65811),c=s(12017),d=s(46579),l=s(33708),u=s(99259),p=s(20315),m=s(81618),g=s(68887);const h=i.createContext({bssActionItemFunction:()=>()=>{}});var f=s(8365);const b=(0,i.memo)((e=>{const{images:t,isSearchBot:s=!1,dataN:i="wat-review-photo-slide",onClick:a}=e,{s:o}=(0,n.I)(w);return t.length?(0,r.jsx)(v,{children:t.map(((e,n)=>(0,r.jsx)(y,{position:n+1,dataN:i,image:e,isSearchBot:s,onClick:a,styles:x(n,t,o)},n)))}):null}));b.displayName="Slide";const v=(0,i.memo)((({children:e})=>{const{s:t,css:s}=(0,n.I)(w),[i,a,o,c]=e;return a?(0,r.jsxs)("div",Object.assign({className:s(t.container)},{children:[(0,r.jsx)("div",Object.assign({className:s(t.leftSide)},{children:i})),(0,r.jsxs)("div",Object.assign({className:s(t.rightSide,!!o&&t._halfHeight)},{children:[a,o&&(0,r.jsx)("div",Object.assign({className:s(t.container,t._withPaddingTop)},{children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:s(t.leftSide)},{children:o})),(0,r.jsx)("div",Object.assign({className:s(t.rightSide)},{children:c}))]}):o}))]}))]})):(0,r.jsx)(r.Fragment,{children:i})}));v.displayName="SlideWrapper";const y=(0,i.memo)((e=>{const{image:t,dataN:s,isSearchBot:a,onClick:o,position:c}=e,{s:l,css:u}=(0,n.I)(w),{lang:g}=(0,d.U)(),{bssShowItemFunction:b,bssActionItemFunction:v=(()=>()=>{})}=i.useContext(h),{bssRef:y,useBssHandler:x}=(0,f.E)(null==b?void 0:b({image:t,position:c})),j=x(v,{image:t,position:c});return(0,r.jsx)("div",Object.assign({ref:y},m.dx.n(s),{className:u(l.imageWrapper),onClick:(e=>()=>{j(),o&&o(e)})(t)},{children:(0,r.jsx)(p.H,{src:t.url,forceLoad:a,styles:[l.imageStyle,e.styles&&e.styles],threshold:.05,alt:"ru"===g?"Слайд":void 0})}))}));function x(e,t,s){switch(t.length){case 1:return s._roundAll;case 2:return 0===e?s._roundLeft:s._roundRight;case 3:return 0===e?s._roundLeft:1===e?s._roundRightTop:s._roundRightBottom;default:return 0===e?s._roundLeft:1===e?s._roundRightTop:3===e?s._roundRightBottom:void 0}}y.displayName="ImageWithClick";const j=u.T.gray_e6e6e6,w=(0,n.r)({imageStyle:{background:j},container:{display:"flex",height:"100%"},leftSide:{width:"50%",boxSizing:"border-box",borderEnd:`2px solid ${u.T.white}`},rightSide:{width:"50%"},_halfHeight:{height:"50%"},_withPaddingTop:{boxSizing:"border-box",borderTop:`2px solid ${u.T.white}`},imageWrapper:{height:"100%",width:"100%",cursor:"pointer"},_roundAll:{borderRadius:g.V.default},_roundLeft:{borderRadius:`logical 0 ${g.V.default} ${g.V.default} 0`},_roundRight:{borderRadius:`logical ${g.V.default} 0 0 ${g.V.default}`},_roundRightTop:{borderRadius:`logical ${g.V.default} 0 0 0`},_roundRightBottom:{borderRadius:`logical 0 0 0 ${g.V.default}`}}),_=e=>{const{photoPreviews:t,onClick:s}=e,a=t.reduce(((e,t)=>(4===e.images[e.currentIdx].length&&(e.currentIdx++,e.images[e.currentIdx]=[]),e.images[e.currentIdx].push(t),e)),{images:[[]],currentIdx:0}).images,{isMobileDevice:n,isSearchBot:o}=(0,d.U)(),c=(0,i.useCallback)((e=>null==s?void 0:s(e.id)),[s]);return a.length?(0,r.jsx)(l.n,Object.assign({dataN:"wat-review-photo-carousel",slideWidth:304,slideHeight:152,hasStaticWidth:!n||1!==a.length,controlsSize:24,gap:2,withoutHeaderAndArrowsOverCarousel:!0},{children:null==a?void 0:a.map(((e,t)=>(0,r.jsx)(b,{isSearchBot:o,images:e,onClick:c},t)))})):null},C=({previews:e,galleryMedia:t,onComplain:s,trackBSSSource:d,bssShowItemFunction:l,bssActionItemFunction:u,object:p})=>{const[m,g,f]=(0,a.S)(t),{css:b,s:v}=(0,n.I)(I),y=i.useCallback((e=>{g(e)}),[g]),x=i.useCallback((e=>{s(e)}),[s]);return(0,r.jsx)(h.Provider,Object.assign({value:{bssShowItemFunction:l,bssActionItemFunction:u}},{children:(0,r.jsxs)("div",Object.assign({className:b(v.root)},{children:[(0,r.jsx)(_,{photoPreviews:e,onClick:y}),m&&(0,r.jsx)(o.J,{photos:t,activePhotoId:m,isLoadingForced:!0,onChange:g,total:t.length,onRemovePhoto:c.lQ,onComplainPhoto:x,onClose:f,isFullScreen:!0,trackBSSSource:d,object:p})]}))}))},I=(0,n.r)({root:{boxSizing:"border-box",overflow:"hidden",backgroundRepeat:"no-repeat",position:"relative"}})},99882:(e,t,s)=>{"use strict";s.d(t,{q:()=>a,u:()=>n});var r=s(31085),i=s(14041);const a=(0,i.createContext)(void 0),n=({children:e})=>{const[t,s]=(0,i.useState)(.5),[n,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)(!1),l={volume:t,isMuted:n,setVolume:s,setIsMuted:o,isPressedProgressBar:c,setIsPressedProgressBar:d};return(0,r.jsx)(a.Provider,Object.assign({value:l},{children:e}))}},56296:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(85608),i=s(14041),a=s(79594),n=s(99882);const o=({ref:e,urls:t,type:s="hls",playing:o=!0,volume:c=.5,muted:d=!0,controls:l=!1,loop:u=!1,playbackRate:p=1,width:m="100%",height:g="100%",selected:h,onReady:f,onError:b,isPreview:v})=>{var y,x;const j=(0,i.useContext)(n.q),[w,_]=(0,i.useState)(o),[C,I]=(0,i.useState)((null==j?void 0:j.volume)||c),[k,O]=(0,i.useState)(0),[S,T]=(0,i.useState)(!h||(null!==(y=null==j?void 0:j.isMuted)&&void 0!==y?y:d)),[E,M]=(0,i.useState)(u),[P,L]=(0,i.useState)(p),[N,A]=(0,i.useState)(void 0),R=(0,a.d4)((e=>e.session.platform)),z=null===(x=(({urls:e,type:t,hdrSupported:s})=>{let r=t;return"hls"===r&&s?r="hls_hdr":"dash"===r&&s&&(r="dash_hdr"),e.find((e=>(null==e?void 0:e.type)===r))||e[0]})({urls:t,type:s,hdrSupported:N,platform:R}))||void 0===x?void 0:x.url,U=(0,i.useCallback)((()=>_(!0)),[]),B=(0,i.useCallback)((()=>_(!1)),[]),H=(0,i.useCallback)((()=>_((e=>!e))),[]),F=(0,i.useCallback)((e=>{I(e),(null==j?void 0:j.setVolume)&&(null==j||j.setVolume(e),null==j||j.setIsMuted(!(e>0)))}),[j]),D=(0,i.useCallback)((()=>{T((e=>((null==j?void 0:j.setIsMuted)&&(null==j||j.setIsMuted(!e)),!e)))}),[j]),V=(0,i.useCallback)((e=>L(e)),[]),Z=(0,i.useCallback)((()=>M((e=>!e))),[]),$=(0,i.useCallback)((e=>{w&&O(e.played)}),[w]);(0,i.useEffect)((()=>{o!==w&&_(o)}),[o]),(0,i.useEffect)((()=>{(0,r.sH)(void 0,void 0,void 0,(function*(){const e=yield(e=>(0,r.sH)(void 0,void 0,void 0,(function*(){if(!("mediaCapabilities"in navigator))return!1;const t={type:"file",video:{contentType:"hls"===e?"application/vnd.apple.mpegurl":"application/dash+xml",width:3840,height:2160,bitrate:1e7,framerate:30,transferFunction:"pq"}};try{const e=yield window.navigator.mediaCapabilities.decodingInfo(t);return e.supported&&e.smooth&&e.powerEfficient}catch(e){return!1}})))(s.split("_")[0]);A(e)}))}),[s]);const q=!!v||!h||S&&(null==j?void 0:j.isMuted);return{isPlaying:w,played:k,currentVolume:C,isMuted:q,isLooping:E,rate:P,play:U,pause:B,togglePlayPause:H,setVolume:F,onProgress:$,toggleMute:D,setPlaybackRate:V,toggleLoop:Z,setPlayed:O,setIsMuted:T,onSeek:t=>{var s;null===(s=e.current)||void 0===s||s.seekTo(t),O(t)},playerProps:{url:z,playing:(v||!!h)&&w,volume:C,played:k,muted:q,controls:l,loop:E,playbackRate:P,width:m,height:g,onError:b,onReady:f,onProgress:$,playsinline:!0}}}},36224:(e,t,s)=>{"use strict";s.d(t,{B:()=>b});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(27942),c=s(80177),d=s(47054),l=s(21644),u=s(15635),p=s(81618),m=s(62279),g=s(36958);class h extends i.PureComponent{constructor(){super(...arguments),this.renderMcd=e=>{const{background:t}=this.props,s=(0,g.E)(e);return s?(0,r.jsx)(s,{background:t}):null}}render(){const{lineNumber:e,color:t,background:s,borderColor:i,s:n,regionCode:o,routeLogo:c}=this.props;if(!e)return(0,r.jsx)("span",Object.assign({className:(0,a.AH)(n.container,n.logo),style:{background:s,color:t,borderColor:i}},p.dx.n("wat-metro-line-icon"),{children:(0,r.jsx)(u.s,{size:16,regionCode:o})}));if((0,m.v)(c))return(0,r.jsx)("span",Object.assign({className:(0,a.AH)(n.container,n._mcd)},p.dx.n("wat-metro-line-icon"),p.dx.s("mcd"),{children:this.renderMcd(c)}));const d=e.length>1;return(0,r.jsx)("span",Object.assign({className:(0,a.AH)(n.container,n.logo,d&&n._longText),style:{background:s,color:t,borderColor:i}},p.dx.n("wat-metro-line-number"),p.dx.s(d?"long":"short"),{children:e}))}}h.displayName=(0,n.d)("src/shared/components/metroLineLogo");const f={container:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16},_mcd:{width:18},logo:Object.assign(Object.assign({},l.EK),{lineHeight:l.EK.fontSize,boxSizing:"border-box",borderRadius:"50%",border:"1px solid currentColor"}),_longText:Object.assign(Object.assign({},l.Qp),{lineHeight:l.Qp.fontSize})},b=(0,o.J)((({routeLogo:e,background:t,showLineNumber:s})=>{const r=function(e,t){return(0,d.C)(t)?(0,c.vL)(e):(0,c.JQ)(e)}(t,e);return Object.assign({lineNumber:s?(0,c.qI)(e):void 0},r)}))((0,a.Xy)(f)(h))},5449:(e,t,s)=>{"use strict";s.d(t,{B:()=>g});var r=s(31085),i=s(14041),a=s(99259),n=s(81618),o=s(64099),c=s(70498),d=s(84175),l=s(46501),u=s(79594),p=s(10742),m=s(27892);const g=(0,i.memo)((e=>{const{children:t,withCloseButton:s=!0,onClose:i,buttonTop:a=24,buttonEnd:o=24,dataN:c,innerRef:g}=e,{css:f,s:b}=(0,d.I)(h),v=(0,u.wA)(),y=(0,p.D)((()=>{i&&i(),v((0,m.fs)())}));return(0,r.jsxs)("div",Object.assign({ref:g,className:f(b.layout)},c?n.dx.n(c):"",{children:[t,s&&(0,r.jsx)("div",Object.assign({},n.dx.n("wat-popup-close"),{className:f(b.close,b[`_top${a}`],b[`_end${o}`]),onClick:y},{children:(0,r.jsx)(l.b,{})}))]}))}));g.displayName="MobilePopupLayout";const h=(0,d.r)({layout:{position:"fixed",bottom:0,start:0,display:"flex",flexDirection:"column",maxHeight:"90%",background:a.T.white,width:"100%",borderTopStartRadius:o.Vq.isolate,borderTopEndRadius:o.Vq.isolate,boxShadow:c.E.popup,overflow:"hidden"},close:{position:"absolute",width:24,height:24,top:24,end:24,cursor:"pointer",color:a.T.gray_cccccc},_top12:{top:12},_top24:{top:24},_end20:{end:20},_end24:{end:24}})},84593:(e,t,s)=>{"use strict";s.d(t,{L:()=>p,j:()=>g});var r=s(31085),i=s(99259),a=s(84175),n=s(69158),o=s(14041),c=s(81618),d=s(71064),l=s(3741),u=s(79594);const p=(0,o.memo)((({appearance:e="solid",children:t})=>{const{s:s,css:i}=(0,a.I)(m),n=(0,u.d4)((e=>!!e.appContext.isDataViewerMinimized));return(0,r.jsxs)("div",Object.assign({className:i(s.root)},{children:[!n&&(0,r.jsx)("div",Object.assign({className:i(s.cookieBanner)},{children:(0,r.jsx)(l.l,{})})),(0,r.jsx)("div",Object.assign({className:i(s.footer,"transparent"===e&&s._transparent)},c.dx.n("wat-nav-footer"),{children:t}))]}))}));p.displayName="NavFooter";const m=(0,a.r)({root:{position:"relative"},footer:{padding:12,display:"flex",overflowX:"auto",background:i.T.white,boxShadow:`0px -5px 10px ${(0,n.m)(i.T.black,.07)}`,position:"relative"},_transparent:{background:"none",boxShadow:"none"},cookieBanner:{position:"absolute",left:"50%",bottom:79,transform:"translateX(-50%)"}}),g=(0,o.memo)((({icon:e,children:t,onClick:s,type:i,disabled:n,external:o,grow:l,dataN:u="wat-nav-button",href:p,dataT:m,dataV:g,dataPs:f,containerRef:b})=>{const{s:v,css:y}=(0,a.I)(h),x=[v.button,"blue"===i&&v._blue,"blueWithShadow"===i&&v._blueWithShadow,"white"===i&&v._white,"whiteWithShadow"===i&&v._whiteWithShadow,"whiteWithBorder"===i&&v._whiteWithBorder,n&&v._disabled,l&&v._grow];return p?(0,r.jsx)(d.A,Object.assign({href:p},c.dx.n(u),{styles:v.linkWrapper,color:"inherit",external:o,containerRef:b,onClick:s},{children:(0,r.jsxs)("span",Object.assign({className:y(...x)},{children:[e&&(0,r.jsx)("div",Object.assign({className:y(v.icon)},{children:e})),t&&(0,r.jsx)("div",Object.assign({className:y(v.content)},{children:t}))]}))})):(0,r.jsxs)("button",Object.assign({},c.dx.n(u),c.dx.t(m),c.dx.v(g),{"data-ps":f,className:y(...x),ref:b,onClick:s},{children:[e&&(0,r.jsx)("div",Object.assign({className:y(v.icon)},{children:e})),t&&(0,r.jsx)("div",Object.assign({className:y(v.content)},{children:t}))]}))}));g.displayName="NavFooterButton";const h=(0,a.r)({button:{padding:"0 6px",background:i.T.gray_f2f2f2,borderRadius:8,marginEnd:8,display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:40,boxSizing:"border-box","&:last-child":{marginEnd:0}},linkWrapper:{marginEnd:8,"&:last-child":{marginEnd:0}},content:{padding:"0 6px","&:empty":{display:"none"}},_grow:{flexGrow:1,flexShrink:0},_white:{background:i.T.white},_whiteWithShadow:{background:i.T.white,boxShadow:`0px 3px 10px ${(0,n.m)(i.T.gray_262626,.15)}`},_whiteWithBorder:{background:i.T.white,border:`1px solid ${i.T.gray_e6e6e6}`},_blue:{background:i.T.blue_028eff,color:i.T.white},_blueWithShadow:{background:i.T.blue_028eff,color:i.T.white,boxShadow:`0px 3px 10px ${(0,n.m)(i.T.gray_262626,.15)}`},_disabled:{opacity:.8},icon:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}}})},65811:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var r=s(31085),i=s(10048),a=s(58471),n=s(40837);const o=e=>(0,r.jsx)(i.w,{loader:a.b.photoViewer,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:n.N})},62685:(e,t,s)=>{"use strict";s.d(t,{T:()=>o});var r=s(31085),i=s(46579),a=(s(14041),s(5449)),n=s(1999);const o=({children:e,desktopWidth:t,onClose:s,dataN:o,withCloseButton:c})=>{const{isMobileDevice:d}=(0,i.U)();return d?(0,r.jsx)(a.B,Object.assign({dataN:o,onClose:s,withCloseButton:c},{children:e})):(0,r.jsx)(n.j,{dataN:o,body:e,withCloseButton:c,onClose:s,desktopWidth:t})};o.displayName="PopupAdaptiveLayout"},1999:(e,t,s)=>{"use strict";s.d(t,{j:()=>m});var r=s(31085),i=s(14041),a=s(99259),n=s(81618),o=s(64099),c=s(70498),d=s(84175),l=s(46501),u=s(12043),p=s(46579);const m=(0,i.memo)((e=>{const{header:t,body:s,footer:i,withCloseButton:a,onClose:o,dataN:c="",dataT:m="",desktopWidth:h,backgroundColor:f,darkMode:b=!1,darkCloseBackground:v=b,bodyFooter:y,innerRef:x,styles:j,competitionFriendsMode:w}=e,{css:_,s:C}=(0,d.I)(g),{isMobileDevice:I}=(0,p.U)(),k=Object.assign(Object.assign({},I||void 0===h?{}:{width:h}),f?{background:f}:{});return(0,r.jsxs)("div",Object.assign({ref:x,className:_(C.layout,b&&C.darkMode,j)},n.dx.n(c),n.dx.t(m),{style:k},{children:[t&&(0,r.jsx)("div",Object.assign({className:_(C.item)},{children:t})),(0,r.jsx)("div",Object.assign({className:_(C.body)},n.dx.n("wat-layout-body"),{children:s})),y&&y,i&&(0,r.jsx)("div",Object.assign({className:_(C.item)},{children:i})),o&&(0,r.jsx)(u.j,{children:(0,r.jsx)("div",Object.assign({},n.dx.n("wat-popup-close"),{className:_(C.close,b&&v&&C.darkMode,w&&C.competitionFriendsMode),onClick:o},{children:(0,r.jsx)(l.b,{})}))}),o&&a&&(0,r.jsx)(u.h,{children:(0,r.jsx)("div",Object.assign({},n.dx.n("wat-popup-close"),{className:_(C.close,b&&C.darkMode),onClick:o},{children:(0,r.jsx)(l.b,{})}))})]}))}));m.displayName="PopupLayout";const g=(0,d.r)((e=>({layout:{position:e.mobile?"fixed":"relative",top:0,start:0,display:"flex",flexDirection:"column",maxHeight:e.mobile?"100%":"90vh",height:e.mobile?"100%":"initial",background:a.T.white,width:e.mobile?"100%":o.Ej.popupFrameWidth,borderRadius:e.mobile?"initial":o.Vq.isolate,boxShadow:c.E.popup,overflow:"hidden"},item:{flexShrink:0},body:Object.assign({position:"relative",display:"flex",flexDirection:"column",flex:"1 1 auto",overflowY:"auto",overflowX:"hidden"},o.W2),close:{position:"absolute",width:24,height:24,top:8,end:8,cursor:"pointer"},competitionFriendsMode:{top:24,end:24},darkMode:{backgroundColor:a.T.gray_141414,color:a.T.white}})))},80677:(e,t,s)=>{"use strict";s.d(t,{t:()=>b});var r=s(31085),i=s(14041),a=s(80552),n=s(71064),o=s(81618),c=s(99259),d=s(46579),l=s(84175),u=s(82781),p=s(79594),m=s(82393);const g={3:'ООО "МикроСис"',4:'ООО "Городские Информационные Системы"',5:'ООО "ДубльГИС-Кемерово"',6:'ООО "ДубльГИС-Новокузнецк"',8:'ООО "2ГИС.ЮГ"',10:'ООО "2ГИС-Рязань"',11:'ООО "ДубльГИС-Иркутск"',12:'ООО "ДубльГИС-Иркутск"',13:'ООО "ДубльГИС-Тюмень"',20:'ООО "Городские Информационные Системы"',23:'ООО "2ГИС.ЮГ"',24:'ООО "2ГИС.Р"',25:'ООО "ДубльГИС-Владивосток"',26:'ООО "ДубльГИС-Магнитогорск"',27:'ООО "Городские Информационные Системы"',28:'ООО "2ГИС.ЦФО"',29:'ООО "2ГИС-Закамье"',30:'ООО "2ГИС.ЮГ"',31:'ООО "ДубльГИС Воронеж"',33:'ООО "2ГИС-Саратов"',34:'ООО "ДубльГИС-Кострома"',35:'ООО "2ГИС-ХАБАРОВСК"',36:'ООО "2ГИС-Калининград"',37:'ООО "2ГИС-Улан-Удэ"',39:'ООО "ДубльГИС-Сургут"',40:'ООО "2ГИС-Калининград"',41:'ООО "ДубльГИС Поволжье"',42:'ООО "2ГИС.Пенза"',43:'ООО "2ГИС-Саратов"',44:'ООО "2ГИС-Рязань"',45:'ООО "2ГИС-Нижний Тагил"',46:'ООО "2ГИС.С"',47:'ООО "2ГИС.ЦФО.Т"',48:'ООО "ДубльГИС-Оренбург"',49:'ООО "ДубльГИС-Архангельск"',50:'ООО "2ГИС РЕГИОН"',51:'ООО "2ГИС-Байкал"',52:'ООО "ДубльГИС-Благовещенск"',53:'ООО "2ГИС-Улан-Удэ"',54:'ООО "2ГИС.С"',55:'ООО "ДубльГИС-Ульяновск"',56:'ООО "2ГИС.ЛИПЕЦК"',57:'ООО "ДубльГИС-Ставрополь"',58:'ООО "ДубльГИС Поволжье"',59:'ООО "2ГИС.ЦФО.Т"',61:'ООО "ДубльГИС-Калуга"',62:'ООО "2ГИС.ЦФО"',63:'ООО "2ГИС СИСТЕМА"',64:'ООО "2ГИС-Байкал"',65:'ООО "2ГИС-Калининград"',67:'ТОО "2ГИС-Справочник Двух Столиц"',68:'ТОО "2GIS-Astana (2ГИС-Астана)"',69:'ООО "ДубльГИС-Абакан"',71:'ООО "2ГИС-ОРЕЛ"',72:'ООО "ДубльГИС-Ульяновск"',73:'ООО "ДубльГИС-Миасс"',74:'ООО "2ГИС-Новороссийск"',76:'ООО "2ГИС СЕВЕР"',77:'ООО "ДубльГИС-Новгород"',78:'ООО "2ГИС Вологда"',80:'ООО "ДубльГИС-Петрозаводск"',81:'ООО "2ГИС-Тамбов"',82:'ООО "ДубльГИС-Владивосток"',83:'ООО "ДубльГИС-Владивосток"',84:'ТОО "2ГИС-Справочник Караганды"',85:'ООО "2ГИС-САРАНСК"',86:'ООО "ДубльГИС-Кемерово"',87:'ООО "ДубльГИС-Миасс"',88:'ООО "2ГИС РЕГИОН"',89:'ООО "ДубльГИС-КМВ"',90:'ООО "ДубльГИС-Псков"',91:'ТОО "2ГИС-ОСКЕМЕН"',94:'ООО "ДубльГИС Комсомольск-на-Амуре"',95:'ООО "2ГИС-Камчатка"',96:'ООО "2ГИС СЕВЕР"',97:'ООО "ДубльГИС-Тюмень"',103:'ООО "2ГИС-Ноябрьск"',106:'ООО "2ГИС.ЮГ"',108:'ООО "2ГИС-Закамье"',109:'ООО "ДУБЛЬГИС-КАМЕНСК-УРАЛЬСКИЙ"',111:'ТОО "2ГИС-ПАВЛОДАР"',112:'ООО "ДваГИС-Бишкек"',113:'ООО "2ГИС-Дагестан"',115:'ООО "2ГИС.Грозный"',116:'ООО "2ГИС.ЮГ"',124:'ООО "ДубльГИС-Ульяновск"',131:'ООО "2ГИС.ЮГ"',139:'ООО "2ГИС-Ноябрьск"',150:'ООО "ДубльГИС-Ульяновск"',161:'ТОО "2ГИС-Шымкент"',162:'ТОО "2GIS Запад"',167:'ТОО "2GIS Aktobe"',168:'ТОО "2GIS-Atyrau"',170:'ТОО "2GIS-SEVER.KZ"',171:'ООО "ДваГИС-Бишкек"',196:'ТОО "2GIS-Mangystau"',201:'ТОО "2GIS-SEVER.KZ"',203:'ТОО "2GIS-Qostanai (2ГИС Костанай)"',204:'ООО "ДубльГИС-Ульяновск"',206:'ООО "ДубльГИС-Новокузнецк"',207:'ООО "2ГИС-Ноябрьск"',208:'СП OOO "2 GIS"',209:'ООО "ДваГИС-Бишкек"'};var h=s(82664),f=s(80848);const b=i.memo((({buttonName:e,type:t})=>{const{lang:s,privacyUrl:a,licenseAgr:c,defaultCountryCode:b,brandCode:j}=(0,d.U)(),{s:w,css:_}=(0,l.I)(v),C=(0,p.d4)(m.MJ),I=(0,u.c)(),k=e||I._t("Отправить"),O=i.useMemo((()=>"default_partner"===t&&C?(e=>e in g?"2ГИС":void 0)(C):void 0),[C,t]),S=O&&y[b]||a,T=O&&x[b]||c,E=(()=>{if("ru"!==s&&"az"!==s)return;const e={agree:e=>(0,r.jsx)(n.A,Object.assign({href:T,external:!0},{children:e})),privacy:e=>(0,r.jsx)(n.A,Object.assign({href:S,external:!0},{children:e})),privacyAdditionalRu:e=>(0,r.jsx)(n.A,Object.assign({href:"https://law.2gis.ru/personal-data-dublgis",external:!0},{children:e}))};if("ru"===s&&"RU"===b)return"default_partner"===t&&O?(0,r.jsx)(f.w,{template:I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[k]),render:e}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.w,{template:I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[k]),render:e}),(0,r.jsx)("br",{}),(0,r.jsx)(f.w,{template:I._gg("$privacyAdditionalRu[Политика обработки персональных данных]."),render:e})]});if("default"===t||"default_partner"===t&&!O){const t="az"===s?I._gg('Siz "%1" düyməsini sıxmaqla, $agree[Lisenziya müqaviləsinin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[k,(0,h.o)("AZ","az",j)]):I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности].",[k,(0,h.o)("RU","ru",j)]);return(0,r.jsx)(f.w,{template:t,render:e})}if("default_partner"===t&&O){const t="az"===s?I._gg('Siz "%1" düyməsini sıxmaqla, $agree[Sazişin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[k,O]):I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности]",[k,O]);return(0,r.jsx)(f.w,{template:t,render:e})}})();if(E)return(0,r.jsx)("div",Object.assign({className:_(w.legal)},o.dx.n("wat-privacy-policy"),{children:E}));const M="order"===t?I._t("Я даю 2ГИС согласие на обработку и передачу третьим лицам своих персональных данных и согласен с «[Политикой конфиденциальности]»"):I._t("Нажимая кнопку «Отправить», я даю %1 согласие на обработку персональных данных на условиях и в целях, определённых «[Политикой конфиденциальности]»",[(0,h.o)(b,s,j)]);return(0,r.jsx)("div",Object.assign({className:_(w.legal)},o.dx.n("wat-privacy-policy"),{children:(0,r.jsx)(n.A,Object.assign({templated:!0,href:a,external:!0},{children:M}))}))}));b.displayName="PrivacyPolicy";const v=(0,l.r)({legal:Object.assign(Object.assign({},a.EX),{color:c.T.gray_929292})}),y={RU:"https://law.2gis.ru/privacy-partner",KZ:"https://law.2gis.kz/privacy-partner",AZ:"https://law.2gis.az/privacy-partner",KG:"https://law.2gis.kg/privacy-partner",UZ:"https://law.2gis.uz/privacy-partner",BY:"https://law.2gis.by/privacy-partner",AM:"https://law.2gis.am/privacy-partner",GE:"https://law.2gis.ge/privacy-partner"},x={RU:"https://law.2gis.ru/partner-agreement",KZ:"https://law.2gis.kz/partner-agreement",AZ:"https://law.2gis.az/partner-agreement",KG:"https://law.2gis.kg/partner-agreement",UZ:"https://law.2gis.uz/partner-agreement",BY:"https://law.2gis.by/partner-agreement",GE:"https://law.2gis.ge/partner-agreement"}},53663:(e,t,s)=>{},78579:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(31085);s(14041),s(15471),s(53663);const i=e=>(0,r.jsx)(r.Fragment,{children:e.children})},68260:(e,t,s)=>{"use strict";s.d(t,{a:()=>Ve});var r=s(31085),i=s(14041),a=s(99259),n=s(80552),o=s(70498),c=s(81618),d=s(84175),l=s(82781),u=s(11540),p=s(10742),m=s(41411),g=s(53157);const h=(e,{dateFns:t,tp:s})=>{var r,i;const{comment:a,upperCutTextLength:n,showFullOfficialAnswer:o,commentsCount:c,reviewUserId:d,userId:l,ownerComponent:u}=e,p="card"!==u,h=(0,g.M8)(a.text),f=n/3,b=o?h:(0,g.IC)(h,3,f),v=a.is_official_answer,y=l===d,x=!!a.user,j=!(!y&&1===c)&&p&&c>0,w=v&&d===l&&"card"!==u&&"myReviews"!==u;return{name:(null===(r=a.org)||void 0===r?void 0:r.name)||(null===(i=a.user)||void 0===i?void 0:i.name),date:a.date_created?(0,m.l)({isoDate:a.date_created,currentDate:new Date},{tp:s,dateFns:t})||"":void 0,text:b,isOfficialAnswer:v,isAllCommentsLinkDisplayed:j,showRemove:y&&!v&&x,highlightAnswer:w}};var f=s(64099),b=s(71064),v=s(18971),y=s(76504),x=s(53615),j=s(23098),w=s(4),_=s(46579);const C=i.memo((e=>{var t,s,i,n;const{isAdvertiser:o,isSearchBot:c,comment:l,orgAvatar:u}=e,{lang:p}=(0,_.U)(),{s:m,css:g}=(0,d.I)(I),h=(null===(t=l.user)||void 0===t?void 0:t.photo_preview_urls)&&(null===(s=l.user)||void 0===s?void 0:s.photo_preview_urls["64x64"]),f=(null===(i=l.org)||void 0===i?void 0:i.logo_preview_urls)&&(null===(n=l.org)||void 0===n?void 0:n.logo_preview_urls["64x64"])||u;if(l.org){if(f)return(0,r.jsx)("div",Object.assign({className:g(m.avatar)},{children:(0,r.jsx)(y.O,{src:f,isLoadingForced:c,alt:"ru"===p?"Аватар":void 0})}));if(o)return(0,r.jsx)("div",Object.assign({className:g(m.avatar,m._crownAnswer)},{children:(0,r.jsx)(x.O,{color:a.T.yellow_ffb81c})}));const e=l.org.name||l.org_name;if(e)return(0,r.jsx)("div",Object.assign({className:g(m.avatar)},{children:(0,r.jsx)(w.U,{backgroundSeed:e,userName:e})}))}return l.user?(0,r.jsx)("div",Object.assign({className:g(m.avatar)},{children:(0,r.jsx)(j.e,{src:h,initials:()=>(0,r.jsx)(w.U,{backgroundSeed:l.user.id,userName:l.user.name}),isLoadingForced:c})})):(0,r.jsx)("div",{className:g(m.avatar)})})),I=(0,d.r)({avatar:{width:24,height:24,borderRadius:"50%",background:"center no-repeat",backgroundSize:"cover",display:"inline-block",verticalAlign:"top",marginEnd:8,overflow:"hidden"},_crownAnswer:{display:"inline-flex",justifyContent:"center",alignItems:"center",background:a.T.white}}),k=i.memo((e=>{const{withDivider:t=!1,comment:s,upperCutTextLength:n,showFullOfficialAnswer:o,commentsCount:m,reviewUserId:g,isAdvertiser:f,isSearchBot:y,userId:x,ownerComponent:j,needToScrollToLastComment:w,orgAvatar:_}=e,I=(0,l.c)(),{css:k,s:S}=(0,d.I)(O),T=i.useRef(null),{text:E,name:M,date:P,isOfficialAnswer:L,highlightAnswer:N,isAllCommentsLinkDisplayed:A,showRemove:R}=(0,u.kc)(h,{comment:s,upperCutTextLength:n,showFullOfficialAnswer:o,commentsCount:m,reviewUserId:g,userId:x,ownerComponent:j});i.useEffect((()=>{T&&w&&setTimeout((()=>{var e;if(null===(e=T.current)||void 0===e?void 0:e.scrollIntoView)try{T.current.scrollIntoView({block:"center"})}catch(e){T.current.scrollIntoView()}}),300)}),[]);const z=(0,p.D)((t=>{const{onShowAllCommentsClick:s}=e;t.stopPropagation(),s&&s()})),U=(0,p.D)((()=>{const{onRemoveCommentClick:t,comment:s}=e;t&&t(s.id)})),B=i.useMemo((()=>{if(R)return(0,r.jsx)("div",Object.assign({className:k(S.actions,!L&&S._withBorder)},{children:(0,r.jsx)("div",Object.assign({onClick:U,className:k(S.delete)},c.dx.n("wat-review-trash"),{children:(0,r.jsx)(v.l,{color:a.T.gray_929292})}))}))}),[U,L,R,k,S.actions,S._withBorder,S.delete]);return(0,r.jsxs)("div",Object.assign({className:k(S.root,L&&S._official,N&&S._officialHighlighted)},c.dx.n("wat-review-comment-block"),{ref:T},{children:[(0,r.jsx)(C,{comment:s,orgAvatar:_,isSearchBot:y,isAdvertiser:f,highlightAnswer:N}),(0,r.jsxs)("div",Object.assign({className:k(S.title)},{children:[(0,r.jsx)("span",Object.assign({className:k(S.name),title:M},c.dx.n("wat-review-company-name"),{children:M})),P&&(0,r.jsx)("div",Object.assign({className:k(S.date)},c.dx.n("wat-official-answer-date"),{children:L?I._t("%1, официальный ответ",[P]):P}))]})),(0,r.jsx)("div",Object.assign({className:k(S.text,!R&&!L&&t&&S._withBorderAndOffset)},c.dx.n("wat-review-comment-text"),{children:E})),B,A&&(0,r.jsx)("div",Object.assign({className:k(S.link)},c.dx.n("wat-review-all-comments"),{children:(0,r.jsx)(b.N,Object.assign({onClick:z},{children:I._t("Все комментарии")}))}))]}))})),O=(0,d.r)({root:{padding:"8px 16px"},actions:{textAlign:"end",marginStart:32},link:{marginStart:32,marginTop:8},name:{maxWidth:272,textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap"},title:Object.assign({display:"inline-block"},n._w),date:Object.assign(Object.assign({},n.EX),{color:a.T.gray_929292,marginBottom:12}),text:Object.assign(Object.assign({},n.Hg),{marginStart:32,overflow:"hidden",whiteSpace:"pre-line",wordBreak:"break-word",wordWrap:"break-word"}),delete:{display:"inline-block",cursor:"pointer",marginEnd:-4},_official:{borderRadius:f.Vq.default,backgroundColor:a.T.gray_f2f2f2,padding:"12px 16px"},_officialHighlighted:{backgroundColor:a.T.white},_withBorder:{boxShadow:o.E.innerBorderBottomBase},_withBorderAndOffset:{paddingBottom:8,boxShadow:o.E.innerBorderBottomBase}});var S=s(88756);const T=(e,t)=>{if(e.date_edited){const s=(0,m.l)({isoDate:e.date_edited,currentDate:new Date},t);if(s)return t.tp._t("%1, отредактирован",[s])}return(0,m.l)({isoDate:e.date_created,currentDate:new Date},t)},E=(e,t)=>{const{review:s,showObjectInsteadUser:r}=e,i=((e,t)=>{if(t){if(!e.object.logo_urls)return;return e.object.logo_urls["64x64"]}return e.user.photo_preview_urls["64x64"]})(s,r);return{title:r?s.object.name:s.user.name,userName:s.user.name,userId:s.user.id,userReviewCount:s.user.reviews_count,userPublicProfileId:s.user.public_id,avatar:i,date:T(s,t)||"",showRating:s.is_rated,rating:s.rating}};var M=s(89446),P=s(12043);const L=i.forwardRef(((e,t)=>{const{onObjectClick:s,isSearchBot:i,showObjectInsteadUser:n,showReviewsTotal:o,isPinned:p,review:m,isContactTab:g}=e,{avatar:h,userReviewCount:f,userName:b,userId:v,showRating:y,date:x,title:_,rating:C}=(0,u.kc)(E,e),I=(0,l.c)(),{css:k,s:O}=(0,d.I)(N),T=()=>p?O._narrowTitle:C&&g?O._mediumTitleTabContacts:C?O._mediumTitle:void 0;return(0,r.jsxs)("div",Object.assign({ref:t,className:k(O.root)},{children:[(0,r.jsxs)("div",Object.assign({className:k(O.user,s&&n&&O._clickable),onClick:()=>{s&&s()}},{children:[(0,r.jsx)("div",Object.assign({className:k(O.avatar)},c.dx.n("wat-review-avatar"),{children:(0,r.jsx)(j.e,{src:h,initials:()=>(0,r.jsx)(w.U,{backgroundSeed:n?m.object.id:v,userName:n&&m.object.name?m.object.name.toUpperCase():b}),isLoadingForced:i})})),(0,r.jsxs)("div",Object.assign({className:k(O.title,T())},{children:[(0,r.jsx)(P.j,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)("span",Object.assign({className:k(O.name,T()),title:_},c.dx.n("wat-user-name"),{children:_})),o&&(0,r.jsx)("span",Object.assign({className:k(O.reviewCount)},c.dx.n("wat-review-count"),{children:I._nt(["%% отзыв","%% отзыва","%% отзывов"],f)}))]})}),(0,r.jsx)(P.h,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",Object.assign({className:k(O.name,T()),title:_},c.dx.n("wat-user-name"),{children:_})),o&&(0,r.jsx)("span",Object.assign({className:k(O.reviewCount)},c.dx.n("wat-review-count"),{children:I._nt(["%% отзыв","%% отзыва","%% отзывов"],f)}))]})}),!!x&&(0,r.jsx)("div",Object.assign({className:k(O.dateAndPlace)},c.dx.n("wat-review-date"),{children:x}))]}))]})),(0,r.jsxs)("div",Object.assign({className:k(O.description)},{children:[y&&C&&(0,r.jsx)(M.G,{rating:C,color:a.T.yellow_ffb81c,size:"small",inactiveColor:a.T.gray_929292}),p&&(0,r.jsx)("div",Object.assign({className:k(O.pinned)},c.dx.n("wat-pinned-review"),{children:I._t("Выбран компанией")}))]}))]}))})),N=(0,d.r)((({mobile:e})=>({root:{marginBottom:"12px",padding:e?0:"0 16px",display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"nowrap"},avatar:{width:"24px",height:"24px",borderRadius:"50%",marginEnd:"8px",overflow:"hidden",display:"inline-block",verticalAlign:"top"},pin:{borderRadius:f.Vq.oval,background:a.T.gray_e6e6e6,color:a.T.white,display:"flex"},name:{textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",maxWidth:264},title:Object.assign({display:"inline-block",whiteSpace:"normal",cursor:"pointer",maxWidth:264},n._w),description:{display:"flex",flexDirection:"column",alignItems:"flex-end"},pinned:Object.assign(Object.assign({},n.EX),{whiteSpace:"nowrap",color:a.T.green_299400}),reviewCount:Object.assign(Object.assign({},n.Hg),{display:e?"block":"inline",color:a.T.gray_929292}),dateAndPlace:Object.assign(Object.assign({},n.EX),{color:a.T.gray_929292}),user:{whiteSpace:"nowrap"},_narrowTitle:{maxWidth:164},_mediumTitle:{maxWidth:216},_mediumTitleTabContacts:{maxWidth:170},_clickable:{cursor:"pointer"}})));var A=s(27942),R=s(26064),z=s(68076),U=s(7515),B=s(76217),H=s(35023),F=s(54405),D=s(77110),V=s(52821);const Z=(0,i.memo)((({onClick:e,reviewId:t})=>{const{css:s,s:i}=(0,d.I)($),{_t:n}=(0,l.c)(),o=(0,p.D)((()=>e(t)));return(0,r.jsxs)("div",Object.assign({onClick:o,className:s(i.edit)},c.dx.n("wat-review-edit"),{children:[(0,r.jsx)(V.f,{color:a.T.gray_929292}),(0,r.jsx)("div",Object.assign({className:s(i.label)},{children:n("Изменить")}))]}))})),$=(0,d.r)({edit:{marginTop:0,marginBottom:0,marginStart:16,marginEnd:4,display:"flex",height:24,alignItems:"center",cursor:"pointer"},label:Object.assign(Object.assign({},n.EX),{color:a.T.gray_929292})});var q=s(30352);const W=i.memo((e=>{const{isLiked:t,isDisabled:s,counterText:i,onClick:a}=e,{css:n,s:o}=(0,d.I)(G);return(0,r.jsxs)("button",Object.assign({className:n(o.likes,t&&o._likeActive),disabled:s,onClick:a},{children:[(0,r.jsx)(q.O,{}),(0,r.jsx)("span",Object.assign({className:n(o.likesCount)},{children:i}))]}))}));W.displayName="PointUp";const G=(0,d.r)({likes:{display:"inline-flex",alignItems:"center",color:a.T.gray_929292,"&:hover:not([disabled])":{color:a.T.gray_262626}},_likeActive:{":not([disabled])":{color:a.T.green_30ad00},":hover:not([disabled])":{color:a.T.green_227a00}},likesCount:Object.assign({},n.EX)});var Q=s(68887);const K=i.memo((e=>{const{isLiked:t,isDisabled:s,counterText:i,onClick:a}=e,{css:n,s:o}=(0,d.I)(Y),{_t:u}=(0,l.c)();return(0,r.jsxs)("button",Object.assign({className:n(o.likes,t&&o._likeActive)},c.dx.n("wat-helpful-review"),c.dx.s(t?"wat-liked":"wat-unliked"),{disabled:s,onClick:a},{children:[(0,r.jsx)("div",Object.assign({className:n(o.likeWrapper)},{children:(0,r.jsx)(q.O,{})})),(0,r.jsx)("div",Object.assign({className:n(o.helpfullText)},{children:u("Полезно")})),(0,r.jsx)("div",Object.assign({className:n(o.likesCount)},{children:i}))]}))}));K.displayName="Helpfull";const Y=(0,d.r)({likes:{display:"inline-flex",alignItems:"center",color:a.T.gray_929292,height:24,borderRadius:Q.V.default,border:`1px solid ${a.T.gray_e6e6e6}`,paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8,boxSizing:"border-box","&:hover:not([disabled])":{color:a.T.gray_262626,border:`1px solid ${a.T.gray_929292}`}},_likeActive:{":not([disabled])":{color:a.T.green_30ad00},":hover:not([disabled])":{color:a.T.green_227a00,border:`1px solid ${a.T.gray_929292}`}},likesCount:Object.assign(Object.assign({},n.EX),{color:a.T.gray_929292,display:"inline-flex",alignItems:"center",height:24,"::before":{color:a.T.gray_e6e6e6,content:'"•"',display:"inline-flex",alignItems:"center",height:24,margin:"0 4px"}}),likeWrapper:{height:24},helpfullText:Object.assign(Object.assign({},n.EX),{color:a.T.gray_262626,height:24,marginStart:4,display:"inline-flex",alignItems:"center"})}),X=e=>{const{review:t,userId:s}=e;return{isOwner:s===t.user.id,isLiked:!!t.additional_data.is_liked,counterText:(0,B.r)(t.likes_count)}},J=i.memo((e=>{const{onLikeClick:t,review:s,isDisabled:i}=e,{isOwner:a,counterText:n,isLiked:o}=(0,u.kc)(X,e),c=(0,p.D)((e=>{e.stopPropagation(),t(s.id)}));return a?(0,r.jsx)(W,{isLiked:o,onClick:c,counterText:n,isDisabled:!0}):(0,r.jsx)(K,{isLiked:o,onClick:c,counterText:n,isDisabled:i})}));J.displayName="ReviewLike";var ee=s(88114);class te extends i.PureComponent{constructor(){super(...arguments),this.renderReadMore=()=>{const{showReadWholeButton:e,i18n:{tp:t},s:s}=this.props;return e?(0,r.jsx)("span",Object.assign({className:(0,R.AH)(s.expand),onClick:this.onReadMoreClick},{children:t._t("Читать целиком")})):null},this.onComplainClick=()=>{const{onComplainClick:e,reviewId:t}=this.props;e(t)},this.onRemoveClick=()=>{const{onRemoveClick:e,reviewId:t}=this.props;e&&e(t)},this.onEditClick=e=>{const{onEditClick:t}=this.props;t&&t(e)},this.onReadMoreClick=()=>{const{onReadMoreClick:e,reviewId:t}=this.props;e(t)}}render(){const{s:e,showEdit:t,reviewId:s,review:i,isLikeDisabled:a,onLikeClick:n,userId:o}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,R.AH)(e.root)},{children:[this.renderReadMore(),(0,r.jsxs)("div",Object.assign({className:(0,R.AH)(e.actions)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,R.AH)(e.actionsPart)},{children:[(0,r.jsx)(J,{isDisabled:a,onLikeClick:n,userId:o,review:i}),this.renderViews()]})),(0,r.jsxs)("div",Object.assign({className:(0,R.AH)(e.actionsPart)},{children:[this.renderSource(),t&&(0,r.jsx)(Z,{reviewId:s,onClick:this.onEditClick}),this.renderDelete(),this.renderComplain()]}))]}))]}))}renderViews(){const{viewsCount:e,s:t}=this.props;return(0,H.O9)(e)?(0,r.jsxs)("div",Object.assign({className:(0,R.AH)(t.views)},{children:[(0,r.jsx)(D.S,{}),(0,r.jsx)("span",Object.assign({className:(0,R.AH)(t.viewsCount)},{children:e}))]})):null}renderDelete(){const{showRemove:e,s:t,i18n:s}=this.props;if(e)return(0,r.jsxs)("div",Object.assign({onClick:this.onRemoveClick,className:(0,R.AH)(t.delete)},c.dx.n("wat-review-trash"),{children:[(0,r.jsx)(v.l,{color:a.T.gray_929292}),(0,r.jsx)("div",Object.assign({className:(0,R.AH)(t.actionLabel)},{children:s.tp._t("Удалить")}))]}))}renderComplain(){const{s:e}=this.props;return(0,r.jsx)("div",Object.assign({onClick:this.onComplainClick,className:(0,R.AH)(e.complain)},c.dx.n("wat-review-complain"),{children:(0,r.jsx)(F.N,{color:a.T.gray_929292})}))}renderSource(){const{showProvider:e,providerUrl:t,s:s}=this.props;if(e)return(0,r.jsx)("div",Object.assign({className:(0,R.AH)(s.source)},{children:(0,r.jsx)(b.N,Object.assign({external:!0,href:t},{children:this.renderSourceIcon()}))}))}renderSourceIcon(){const{provider:e,providerImg:t}=this.props;if(t)return(0,r.jsx)(ee.E,{src:t,width:20,height:20,isLoadingForced:!1,alt:e})}}const se={root:{paddingTop:8,paddingBottom:4,paddingStart:16,paddingEnd:16,boxSizing:"border-box"},expand:{color:a.T.blue_0072ce,cursor:"pointer",display:"block",paddingBottom:8},views:{margin:"0 4px",display:"inline-flex",alignItems:"center",color:a.T.gray_929292},viewsCount:Object.assign({},n.EX),source:{margin:"0 4px",display:"inline-flex",alignItems:"center"},delete:{marginTop:0,marginBottom:0,marginStart:16,marginEnd:4,display:"flex",height:24,alignItems:"center",cursor:"pointer"},complain:{display:"inline-flex",marginEnd:-8,marginStart:4,cursor:"pointer",width:18,position:"relative",top:1},actions:{display:"flex",width:"100%",justifyContent:"space-between"},actionLabel:Object.assign(Object.assign({},n.EX),{color:a.T.gray_929292}),actionsPart:{display:"inline-flex"}},re=(0,z.Xy)(se)((0,U.Q)()(te)),ie=(0,A.J)((e=>{var t;const{review:s,userId:r,onEditClick:i,onRemoveClick:a}=e,n=s.provider,o=(c=null===(t=s.provider_data)||void 0===t?void 0:t.icon_url)?c.replace(/{width}|{height}/g,"40"):void 0;var c;const d=s.url,l="2gis"!==n,u=r===s.user.id,p=(0,H.O9)(s.views_count)?(0,B.r)(s.views_count):void 0,m=s.likes_count;return{showEdit:u&&!!i,showRemove:u&&!!a,showProvider:l,provider:n,providerImg:o,providerUrl:d,isLiked:!!s.additional_data.is_liked,likesCount:m,viewsCount:p,reviewId:s.id}}))(re);var ae=s(24797);function ne(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 13 13"},{children:(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsx)("path",{fill:"#FFB81C",d:"M6.5 0a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z"}),(0,r.jsx)("path",{fillRule:"nonzero",fill:"#FFF",d:"M8.5 3h-4a.5.5 0 0 0-.5.5v1.018l.007.081c.013.08.045.156.094.22l1.273 1.682L4.1 8.2a.5.5 0 0 0-.1.3v1a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-1l-.006-.08A.497.497 0 0 0 8.9 8.2L7.625 6.501 8.899 4.82A.505.505 0 0 0 9 4.518V3.5a.5.5 0 0 0-.5-.5zM8 4v.349l-1.399 1.85-.05.08A.5.5 0 0 0 6.6 6.8L8 8.667V9H5v-.333L6.4 6.8l.05-.08a.506.506 0 0 0-.051-.522L5 4.351V4h3z"})]}))}))}var oe=s(74641);function ce(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 13 13"},{children:(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsx)("path",{fill:"#97C9DB",d:"M6.5 0a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z"}),(0,r.jsx)("path",{fill:"#FFF",d:"M7 8v2H6V8h1zm0-5v4H6V3h1z"})]}))}))}var de=s(8365),le=s(79594),ue=s(1364),pe=s(64433),me=s(11989),ge=s(95280),he=s(7335);const fe=e=>{const{reviewId:t}=e;return(0,he.eU)((e=>(0,ue.X0)(e,t)),(e=>(0,ge.P)(e)&&(0,me.Bs)({id:t})))};function be(e,t){switch(e){case"blocked":return t._t("Заблокирован модератором");case"unrated":return t._t("На проверке");case"unrated_manual":return t._t("Не влияет на рейтинг");case"object_deleted":return t._t("Филиал закрылся");default:return}}var ve=s(34438),ye=s(50432),xe=s(80905),je=s(46287),we=s(98379);const _e={card:"currentReviewFrame",entity:"cardReviewsList",unconfirmed:"unconfirmedReviewsList",myReviews:"profileReviewsList"},Ce=e=>({frameId:t},s)=>{const{review:r,position:i,ownerComponent:a,isOwner:n,expanded:o,showReadWholeButton:c}=e,d=(0,xe.w1)(s.appContext.frames,t);if("realty"===a)return;const l=function(e,t,s){const r=(0,xe.w1)(s.appContext.frames,e);if(!r)return;const i="entity"===r.type||"unconfirmedReviews"===r.type?r.entityId:t.object.id,a=(0,je.DE)({state:s,entityId:i}).data,n="branch"===(null==a?void 0:a.type)?a.org.id:void 0,o=(0,ve.o)({orgId:n,review:t});if(o)return o;(0,ye.vV)({message:"Не удалось сформировать payload.reviewItem для события показа отзыва (mzdqt).\n      Скорее всего не удалось сформировать offset",level:"error",id:"tkg70",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(t)}})}(t,r,s);if(!l||"profileFeed"===a)return;const u=_e[a];if(n&&"cardReviewsList"===u&&l.rateOnly)return{uiElement:{name:"myReview",ownerName:u,frameUuid:t},payload:{reviewItem:l}};if(!("cardReviewsList"!==u&&"unconfirmedReviewsList"!==u||o&&c)){const e=d?(0,we.t)({state:s,entityFrameId:d.id}):void 0;return e?{uiElement:{name:"reviewItem",ownerName:u,frameUuid:t,position:i},payload:{reviewItem:l,placeItem:e}}:void(0,ye.vV)({message:'Не удалось затрекать событие "Увидел мини-карточку отзыва (нераскрытый отзыв в Online) в списке отзывов на вкладке Отзывы / в Неподтверждённых отзывах" в отзывах из-за отсутствия placeItem v-1amnn',level:"error",id:"dbgho8",payload:{type:"debug",subtype:"BssTrackerV3"}})}return"profileReviewsList"===u?{uiElement:{name:"reviewItem",ownerName:u,frameUuid:t,position:i},payload:{reviewItem:l}}:{uiElement:{name:"reviewCardFull",ownerName:u,frameUuid:t,position:i},payload:{reviewItem:l}}},Ie=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:s}=e;return{action:"tap",uiElement:{name:"myReviewEdit",ownerName:"currentReviewFrame"===t.ownerName?"reviewCardFull":"myReview",frameUuid:t.frameUuid},payload:s}},ke=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:s}=e;return{action:"tap",uiElement:{name:"addReviewButton",ownerName:"profileReviewsList"===t.ownerName?"reviewItem":"myReview",frameUuid:t.frameUuid},payload:s}},Oe=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:s}=e;return{action:"tap",uiElement:{name:"deleteReviewButton",ownerName:"profileReviewsList"===t.ownerName?"reviewItem":"myReview",frameUuid:t.frameUuid},payload:s}},Se=()=>({frameId:e,showEventParams:t},s)=>{if(!t)return;let r;if("profileReviewsList"===t.uiElement.ownerName)r={action:"tap",uiElement:{name:"allComments",ownerName:"profileReviewsList",frameUuid:e},payload:t.payload};else{const t=(0,xe.bB)(s.appContext.frames,"entity");if(t){const i=(0,we.t)({state:s,entityFrameId:t.id});if(!i)return void(0,ye.vV)({message:'Не удалось затрекать событие нажатия кнопки "Все комментарии" в отзывах из-за отсутствия placeItem a-a4zft',level:"error",id:"dbgho8",payload:{type:"debug",subtype:"BssTrackerV3"}});r={action:"tap",uiElement:{name:"allComments",ownerName:"cardReviews",frameUuid:e},payload:{placeItem:i}}}}return r},Te=({review:e,position:t,photo:s,state:r,frameId:i})=>{var a;const n=(0,xe.w1)(r.appContext.frames,i);if(!n)return;const o="entity"===n.type||"unconfirmedReviews"===n.type?n.entityId:e.object.id,c=(0,je.Tq)({entityId:o,state:r}),d=(0,ve.o)({orgId:"branch"===(null===(a=c.data)||void 0===a?void 0:a.type)?c.data.org.id:void 0,review:e});if(d)return{uiElement:{name:"reviewPhotoCardMini",ownerName:"reviewCardFull",position:t,frameUuid:i},payload:{reviewItem:d,photo:{photoId:s.id}}};(0,ye.vV)({message:"Не удалось сформировать payload.reviewItem для события показа фото в отзыве (rjmco).",level:"error",id:"tkg72",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e)}})};var Ee=s(63041);function Me({width:e=16,height:t=16}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 14 14"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,r.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,r.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,r.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,r.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,r.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,r.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,r.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,r.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,r.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,r.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,r.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,r.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,r.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,r.jsx)("path",{fill:"#21A038",d:"M12.264 2.696c.325.426.6.89.82 1.38L6.849 8.735 4.242 7.079V5.087l2.606 1.656 5.416-4.047z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-a)",d:"M1.582 6.938c0-.09.002-.178.006-.266l-1.58-.079C.004 6.708 0 6.823 0 6.94c0 .91.176 1.813.52 2.654a6.95 6.95 0 001.485 2.25l1.12-1.135a5.335 5.335 0 01-1.143-1.73 5.377 5.377 0 01-.4-2.04z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-b)",d:"M6.847 1.603c.088 0 .175.003.262.007L7.19.01a6.744 6.744 0 00-2.964.516c-.83.349-1.585.86-2.22 1.505l1.12 1.136a5.187 5.187 0 013.721-1.565z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-c)",d:"M6.847 12.274c-.089 0-.176 0-.264-.007l-.079 1.6a6.772 6.772 0 005.182-2.023l-1.119-1.135a5.205 5.205 0 01-3.72 1.565z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-d)",d:"M9.814 2.534l1.332-.995A6.762 6.762 0 006.845 0v1.602c1.06 0 2.095.324 2.97.932z"}),(0,r.jsx)("path",{fill:"#21A038",d:"M13.693 6.938a7.09 7.09 0 00-.108-1.243l-1.473 1.1v.143c0 .746-.154 1.483-.453 2.164a5.291 5.291 0 01-1.282 1.79l1.063 1.191a6.916 6.916 0 001.666-2.33 7 7 0 00.587-2.815z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-e)",d:"M6.847 12.274a5.196 5.196 0 01-2.136-.459 5.259 5.259 0 01-1.767-1.299L1.77 11.593a6.836 6.836 0 002.299 1.689c.874.393 1.82.596 2.778.595v-1.603z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-f)",d:"M3.316 2.984l-1.062-1.19A6.915 6.915 0 00.587 4.122 7.043 7.043 0 000 6.938h1.582a5.339 5.339 0 011.734-3.954z"})]}))]}))}var Pe=s(51021),Le=s(96141),Ne=s(56190),Ae=s(81988),Re=s(78425),ze=s(12869),Ue=s(62797),Be=s(12017),He=s(24872);const Fe=(e,{tp:t})=>{const{review:s,showAddress:r,ownerComponent:i,userId:a}=e,n=s.text?(0,g.M8)(s.text):"",o=s.official_answer?(0,g.M8)(s.official_answer.text):"",c="card"!==i&&(n.length>150||o.length>150),d=!!s.object.is_deleted;return{text:n,notificationText:be(s.hiding_type,t),showReadWholeButton:c,address:r?s.object.address:void 0,upperCutTextLength:100,isOverlaid:d,isOwner:void 0!==a&&a===s.user.id}},De=e=>{const{review:t,ownerComponent:s,comments:r=[]}=e,i=(e=>{var t;const{review:s,comments:r}=e,i=[];return s.official_answer&&i.push(Object.assign(Object.assign({},s.official_answer),{is_hidden:!1,is_official_answer:!0,org:Object.assign(Object.assign({},s.object),{name:s.object.name||(null===(t=s.official_answer)||void 0===t?void 0:t.org_name)})})),null==r||r.forEach((e=>!e.is_official_answer&&e.text?i.push(e):void 0)),i})({review:t,comments:r});return{formattedComments:"card"===s?i:i.slice(0,1)}},Ve=(0,i.memo)((e=>{var t;const{review:s,isSearchBot:n,userId:o,answerOrgAvatar:m,position:g,showReviewsTotal:h,showAddress:f=!1,isPinned:b=!1,isAdvertiser:v=!1,isLikeDisabled:y=!1,ownerComponent:x,bssShowFunction:j,onRemoveCommentClick:w,onComplainClick:C,onEditClick:I,onRemoveClick:O,onLikeClick:S,onAllCommentsClick:T,showObjectInsteadUser:E,boxShadowDirection:M="bottom",bssTapPhotoItemFunction:P,bssShowPhotoItemFunction:N,onHeaderClick:A,isContactTab:R}=e,{css:z,s:U}=(0,d.I)(Ze),{featurePublicProfile:B}=(0,_.U)(),H=(0,l.c)(),F=(e=>{const t=e.id,s=(0,le.d4)((e=>(0,ue.X0)(e,t))),r=(0,pe.I)(fe,{reviewId:t});return(0,i.useEffect)((()=>{0!==e.comments_count&&(0,ge.P)(s)&&r()}),[t]),s||Ne.d})(s).data,{formattedComments:D}=(0,u.kc)(De,{review:s,comments:F,ownerComponent:x}),{address:V,isOverlaid:Z,notificationText:$,showReadWholeButton:q,text:W,upperCutTextLength:G,isOwner:Q}=(0,u.kc)(Fe,{review:s,ownerComponent:x,showAddress:f,userId:o}),[K,Y]=(0,i.useState)("card"===x||!q),{bssRef:X,useBssHandler:J}=(0,de.E)(s.user.public_id&&!E?Re.vK.bss.showUserProfileHeader({review:s,ownerName:"card"===x?"reviewCardFull":"reviewItem",inSubscriptions:s.additional_data.from_friend,authUser:s.user.id}):void 0),ee=J(Re.vK.bss.tapUserProfileHeader,{review:s,ownerName:"card"===x?"reviewCardFull":"reviewItem",inSubscriptions:s.additional_data.from_friend,authUser:s.user.id}),{bssRef:te,useBssHandler:se,sendShowEvent:re}=(0,de.E)(j?j({showReviewCardMini:!K||!q}):x?Ce({review:s,position:g,ownerComponent:x,isOwner:Q,expanded:K,showReadWholeButton:q}):void 0,{forceSendShowIfParamsChanged:[K],threshold:.5}),me=se(Ie),he=se(ke),be=se(Oe),ve=se(Se),ye=(0,p.D)((()=>{K||(Y(!0),re.current())})),xe=(0,le.wA)(),je=(0,p.D)((()=>{B&&s.user.public_id&&!E&&(ee(),xe(Ae.M.openPublicProfile({userId:s.user.public_id}))),!B||s.user.public_id||E||xe(Ae.M.showOpenPublicProfileError()),E&&xe((0,Pe.P)((0,Be.K2)((0,Ee.UP)({id:s.object.id,type:s.object.type}),(0,He.TE)({entityId:s.object.id,onlyIfOutOfViewpoint:!0})))),A&&A()})),we=(0,p.D)((()=>{ve(),T(s.id)})),_e=(0,i.useCallback)((()=>{switch(s.hiding_type){case"unrated":return(0,r.jsx)(ne,{});case"unrated_manual":return(0,r.jsx)(ce,{});case"blocked":case"object_deleted":return(0,r.jsx)(ae.k,{color:a.T.red_fe5000});default:return null}}),[s]),Ve=(0,i.useCallback)((e=>{const t="blocked"===s.hiding_type||"object_deleted"===s.hiding_type?a.T.red_fe5000:void 0;return(0,r.jsxs)("div",Object.assign({className:z(U.notify),style:{color:t}},{children:[(0,r.jsx)("div",Object.assign({className:z(U.icon)},{children:_e()})),(0,r.jsx)("div",Object.assign({className:z(U.notificationContentWrapper)},{children:e}))]}))}),[z,_e,s.hiding_type,U.icon,U.notificationContentWrapper,U.notify]),$e=(0,i.useCallback)((e=>(0,r.jsxs)(r.Fragment,{children:[$,e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),s.hiding_reason]}):null]})),[$,s.hiding_reason]),qe=(0,i.useCallback)((()=>{he(),I&&I(s.id)}),[he,I,s.id]),We=(0,i.useCallback)((e=>{be(),O&&O(e)}),[O,be]),Ge=(0,i.useCallback)((e=>{me(),I&&I(e)}),[me,I]),Qe=(null===(t=s.photos)||void 0===t?void 0:t.length)?(0,Ue.E)(s.photos,s.user,s.provider):void 0;return(0,r.jsxs)("div",Object.assign({className:z(U.container,B&&U.__clickable,"bottom"===M?U.boxShadowBottom:U.boxShadowTop)},c.dx.n("wat-review-container"),c.dx.t(`wat-review-status-${s.hiding_type}`),{ref:te},{children:[(0,r.jsx)("div",Object.assign({className:z(U._padding,Z&&U._overlaid)},{children:(0,r.jsx)(L,{ref:X,isContactTab:R,review:s,isSearchBot:n,isPinned:b,showObjectInsteadUser:E,showReviewsTotal:h,onObjectClick:je})})),!!V&&(0,r.jsx)("div",Object.assign({className:z(U.address,Z&&U._overlaid)},c.dx.n("wat-review-address"),{children:V})),(0,r.jsx)("div",Object.assign({className:z(Z&&U._overlaid)},{children:Qe&&(0,r.jsx)(ze.M,{trackBSSSource:"profileFeed"===x?"profileFeed":"reviews",onComplain:C,object:s.object,galleryMedia:Qe.photosForGallery,previews:Qe.photos,bssShowItemFunction:e=>N?N(e):((e,t,s)=>({frameId:r},i)=>Te({review:e,photo:t,state:i,frameId:r,position:s}))(s,e.image,e.position),bssActionItemFunction:e=>P?P(e):((e,t,s)=>({frameId:r},i)=>{const a=Te({review:e,photo:t,position:s,state:i,frameId:r});if(a)return Object.assign(Object.assign({},a),{action:"tap"})})(s,e.image,e.position)})})),(0,r.jsxs)("div",Object.assign({className:z(U._padding,!K&&U._pointer),onClick:ye},{children:[W.length>0&&(0,r.jsx)("div",Object.assign({className:z(U.textWrapper,Z&&U._overlaid)},c.dx.n("wat-review-text"),{children:(0,r.jsx)("a",Object.assign({className:z(U.text,!K&&U._short)},{children:W}))})),Q&&0===W.length&&(0,r.jsx)("div",Object.assign({className:z(U.fulfillReviewButton)},{children:(0,r.jsx)(Le.$,Object.assign({wide:!0,onClick:qe,dataN:"wat-review-fulfill-button"},{children:H._t("Дополнить отзывом")}))})),(s.is_verified||"sbol"===s.source)&&(0,r.jsxs)("div",Object.assign({className:z(U.reviewSafety,U._green)},c.dx.n("wat-review-safety-status"),{children:[(0,r.jsx)("div",Object.assign({className:z(U.icon)},{children:(0,r.jsx)(Me,{})})),(0,r.jsx)("span",Object.assign({className:z(U.notificationContentWrapper)},{children:H._gg("Подтверждён оплатой через Сбер")}))]})),(0,r.jsx)(ie,{review:s,userId:o,isLikeDisabled:y,onComplainClick:C,onEditClick:I?Ge:void 0,onRemoveClick:O?We:void 0,onReadMoreClick:ye,showReadWholeButton:!K,onLikeClick:S}),(0,r.jsx)(r.Fragment,{children:null==D?void 0:D.map(((e,t)=>(0,r.jsx)("div",Object.assign({className:z(U.commentWrapper,Z&&U._overlaid)},{children:(0,r.jsx)(k,{comment:e,isSearchBot:n,upperCutTextLength:G,isAdvertiser:v,orgAvatar:m,showFullOfficialAnswer:K,ownerComponent:x,commentsCount:s.comments_count,onShowAllCommentsClick:we,onRemoveCommentClick:w,reviewUserId:s.user.id,userId:o,withDivider:D.length>1,needToScrollToLastComment:D.length===t+1&&"card"===x})}),e.id)))})]})),(()=>{const{hiding_reason:e}=s;return $?Ve(e?(0,r.jsx)(oe.v,{children:$e}):$):null})()]}))}));Ve.displayName="ReviewItem";const Ze=(0,d.r)({container:{padding:"12px 0",boxShadow:o.E.innerBorderBottomBase,":last-child":{boxShadow:"none"}},__clickable:{cursor:"pointer"},address:Object.assign(Object.assign({},n.EX),{color:a.T.gray_929292,paddingTop:0,paddingBottom:12,paddingStart:24,paddingEnd:0}),_pointer:{cursor:"pointer"},textWrapper:{padding:"0 16px"},text:Object.assign(Object.assign({},n.Hg),{whiteSpace:"pre-line",wordBreak:"break-word",wordWrap:"break-word",diaplay:"inline-block"}),notify:Object.assign(Object.assign({marginTop:4},n.EX),{display:"flex",padding:"0 16px",color:a.T.gray_929292}),reviewSafety:Object.assign(Object.assign({marginTop:4},n.EX),{display:"flex",padding:"0 16px",color:a.T.gray_929292}),_green:Object.assign(Object.assign({},n.Hg),{color:a.T.green_30ad00}),notificationContentWrapper:{marginTop:2},icon:{display:"flex",alignItems:"center",marginEnd:8},commentWrapper:{paddingTop:4},_padding:{padding:"0px 8px"},_overlaid:{opacity:.5},_short:Object.assign(Object.assign({},(0,n.lR)(3,n.Hg)),{cursor:"pointer"}),fulfillReviewButton:{paddingBottom:8,paddingStart:16,paddingEnd:16},boxShadowTop:{boxShadow:o.E.innerBorderTopBase},boxShadowBottom:{boxShadow:o.E.innerBorderBottomBase,"&:last-child":{boxShadow:"none",paddingBottom:12}}})},4431:(e,t,s)=>{"use strict";s.d(t,{D:()=>m});var r=s(31085),i=s(14041),a=s(81618),n=s(99259),o=s(33466),c=s(80552),d=s(64099),l=s(50570),u=s(35023),p=s(84175);const m=i.memo((({title:e,seoTitle:t,onClick:s,onClickWithData:i,href:n,dataT:o,icon:c,bssRef:d,count:m,isColoredCount:h,activeRubric:f,rubricsKey:b,external:v,setActiveRubric:y})=>{const{css:x,s:j}=(0,p.I)(g),w=t||e,_=h&&0===m,C=!_&&f&&f===b;return(0,r.jsxs)("div",Object.assign({className:x(j.root)},{children:[(0,r.jsxs)("a",Object.assign({ref:d,className:x(j.item),title:w,href:n,onClick:_?u.lQ:e=>{y&&b&&i?b===f?(y(void 0),i("allInfrastructure")):(y(b),i(b)):s(e)},target:v?"_blank":void 0,"data-h":!0},a.dx.n("wat-rubric"),a.dx.t(o),(0,l.a)({label:w}),{children:[(0,r.jsx)("div",Object.assign({className:x(j.icon,C&&j._empty,_&&j._disabled)},{children:c()})),(0,r.jsx)("span",Object.assign({className:x(j.title,_&&j._disableText)},{children:e}))]})),(!!m||h)&&(0,r.jsx)("div",Object.assign({className:x(j.count,h&&j.coloredCount,h&&_&&j.disableCount)},{children:m}))]}))})),g=(0,p.r)((({mobile:e})=>({root:{display:"inline-block",width:"25%",position:"relative",verticalAlign:"top"},item:{cursor:"pointer",marginBottom:e?8:4,display:"block",padding:"0 2px",textDecoration:"none"},count:Object.assign(Object.assign({},c.n0),{color:n.T.white,borderRadius:d.Vq.isolate,background:n.T.gray_929292,position:"absolute",padding:"2px 5px",top:0,end:0,cursor:"pointer"}),disableCount:{background:n.T.gray_e6e6e6},icon:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",boxSizing:"border-box",background:"#fff",width:e?48:64,height:e?48:64,padding:e?12:16,borderRadius:"50%",marginTop:0,marginBottom:4,marginStart:"auto",marginEnd:"auto",boxShadow:`0 0 0 1px ${n.T.gray_e6e6e6}`,color:n.T.gray_929292,transition:`box-shadow ${o.S.short}ms ease-in-out`,"[data-h]:hover &":{boxShadow:`0 0 0 2px ${n.T.gray_e6e6e6}`},"& > *":{display:"block",objectFit:"contain",width:"100%",height:"100%",transition:`transform ${o.S.short}ms ease-in-out`,"[data-h]:hover &":{transform:"scale(0.9)"}}},title:Object.assign(Object.assign({},c.EX),{display:"block",overflow:"hidden",textOverflow:"ellipsis",height:"26px",color:n.T.gray_929292,textAlign:"center",transition:`color ${o.S.short}ms ease-in-out`,userSelect:"none","[data-h]:hover &":{color:n.T.gray_262626}}),coloredCount:{display:"flex",alignItems:"center",justifyContent:"center",right:5,minWidth:9,minHeight:14,background:n.T.green_30ad00,color:n.T.white,borderRadius:d.Vq.oval,userSelect:"none"},_empty:{backgroundColor:"#da0000"},_disabled:{":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,backgroundColor:n.T.white,borderRadius:"50%",opacity:.8},"[data-h]:hover &":{boxShadow:`0 0 0 1px ${n.T.gray_e6e6e6}`},"& > *":{"[data-h]:hover &":{transform:"scale(1)"}}},_disableText:{"[data-h]:hover &":{color:n.T.gray_929292}}})))},11827:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var r=s(31085),i=s(46579),a=s(14041),n=s(38900);const o=(0,a.memo)((({frame:e,frameContext:t})=>{const s=(0,i.U)(),a=(0,n.e)(e,t,s);return a?(0,r.jsx)("div",{style:{height:a}}):null}))},71053:(e,t,s)=>{"use strict";s.d(t,{D:()=>C});var r=s(31085),i=s(14041),a=s(26461),n=s(68076),o=s(7515),c=s(71370),d=s(90704),l=s(99259),u=s(80552),p=s(81618),m=s(92695),g=s(69158),h=s(12043),f=s(21252),b=s(84175),v=s(16632),y=s(53898);const x=(0,f.f)(void 0,y.N)((({bssSideMenuClick:e})=>{const{css:t,s:s}=(0,b.I)(j),i=v.m.use();return i?null:(0,r.jsxs)("button",Object.assign({className:t(s.hamburger),onClick:t=>{t.stopPropagation(),v.m.set((()=>!0)),i||e()}},{children:[(0,r.jsx)("span",{className:t(s.hamburgerLine,s._line1)}),(0,r.jsx)("span",{className:t(s.hamburgerLine,s._line2)}),(0,r.jsx)("span",{className:t(s.hamburgerLine,s._line3)})]}))})),j=(0,b.r)({hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:l.T.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:l.T.gray_262626,start:0},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"12px"}});class w extends i.PureComponent{constructor(){super(...arguments),this.state={externalValue:this.props.value,value:this.props.value,isFocused:!1},this.onChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e)},this.onFocus=()=>{this.setState({isFocused:!0}),m.p.startTracker(),this.props.onFocus&&this.props.onFocus()},this.onBlur=()=>{this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur()},this.onClear=()=>{const{inputRef:e}=this.props;e&&e.current&&e.current.focus(),this.props.onChange(""),this.props.onClear&&this.props.onClear()}}static getDerivedStateFromProps(e,t){return e.value!==t.externalValue?{externalValue:e.value,value:e.value}:null}render(){const{placeholder:e,withSearchIcon:t,showHamburger:s,autoFocus:i,lightText:a,onClick:o,onKeyUp:l,inputRef:u,s:m,i18n:{tp:g},displayH1Header:f}=this.props,{value:b,isFocused:v}=this.state,y=f&&!v&&!!b,j=!!b;return(0,r.jsxs)("div",Object.assign({className:(0,n.AH)(m.wrapper,v&&m._focused)},p.dx.n("wat-search-bar"),{children:[(0,r.jsx)("input",Object.assign({type:"text",className:(0,n.AH)(m.input,a&&m._lightText,y&&m._hiddenText),placeholder:"Search In MAP",value:b,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onClick:o,onKeyDown:this.onKeyDown,onKeyUp:l,ref:u,autoFocus:i,spellCheck:!1,enterKeyHint:"search"},p.dx.n("wat-search-bar-input"))),y&&(0,r.jsx)("h1",Object.assign({className:(0,n.AH)(m.header,a&&m._lightText)},p.dx.n("wat-search-bar-h1"),{children:b})),t&&!b&&(0,r.jsx)(c.v,{}),j&&(0,r.jsx)("div",Object.assign({className:(0,n.AH)(m.clearButtonWrapper)},p.dx.n("wat-search-bar-clear-icon"),{children:(0,r.jsx)(d.K,{onClear:this.onClear,ariaLabel:g._t("Очистить локальное поле поиска"),isWhite:a})})),s&&(0,r.jsx)(h.h,{children:(0,r.jsx)("div",Object.assign({className:(0,n.AH)(m.sidebarEntryWrapper)},{children:(0,r.jsx)(x,{})}))})]}))}}w.displayName=(0,a.d)("src/shared/components/searchInput");const _={wrapper:{display:"flex",alignItems:"center",color:l.T.gray_929292,position:"relative"},_focused:{color:l.T.gray_262626},header:Object.assign(Object.assign({},u.hF),{position:"absolute",top:0,left:0,color:l.T.gray_262626,paddingTop:12,paddingBottom:6,paddingStart:15,paddingEnd:0,pointerEvents:"none",whiteSpace:"nowrap",overflow:"hidden",boxSizing:"border-box",width:"100%",borderEnd:"32px solid transparent"}),input:Object.assign(Object.assign({},u.hF),{border:"none",color:l.T.gray_262626,boxSizing:"border-box",paddingTop:12,paddingBottom:6,paddingStart:15,paddingEnd:6,margin:0,width:"100%",outline:"none",background:"transparent","::placeholder":{color:l.T.gray_929292},"::-ms-clear":{display:"none"}}),_lightText:{color:l.T.white,"::placeholder":{color:(0,g.m)(l.T.white,.5)}},_hiddenText:{color:"transparent"},clearButtonWrapper:{height:16,marginTop:"auto",marginBottom:"auto",marginStart:0,marginEnd:8},sidebarEntryWrapper:{height:24,marginTop:"auto",marginBottom:"auto",marginStart:8,marginEnd:8}},C=(0,n.Xy)(_)((0,o.Q)()(w))},12175:(e,t,s)=>{"use strict";s.d(t,{G:()=>_});var r=s(31085),i=s(14041),a=s(79594);const n=()=>(0,r.jsx)("img",{src:"/images/logo.png",alt:"1stech logo",width:"100",height:"29"});var o=s(80552),c=s(64099),d=s(81618),l=s(27988),u=s(10742),p=s(84175),m=s(46579),g=s(83663),h=s(99259);const f=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M14.41 21.985v7.487c0 .292.254.528.569.528h2.04c.314 0 .57-.236.57-.528v-7.487h-3.18z",fill:"#80391B"}),(0,r.jsx)("path",{d:"M22.14 18.624c.492-.294.966-.627 1.415-.999a.607.607 0 00.083-.87l-3.047-3.624a8.479 8.479 0 001.153-.77.608.608 0 00.092-.877L16 4.541l-5.83 6.936a.61.61 0 00.098.882c.363.29.745.546 1.141.771l-3.047 3.626a.607.607 0 00.083.87c.45.371.923.704 1.415.998l-3.714 4.42a.607.607 0 00.077.864c5.525 4.695 14.03 4.695 19.554 0a.607.607 0 00.077-.865l-3.714-4.419z",fill:"#299400"}),(0,r.jsx)("path",{d:"M13.5 15a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM18.5 14a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM20.5 20a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM11.5 22a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM16 1l1.237 3.763L21 6l-3.763 1.237L16 11l-1.237-3.763L11 6l3.763-1.237L16 1z",fill:"red"})]})),b=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.068c-.761-.177-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.1C5.708 23.479 10.316 28 16 28s10.292-4.522 10.292-10.101c0-4.778-3.38-8.78-7.922-9.832z",fill:"red"}),(0,r.jsx)("mask",Object.assign({id:"aqwe",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"7",width:"22",height:"22"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.07c-.761-.176-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.101 0 5.579 4.608 10.101 10.292 10.101s10.292-4.522 10.292-10.1c0-4.779-3.38-8.781-7.922-9.832z",fill:"red"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#aqwe)"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 15l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v4l-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2v-4z",fill:"#FFDA52"}),(0,r.jsx)("path",{fill:"#E6E6E6",d:"M4 11h24v2H4zM4 23h24v2H4z"})]})),(0,r.jsx)("path",{d:"M18.362 5.479h-4.726l3.15 2.922a7.595 7.595 0 001.576-.335V5.479z",fill:"red"}),(0,r.jsx)("path",{d:"M13.636 5.479v2.587a7.605 7.605 0 003.15.335V5.479h-3.15z",fill:"red"}),(0,r.jsx)("path",{d:"M18.363 5.095h-1.575V6.64h1.575a.78.78 0 00.788-.773.78.78 0 00-.788-.773z",fill:"#FEB700"}),(0,r.jsx)("path",{d:"M17.576 5.868a.78.78 0 00-.787-.773h-3.15a.78.78 0 00-.788.773.78.78 0 00.787.773h3.15a.78.78 0 00.788-.773z",fill:"#FEB700"}),(0,r.jsx)("path",{d:"M16 6.333a2.17 2.17 0 01-2.167-2.166A2.17 2.17 0 0116 2a2.17 2.17 0 012.166 2.167A2.17 2.17 0 0116 6.333zm0-3.25a1.085 1.085 0 101.083 1.083c0-.597-.486-1.083-1.083-1.083z",fill:"#FEB700"})]})),v=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M16 27.55c8.394 0 11.487-3.03 11.487-6.822-.219-3.876-3.65-8.168-6.807-11.316h-9.36c-3.158 3.148-6.588 7.44-6.807 11.316 0 3.791 3.093 6.823 11.487 6.823z",fill:"red"}),(0,r.jsx)("path",{d:"M16.446 10.283l.965.422.66-.422.304-.87-.718-.423-.907.422-.304.871z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M16.447 10.283l-.834 2.388c-.135.385.084.802.488.93.403.129.84-.08.974-.465l.997-2.853h-1.625z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M10.865 7.07l.539.87 4.615.423 4.579-.422.538-.871-5.135-.422-5.136.422z",fill:"red"}),(0,r.jsx)("path",{d:"M10.865 7.07h10.27l1.222-1.975c.3-.484-.066-1.095-.655-1.095H10.3c-.589 0-.954.61-.655 1.095l1.22 1.975z",fill:"red"}),(0,r.jsx)("path",{d:"M19.995 9.412l-.663-.422-.958.422.296.871.795.422.826-.422-.296-.87z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M21.666 14.327l-1.375-4.044h-1.62l1.529 4.498c.131.386.566.598.971.473.405-.126.627-.54.495-.927z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M27.487 20.728c-.209 3.582-3.093 6.401-11.487 6.401S4.722 24.31 4.513 20.728l-.006.1C4.34 24.768 7.012 28 16 28s11.66-3.232 11.493-7.172l-.006-.1z",fill:"red"}),(0,r.jsx)("path",{d:"M10.936 8.963h10.13c.254 0 .62-.31.62-.722a.781.781 0 00-.62-.3h-10.13a.781.781 0 00-.62.3c0 .464.365.722.62.722z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M21.066 8.541h-10.13a.781.781 0 01-.62-.3.71.71 0 00-.151.436c0 .406.345.735.77.735h10.13c.427 0 .772-.33.772-.735a.71.71 0 00-.15-.436.781.781 0 01-.621.3z",fill:"#FFDA52"})]})),y=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M18.069 6h-2.483C9.644 6 4.827 11.291 4.827 17.818v3.636h17.38V16.91l4.137 1.187V15.09c0-2.411-.872-4.723-2.424-6.428S20.263 6 18.068 6z",fill:"red"}),(0,r.jsx)("path",{d:"M21.38 20.546H5.654c-.914 0-1.655.814-1.655 1.818v1.818C4 25.186 4.741 26 5.655 26H21.38c.914 0 1.655-.814 1.655-1.818v-1.818c0-1.004-.74-1.819-1.655-1.819zM26 20a2 2 0 100-4 2 2 0 000 4z",fill:"#E6E6E6"}),(0,r.jsx)("path",{d:"M22.206 16.91c-.473-2.757-.949-4.065-2.482-4.546l2.482 4.545z",fill:"red"})]})),x=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M9.276 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169C5.81 26.356 3 23.594 3 20.186c0-3.407 2.81-6.169 6.276-6.169zM22.724 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169-3.466 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.276-6.169z",fill:"#F19601"}),(0,r.jsx)("path",{d:"M16 6.085c3.465 0 6.275 2.762 6.275 6.17 0 3.407-2.81 6.169-6.275 6.169-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.17 6.275-6.17z",fill:"#FEB700"}),(0,r.jsx)("path",{d:"M16 16.661c3.465 0 6.275 2.762 6.275 6.17C22.275 26.238 19.465 29 16 29c-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.275-6.169z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M10.62 3.44h2.69c1.485 0 2.69 1.185 2.69 2.645h-2.69c-1.486 0-2.69-1.184-2.69-2.644z",fill:"#299400"}),(0,r.jsx)("path",{d:"M16.448 6.525h-.896v-.88c.001-1.46 1.204-2.643 2.69-2.645v.881c-.99 0-1.794.79-1.794 1.763v.881z",fill:"#B08149"}),(0,r.jsx)("path",{d:"M19.138 14.898h-1.345c-.99 0-1.793.79-1.793 1.763h1.345c.99 0 1.793-.79 1.793-1.763z",fill:"#299400"}),(0,r.jsx)("path",{d:"M16.448 17.102h-.896v-.882c0-.973-.803-1.762-1.793-1.762v-.882c1.485.002 2.688 1.185 2.69 2.644v.882z",fill:"#B08149"}),(0,r.jsx)("path",{d:"M5.242 11.373h1.793c1.486 0 2.69 1.184 2.69 2.644H7.932c-1.486 0-2.69-1.184-2.69-2.644zM22.274 14.017c0-1.46 1.205-2.644 2.69-2.644h1.345c0 1.46-1.204 2.644-2.69 2.644h-1.345z",fill:"#299400"})]})),j=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M24.5 18.585V6.836H12.515v8.719l-4.57 4.424c-1.587 1.537-2.309 3.767-1.764 5.876 1.272 4.922 7.318 5.175 10.33 2.26l6.86-6.833a3.806 3.806 0 001.13-2.697z",fill:"red"}),(0,r.jsx)("path",{d:"M15.01 29.081v.107c-3.185 1.667-7.745.866-8.83-3.333-.4-1.546-.118-3.156.685-4.511h.154c2.12 0 4.153.815 5.651 2.266a7.615 7.615 0 012.34 5.471zM24.002 2H13.014c-1.104 0-1.998.866-1.998 1.934V5.87c0 1.068.894 1.934 1.998 1.934h10.988C25.105 7.803 26 6.937 26 5.87V3.934C26 2.866 25.105 2 24.002 2z",fill:"#299400"}),(0,r.jsx)("path",{d:"M14.5 11l-2-2v4l2 2 2-2 2 2 2-2 2 2 2-2V9l-2 2-2-2-2 2-2-2-2 2z",fill:"#E6E6E6"})]})),w=()=>(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M19.28 18.66a70 70 0 0 1-6.03 3.12c1.44 1.37 1.86 3.3 2.01 4.81l.18 1.83h2.23l.18-1.83c.25-2.62 1.33-6.54 7.22-6.54 1.01-2.16 1.44-3.88 1.44-5.86 0-.1-.01-.2-.02-.3-2.11 1.61-4.57 3.24-7.21 4.77M31.32 4.15c-.84-1.45-3.07-1.61-6.83-.5-1.36.4-2.85.96-4.42 1.63-1.07-.38-2.25-.59-3.51-.59-5.5 0-9.36 3.93-9.89 8.43a39 39 0 0 0-3 2.54C.83 18.37-.14 20.39.69 21.83c.49.85 1.49 1.2 2.8 1.2 4.05 0 11.05-3.34 15.05-5.65 5.3-3.06 14.79-9.76 12.78-13.23M2.48 20.81c-.19-.49 1.04-2.42 4.23-5.08.18 1.38.6 2.72 1.33 4.29-3.32 1.1-5.26 1.16-5.56.79m23.05-10.73a9.6 9.6 0 0 0-3.06-3.57c2.94-1.13 5.04-1.54 6.16-1.54.49 0 .8.08.91.21.18.49-.99 2.34-4.01 4.9",fill:"#19AA1E"})})),_=(0,i.memo)((e=>{const{showBorder:t,showBackButton:s,showLogo:i,children:o,handleBackClick:c,handleLogoClick:_}=e,{css:I,s:k,dir:O}=(0,p.I)(C),{brandCode:S,featureNewYear:T,featureAstronauticsDay:E}=(0,m.U)(),M="urbi"===S,P=(0,u.D)((e=>{e.preventDefault(),e.stopPropagation(),null==_||_()})),L=(0,u.D)((e=>{e.preventDefault(),e.stopPropagation(),null==c||c()})),N=(0,a.d4)((e=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.iconType}));return(0,r.jsxs)("div",Object.assign({className:I(k.wrapper,!t&&k._noBorder)},{children:[(s||i)&&(0,r.jsx)("div",Object.assign({className:I(k.buttonWrapper,t&&s&&k._separator),style:{color:h.T.green_299400}},{children:s?(0,r.jsx)("button",Object.assign({className:I(k.backIconWrapper),onMouseDown:L},d.dx.n("wat-back-btn"),{children:(0,r.jsx)("div",Object.assign({className:I(k.backIcon,"rtl"===O&&k._rotate180),style:{color:h.T.green_299400}},{children:(0,r.jsx)(l.n,{})}))})):(0,r.jsx)("a",Object.assign({href:"/",className:I(k.logoIcon),onClick:P},d.dx.n("wat-search-bar-logo"),{children:(()=>{if(M)return(0,r.jsx)(n,{});if(T)switch(!0){case"tree"===N:return(0,r.jsx)(f,{});case"bag"===N:return(0,r.jsx)(v,{});case"hat"===N:return(0,r.jsx)(y,{});case"sock"===N:return(0,r.jsx)(j,{});case"toy"===N:return(0,r.jsx)(b,{});case"mandarins"===N:return(0,r.jsx)(x,{});default:return(0,r.jsx)(f,{})}return E?(0,r.jsx)(w,{}):(0,r.jsx)(g.U,{})})()}))})),(0,r.jsx)("div",Object.assign({className:I(k.input)},{children:o}))]}))}));_.displayName="SearchInputWrapper";const C=(0,p.r)({wrapper:{boxShadow:"logical 0 1px 3px 0 rgba(0, 0, 0, 0.5)",background:h.T.white,borderRadius:c.Vq.default,display:"flex",alignItems:"center",position:"relative",overflow:"hidden",transform:"translateZ(0)",transition:"opacity .3s"},_noBorder:{boxShadow:"none",background:"none"},buttonWrapper:{flex:"1 0 40px"},logoIcon:{width:"32px",height:"32px",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},_transparent:{background:"transparent",boxShadow:"none"},input:Object.assign(Object.assign({},o.Hg),{width:"100%"}),_separator:{boxShadow:`logical inset -1px 0 0 ${h.T.gray_e6e6e6}`},backIconWrapper:{display:"flex",width:"40px",height:"40px",cursor:"pointer"},backIcon:{width:"32px",height:"32px",margin:"auto"},_rotate180:{transform:"rotate(180deg)"}})},85511:(e,t,s)=>{"use strict";s.d(t,{I:()=>v});var r=s(85608),i=s(31085),a=s(14041),n=s(26091),o=s(15635),c=s(8524),d=s(83113),l=s(76552),u=s(24787),p=s(11026),m=s(71370),g=s(24255),h=s(72616),f=s(58689);const b={pin:function({color:e="currentColor"}){return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,i.jsx)("path",{d:"M17 27h-2c0-8.07-3.85-9-6.75-9h-.77l-.2-.75A19.1 19.1 0 0 1 7 14a8.61 8.61 0 0 1 9-9 8.61 8.61 0 0 1 9 9 19.1 19.1 0 0 1-.28 3.25l-.2.75h-.77c-2.9 0-6.75.93-6.75 9zM9.11 16A7.39 7.39 0 0 1 16 20.85 7.39 7.39 0 0 1 22.89 16c.07-.66.11-1.52.11-2a6.62 6.62 0 0 0-7-7 6.62 6.62 0 0 0-7 7c0 .51 0 1.37.11 2z"})}))},city:function({color:e="currentColor"}){return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,i.jsx)("path",{d:"M26 18v-2h-2V7.28L17 5l-7 2.28V13H6v13h20v-2h-8v-2h8v-2h-8v-2zm-10 6h-3v-4h-2v4H8v-9h8zm-4-11V8.72l5-1.67 5 1.67V16h-4v-3z"})}))},street:n.U,metro:o.s,route:c.B,station:function({color:e="currentColor"}){return(0,i.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,i.jsx)("path",{d:"M5 20h15v2H5zM23 13h2v13h-2z"}),(0,i.jsx)("path",{d:"M5 25h22v2H5zM7 22h2v3H7zM16 22h2v3h-2zM5 16h15v2H5zM26 15h-4c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2zm-4-8v6h4V7h-4z"})]}))},rubric:function({color:e="currentColor"}){return(0,i.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,i.jsx)("path",{d:"M13 7c5.9 0 6.8 4.2 6.8 6.8 0 1.1-.1 2-.2 2.9-3.1.2-5.4 1.2-6.6 4.1-1.2-2.9-3.4-3.9-6.5-4.1-.2-1-.2-2-.2-2.9C6.2 11.2 7.1 7 13 7m0-2c-6 0-8.8 3.9-8.8 8.8 0 1.7.2 3.4.6 4.9H5c4.2 0 7 .4 7 8.4h2c0-7.9 2.7-8.4 7-8.4h.2c.4-1.5.6-3.2.6-4.9C21.8 8.9 19 5 13 5z"}),(0,i.jsx)("path",{d:"M21 27h-2c0-7 2.5-7.9 6-8 .2-.9.3-2 .3-3.1 0-2.4-.9-4-2.8-5l1-1.7c2.5 1.4 3.8 3.7 3.8 6.8 0 1.6-.2 3.1-.5 4.3l-.2.7h-1c-3.1 0-4.6 0-4.6 6z"})]}))},history:function({color:e="currentColor"}){return(0,i.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,i.jsx)("path",{d:"M16 5a11 11 0 1 0 11 11A11 11 0 0 0 16 5zm0 20a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"}),(0,i.jsx)("path",{d:"M16.19 15.74l.8-5.6-1.98-.28-1.2 8.4 6.39-1.28-.4-1.96-3.61.72z"})]}))},home:d.w,work:l.P,location:u.a,market:p.B,camera:h.$,traffic:function({color:e="currentColor"}){return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,i.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18 5v.018c4.526.334 8 5.172 8 10.982 0 5.92-3.607 10.831-8.259 10.996L17.5 27c-4.539 0-8.14-4.511-8.475-10.142-1.958-.59-3.272-2.946-3.573-5.752C5.096 7.778 6.32 5 9 5h9zm-.5 2h-3.858l.423.31.46.348.483.376.775.619.838.685 2.55 2.124 1.14.925.479.375.575.432.401.287.392.266.262.172-1.083 1.681-.423-.278-.42-.29-.43-.312-.458-.345-.327-.254-.726-.58-.85-.697-2.059-1.718-.839-.689-.771-.619-.48-.374-.56-.427-.521-.382-.577-.401L11.54 8l-.336-.207c-.054-.033-.108-.064-.16-.094l-.308-.17C10.038 7.165 9.484 7 9 7c-1.11 0-1.807 1.581-1.559 3.894.184 1.717.83 3.11 1.624 3.74.134-1.414.477-2.77 1.009-4.003l.167-.371 1.81.853C11.368 12.558 11 14.24 11 16c0 4.926 2.87 8.846 6.298 8.995L17.5 25l.202-.005C21.131 24.846 24 20.926 24 16s-2.87-8.847-6.298-8.996L17.5 7zm-3.856 6.327l1.966.367a9.016 9.016 0 00-.15 1.647c0 2.123.722 3.962 1.688 4.692l.127.089-1.078 1.684c-1.685-1.079-2.736-3.63-2.736-6.465 0-.552.04-1.095.117-1.622l.066-.392z"})}))},realty:g.G,parking:f.E,other:m.v},v=a.memo((e=>{var{type:t}=e,s=(0,r.Tt)(e,["type"]);const a="metro"===t?Object.assign(Object.assign({},s),{size:32}):s,n=b[t];return(0,i.jsx)(n,Object.assign({},a))}));v.displayName="SuggestIcon"},52870:(e,t,s)=>{"use strict";s.d(t,{K:()=>p});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(33466),c=s(81618),d=s(64099);class l extends i.PureComponent{constructor(){super(...arguments),this.state={stage:"start"}}render(){const{stretchContent:e,s:t}=this.props;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,a.AH)(t.background),onClick:this.props.onBackgroundClick}),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(t.content,e&&t.stretchContent,"end"===this.state.stage&&t._contentEnd)},c.dx.n("wat-suggest-wrap"),{onClick:e?this.props.onBackgroundClick:void 0},{children:this.props.children}))]})}componentDidMount(){this.endAnimationTimeout=window.setTimeout((()=>this.setState({stage:"end"})),0)}componentWillUnmount(){window.clearTimeout(this.fadeInAnimationTimeout),window.clearTimeout(this.endAnimationTimeout)}}const u={background:{background:"#fff",position:"absolute",top:0,left:0,right:0,zIndex:d.fE.bottom,height:"100vh"},content:{zIndex:d.fE.base,position:"absolute",left:0,right:0,transition:`opacity ${o.S.short}ms`,opacity:0},stretchContent:{top:56,bottom:0},_contentEnd:{opacity:1}},p=(0,n.Xy)(u)(l)},97423:(e,t,s)=>{"use strict";s.d(t,{B:()=>d});var r=s(31085),i=s(68887),a=s(84175),n=s(14041),o=s(99259),c=s(80552);const d=(0,n.memo)((({segments:e,labels:t,labelsMarginTop:s,labelsJustifyContent:i,labelFontSize:n})=>{const{s:o,css:c}=(0,a.I)(l);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:c(o.line)},{children:e.map(((t,s)=>(0,r.jsx)("div",{style:{background:t,width:100/e.length+"%"}},s)))})),(0,r.jsx)("div",Object.assign({className:c(o.labels),style:{marginTop:s,justifyContent:i,fontSize:n}},{children:t.map(((e,s)=>(0,r.jsx)("div",Object.assign({className:c(o.label),style:{width:"space-around"===i?100/t.length+"%":void 0}},{children:e}),s)))}))]})})),l=(0,a.r)({line:{height:8,display:"flex",borderRadius:i.V.default,overflow:"hidden"},labels:Object.assign(Object.assign({},c.nU),{color:o.T.gray_929292,display:"flex",justifyContent:"space-between",marginTop:2}),label:{textAlign:"center"}})},47710:(e,t,s)=>{"use strict";s.d(t,{$U:()=>o,By:()=>i,Cq:()=>a,jN:()=>n});var r=s(72384);const i="showMorePhotos",a="maximumPhotos",n="onlyRD",o="noPhotos";(0,r.n)({name:i,percentRange:[0,0],excludeHumanFromSeo:!0,groups:[a,n,o,"controlGroup"]})},91664:(e,t,s)=>{"use strict";s.d(t,{S:()=>r});const r={long:0,short:200,spinner:1e3}},68887:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});const r={default:"4px",minicard:"2px",oval:"50%",rounded:"9999px",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px"}},99259:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});const r={white:"#ffffff",black:"#000000",black_transparent_06:(0,s(69158).m)("#000000",.06),black_transparent_50:"#808080",gray_1a1a1a:"#1a1a1a",gray_141414:"#141414",gray_262626:"#262626",gray_929292:"#929292",gray_f9f9f9:"#f9f9f9",gray_f6f6f6:"#f6f6f6",gray_f2f2f2:"#f2f2f2",gray_e6e6e6:"#e6e6e6",gray_bbbbbb:"#bbbbbb",gray_b2b2b2:"#b2b2b2",gray_dddddd:"#dddddd",gray_333333:"#333333",gray_5c5c5c:"#5c5c5c",gray_9b9b9b:"#9b9b9b",gray_bfbfbf:"#bfbfbf",gray_dfdfdf:"#dfdfdf",gray_f5f5f5:"#f5f5f5",gray_f0f0f0:"#f0f0f0",gray_4d4d4d:"#4d4d4d",gray_cccccc:"#cccccc",gray_989bab:"#989bab",gray_dedad9:"#dedad9",gray_898989:"#898989",gray_8989894d:"#8989894d",gray_e5e7ee:"#E5E7EE",gray_cbcdd5:"#cbcdd5",gray_4c4d4f:"#4c4d4f",gray_3a4149:"#3A4149",gray_f8f4f0:"#F8F4F0",gray_5A5A5A:"#5A5A5A",red_fe5000:"#fe5000",red_e10d0d:"#e10d0d",red_e32608:"#e32608",orange_ff8800:"#ff8800",orange_ffba00:"#ffba00",orange_fffaeb:"#fffaeb",orange_fff0c8:"#fff0c8",orange_ff8d00:"#ff8d00",yellow_ffb81c:"#ffb81c",yellow_ffc84b:"#ffc84b",yellow_ffbb36:"#ffbb36",green_299400:"#299400",green_227a00:"#227a00",green_1ba136:"#1ba136",green_30ad00:"#30ad00",green_5bae00:"#5bae00",green_60bf00:"#60bf00",green_002400:"#002400",green_007000:"#007000",blue_006fab:"#006fab",blue_0072ce:"#0072ce",blue_0168f9:"#0168f9",blue_0070cc:"#0070cc",blue_028eff:"#028eff",blue_c5ebff:"#c5ebff",blue_82bceb:"#82bceb",blue_59b4ff:"#59b4ff",blue_0672ad:"#0672ad",blue_70aee0:"#70aee0",blue_c5eeff:"#c5eeff",blue_8eb6da:"#8eb6da",blue_0082c8:"#0082c8",blue_f1f6fa:"#f1f6fa",blue_97c9db:"#97c9db",purple_8345fe:"#8345fe",purple_4a15e8:"#4a15e8"}},66698:(e,t,s)=>{"use strict";s.d(t,{Ac:()=>_,As:()=>u,Fj:()=>f,Fx:()=>j,H0:()=>a,H2:()=>I,J1:()=>y,N:()=>o,Qh:()=>O,R$:()=>M,RK:()=>d,S0:()=>i,Uq:()=>r,Xl:()=>l,aR:()=>E,du:()=>T,ge:()=>S,gg:()=>P,i5:()=>v,iE:()=>n,iF:()=>x,iO:()=>C,im:()=>g,nD:()=>p,no:()=>k,pA:()=>w,qh:()=>m,vl:()=>h,ye:()=>b,zs:()=>c});const r=12,i=12,a=50,n=20,o=19,c=5,d=5,l=1280,u=700,p=18,m=.2,g=16,h=2,f=10,b="car",v=2,y=840,x={tUgc:0,default:1,favorites:2,billboard:3,friendsSmall:4,friends:5,friendsCzar:6,czars:7,openedBillboard:8},j=["novosibirsk","omsk","moscow","spb","kemerovo","krasnoyarsk","ekaterinburg","tyumen","chelyabinsk","krasnodar"],w=["#025d29","#00883d","#05ac4b","#5fcc56","#b0e46e","#e5f497","#ffed98","#ffc76c","#ff914a","#ff5631","#eb2320","#b6001d"],_=["#0c7805","#7fcd33","#ffd46c","#ff5631"],C=24,I=10,k="dg5_auth_access_token",O="all",S="price_list_image",T=10,E="23",M="1",P="23.10.24–01.11.24"},475:(e,t,s)=>{"use strict";s.d(t,{JF:()=>i,qo:()=>r});const r=["ru","kz","kg","uz","az","by","cl","ae","sa","eg","cy","it","cz","om","bh","qa","kw","iq","ma","am","ge"],i=r.map((function(e){return e.toUpperCase()}))},88096:(e,t,s)=>{"use strict";s.d(t,{En:()=>o,aH:()=>i,aI:()=>n,fx:()=>c,jD:()=>r,vx:()=>d,zP:()=>a});const r=13,i=27,a=32,n=37,o=38,c=39,d=40},2829:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});const r={bottom:-1,base:0,top:1}},5836:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i,x:()=>r});const r={ios:{rating:4.8,reviews:"178 K"},android:{rating:4.3,reviews:"985 K"}},i={mobileDownloadPromo:{inUGC:{reviews:"https://2gis.onelink.me/nw2S/d2de46ec",photos:"https://2gis.onelink.me/nw2S/972d4707"}}}},31897:(e,t,s)=>{"use strict";s.d(t,{k:()=>r});const r={width:64,height:80}},68819:(e,t,s)=>{"use strict";s.d(t,{J:()=>r,Z:()=>i});const r=["275","295","55693","21039","603","139","571","19487"],i=["295","603"]},92206:(e,t,s)=>{"use strict";s.d(t,{j:()=>r,p:()=>i});const r="174",i="248"},8319:(e,t,s)=>{"use strict";s.d(t,{f:()=>i,u:()=>r});const r=["161","164","159","1203","9786","21501","58871","110317","110408","165","162","110411","51459","110376","52248","166","15791","111593","363","469","879","10803","111594","112656","112658","21387","558","16677"],i=["305","652","5603","382","651","110355","58858","20165","13102","13726","56759","14942","69989","13597","51009","53986","70190","67142","50870","110479","110353","110351","110352","69491","110975","110998","405","7689"]},70498:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var r=s(99259),i=s(69158);const a=`inset 0 -1px ${r.T.gray_e6e6e6}`,n=`inset 0 1px ${r.T.gray_e6e6e6}`,o={one:"0 0 1px rgba(0, 0, 0, .25)",logo:"0 0 1px 1px rgba(0, 0, 0, .25)",outerRight:"1px 0 3px 0 rgba(38, 38, 38, 0.25)",outerLeft:"-1px 0 0 0 rgba(38, 38, 38, 0.115)",outerTop:"0 -1px 3px 0 rgba(38, 38, 38, 0.25)",minicardHighLighted:`inset 3px 0 0 0 ${r.T.green_299400}`,minicardHighLightedSingle:`inset 3px 0 0 0 ${r.T.green_299400}, ${a}`,popupBorderBottom:"0 1px 3px 0 rgba(64, 64, 64, 0.5)",darkBorderBottom:"inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)",popup:`0 1px 3px 0 ${(0,i.m)(r.T.gray_262626,.5)}`,innerBorderBase:`inset 0 0 0 1px ${r.T.gray_e6e6e6}`,innerBorderTransparent:`inset 0 0 0 1px ${(0,i.m)(r.T.black,.1)}`,innerBorderActive:`inset 0 0 0 1px ${r.T.green_299400}`,innerBorderFocus:`inset 0 0 0 1px ${r.T.blue_0072ce}`,innerBorderDisabled:`inset 0 0 0 1px ${r.T.gray_f2f2f2}`,innerBorderBottomBase:a,innerBorderTopBase:n,innerBorderEndBase:`logical inset -1px 0 ${r.T.gray_e6e6e6}`,innerBorderStartBase:`logical inset 1px 0 0 0 ${r.T.gray_e6e6e6}`,innerBorderTopBaseWithCurrentColor:"inset 0 -1px currentColor",innerBorderTopBottom:`${a}, ${n}`,photoItemBorderBottom:`inset -1px 0 0 0 ${r.T.white}`,openedRouteEditorBillboardBanner:`0px 3px 10px 0px ${(0,i.m)(r.T.gray_262626,.15)}`}},80690:(e,t,s)=>{"use strict";s.d(t,{C6:()=>a,aY:()=>r,ts:()=>i});const r=" ",i="–",a="–"},86645:(e,t,s)=>{"use strict";s.d(t,{V:()=>K});var r=s(31085),i=s(99259),a=s(84175),n=s(81618),o=s(14041),c=s(60784),d=s(32288),l=s(65290),u=s(46645);const p=e=>({frameId:t},s)=>{const{entity:r,position:i,ownerName:a}=e;return{uiElement:{name:"buyHerePartnersLink",ownerName:a,frameUuid:t},action:"tap",payload:{placeItem:(0,d.ij)({entity:r,position:i}),searchResultsList:(0,l.tp)({state:s,searchFrameId:t}),promoItem:(0,u.j)({state:s,frameId:t})}}};var m=s(8365),g=s(96141),h=s(79594),f=s(10742),b=s(6532),v=s(7860),y=s(19899);const x=(0,o.memo)((e=>{const{entity:t,position:s,ownerName:i}=e,a=(0,v.z)(t.ads),n=(0,y.R)(t.ads),{bssRef:o,useBssHandler:c}=(0,m.E)((x={entity:t,position:s,ownerName:i},({frameId:e},t)=>{const{entity:s,position:r,ownerName:i}=x;return{uiElement:{name:"buyHerePartnersLink",ownerName:i,frameUuid:e},payload:{placeItem:(0,d.ij)({entity:s,position:r}),searchResultsList:(0,l.tp)({state:t,searchFrameId:e}),promoItem:(0,u.j)({state:t,frameId:e})}}}));var x;const j=c(p,{entity:t,position:s,ownerName:i}),w=(0,h.wA)(),_=(0,f.D)((()=>{a&&(j(),w((0,b.X)({adsIds:a.ownedRubricId,isFMCG:n})))}));return a?(0,r.jsx)(g.$,Object.assign({containerRef:o,medium:!0,appearance:"noncontrast",onClick:_,dataN:"wat-buy-here-owner-minicard"},{children:a.controlTitle})):null}));x.displayName="BuyHereOwnerLink";var j=s(86938),w=s(91650),_=s(64099),C=s(88114),I=s(91905);const k=o.forwardRef(((e,t)=>{const{compact:s,medium:i,backgroundColor:n,logo:o,isExternal:c,href:d,onClick:l,appearance:u,styles:p,value:m,isPhone:h}=e,{css:f,s:b}=(0,a.I)(O);return(0,r.jsx)(g.$,Object.assign({containerRef:t,compact:s,medium:i,appearance:u,background:n,href:d,onClick:l,external:c,experimentalStyles:p,dataN:"wat-ads-cta-button"},{children:(0,r.jsxs)("div",Object.assign({className:f(b.content)},{children:[o&&(0,r.jsx)("div",Object.assign({className:f(b.logo)},{children:(0,r.jsx)(C.E,{src:o,height:16,width:16,isLoadingForced:!0})})),m,h&&(0,r.jsx)("div",Object.assign({className:f(b.phoneIcon,i&&b._mediumPhoneIcon)},{children:(0,r.jsx)(I.b,{size:i?18:void 0})}))]}))}))})),O=(0,a.r)({logo:{width:16,height:16,borderRadius:_.Vq.default,overflow:"hidden",marginEnd:8},content:{width:"100%",height:"100%",display:"flex",alignItems:"center"},phoneIcon:{height:24,width:24,paddingStart:4},_mediumPhoneIcon:{marginTop:-2,height:16,width:16}});var S=s(9101),T=s(69158),E=s(15471),M=s(98379),P=s(80905);const L=e=>t=>{const{parent:s,action:r,ownerFrameId:i,orgId:a,adsPosition:n,entity:o,placeItemPosition:c,position:l}=e,u=N(s),p=(0,P.w1)(t.appContext.frames,i),m="placeCardMini"!==u?(0,M.t)({state:t,entityFrameId:i}):(0,d.ij)({entity:o,position:c}),g="directorySearchResultsFrame"===u&&"branch"===o.type?{org:o.org.id}:void 0;return{uiElement:{name:"callToActionButton",ownerName:u,frameUuid:i,position:l},action:"tap",payload:{callToAction:{actionType:r.type,value:r.value,contentOwner:a&&n?{org:a,adsPosition:"video"===s||p&&"search"===p.type&&"fmcg"===p.searchType?"fmcg":n,adsId:null==m?void 0:m.adsId}:void 0},placeItem:m,filialsList:g}}},N=e=>{switch(e){case"orgInfo":return"directorySearchResultsFrame";case"video":return"videoFrame";case"placeCardMini":return"placeCardMini";default:return"placeCardFull"}};var A=s(7335),R=s(48914);const z=e=>{const[t,s]=(0,o.useState)(!1),{action:i,logo:a,backgroundColor:c,orgId:l,adsPosition:u,parent:p,entity:g,appearance:b,medium:v,compact:y,styles:x,position:_,placeItemPosition:C,onObserve:I}=e,O=(0,o.useRef)(null),z="placeCardMini"===p,{frameId:U}=(0,o.useContext)(E.X),B=(0,h.wA)(),{showEventOrdinal:H,bssRef:F}=(0,m.E)((D={entity:g,ownerFrameId:U,adsPosition:u,placeItemPosition:C,position:_,action:i,parent:p,orgId:l},({frameId:e},t)=>{const{entity:s,adsPosition:r,position:i,placeItemPosition:a,action:n,parent:o,orgId:c}=D,l=N(o),u=(0,P.w1)(t.appContext.frames,e),p="placeCardMini"!==l?(0,M.t)({state:t,entityFrameId:e}):(0,d.ij)({entity:s,position:a}),m={actionType:n.type,value:n.value},g="directorySearchResultsFrame"===l&&"branch"===s.type?{org:s.org.id}:void 0;return c&&r?{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:e,position:i},payload:{callToAction:Object.assign(Object.assign({},m),{contentOwner:{org:c,adsPosition:"video"===o||u&&"search"===u.type&&"fmcg"===u.searchType?"fmcg":r,adsId:null==p?void 0:p.adsId}}),placeItem:p,filialsList:g}}:{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:e,position:i},payload:{callToAction:m,placeItem:p,filialsList:g}}}),{threshold:.8});var D;(0,o.useEffect)((()=>(O.current||(O.current=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(null==I||I())}))}),{threshold:.9})),O.current.observe(F.current),()=>{var e;null===(e=O.current)||void 0===e||e.disconnect()})),[F,I]);const V="phone"===i.type,Z=i.isExternal&&"phone"!==i.type||"phone"===i.type&&t,$=(0,f.D)((()=>{"link"!==i.type&&(V&&s(!0),i.isExternal||B((0,S.O)({actionType:i.type,entityId:g.id,value:i.value})),B((0,A.eU)(L({action:i,parent:p,ownerFrameId:U,orgId:l,entity:g,position:_,placeItemPosition:C,adsPosition:u}),(e=>(0,R.cD)(e)))))})),q=e=>(0,r.jsx)(k,{ref:F,isExternal:Z,appearance:b,medium:v,compact:y,isPhone:"phone"===i.type,href:e,onClick:$,value:t?i.value:i.name,logo:a,styles:x,backgroundColor:z?c&&`linear-gradient(62.12deg, ${(0,T.m)(c,.17)} 0%, ${(0,T.m)(c,.06)} 100%)`:c});return(0,r.jsx)("div",Object.assign({},n.dx.n("wat-ads-cta"),{children:"link"===i.type?(0,r.jsx)(w.$.Consumer,{children:e=>(0,r.jsx)(j.L,Object.assign({highPriorityEventOrdinal:"placeCardMini"===p,showEventOrdinal:e||H,actionEventParamsSelector:L({action:i,parent:p,ownerFrameId:U,placeItemPosition:C,orgId:l,entity:g,position:_,adsPosition:u}),originalHref:i.value||""},{children:e=>q(e)}))}):q(i.href)}))};var U=s(55322),B=s(89379),H=s(76065);const F=e=>{const{onObserveItem:t,list:s,entity:c,isMiniCard:d,isMiniBranchSelected:l,placeItemPosition:u}=e,p=(0,o.useRef)(null),{isStartArrowShown:m,isEndArrowShown:g,clickArrowStart:h,clickArrowEnd:f}=(0,U.j)({scrollboxRef:p}),{s:b,css:v}=(0,a.I)(D),y=(e,s)=>(0,r.jsx)(z,{action:e.action,backgroundColor:"entityAction"===e.type?e.backgroundColor:void 0,placeItemPosition:u,entity:c,orgId:"buyHere"===e.type?e.orgId:void 0,logo:"buyHere"===e.type?e.logo:void 0,adsPosition:"buyHere"===e.type?e.adsPosition:void 0,parent:d?"placeCardMini":"branch",position:s.inList?s.index+1:void 0,appearance:"noncontrast",styles:s.inList?b.listItem:void 0,medium:!0,onObserve:()=>null==t?void 0:t(s.index)},`${d?"placeCardMini":"branch"}_callToAction_${c.id}${"buyHere"===e.type?`_${e.orgId}`:""}`);return 1===s.length?y(s[0],{index:0,inList:!1}):(0,r.jsxs)("div",Object.assign({className:v(b.slider)},{children:[(0,r.jsx)(B.h,Object.assign({gap:8,offset:0,containerRef:p},{children:s.map(((e,t)=>y(e,{index:t,inList:!0})))})),m&&(0,r.jsx)("button",Object.assign({className:v(b.arrow,b.arrowLeft,l&&b.arrowSelectedLeft)},n.dx.n("wat-cta-carousel-arrow-start"),{onClick:h,type:"button"},{children:(0,r.jsx)(H.i,{direction:"left",color:i.T.black})})),g&&(0,r.jsx)("button",Object.assign({className:v(b.arrow,b.arrowRight,l&&b.arrowSelectedRight)},n.dx.n("wat-cta-carousel-arrow-end"),{onClick:f,type:"button"},{children:(0,r.jsx)(H.i,{direction:"right",color:i.T.black})}))]}))},D=(0,a.r)((e=>({listItem:{width:"100%",minWidth:e.mobile?190:168,whiteSpace:"nowrap","& > div":{justifyContent:"center"}},slider:{overflowX:"auto",position:"relative"},arrow:{position:"absolute",top:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,"::before":{content:'""',pointerEvents:"none",width:32,height:32,position:"absolute",top:0,bottom:0}},arrowLeft:{left:0,"::before":{left:0,background:"linear-gradient(to right, #FFFFFF 50%, rgba(255, 255, 255, 0.85) 76.12%, rgba(255, 255, 255, 0.1) 100%)"}},arrowRight:{left:"auto",right:0,"::before":{right:0,background:"linear-gradient(to left, #FFFFFF 50%, rgba(255, 255, 255, 0.85) 76.12%, rgba(255, 255, 255, 0.1) 100%)"}},arrowSelectedLeft:{"::before":{background:"linear-gradient(to right, rgb(249, 249, 249) 50%, rgba(249, 249, 249, 0.85) 76.12%, rgba(249, 249, 249, 0.1) 100%)"}},arrowSelectedRight:{"::before":{background:"linear-gradient(to left, rgb(249, 249, 249) 50%, rgba(249, 249, 249, 0.85) 76.12%, rgba(249, 249, 249, 0.1) 100%)"}}})));var V=s(14193),Z=s(95885),$=s(43322),q=s(9019),W=s(67143),G=s(24896),Q=s(82781);const K=(0,o.memo)((e=>{var t,s,i,d,l,u,p,m,g;const{entity:h,position:f,isMiniCard:b,withoutLogo:y,isMiniBranchSelected:j}=e,{css:w,s:_}=(0,a.I)(Y),C=(0,Q.c)(),[I,k]=(0,o.useState)(0),O=((e,t,s)=>{var r,i,a,n,o,c,d,l,u;if(null===(a=null===(i=null===(r=e.ads)||void 0===r?void 0:r.options)||void 0===i?void 0:i.actions)||void 0===a?void 0:a.find((e=>{var t;return!e.platforms||(null===(t=e.platforms)||void 0===t?void 0:t.includes("online"))}))){const t=(0,v.S)(e.ads.options.actions,"online",s._t("Узнать больше"));return t?[{action:t,backgroundColor:null===(o=null===(n=e.ads)||void 0===n?void 0:n.options)||void 0===o?void 0:o.color,type:"entityAction"}]:[]}if(null===(d=null===(c=e.ads)||void 0===c?void 0:c.options)||void 0===d?void 0:d.buy_here){const r="placeCardMini"===t;return(0,V.l)(e,{checkByCtaList:r}).reduce(((e,t)=>{if(t.actions){const r=(0,v.S)(t.actions,"online",s._t("Узнать больше"),t.branch_id);if(!r)return e;const i={type:"buyHere",action:r,orgId:t.org_id,branchId:t.branch_id,logo:(0,Z.Y)(t.logo,"48x48"),adsPosition:"buyHere",adsTexts:t.ads_texts,isFmcg:!(!t.images&&!t.videos)};return e.concat(i)}return e}),[])}return"placeCardMini"===t&&(null===(u=null===(l=e.ads)||void 0===l?void 0:l.options)||void 0===u?void 0:u.fmcg)?e.ads.options.fmcg.reduce(((e,t)=>{var r;if(t.cta_list&&t.actions){const i=(0,v.S)(t.actions,"online",s._t("Узнать больше"),t.branch_id);if(!i)return e;const a={type:"buyHere",action:i,orgId:t.org_id,branchId:t.branch_id,adsPosition:"fmcg",logo:(0,Z.Y)(null===(r=t.logo)||void 0===r?void 0:r[0],"32x32"),adsTexts:{text_warning:t.text_warning}};return e.concat(a)}return e}),[]):[]})(h,b?"placeCardMini":"branch",C),S=O.some((e=>"buyHere"===e.type))?O[I]:void 0,T=b&&!!(null===(i=null===(s=null===(t=h.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here_owner)||void 0===i?void 0:i[0])||!!(null===(u=null===(l=null===(d=h.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.fmcg_owner)||void 0===u?void 0:u[0]),E=!b&&!!(null===(m=null===(p=h.ads)||void 0===p?void 0:p.options)||void 0===m?void 0:m.poi),M=(0,W.B)(h),P=y?void 0:function(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options;return t&&t.logo}(h),L=S?S.adsTexts.text:null===(g=h.ads)||void 0===g?void 0:g.text,N=!!(O.length||T||b),A=(0,G.fu)(h,{enabled:!N}),R=(e=>{var t,s;const{entity:r,buyHere:i,buildingBanner:a}=e;return i?{adsWarning:null===(t=i.adsTexts)||void 0===t?void 0:t.text_warning,adInfoParams:{source:"buyHere",entityId:i.branchId,frameEntityId:r.id}}:a?{legalName:a.legalName,adInfoParams:{source:"banner",legalName:a.legalName,erid:a.erid}}:{adInfoParams:{entityId:r.id,source:"card"},adsWarning:null===(s=r.ads)||void 0===s?void 0:s.text_warning,legalName:r.name_ex?r.name_ex.legal_name:void 0}})({entity:h,buyHere:S,buildingBanner:A.data}),z=!!(L||R.adsWarning||O.length||T||E||A.data);if(!(L||R.adsWarning||O.length||T||E||M||A.data))return null;const U=O.filter((e=>"entityAction"===e.type||!e.isFmcg));return(0,r.jsxs)("div",Object.assign({className:w(_.root)},{children:[(0,r.jsxs)("div",Object.assign({className:w(_.side)},{children:[!!L&&(0,r.jsx)("div",Object.assign({className:w(_.text)},n.dx.n("wat-ads-text"),{children:L})),z&&(0,r.jsx)("div",Object.assign({className:w(_.warning)},{children:(0,r.jsx)(c.a,{text:R.adsWarning,legalName:R.legalName,adInfo:R.adInfoParams})})),(0,r.jsx)("div",Object.assign({className:w(_.cta)},{children:U.length?(0,r.jsx)(F,{placeItemPosition:f,isMiniCard:b,isMiniBranchSelected:j,onObserveItem:e=>k(e),list:U,entity:h}):T?(0,r.jsx)(x,{entity:h,position:f,ownerName:b?"placeCardMini":"cardInformation"}):!b&&!A.isLoading&&(0,r.jsx)(q.I,{frameName:"entity",entity:h,isBuildingBannerDisabled:N})}))]})),!!P&&(0,r.jsx)("div",Object.assign({className:w(_.logo)},{children:(0,r.jsx)($.g,{size:40,entity:h,isLoadingForced:!b})}))]}))})),Y=(0,a.r)({root:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${i.T.gray_e6e6e6}`,":empty":{display:"none"}},side:{flexGrow:1,overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",":empty":{display:"none"}},text:{marginBottom:4,":empty":{display:"none"}},warning:{marginBottom:10,":empty":{display:"none"}},logo:{marginStart:12,":empty":{display:"none"}},cta:{display:"flex",":empty":{display:"none"}}})},86938:(e,t,s)=>{"use strict";s.d(t,{L:()=>g});var r=s(31085),i=s(14041),a=s(48914),n=s(60077),o=s(27942),c=s(96624);const d={bssTrackAction:a.cD};class l extends i.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.event&&this.props.bssTrackAction(this.props.event)}}render(){const{linkUrl:e}=this.props;return(0,r.jsx)("span",Object.assign({onClickCapture:this.onClick},{children:this.props.children(e)}))}}const u=(0,o.J)(((e,{config:t})=>({webApiKey:t.webApiKey,commitIsoDate:t.commitIsoDate,bssV3Url:t.bssV3LinkEndpoint,bssV3Link:t.bssV3Link,abTest:t.experiments,clientId:Number(t.clientId),isMobileDevice:t.isMobileDevice,sendPrivacyData:!t.featureReadOnly})))((0,n.M)({selectors:()=>{const e=(0,c.Iq)();return({showEventOrdinal:t,actionEventParamsSelector:s,originalHref:r,commitIsoDate:i,webApiKey:a,bssV3Url:n,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})=>({event:e=>s?s(e):void 0,linkUrl:e({actionEventParamsSelector:s,originalHref:r,showEventOrdinal:t,webApiKey:a,commitIsoDate:i,bssV3Url:n,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})})},handlers:d})(l));var p=s(80960),m=s(46579);const g=e=>{const{featureReadOnly:t}=(0,m.U)(),s=i.useContext(p.V);if(t)return(0,r.jsx)(r.Fragment,{children:e.children(e.originalHref)});const a=e.highPriorityEventOrdinal||void 0===s.showEventOrdinal?e:Object.assign(Object.assign({},e),{showEventOrdinal:s.showEventOrdinal});return(0,r.jsx)(u,Object.assign({},a))}},96624:(e,t,s)=>{"use strict";s.d(t,{gY:()=>l,Iq:()=>d});var r=s(50432),i=s(53157),a=s(35023),n=s(24272),o=s(48518);function c(e){try{return new URL(e).toString()}catch(e){}return e}const d=()=>{let e,t,s;return d=>l=>{const{showEventOrdinal:u,actionEventParamsSelector:p,originalHref:m,commitIsoDate:g,webApiKey:h,bssV3Url:f,bssV3Link:b,abTest:v,clientId:y,isMobileDevice:x,sendPrivacyData:j}=d,w=p?p(l):void 0;if(void 0===u||!w)return m;if(e&&t===u&&m===s)return e;const _={type:211,eventType:"action",eventId:(0,a.W7)(),actionType:"externalLink",eventOrdinal:0,uiElement:w.uiElement,payload:Object.assign(Object.assign({},w.payload),{externalLink:{forkEventOrdinal:u,parentTabId:l.config.tabId}})},C=(0,n._)({tabId:(0,a.W7)(),apikey:h,commitIsoDate:g,deviceLocale:l.session.browserLocale,state:l,eventParams:_,enhancedAttrs:{},abTest:v,clientId:y,isMobileDevice:x,sendPrivacyData:j});return s=m,t=u,e=function({eventParams:e,href:t,bssV3Url:s,bssV3Link:a}){if("undefined"==typeof window||!e)return t;if(t.startsWith("tel:"))return t;let n="";const d=-1===s.indexOf("http")?`http:${s}`:s,l=t.replace(/^https?:\/\/link\.(2gis\.ru|2gis\.com|urbi\.ae)[^?]+\?/,"")||void 0;if(!l)return t;try{n=[c(l),d,e].join("\n");const t=(0,i.WG)(n);return`${a}4.2/${(0,i.jM)(`6bR0Lasa39YtYL9sMu/${t}/`)}/${encodeURIComponent(t)}`}catch(e){(0,r.vV)({level:"warn",message:"Не удалось запаковать в base64 урл",id:"aj48e",payload:{type:"exception",subtype:"MakeBase64Link",stack:(0,o.N)(e),data:JSON.stringify({resolvedUrl:l,linkParamsString:n})}})}return t}({eventParams:JSON.stringify([(0,a.kk)(C)]),href:m,bssV3Url:f,bssV3Link:b}),e}},l=e=>{const{showEventOrdinal:t,actionEventParamsSelector:s,originalHref:r,config:i}=e,a=d(),n=i.webApiKey,o=i.commitIsoDate,c=i.bssV3LinkEndpoint,l=i.bssV3Link,u=i.experiments,p=Number(i.clientId),m=i.isMobileDevice;return a({originalHref:r,showEventOrdinal:t,actionEventParamsSelector:s,webApiKey:n,bssV3Url:c,bssV3Link:l,sendPrivacyData:!i.featureReadOnly,commitIsoDate:o,abTest:u,clientId:p,isMobileDevice:m})}},27293:(e,t,s)=>{"use strict";s.d(t,{$8:()=>w,OB:()=>j,Xy:()=>C});var r=s(66333),i=s(56803),a=s(33626),n=s(20919),o=s(54694),c=s(43793),d=s(29711),l=s(35023),u=s(81338),p=s(42451),m=s(82393),g=s(21959),h=s(98638),f=s(80905);const b=(0,r.Mz)([e=>(0,f.bB)(e.appContext.frames,"search")],(e=>"search"===(null==e?void 0:e.type)&&"query"===e.searchType?e.seoFakeEntityId:void 0)),v=({page:e,searchId:t,gtaId:s,pagination:r,seoFakeEntityId:i})=>{const a=null==r?void 0:r[e],n=a&&i&&1===e?[i,...a.data.filter((e=>e!=i))||[]]:void 0;return{result:n?Object.assign(Object.assign({},a),{data:n}):a,context:{searchId:t,page:e,gtaId:s}}},y=(0,r.Mz)([({props:e})=>(0,n.t)(e.frame),({props:e})=>(0,c.X)(e.frame,"actual"),({props:e})=>(0,p.j)(e.frame,"actual"),({state:e,props:t})=>(0,i.Fs)({state:e,searchId:(0,c.X)(t.frame,"actual")||""}),({state:e})=>b(e)],((e,t,s,r,i)=>v({page:e,searchId:t,gtaId:s,pagination:r,seoFakeEntityId:i}))),x=(0,r.Mz)([({props:e})=>(0,o.U)(e.frame),({props:e})=>(0,c.X)(e.frame),({props:e})=>(0,p.j)(e.frame),({state:e,props:t})=>(0,i.Fs)({state:e,searchId:(0,c.X)(t.frame)||""}),({state:e})=>b(e)],((e,t,s,r,i)=>v({page:e,searchId:t,gtaId:s,pagination:r,seoFakeEntityId:i}))),j=(0,r.Mz)([({state:e,props:t})=>y({state:e,props:t}),({state:e,props:t})=>x({state:e,props:t})],((e,t)=>(0,u.u)(e,t))),w=(0,r.Mz)([j,({state:e})=>e.data.entity.profile],((e,t)=>{var s,r;return null===(r=null===(s=null==e?void 0:e.result)||void 0===s?void 0:s.data)||void 0===r?void 0:r.map((e=>t[e]&&t[e].data)).filter(l.t2)}),{compareByFirstArgOnly:!0}),_=(0,r.Mz)([j,w,e=>{var t,s,r;const i=null===(s=null===(t=j(e))||void 0===t?void 0:t.context)||void 0===s?void 0:s.gtaId;return i?null===(r=e.state.data.gta[i])||void 0===r?void 0:r.banners:void 0},e=>{var t,s,r;const i=null===(s=null===(t=j(e))||void 0===t?void 0:t.context)||void 0===s?void 0:s.gtaId;return i?null===(r=e.state.data.gta[i])||void 0===r?void 0:r.stories:void 0},({props:e})=>(0,d.p)(e.frame),({state:e})=>(0,m.MJ)(e),({state:e})=>(0,g.x3)(e),({props:e})=>function(e){const t=(0,h.G)(e);return t&&"true"===t.friends_were_here}(e.frame),({state:e,props:t})=>(0,i.s8)({state:e,searchId:(0,c.X)(t.frame,"actual")})],((e,t,s,r,i,a,n,o,c)=>({selected:e,stories:r,pageEntities:t,gtaBanners:s,shortScheduleFormat:!i,projectId:a,isUserExists:n,isFriendsWereHereFilterContain:o,searchProfile:c}))),C=(0,a.tr)(((e,t)=>_({state:e,props:t})))},21409:(e,t,s)=>{"use strict";s.d(t,{F:()=>m});var r=s(31085),i=s(84175),a=s(9367),n=s(55143),o=s(26428),c=s(14041),d=s(36224),l=s(83639),u=s(6458),p=s(81618);const m=(0,c.memo)((e=>{const{css:t,s:s}=(0,i.I)(g),{entity:c}=e;switch(c.type){case"branch":return(0,o.S)(c)?(0,r.jsx)("span",Object.assign({className:t(s.wrapper)},p.dx.n("wat-mini-crown"),{children:(0,r.jsx)(a.O,{})})):null;case"route":return(0,u.m)(c.subtype,c.route_logo)?(0,r.jsx)("span",Object.assign({className:t(s.wrapper)},{children:(0,r.jsx)(d.B,{background:(0,l.l)(c),regionCode:(0,n.f)(c),routeLogo:c.route_logo,showLineNumber:!0})})):null;case"station_entrance":case"station_platform":case"station":return(0,u.m)(c.subtype,c.route_logo)&&c.routes?(0,r.jsx)("div",Object.assign({className:t(s.wrapper)},{children:c.routes.map((e=>(0,u.m)(e.subtype,e.route_logo)?(0,r.jsx)(d.B,{background:(0,l.l)(e),regionCode:(0,n.f)(c),routeLogo:e.route_logo,showLineNumber:!0},e.id):null))})):null;default:return null}})),g=(0,i.r)({wrapper:{display:"inline-flex",verticalAlign:"middle",marginTop:-2,gap:2}})},95845:(e,t,s)=>{"use strict";s.d(t,{RJ:()=>c,TX:()=>u,oM:()=>o,p0:()=>d});var r=s(7540),i=s(82393),a=s(57744),n=s(42625);const o=e=>({frameId:t},s)=>{const{banner:r,ownerName:i,rubrics:a}=e,n=l({banner:r,ownerName:i,rubrics:a,frameId:t,state:s});return{uiElement:{name:"adsBanner",ownerName:i,frameUuid:t},payload:Object.assign({},n)}},c=e=>({frameId:t},s)=>{const{banner:r,ownerName:i,rubrics:a}=e,n=l({banner:r,ownerName:i,rubrics:a,frameId:t,state:s});return{action:"tap",uiElement:{name:"adsBanner",ownerName:i,frameUuid:t},payload:Object.assign({},n)}},d=e=>t=>{const{banner:s,ownerName:r,rubrics:i,frameId:a}=e,n=l({banner:s,ownerName:r,rubrics:i,frameId:a,state:t});return{action:"tap",uiElement:{name:"adsBanner",ownerName:r,frameUuid:a},payload:Object.assign({},n)}},l=e=>{const{banner:t,ownerName:s,rubrics:r,frameId:i,state:a}=e,o=u({banner:t,rubrics:r,state:a}),c=(0,n.v)({frameUuid:i,ownerName:s,state:a});return Object.assign({adsBanner:o},c)},u=e=>{const{banner:t,state:s,rubrics:n}=e,o=(0,i.MJ)(s),c=(0,a.u)(s);return{entity:{id:t.ad_attributes.branch_id?t.ad_attributes.branch_id:t.org.id,type:t.ad_attributes.branch_id?"branch":"org",segmentInfo:(0,r.o)({locale:c,region_id:o})},org:t.org.id,mainRubric:t.main_rubric_id?`${t.main_rubric_id}`:void 0,adsId:t.ad_attributes.ads_id,auctionId:t.ad_attributes.auction_id,contextRubric:(null==n?void 0:n[0][0])?`${null==n?void 0:n[0][0]}`:void 0,adsMaterialVersionId:t.ad_attributes.banner_id,adsAlgorithm:t.ad_attributes.algorithm_id}}},10005:(e,t,s)=>{"use strict";s.d(t,{u:()=>n});var r=s(85608),i=s(78170),a=s(35023);const{use:n}=(0,i.V)("ads advise gta online",(e=>[(0,a.cJ)(e,["viewport"]),({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){var s;const r=yield t.webApi.getAdsAdviseGtaOnline(e),i=(null===(s=r.banners[0])||void 0===s?void 0:s.ad_attributes.content.html)?r.banners[0].ad_attributes.content.html:void 0;if(!i)return r;const a=yield fetch(i).then((e=>e.text()));return Object.assign(Object.assign({},r),{banners:[Object.assign(Object.assign({},r.banners[0]),{ad_attributes:Object.assign(Object.assign({},r.banners[0].ad_attributes),{content:Object.assign(Object.assign({},r.banners[0].ad_attributes.content),{html:a})})})]})}))]),{cacheTime:0,staleTime:0})},14357:(e,t,s)=>{"use strict";s.d(t,{Y:()=>ie});var r=s(31085),i=s(14041),a=s(60077),n=s(7515),o=s(81618),c=s(27942),d=s(26461),l=s(7860),u=s(95885),p=s(76504),m=s(26064),g=s(64099),h=s(68076),f=s(70498),b=s(30498),v=s(10520),y=s(33466),x=s(96141),j=s(21252),w=s(98379),_=s(65290),C=s(31203),I=s(48914),k=s(7335),O=s(46645);const S=e=>t=>{const{action:s,miniCardPosition:r,bannerPosition:i,ownerFrameId:a,banner:n}=e;return{uiElement:{name:"callToActionButton",ownerName:"adsBanner",position:r,frameUuid:a},action:"tap",payload:{callToAction:{actionType:s.type,value:s.value,contentOwner:void 0},searchResultsList:(0,_.tp)({state:t,searchFrameId:a}),promoItem:(0,O.j)({state:t,frameId:a}),placeItem:(0,w.t)({state:t,entityFrameId:a}),adsBanner:(0,C.V)({state:t,banner:n,position:i})}}};var T=s(86938),E=s(99259),M=s(69158);class P extends i.PureComponent{constructor(){super(...arguments),this.state={showPhone:!1},this.renderButton=e=>{const{action:t,bssRef:s,s:i}=this.props,a=t.isExternal&&"phone"!==t.type||"phone"===t.type&&this.state.showPhone;return(0,r.jsx)("div",Object.assign({ref:s},{children:(0,r.jsx)(x.$,Object.assign({compact:!0,href:e,external:a,onClick:this.onClick,dataN:"wat-gta-banner-action",dataT:t.type,experimentalStyles:i.button},{children:this.state.showPhone?t.value:t.name}))}))},this.onClick=()=>{const{action:e,onMiniCardClick:t,miniCardPosition:s,bannerPosition:r,ownerFrameId:i,banner:a,bssOnCTATap:n,searchBuyHere:o}=this.props;"link"!==e.type&&("phone"===e.type&&this.setState({showPhone:!0}),e.isExternal||("search_buy_here"===e.type?o({adsIds:e.value}):t()),n({action:e,miniCardPosition:s,bannerPosition:r,ownerFrameId:i,banner:a}))}}render(){const{action:e,bannerPosition:t,miniCardPosition:s,ownerFrameId:i,banner:a,showEventOrdinal:n}=this.props;return"link"===e.type?(0,r.jsx)(T.L,Object.assign({highPriorityEventOrdinal:!0,showEventOrdinal:n,actionEventParamsSelector:S({action:e,miniCardPosition:s,bannerPosition:t,ownerFrameId:i,banner:a}),originalHref:e.href||""},{children:this.renderButton})):this.renderButton()}}P.displayName=(0,d.d)("src/shared/containers/gtaMiniCardAds/components/gtaMiniCardCta");const L={button:{backgroundColor:(0,M.m)(E.T.yellow_ffb81c,.3),color:E.T.gray_262626}},N=(0,j.f)(((e,t)=>{const{action:s,ownerFrameId:r}=e;return{uiElement:{name:"callToActionButton",ownerName:"adsBanner",frameUuid:r},payload:{callToAction:{actionType:s.type,value:s.value},placeItem:(0,w.t)({state:t,entityFrameId:r})}}}),(e=>({bssOnCTATap(t){e((0,k.eU)(S(t),(e=>(0,I.cD)(e))))}})))((0,h.Xy)(L)(P));var A=s(42625),R=s(60784),z=s(68887),U=s(82193),B=s(98626),H=s(11264);class F extends i.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{branchId:e,banner:t,bssOnBannerClick:s,onBannerClick:r}=this.props;r({entityId:e,hash:t.hash}),s()},this.onCtaButtonClick=()=>{const{branchId:e,banner:t,onBannerClick:s}=this.props;s({entityId:e,hash:t.hash})}}render(){const{name:e,text:t,extension:s,logoUrl:i,isSearchBot:a,action:n,miniCardPosition:c,bannerPosition:d,s:l,isHovered:u,isActive:g,hoverableHandlers:h,bssRef:f,banner:b,textWarning:y,searchBuyHere:x,erid:j,legalName:w,config:_}=this.props,{lang:C}=_;return(0,r.jsx)(U.F,{children:(0,r.jsxs)("div",Object.assign({ref:f,className:(0,m.AH)(l.root,g&&l._active),onClick:this.onClick},o.dx.n("wat-gta-mini-card"),h,{children:[i&&(0,r.jsx)("div",Object.assign({className:(0,m.AH)(l.logo)},o.dx.n("wat-gta-banner-logo"),{children:(0,r.jsx)(p.O,{src:i,isLoadingForced:a,alt:"ru"===C?"Логотип":void 0})})),(0,r.jsx)("div",Object.assign({className:(0,m.AH)(l.name,u&&l._nameHovered)},{children:(0,r.jsx)(v.E,Object.assign({lead:!0,dataN:"wat-gta-banner-object-name"},{children:e}))})),s&&(0,r.jsx)(v.E,Object.assign({note:!0},{children:s})),(0,r.jsxs)("div",Object.assign({className:(0,m.AH)(l.adsText)},o.dx.n("wat-gta-banner-ads-text"),{children:[(0,r.jsx)(v.E,Object.assign({dataN:"wat-gta-banner-ads-text"},{children:t})),(0,r.jsx)(B.Q,{suffix:!0,source:"banner",erid:j,legalName:w,dataN:"wat-gta-adv-mark"})]})),n&&(0,r.jsx)("div",Object.assign({className:(0,m.AH)(l.cta)},{children:(0,r.jsx)(N,{banner:b,action:n,onMiniCardClick:this.onCtaButtonClick,miniCardPosition:c,bannerPosition:d,searchBuyHere:x})})),!!y&&(0,r.jsx)(R.a,{text:y,mt:"4",dataN:"wat-gta-banner-text-warning"})]}))})}}F.displayName=(0,d.d)("src/shared/containers/gtaMiniCardAds/components/gtaMiniCard");const D={root:{marginBottom:8,background:E.T.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:24,border:`1px solid ${E.T.gray_e6e6e6}`,borderRadius:z.V.default,boxShadow:`0 1px 3px 0 ${E.T.gray_e6e6e6}`,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${y.S.short}ms`,":hover":{background:E.T.orange_fff0c8},"@media print":{display:"none"}},_active:{boxShadow:f.E.minicardHighLighted,background:E.T.orange_fff0c8},logo:{float:"end",width:g.Ej.cardLogo,height:g.Ej.cardLogo,borderRadius:"50%",overflow:"hidden",backgroundColor:E.T.white,boxShadow:f.E.logo},name:{color:E.T.blue_0072ce},_nameHovered:{color:E.T.gray_262626},adsText:{marginTop:8},extension:{color:E.T.gray_929292},cta:{marginTop:8}},V=(0,c.J)((({banner:e,openedEntityId:t},{tp:s})=>{const{name_ex:r,ad_attributes:{branch_id:i,content:{text:a,text_warning:n,options:o},erid:c,legal_name:d},org:p}=e;return{branchId:i,orgId:p.id,name:r.primary,extension:r.extension,text:a,textWarning:n,logoUrl:o&&(0,u.Y)(o.logo,"112x112"),showFilials:p.branch_count>1,filialsNumber:p.branch_count,action:(0,l.S)(null==o?void 0:o.actions,"online",s._t("Подробнее")),isActive:!(!t||t!==i),erid:c,legalName:d}}))((0,j.f)(((e,t)=>{const{ownerName:s,miniCardPosition:r,bannerPosition:i,banner:a,ownerFrameId:n}=e;return{uiElement:{name:"adsBanner",ownerName:s,position:r,frameUuid:n},payload:Object.assign({adsBanner:(0,C.V)({banner:a,position:i,state:t})},(0,A.v)({frameUuid:n,ownerName:s,state:t}))}}),((e,{ownerName:t,bannerPosition:s,miniCardPosition:r,ownerFrameId:i,banner:a,branchId:n,orgId:o})=>({bssOnBannerClick(){e((0,k.RC)({adsBanner:e=>(0,C.V)({banner:a,position:s,state:e}),additionalPayload:e=>(0,A.v)({frameUuid:i,ownerName:t,state:e})},(({adsBanner:e,additionalPayload:s})=>{const a={uiElement:{name:"adsBanner",ownerName:t,position:r,frameUuid:i},action:"tap",payload:Object.assign({adsBanner:e},s)};return(0,I.cD)(a)})))},bssOnFilialsLinkClick(){const t={uiElement:{name:"filialsLink",ownerName:"placeCardMini",frameUuid:i},action:"tap",payload:{placeItem:{entity:{id:n,type:"branch"},org:o}}};return e((0,I.cD)(t))}})),{threshold:.5,forceSendShowIfPropsChanged:["banner"]})((0,n.Q)()((0,h.Xy)(D)((0,b.B)((0,H.N)()(F))))));var Z=s(71064),$=s(84175),q=s(82781),W=s(46579),G=s(56671);const Q=i.memo((({title:e,regionId:t,lang:s})=>{const{s:a,css:n}=(0,$.I)(K),o=(0,q.c)(),{brandName:c,adsLink:d}=(0,W.U)(),l=(0,i.useCallback)((e=>{e.stopPropagation()}),[]);return(0,r.jsxs)("header",Object.assign({className:n(a.header)},{children:[(0,r.jsx)(v.E,Object.assign({note:!0,small:!0},{children:e})),(0,r.jsx)("i",{style:{display:"none"}}),(0,r.jsx)(G.P,{children:(0,r.jsx)(Z.A,Object.assign({href:`${d}/?language=${s}&page=online_owner&id=${t}&utm_source=online&utm_medium=product&utm_campaign=gta`,onClick:l,external:!0},{children:(0,r.jsx)(v.E,Object.assign({small:!0},{children:o._t("Реклама в %1 ↗",[c])}))}))})]}))}));Q.displayName="BlockHeader";const K=(0,$.r)({header:{padding:"8px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"}});var Y=s(24571),X=s(82393),J=s(80905),ee=s(6532);const te={onFilialsLinkClick:Y.f8,searchBuyHere:ee.X};class se extends i.PureComponent{constructor(){super(...arguments),this.renderAdsMiniCard=(e,t)=>{const{ownerName:s,openedEntityId:i,isSearchBot:a,onBannerClick:n,searchBuyHere:c,miniCardPosition:d}=this.props;return(0,r.jsx)("div",Object.assign({},o.dx.n("wat-gta-ads-banner"),o.dx.t("minicards"),{children:(0,r.jsx)(V,{banner:e,ownerName:s,isSearchBot:a,miniCardPosition:d,bannerPosition:t+1,onBannerClick:n,onFilialsLinkClick:this.onFilialsLinkClick,searchBuyHere:c,openedEntityId:i})}),t)},this.onFilialsLinkClick=e=>{this.props.onFilialsLinkClick({orgId:e})}}render(){const{s:e,title:t,banners:s,lang:i,regionId:a,dataN:n=""}=this.props;return(0,r.jsxs)("div",Object.assign({},o.dx.n(n),{className:(0,m.AH)(e.root)},{children:[(0,r.jsx)(Q,{title:t,lang:i,regionId:a}),s.map(this.renderAdsMiniCard)]}))}}se.displayName=(0,d.d)("src/shared/containers/gtaMiniCardAds");const re={root:{paddingTop:0,paddingBottom:0,paddingStart:8,paddingEnd:8,backgroundColor:E.T.orange_fffaeb,borderBottom:`1px solid ${E.T.gray_e6e6e6}`}},ie=(0,a.M)({selectors:()=>({entityFrame:e=>(0,J.pS)(e.appContext.frames),isSearchBot:e=>e.session.isSearchBot,lang:e=>e.appContext.lang,regionId:X.MJ}),handlers:te})((0,c.J)((e=>{const{gtaBanners:t,regionId:s,entityFrame:r}=e;if(null==t?void 0:t.length)return{banners:t,regionId:s||"0",openedEntityId:r&&r.entityId}}))((0,h.Xy)(re)((0,n.Q)()(se))))},9019:(e,t,s)=>{"use strict";s.d(t,{I:()=>C});var r=s(31085),i=s(14041),a=s(96141),n=s(66944),o=s(12017),c=s(80905),d=s(63041);const l=e=>{const{entityId:t,type:s}=e;return(0,o.Q2)((e=>{var r;const i=null===(r=(0,c.pS)(e.appContext.frames))||void 0===r?void 0:r.id;return i?(0,n.pd)({frameId:i,entityId:t,tab:"realty"}):(0,d.UP)({id:t,type:s,tab:"realty"})}))};var u=s(8365),p=s(64433),m=s(7540),g=s(82393),h=s(57744),f=s(98379);const b=e=>({frameId:t},s)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t},action:"tap"};const r=(0,g.zN)(s),i=(0,h.u)(s);return{action:"tap",uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,m.o)({locale:i,region_id:r})},enableMapLayer:!0},placeItem:(0,f.t)({state:s,entityFrameId:t})}}};var v=s(41949),y=s(46579),x=s(82781),j=s(67143);const w=(0,i.memo)((({entity:e})=>{const{featureRealty:t}=(0,y.U)(),{useBssHandler:s,bssRef:n}=(0,u.E)((e=>({frameId:t},s)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t}};const r=(0,g.zN)(s),i=(0,h.u)(s);return{uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,m.o)({locale:i,region_id:r})}},placeItem:(0,f.t)({state:s,entityFrameId:t})}}})(t)),o=(0,x.c)(),c=s(b,t),d=(0,p.I)(v.P,{entity:"building"===e.type?{type:"building",id:e.id}:void 0}),w=(0,p.I)(l,{entityId:e.id,type:e.type}),_=(0,i.useCallback)((()=>{c(),t?d():w()}),[]);return(0,j.B)(e)?(0,r.jsx)(a.$,Object.assign({containerRef:n,onClick:_,appearance:"primary",dataN:"wat-realty-button",medium:!0},{children:o._t("Недвижимость в этом доме")})):null}));w.displayName="RealtyButton";var _=s(24896);const C=(0,i.memo)((e=>{const{entity:t,isBuildingBannerDisabled:s=!1,frameName:a}=e,n=(0,_.fu)(t,{enabled:!s}),o=(0,i.useMemo)((()=>n.data?(0,_.Qv)(n.data):void 0),[n.data]);return n.isLoading?null:o?(0,r.jsx)(_.NX,{frameName:a,banner:o}):(0,r.jsx)(w,{entity:t})}))},25551:(e,t,s)=>{"use strict";s.d(t,{K:()=>o,i:()=>n});var r=s(38024),i=s(6458),a=s(95885);function n(e){return(0,r.g)(e)&&(0,i.m)(e.subtype,e.route_logo)}const o=(e,t,s)=>{if(!s)return;if(t)return t;if(!e)return;const r=s.offsetWidth,i=s.offsetHeight;return(0,a.m)(e,`${r}x${i}`)}},18982:(e,t,s)=>{"use strict";s.d(t,{G:()=>N});var r=s(31085),i=s(84175),a=s(14041),n=s(64099),o=s(25698),c=s(8415),d=s(89379),l=s(12043),u=s(90905),p=s(66698),m=s(99259),g=s(10742),h=s(8365),f=s(74182),b=s(1243),v=s(79594),y=s(29787),x=s(7818),j=s(65290),w=s(46645);const _=({entity:e,entityPosition:t,photoPosition:s,photoId:r})=>({frameId:i},a)=>{if(e)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:i,position:s},payload:{placeItem:(0,x.ij)({entity:e,position:t}),searchResultsList:(0,j.tp)({state:a,searchFrameId:i}),promoItem:(0,w.j)({state:a,frameId:i}),photo:{photoId:r}},action:"tap"}};var C=s(80905),I=s(7335),k=s(43322),O=s(76504),S=s(46579);const T=(0,a.memo)((({data:e,size:t,previewSize:s,isMediaRubric:a,entity:o,entityPosition:c,photoPosition:d})=>{const{s:l,css:u}=(0,i.I)(E),{lang:p}=(0,S.U)(),T=(0,v.wA)(),{bssRef:M,useBssHandler:P}=(0,h.E)((({entity:e,photo:t,entityPosition:s,photoPosition:r})=>({frameId:i},a)=>{if(e&&t)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:i,position:r},payload:{placeItem:(0,x.ij)({entity:e,position:s}),searchResultsList:(0,j.tp)({state:a,searchFrameId:i}),promoItem:(0,w.j)({state:a,frameId:i}),photo:{photoId:t.id}}}})({entity:o,entityPosition:c,photoPosition:d,photo:e}),{threshold:.5}),L=P(_,{entity:o,entityPosition:c,photoPosition:d,photoId:e.id}),N=(0,g.D)((t=>{o&&(t.stopPropagation(),T((0,I.eU)((e=>{const t=(0,C.bB)(e.appContext.frames,"search");return"query"===(null==t?void 0:t.searchType)?(0,f.HX)(t.tabCatalog.searchId):void 0}),(t=>!!t&&(0,y.PC)((0,b.z)({entityId:o.id,searchId:t,entityType:o.type,photoId:e.id}))))),L())}));return(0,r.jsxs)("div",Object.assign({className:u(l.root),ref:M,onClick:N,style:{flexBasis:t,height:t}},{children:[(0,r.jsx)(O.O,{src:e.preview_urls[s[0]],src2x:e.preview_urls[s[1]],lazyLoadVisibilityOffset:0,borderRadius:n.Vq.isolate,backgroundColor:m.T.black_transparent_06,alt:"ru"===p?"Фото":void 0}),a&&1===d&&!!o&&(0,r.jsx)("div",Object.assign({className:u(l.logo)},{children:(0,r.jsx)(k.g,{size:64,entity:o})}))]}))}));T.displayName="MiniEntityPhotoItem";const E=(0,i.r)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var M=s(53930),P=s(83044),L=s(21104);const N=(0,a.memo)((({photos:e,isMediaRubric:t=!1,entity:s,entityPosition:m})=>{const{s:g,css:h}=(0,i.I)(A),{size:f,gap:b}=(e=>e?{size:116,gap:8}:{size:88,gap:4})(t),[v,y]=(0,c.q)({}),x=y&&e?e:void 0,{addVideoToSelectActive:j,activeVideoId:w}=(0,P.X)(),_=(null==x?void 0:x.length)||p.du,C=(0,a.useMemo)((()=>t?_<3?["328x170","656x340"]:["116x116","232x232"]:_<4?["328x170","656x340"]:["88x88","176x176"]),[_,t]),I=(0,a.useRef)(null);return(0,r.jsx)("div",Object.assign({className:h(g.root),ref:v},{children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.h,Object.assign({gap:b,offset:16,containerRef:I},{children:x.map(((e,i)=>(0,M.cS)(e)?(0,r.jsx)(T,{data:e,size:f,previewSize:C,isMediaRubric:t,entity:s,entityPosition:m,photoPosition:i+1},`${e.id}-${i}`):(0,r.jsx)(L.I,{data:e,size:f,previewSize:C,isMediaRubric:t,entity:s,entityPosition:m,mediaPosition:i+1,activeVideoId:w,addVideoToSelectActive:j,bssType:"miniEntityPhoto"},`${e.id}-${i}`)))})),(0,r.jsx)(l.j,{children:(0,r.jsx)(u.b,{offset:20,scrollboxRef:I})})]}):(0,r.jsx)(o.M,{count:_,flexBasis:f,flexShrink:0,flexGrow:1,height:f,gap:b,marginStart:16,marginEnd:16,borderRadius:n.Vq.isolate})}))}));N.displayName="MiniEntityPhotos";const A=(0,i.r)({root:{marginStart:-20,marginEnd:-20,position:"relative"}})},52107:(e,t,s)=>{"use strict";s.d(t,{N:()=>d,r:()=>l});var r=s(31085),i=s(84175),a=s(14041),n=s(41263),o=s(25698),c=s(18982);const d=165,l=(0,a.memo)((({isMedia:e,withoutPhotos:t})=>{const{css:s,s:a}=(0,i.I)(u);return(0,r.jsxs)(n.j,Object.assign({dataN:"wat-skeleton-minicard"},{children:[!t&&(0,r.jsx)("div",Object.assign({className:s(a.photos)},{children:(0,r.jsx)(c.G,{isMediaRubric:e})})),(0,r.jsx)(o.M,{width:240,height:20,borderRadius:6}),(0,r.jsx)(o.M,{width:120,height:16,marginTop:4,borderRadius:6}),(0,r.jsx)(o.M,{width:160,height:16,marginTop:8,borderRadius:6}),(0,r.jsx)(o.M,{height:16,marginTop:8,borderRadius:6})]}))}));l.displayName="MiniSkeleton";const u=(0,i.r)({photos:{marginTop:-4,marginBottom:16}})},41263:(e,t,s)=>{"use strict";s.d(t,{j:()=>p});var r=s(31085),i=s(99259),a=s(70498),n=s(54935),o=s(84175),c=s(81618),d=s(14041),l=s(79594),u=s(1321);const p=(0,d.memo)((e=>{const{children:t,entityId:s,isActive:i,onClick:a,dataN:p="wat-mini-wrap",dataT:g,dataS:h,onHoverChange:f}=e,{css:b,s:v}=(0,o.I)(m),{refCallback:y,isHovered:x}=(0,n.M)(),j=(0,l.d4)((e=>e.appContext.weak.hoveredId)),w=(0,l.wA)();return(0,d.useEffect)((()=>{x?(w((0,u.Ip)({hoveredId:s})),f&&f(!0)):j===s&&(w((0,u.Ip)({hoveredId:void 0})),f&&f(!1))}),[x]),(0,r.jsx)("div",Object.assign({ref:y,className:b(v.root,x&&v._hovered,i&&v._active),onClick:a},c.dx.n(p),c.dx.t(g),c.dx.s(h),{children:t}))})),m=(0,o.r)((e=>({root:{position:"relative",paddingTop:16,paddingBottom:16,paddingStart:20,paddingEnd:20,boxShadow:a.E.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",":hover":{background:i.T.gray_f9f9f9}},_active:{background:i.T.gray_f9f9f9,":after":{position:"absolute",start:0,top:0,content:'""',width:3,height:"100%",boxShadow:`inset 3px 0 0 0 ${e.colors.green_299400_brand}`}},_hovered:{background:i.T.gray_f9f9f9}})))},62284:(e,t,s)=>{"use strict";s.d(t,{I:()=>g});var r=s(31085),i=s(14041),a=s(84175),n=s(96141),o=s(99259),c=s(90861),d=s(82781),l=s(92140),u=s(12043),p=s(81618),m=s(64099);const g=i.memo((e=>{const t=(0,d.c)(),{submitText:s,onSubmit:i,onCancel:m,withoutUserAvatar:g,disabledButton:f=!1,disabledCancelButton:b=!1,withAuth:v=!1,cancelText:y,experimentalStyles:x,isLoading:j=!1}=e,{css:w,s:_}=(0,a.I)(h);return(0,r.jsxs)("div",Object.assign({className:w(_.root,x)},p.dx.n("wat-popup-footer"),{children:[(0,r.jsx)(u.j,{children:g?null:(0,r.jsx)(l.o,{withAuth:v})}),(0,r.jsxs)("div",Object.assign({className:w(_.confirmBlock)},{children:[(0,r.jsx)("div",Object.assign({className:w(_.buttonWrapper)},{children:m&&(0,r.jsx)(n.$,Object.assign({appearance:"ghost",disabled:b,onClick:b?void 0:m,dataN:"wat-popup-footer-cancel",dataS:f?"disabled":"active",wide:!0},{children:y||t._t("Отменить")}))})),(0,r.jsx)("div",Object.assign({className:w(_.buttonWrapper)},{children:i&&(0,r.jsx)(n.$,Object.assign({appearance:"secondary",disabled:f,onClick:e=>{e.preventDefault(),e.stopPropagation(),i&&i()},dataN:"wat-popup-footer-submit",dataS:f?"disabled":"active",wide:!0},{children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",Object.assign({className:w(_.preloader)},{children:(0,r.jsx)(c.Z,{caterpillarColor:o.T.blue_028eff})})),(0,r.jsx)("span",Object.assign({className:w(j&&_.submitButtonText)},{children:t._t("Опубликовать")}))]}):s||t._t("Опубликовать")}))}))]}))]}))})),h=(0,a.r)((e=>({root:{display:"flex",background:o.T.gray_f2f2f2,padding:e.mobile?20:24,borderBottomLeftRadius:m.Vq.isolate,borderBottomRightRadius:m.Vq.isolate,justifyContent:"flex-end"},confirmBlock:{display:"flex",alignItems:"center",marginInlineStart:e.mobile?0:"auto",flexGrow:e.mobile?1:0,flexShrink:0,gap:16},buttonWrapper:{display:"flex",justifyContent:"center",flexGrow:1,"&:empty":{display:"none"}},submitButtonText:{visibility:"hidden"},preloader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}})))},54914:(e,t,s)=>{"use strict";s.d(t,{z:()=>g});var r=s(31085),i=s(14041),a=s(79594),n=s(26064),o=s(68076),c=s(99259),d=s(66333),l=s(46234),u=s(81618);class p extends i.PureComponent{constructor(){super(...arguments),this.state={isMounted:"undefined"==typeof window||window.isServerRendered}}render(){const{s:e}=this.props,t=this.state.isMounted?this.getPercentage():0;return(0,r.jsx)("div",Object.assign({className:(0,n.AH)(e.wrapper)},u.dx.n("wat-progress-bar"),u.dx.v(t),{children:(0,r.jsx)("div",{className:(0,n.AH)(e.bar,100===t&&e._fulfilled),style:{width:`${t}%`}})}))}componentDidMount(){this.state.isMounted||(this.timeoutId=window.setTimeout((()=>this.setState({isMounted:!0})),0))}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}getPercentage(){const{metas:e}=this.props;return 100*e.reduce(((e,t)=>t?"loading"===t.status?e+.67:e+1:e+.33),0)}}const m={wrapper:{position:"absolute",zIndex:1,top:0,left:0,right:0,height:"3px"},bar:{height:"100%",width:"0%",transition:"width .5s ease-out, opacity .5s ease-in .5s",background:c.T.yellow_ffb81c},_fulfilled:{opacity:0}},g=(0,a.Ng)((()=>{const e=(0,d.Mz)([({state:e,props:t})=>(0,l.V)({state:e,statusId:t.statusIds||""})],(e=>({metas:e?[e.meta]:[]})));return(t,s)=>e({state:t,props:s})}))((0,o.Xy)(m)(p))},58740:(e,t,s)=>{"use strict";s.d(t,{J:()=>x});var r=s(31085),i=s(14041),a=s(7515),n=s(26461),o=s(27942),c=s(61405),d=s(21252),l=s(48914),u=s(82393),p=s(57744),m=s(7540),g=s(7335),h=s(98379),f=s(4431),b=s(57838),v=s(11264);class y extends i.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>{const{lang:e}=this.props.config;return(0,r.jsx)("img",{src:this.props.icon_url,alt:"ru"===e?"Иконка рубрики":void 0})},this.onClick=e=>{const{item:t,onClick:s}=this.props;"pseudorubric"===t.type&&(0,b.E)(t.action.type)||e.preventDefault(),this.props.bssOnRubricClick(),s(t,e)}}render(){const{bssRef:e,title:t,type:s,seoTitle:i,href:a}=this.props;return(0,r.jsx)(f.D,{bssRef:e,title:t,href:a,dataT:s,seoTitle:i,onClick:this.onClick,icon:this.renderIcon})}}y.displayName=(0,n.d)("src/shared/containers/rubrics/components/rubricItem");const x=(0,d.f)(((e,t)=>{const{item:s,position:r,where:i}=e,a=(0,u.MJ)(t),n=(0,p.u)(t);switch(s.type){case"metarubric":return{uiElement:{name:"metarubricIcon",ownerName:"iconList",position:r,frameUuid:e.ownerFrameId},payload:{icon:{entity:a?{id:s.id,type:"metarubric"}:void 0,where:i,tag:s.tag},placeItem:"Card"===i?(0,h.t)({state:t,entityFrameId:e.ownerFrameId}):void 0}};case"pseudorubric":return{uiElement:{name:"commercialIcon",ownerName:"iconList",position:r,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:s.id,type:"pseudorubric",segmentInfo:(0,m.o)({region_id:s.region_id||a,locale:n})},adsHighlight:!0,tag:s.tag||"",org:s.owner_id,where:i,adsPosition:`${r}`},callToAction:{actionType:s.action.type,value:s.action.value}}};case"rubric":return{uiElement:{name:"rubricIcon",ownerName:"iconList",position:r,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:s.id,type:"rubric"},tag:s.tag,org:void 0,adsHighlight:void 0,where:i},placeItem:"Card"===i?(0,h.t)({state:t,entityFrameId:e.ownerFrameId}):void 0}};default:return}}),((e,t)=>({bssOnRubricClick(){const{item:s,position:r,where:i}=t;switch(s.type){case"metarubric":return e((0,g.RC)({projectId:u.MJ,placeItem:e=>(0,h.t)({state:e,entityFrameId:t.ownerFrameId})},(({projectId:e,placeItem:a})=>{const n={uiElement:{name:"metarubricIcon",ownerName:"iconList",position:r,frameUuid:t.ownerFrameId},payload:{searchRequest:{text:s.search_query},icon:{entity:e?{id:s.id,type:"metarubric"}:void 0,where:i,tag:s.tag,org:void 0,adsHighlight:void 0},placeItem:"Card"===i?a:void 0},action:"tap"};return(0,l.cD)(n)})));case"pseudorubric":return e((0,g.RC)({locale:p.u,projectId:u.MJ,placeItem:e=>(0,h.t)({state:e,entityFrameId:t.ownerFrameId})},(({locale:e,projectId:a,placeItem:n})=>{const o={uiElement:{name:"commercialIcon",ownerName:"iconList",position:r,frameUuid:t.ownerFrameId},payload:{callToAction:{actionType:s.action.type,value:s.action.value},icon:{entity:{id:s.id,type:"pseudorubric",segmentInfo:(0,m.o)({region_id:s.region_id||a,locale:e})},adsHighlight:!0,tag:s.tag||"",org:s.owner_id,where:i,adsPosition:`${r}`},placeItem:"Card"===i?n:void 0},action:"tap"};return(0,l.cD)(o)})));case"rubric":return e((0,g.RC)({placeItem:e=>(0,h.t)({state:e,entityFrameId:t.ownerFrameId})},(({placeItem:e})=>{const a={uiElement:{name:"rubricIcon",ownerName:"iconList",position:r,frameUuid:t.ownerFrameId},payload:{searchRequest:{entities:[{id:s.id,type:s.type}]},icon:{entity:{id:s.id,type:"rubric"},tag:s.tag,org:void 0,adsHighlight:void 0,where:i},placeItem:"Card"===i?e:void 0},action:"tap"};return(0,l.cD)(a)})));default:return}}})),{forceSendShowIfPropsChanged:["dashboardId"]})((0,o.J)((({item:e})=>({title:e.name||e.caption,icon_url:e.icon_url?(0,c.L)(e.icon_url):void 0,type:e.type,seoTitle:e.seoTitle})))((0,a.Q)()((0,v.N)()(y))))},2747:(e,t,s)=>{"use strict";s.d(t,{h:()=>l,u:()=>u});var r=s(12017),i=s(24571),a=s(35023),n=s(63041),o=s(7335),c=s(69395),d=s(6532);function l(e){return(0,o.Cl)((t=>(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:e}),(0,i.q_)({query:e,viewpoint:t}))))}function u(e){switch(e.action.type){case"open_card":return(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:void 0}),(0,n.UP)({id:e.action.value,searchId:(0,a.W7)(),hash:void 0,type:"branch"}));case"search_by_org":return(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:void 0}),(0,i.f8)({orgId:e.action.value}));case"search_buy_here":return(0,d.X)({adsIds:e.action.value});default:return(0,o.Cl)((t=>(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:e.action.value}),(0,i.q_)({query:e.action.value,viewpoint:t}))))}}},63213:(e,t,s)=>{"use strict";s.d(t,{l:()=>I});var r=s(31085),i=s(14041),a=s(33626),n=s(66333),o=s(75433),c=s(74182);function d(e){return(0,c.HX)(e.appContext.weak.dashboard.transitions.rubricsId)}const l=(0,n.Mz)([({state:e})=>d(e),({state:e})=>e.config.isMobileDevice,({state:e})=>function(e){const t=d(e);return(0,o.l)({dashboardId:t,state:e})}(e)],((e,t,s)=>({dashboardId:e,isMobileDevice:t,dashboard:s}))),u=(0,a.tr)(((e,t)=>l({state:e,props:t})));var p=s(69395),m=s(2747),g=s(40374);const h=(0,a.Yn)((e=>({hideSuggester:()=>e((0,p.TJ)({suggesterKey:"primary",show:!1})),onMetarubricClick:t=>e((0,m.h)(t)),onPseudorubricClick:t=>e((0,m.u)(t)),fillDashboardRubricatorState(){e((0,g.SD)())},resetRubricatorId(){e((0,g.SD)(!0))}})));var f=s(26461),b=s(46033),v=s(27942),y=s(63458),x=s(58740),j=s(81618),w=s(21252),_=s(81048);class C extends i.PureComponent{constructor(){super(...arguments),this.handleRubricClick=e=>{const{hideSuggester:t,onMetarubricClick:s,onPseudorubricClick:r}=this.props;switch(t(),e.type){case"metarubric":s(e.search_query);break;case"pseudorubric":r(e)}}}componentDidMount(){this.props.fillDashboardRubricatorState()}componentWillUnmount(){this.props.resetRubricatorId()}render(){const{items:e,bssRef:t,dashboardId:s,where:i,status:a}=this.props;return"loading"===a?(0,r.jsx)(b.j,{}):"error"===a?null:(0,r.jsxs)("div",Object.assign({ref:t},j.dx.n("wat-rubrics"),{children:[e&&e.map(((e,t)=>(0,r.jsx)(_.x,Object.assign({rubric:e,isDashboardMode:!0},{children:a=>(0,r.jsx)(x.J,{where:i,href:a,position:t+1,item:e,onClick:this.handleRubricClick,dashboardId:s})}),t))),this.props.moreButtons]}))}}C.displayName=(0,f.d)("src/shared/containers/rubrics");const I=(0,a.Ng)(u,h)((0,v.J)((({dashboard:e,moreButtons:t,isMobileDevice:s})=>{const r=(0,y.FR)(e);if(r)return{status:r};const i=(0,y.ah)({dashboard:e,moreButtons:t,isMobileDevice:s});return i?{items:i}:void 0}))((0,w.f)((e=>{const{items:t,ownerFrameId:s,ownerName:r}=e;if(t)return{uiElement:{name:"iconList",ownerName:r,frameUuid:s},payload:{iconList:{size:t.length}}}}),void 0,{forceSendShowIfPropsChanged:["dashboardId"]})(C)))},63458:(e,t,s)=>{"use strict";s.d(t,{FR:()=>o,Nl:()=>d,ah:()=>c});var r=s(61405),i=s(19878),a=s(10232),n=s(63e3);function o(e){return(0,i.b)(e)?"error":(0,a.VP)(e)||(0,n.b)(e)?"loading":void 0}function c(e){const{dashboard:t,moreButtons:s,isMobileDevice:r}=e,i=null==t?void 0:t.data,a=s?s.length:0,n=i&&function(e,t,s){var r,i,a,n;const o="pseudorubric"===(null===(r=e[3])||void 0===r?void 0:r.type)&&"pseudorubric"===(null===(i=e[7])||void 0===i?void 0:i.type),c="pseudorubric"!==(null===(a=e[3])||void 0===a?void 0:a.type)&&"pseudorubric"===(null===(n=e[7])||void 0===n?void 0:n.type),d=e.length+t,m=l({totalLen:d,ITEMS_IN_A_ROW:4,hasBothPseudorubric:o,hasOnlySecondPseudorubric:c,isMobileDevice:s}),g=u({totalLen:d,maxItemCount:4*m,hasOnlySecondPseudorubric:c,isMobileDevice:s,ITEMS_IN_A_ROW:4});return p(e,d,g,4)}(i,a,r);return n?n.map((e=>d(e))):void 0}function d(e){return Object.assign(Object.assign({},e),{icon_url:e.icon_url?(0,r.L)(e.icon_url):void 0,seoTitle:e.name||e.caption})}const l=({totalLen:e,ITEMS_IN_A_ROW:t,hasBothPseudorubric:s,hasOnlySecondPseudorubric:r,isMobileDevice:i})=>e<2*t?1:i||!s&&!r?2:3,u=({totalLen:e,maxItemCount:t,hasOnlySecondPseudorubric:s,isMobileDevice:r,ITEMS_IN_A_ROW:i})=>e>t?e-t:s&&!r?0:e%i,p=(e,t,s,r)=>t<=r||!s?e:e.slice(0,e.length-s)},8734:(e,t,s)=>{"use strict";s.d(t,{p:()=>c});var r=s(31085),i=s(60077),a=s(27248),n=s(52160),o=s(55143);const c=(0,i.K)()({__dirname:"src/shared/containers/seoLink/containers",selectors:({entity:e})=>({cityAlias:t=>{var s,r;return(0,o.f)(e)||(null===(r=null===(s=(0,n.b7)({state:t,id:e.region_id}))||void 0===s?void 0:s.data)||void 0===r?void 0:r.uri_code)}})})((({entity:e,tab:t,cityAlias:s,children:i})=>(0,r.jsx)(a.W,Object.assign({type:e.type,id:e.id,tab:t,cityAlias:s},{children:i}))))},81048:(e,t,s)=>{"use strict";s.d(t,{x:()=>o});var r=s(31085),i=s(60077),a=s(27248),n=s(76105);const o=(0,i.K)()({__dirname:"src/shared/containers/seoLink/containers",formatter:({rubric:e,isDashboardMode:t})=>({urlParams:c(e,{isDashboardMode:t})})})((({urlParams:e,children:t})=>(0,r.jsx)(a.W,Object.assign({},e,{children:t}))));function c(e,t={}){switch(e.type){case"pseudorubric":switch(e.action.type){case"open_card":return{type:"branch",id:e.action.value};case"search_by_query":return{type:"catalogSearch",query:e.name||e.caption};case"search_by_org":return{type:"organizationBranches",id:e.action.value};default:return{type:"custom",url:(0,n.j)(e.action)||""}}case"metarubric":return t.isDashboardMode?{type:"catalogSearch",query:e.search_query||e.name||e.caption}:{type:"subrubrics",id:e.id};case"rubric":return{type:"catalogSearch",rubricId:e.id,query:e.seo_name||e.name||e.caption}}}},27248:(e,t,s)=>{"use strict";s.d(t,{W:()=>n});var r=s(60077),i=s(60663),a=s(52160);const n=(0,r.K)()({__dirname:"src/shared/containers/seoLink",selectors:{selectedCityAlias:a.kB,lang:e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0},formatter:e=>({href:(0,i.p)(Object.assign({cityAlias:"cityAlias"in e?e.cityAlias:e.selectedCityAlias},e))})})((({children:e,href:t})=>e(t)))},22163:(e,t,s)=>{"use strict";s.d(t,{W:()=>u});var r=s(31085),i=s(14041),a=s(26461),n=s(15471),o=s(80905),c=s(81618),d=s(79594);const l=e=>{const{children:t,className:s,frameId:i,dataN:a=""}=e,n=(0,d.d4)((e=>e.appContext.frames)),l=(0,o.lX)(n,i)?"h1":"div";return(0,r.jsx)(l,Object.assign({className:s},a?c.dx.n(a):{},{children:t}))};class u extends i.PureComponent{render(){return(0,r.jsx)(n.X.Consumer,{children:({frameId:e})=>(0,r.jsx)(l,Object.assign({frameId:e},this.props))})}}u.displayName=(0,a.d)("src/shared/containers/seoTitle")},35890:(e,t,s)=>{"use strict";s.d(t,{M:()=>h});var r=s(31085),i=s(14041),a=s(60077),n=s(26461),o=s(27942),c=s(96141),d=s(85005),l=s(46287),u=s(82393),p=s(56671);const m={onClick:d.Y};class g extends i.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{onClick:e,type:t,entityId:s,frameId:r,searchId:i}=this.props;return e({subtype:t,entityId:s,frameId:r,searchId:i})}}render(){const{value:e,dataN:t}=this.props;return(0,r.jsx)(p.P,{children:(0,r.jsx)("div",{children:(0,r.jsx)(c.$,Object.assign({wide:!0,dataN:t,onClick:this.onClick},{children:e}))})})}}g.displayName=(0,n.d)("src/shared/containers/typedFeedbackEntry");const h=(0,a.M)({handlers:m,selectors:()=>{const e=(0,l.eJ)();return({entityId:t})=>({entity:s=>t?e({state:s,entityId:t}).data:void 0,regionId:u.zN})}})((0,o.J)((({type:e,entity:t},{tp:s,config:r})=>{if(!t||"0"!==t.region_id||"RU"===r.defaultCountryCode)return{value:"addOrg"===e?s._t("Добавить организацию"):s._t("Нашли ошибку в данных?"),dataN:"addOrg"===e?"wat-add-org-button":"wat-upd-obj-button"}}))(g))},92140:(e,t,s)=>{"use strict";s.d(t,{o:()=>w});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(27942),c=s(70498),d=s(33626),l=s(23098),u=s(21959),p=s(40819),m=s(81618),g=s(59543),h=s(91818),f=s(7515),b=s(99259);class v extends i.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>this.props.initials}render(){const{s:e,name:t,user:s,avatar:i,i18n:n,withAuth:o=!1}=this.props;return(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.row),onClick:this.props.onLogin},m.dx.n("wat-auth-popup-control"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.avatar,e._auth)},{children:(0,r.jsx)(g.G,{})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.entry)},{children:n.tp._t("Войти")}))]})),!o&&s&&(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.row)},m.dx.n("wat-user-info"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.avatar)},{children:(0,r.jsx)(l.e,{initials:this.renderInitials,src:i})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.name)},{children:t}))]}))]})}}const y="40px",x={row:{display:"flex",alignItems:"center"},avatar:{background:b.T.white,width:y,height:y,borderRadius:"50%",verticalAlign:"top",marginEnd:8,overflow:"hidden",flexShrink:0,boxShadow:c.E.logo},_auth:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},entry:{color:b.T.blue_0072ce,cursor:"pointer"},name:{maxHeight:32,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"}},j=(0,d.Yn)((e=>({onLogin(){e((0,h.oC)())}}))),w=(0,d.Ng)((e=>{const t=(0,u.ug)(e);return{user:t&&t.data}}),j)((0,o.J)(((e,{tp:t})=>{const{withAuth:s,user:r}=e;if(!r)return{withAuth:s};const i=r.avatar_preview_tpl?r.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):r.avatar;return{withAuth:!1,name:r.display_name||r.name,avatar:i,initials:(0,p.Z)(r,t)}}))((0,n.Xy)(x)((0,f.Q)()(v))))},15344:(e,t,s)=>{"use strict";s.d(t,{l:()=>p});var r=s(14041),i=s(33626);const a=(0,s(66333).Mz)([({state:e})=>e.appContext.pitch,({state:e})=>e.appContext.rotation],((e,t)=>({pitch:e,rotation:t}))),n=(0,i.tr)(((e,t)=>a({state:e,props:t})));var o=s(95993);const c=(0,i.Yn)((e=>({subscribeOnMapMove(t,s){e((0,o.q2)({id:t,type:"map:move",handler:s}))},removeListeners(t){e((0,o.f)({id:t}))}})));var d=s(26461),l=s(35023);class u extends r.Component{constructor(){super(...arguments),this.state={rotation:this.props.rotation,pitch:this.props.pitch,isInteracting:!1},this.listenersId=(0,l.W7)()}componentDidMount(){this.props.subscribeOnMapMove(this.listenersId,(({rotation:e,pitch:t})=>{e===this.state.rotation&&t===this.state.pitch||this.setState({rotation:e,pitch:t})}))}componentWillUnmount(){this.props.removeListeners(this.listenersId)}render(){return this.props.children({rotation:this.state.rotation,pitch:this.state.pitch,isInteracting:this.state.isInteracting})}}u.displayName=(0,d.d)("src/shared/containers/whereami");const p=(0,i.Ng)(n,c)(u)},80960:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});const r=s(14041).createContext({showEventOrdinal:void 0})},91650:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});const r=s(14041).createContext(void 0)},88870:(e,t,s)=>{"use strict";s.d(t,{l:()=>a});var r=s(73861),i=s(54006);function a({distance:e,isShortcut:t,tp:s,rtl:a}){const n=Math.max(10,function(e){return e<100?(0,i.W)(e,10):e<500?(0,i.W)(e,50):e<1e3?(0,i.W)(e,100):e<3e3?(0,i.W)(e,500):(0,i.W)(e,1e3)}(e));return n>=1e3?function(e,t,s,i){const a=e/1e3,n=i?a:(0,r.B)(a);return t?s._t("%1&nbsp;км",[n]):s._nt(["%1&nbsp;километр","%1&nbsp;километра","%1&nbsp;километров"],a,[n])}(n,!!t,s,a):function(e,t,s){return t?s._t("%1&nbsp;м",[e]):s._nt(["%%&nbsp;метр","%%&nbsp;метра","%%&nbsp;метров"],e)}(n,!!t,s)}},19945:(e,t,s)=>{"use strict";s.d(t,{M0:()=>l,U6:()=>m,wK:()=>u,ib:()=>p,BL:()=>b});var r=s(35023),i=s(88842),a=s(25415);const n=e=>"branch"===e.type&&(0,a.v)(e);var o=s(80690),c=s(56964);const d=[2,6,80];function l(e,t){return p(e,{order:(0,c.t)(t.config),separator:t.config.addressSeparator,alwaysIncludeDivisionInDrilldown:t.config.alwaysIncludeDivisionInDrilldown,alwaysAddNameExtension:t.alwaysAddNameExtension,useSingleComponentForBranch:t.useSingleComponentForBranch,isLandmarkMovedToName:t.isLandmarkMovedToName}).map(((e,t)=>0===t?(0,r.ND)(e.value):e.value))}function u(e,t,s){var a;const n=(0,i.P0)(e,t,s.alwaysAddNameExtension);if("building"===e.type){const t=(null===(a=e.address)||void 0===a?void 0:a.landmark_name)?(0,r.ND)(e.address.landmark_name):void 0,i=v({name:n,landmark:t,purposeCode:e.purpose_code});if(i&&t)return{name:[t],address:l(e,Object.assign(Object.assign({},s),{isLandmarkMovedToName:i}))}}const o=l(e,s);return{name:n?[n]:o,address:n?o:void 0}}function p(e,t){return m(e.type,f(e)||{},Object.assign(Object.assign({},t),{useBuildingNameForBranch:!n(e)}),h(e))}function m(e,t,s,i){const{order:a,separator:n,useBuildingNameForBranch:c,useSingleComponentForBranch:d,isLandmarkMovedToName:l}=s,u=t.landmark_name?g("landmark",(0,r.ND)(t.landmark_name)):void 0,p=(t.components||[]).map(((e,t)=>function(e,t,s,i){const a=function(e,t,s,i){if(!e)return"";if("street_number"===e.type){const a=i?(0,r.ND)(e.street):e.street,n="straight"===s?[a,e.number]:[e.number,a];return a&&e.number?n.join(t):n.join("")}return"number"===e.type&&e.number?e.number:"location"===e.type&&e.comment?e.comment:""}(e,t,s,i);return a&&e?{value:a,type:e.type}:void 0}(e,n+o.aY,a,0===t&&s.capitalizeFirst)));switch(e){case"branch":return d?(0,r.oE)([c&&g("building_name",t.building_name),u,p[0]]):(0,r.oE)([c&&g("building_name",t.building_name),u,...p,g("comment",i)]);case"building":return(0,r.oE)(l?p:[u,...p]);default:return(0,r.oE)([u,...p])}}function g(e,t){return t?{type:e,value:t}:void 0}const h=e=>"branch"===e.type&&"address_comment"in e?e.address_comment:void 0,f=e=>"address"in e?e.address:void 0,b=e=>{const t=f(e);return t&&t.components&&t.components.find((e=>"street_number"===e.type))},v=({name:e,landmark:t,purposeCode:s})=>!e&&!!t&&!!s&&d.includes(s)},7860:(e,t,s)=>{"use strict";s.d(t,{z:()=>c,S:()=>d});var r=s(76105),i=s(57838),a=s(15387),n=s(53157),o=s(60663);function c(e){var t,s,r,i;const a=(null===(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.buy_here_owner)||void 0===s?void 0:s[0])||(null===(i=null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.fmcg_owner)||void 0===i?void 0:i[0]);if(a)return{ownedRubricId:"owned_rubric_id"in a?a.owned_rubric_id:a.ads_id,controlTitle:a.control_title}}function d(e,t,s,c){const d=e?(0,a.H)(e,t):void 0;if(d)return{type:d.type,value:d.value,name:(0,n.KL)(d.caption||d.name||s),href:(0,r.j)(d),isExternal:(0,i.E)(d.type)};if(!c)return;const l={name:s,type:"open_card",value:c};return{type:l.type,value:l.value,name:s,href:(0,o.p)({id:c,type:"branch",cityAlias:void 0}),isExternal:!1}}},30184:(e,t,s)=>{"use strict";s.d(t,{km:()=>u,gK:()=>d,AH:()=>l,vd:()=>p,cU:()=>m});var r=s(9126),i=s(99259),a=s(27212),n=s(38024),o=s(95530);function c(e){const t=e&&e.options&&e.options.color;return t||(e&&e.options&&e.options.logo&&e.options.logo.bg_color||void 0)}function d(e,t){return(0,o.k)(e)?i.T.gray_b2b2b2:"route"===e.type?function(e){return e.color?e.color:(0,r.O)(e.subtype)}(e):(0,n.g)(e)?function(e,t){return e.color||e.routes&&e.routes[0].color||t.colors.green_299400_brand}(e,t):"branch"===e.type&&c(e.ads)||t.colors.green_299400_brand}function l(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options&&e.ads.options.images;return t&&t.length?t[0].url:void 0}function u(e){return!("branch"!==e.type||!c(e.ads))}function p(e){return"#262626"===(0,a.a)(e)?"dark":"light"}function m(e,t){return t?i.T.white:(0,a.a)(e)}},61200:(e,t,s)=>{"use strict";function r(e,t){if(!("adm_div"in e)||!e.adm_div)return"";const{config:s,shortenForBranches:r,includeRegion:i}=t,o=a(e,{shortenForBranches:r,separator:s.addressSeparator,alwaysIncludeDivision:s.alwaysIncludeDivisionInDrilldown,includeRegion:i});return n(e.adm_div,o)}function i(e,t){if(!("adm_div"in e)||!e.adm_div)return[];const s=a(e,{separator:t.separator,alwaysIncludeDivision:t.alwaysIncludeDivision,shortenForBranches:t.shortenForBranches});return o(e.adm_div,s).map((e=>e.name))}function a(e,t){const{alwaysIncludeDivision:s=!1,shortenForBranches:r=!1,includeRegion:i=!0,separator:a}=t;return{includeDivision:"adm_div"===e.type||s,includeRegion:i,excludeLivingAreaAndDistrict:"branch"===e.type&&r,separator:a+" ",entityFlags:"flags"in e?e.flags:void 0}}function n(e,t){return function(e,t){return e.map((e=>e.name)).filter(((e,t,s)=>s.indexOf(e)===t)).join(t)}(o(e,t),t.separator)}function o(e,t){const s=function(e,t){const s=e.find((e=>"city"===e.type));return e.filter((e=>{var r,i;return!("region"===e.type&&((null===(r=null==s?void 0:s.flags)||void 0===r?void 0:r.is_region_center)||(null==t?void 0:t.is_region_center)||(null==t?void 0:t.is_default))||"district_area"===e.type&&((null===(i=null==s?void 0:s.flags)||void 0===i?void 0:i.is_district_area_center)||(null==t?void 0:t.is_district_area_center)||(null==t?void 0:t.is_default)))}))}(d(e,c),t.entityFlags),r=t.includeDivision?s:l(s,["division"]),i=t.excludeLivingAreaAndDistrict?l(r,["living_area","district"]):r,a=t.includeRegion?i:function(e){return e.length>1?e.filter((e=>"region"!==e.type)):e}(i);return a}s.d(t,{OM:()=>d,Uk:()=>i,tB:()=>r,ue:()=>n});const c=["region","district_area","city","settlement","division","district","living_area"];function d(e,t=c){return t.reduce(((t,s)=>{const r=e.find((e=>e.type===s));return r&&t.push(r),t}),[])}function l(e,t){return e.filter((e=>-1===t.indexOf(e.type)))}c.reverse()},58147:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(35023);function i(e){if("address"in e&&e.address)return(0,r.oE)([e.address.postcode,e.address.building_code]).join("/")}},80177:(e,t,s)=>{"use strict";s.d(t,{qI:()=>o,HV:()=>p,ak:()=>l,TY:()=>u,vL:()=>c,JQ:()=>d});var r=s(47054),i=s(62279),a=s(99259),n=s(30184);function o(e){if(!e)return;if((0,r.C)(e))return"14";if((0,i.v)(e))return(e=>e.split("_").pop())(e);const t=e.match(/\d.*$/);return t&&t[0]||void 0}function c(e){return{background:a.T.white,color:e,borderColor:e}}function d(e){return{color:(0,n.cU)(e,!1),background:e,borderColor:e}}function l(e){return"links"in e&&e.links&&e.links.entrances?e.links.entrances:void 0}function u(e){return"links"in e&&e.links&&e.links.parking?e.links.parking:void 0}function p(e){return"links"in e&&e.links?e.links.landmarks:void 0}},88842:(e,t,s)=>{"use strict";s.d(t,{P0:()=>n,nD:()=>a,zu:()=>o});var r=s(19945),i=s(34070);function a(e,t,s){const i=n(e,t);return i?[i]:"building"===e.type?(0,r.M0)(e,{config:s,useSingleComponentForBranch:!1}):[t._t("Место")]}function n(e,t,s){switch(e.type){case"branch":return(0,i.HZ)(e,s);case"route":return(0,i.Ge)(e,t);case"station":case"station_platform":case"station_entrance":return e.name;default:return(0,i.Io)(e,t)}}function o(e){return e.name_ex.primary}},73923:(e,t,s)=>{"use strict";s.d(t,{Iw:()=>n,LD:()=>o,aL:()=>c,v3:()=>a});var r=s(12441),i=s(46428);function a(e,t,s,a,n){const o=(0,r.BS)(e,(0,r.lN)(s));return(0,i.uu)(o,t,a,n)}function n(e,t,s,r){return(0,i.$_)(e,t,s,r)}function o(e,t,s,a){const n=(0,r.lN)(t),o=(0,r.BS)(e,n),c=(0,r.As)(e,n);return(0,i.SH)(o,c,s,a)}function c(e,t,s,a,n){const o=(0,r.eW)(e,(0,r.lN)(t));return(0,i.Bc)(o,s,n,a)}},46428:(e,t,s)=>{"use strict";s.d(t,{$_:()=>p,Bc:()=>m,RZ:()=>g,SH:()=>u,uu:()=>l});var r=s(12441),i=s(32106),a=s(57786),n=s(53157),o=s(96342);const c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function l(e,t,s,r){if(!e)return"";const c=r?i.iv:i.bO;switch(e.type){case a.XU.aroundTheClock:return t?void 0:s._t("Круглосуточно");case a.XU.opened:return t?void 0:s._t("Открыто");case a.XU.willCloseInTime:return s._t("Закроется через %1",[f(e.minutesTo,s)]);case a.XU.willCloseInMinute:return s._t("Закроется через %1",[f(1,s)]);case a.XU.willCloseInTimeForBreak:return s._t("Через %1 закрывается на %2",[f(e.minutesTo,s),h(e.breakType,s)]);case a.XU.willCloseInMinuteForBreak:return s._t("Через %1 закрывается на %2",[f(1,s),h(e.breakType,s)]);case a.XU.willOpenInMinuteFromBreak:return(0,n.ND)(s._t("%1. Откроется через %2",[h(e.breakType,s),f(1,s)]));case a.XU.willOpenInTimeFromBreak:return(0,n.ND)(s._t("%1. Откроется через %2",[h(e.breakType,s),f(e.minutesTo,s)]));case a.XU.willOpenAtTimeFromBreak:return(0,n.ND)(s._t("%1. Откроется в %2",[h(e.breakType,s),(0,o.HG)(e.time,c)]));case a.XU.willOpenAtTime:return s._t("Закрыто до %1",[(0,o.HG)(e.time,c)]);case a.XU.willOpenAtDayAtTime:case a.XU.willOpenTomorrowAtTime:case a.XU.willOpenOvermorrowAtTime:return s._t("Закрыто");case a.XU.willOpenInTime:return s._t("Откроется через %1",[f(e.minutesTo,s)]);case a.XU.willOpenInMinute:return s._t("Откроется через 1 минуту");default:return""}}function u(e,t,s,r){if(!e)return"";const c=r?i.iv:i.bO;switch(e.type){case a.XU.aroundTheClock:return"";case a.XU.opened:return s._t("Открыто");case a.XU.willCloseInTimeForBreak:return s._t("Через %1 закрывается на %2",[f(e.minutesTo,s),h(e.breakType,s)]);case a.XU.willCloseInMinuteForBreak:return s._t("Через минуту закрывается на %1",[h(e.breakType,s)]);case a.XU.willOpenAtTimeFromBreak:return(0,n.ND)(s._t("%1, откроется в %2",[h(e.breakType,s),(0,o.HG)(e.time,c)]));case a.XU.willOpenInTimeFromBreak:return(0,n.ND)(s._t("%1, откроется через %2",[h(e.breakType,s),f(e.minutesTo,s)]));case a.XU.willOpenInMinuteFromBreak:return(0,n.ND)(s._t("%1, откроется через минуту",[h(e.breakType,s)]));case a.XU.willCloseInTime:return s._t("Закроется через %1",[f(e.minutesTo,s)]);case a.XU.willCloseInMinute:return s._t("Закроется через минуту");case a.XU.willOpenInTime:return s._t("Закрыто. Откроется через %1",[f(e.minutesTo,s)]);case a.XU.willOpenInMinute:return s._t("Откроется через минуту");case a.XU.willOpenAtTime:return s._t("Закрыто. Откроется в %1",[(0,o.HG)(e.time,c)]);case a.XU.willOpenTomorrowAtTime:return t?s._t("Откроется завтра в %1",[(0,o.HG)(e.time,c)]):s._t("Закрыто. Откроется завтра в %1",[(0,o.HG)(e.time,c)]);case a.XU.willOpenAtDayAtTime:case a.XU.willOpenOvermorrowAtTime:return t?s._t("Откроется %1 в %2",[b(e.day,s),(0,o.HG)(e.time,c)]):s._t("Закрыто. Откроется %1 в %2",[b(e.day,s),(0,o.HG)(e.time,c)]);default:return""}}function p(e,t,s,n=!1){if((0,r.yn)(e))return s._t("Круглосуточно");if((0,r.As)(e,(0,r.lN)(t)))return s._t("Выходной");const c=(0,r.eJ)(e),d=(0,r.lN)(t),l=e[d.day],{from:u,to:p}=(0,r.KS)(l&&l.working_hours||[])[0],m=(0,r.Vi)(e,d)[0],g=m?(0,r._x)(m):void 0,f=h(g,s),b=(0,o.HG)(u,n?i.iv:i.bO),v=(0,o.HG)(p,n?i.iv:i.bO),y=m&&(0,o.HG)(m.from,n?i.iv:i.bO),x=m&&(0,o.HG)(m.to,n?i.iv:i.bO);if(c)switch(g){case a.M3.lunch:case a.M3.rest:return s._t("Ежедневно&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[b,v,f,y,x]);default:return s._t("Ежедневно с %1 до %2",[b,v])}switch(g){case a.M3.lunch:case a.M3.rest:return s._t("Сегодня&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[b,v,f,y,x]);default:return s._t("Сегодня c %1 до %2",[b,v])}}function m(e,t,s,r){return(s?c:d).map((s=>function(e,t,s){return Object.assign(Object.assign({},e),{timeIntervals:e.timeIntervals.map((({to:e,from:t})=>(0,o.lD)(t,e,s))),breaks:e.breaks&&e.breaks.map((({to:e,from:t})=>(0,o.lD)(t,e,s))),dayName:g(e.dayName,t),breakTypes:e.breakTypes&&e.breakTypes.map((e=>h(e,t)))})}(e.find((e=>e.dayName===s))||e[0],t,r)))}function g(e,t){switch(e){case"Mon":return t._t("Пн");case"Tue":return t._t("Вт");case"Wed":return t._t("Ср");case"Thu":return t._t("Чт");case"Fri":return t._t("Пт");case"Sat":return t._t("Сб");case"Sun":return t._t("Вс");default:return""}}function h(e,t){switch(e){case a.M3.lunch:return t._t("обед");case a.M3.rest:default:return t._t("перерыв")}}function f(e=0,t){const s=Math.floor(e/60),r=e%60,i=t._nt(["%% минуту","%% минуты","%% минут"],r);if(!s)return i;const a=t._nt(["%% час","%% часа","%% часов"],s);return t._pt("%1 время в часах %2 время в минутах","%1 %2",[a,i])}function b(e,t){switch(e){case"Mon":return t._t("в понедельник");case"Tue":return t._t("во вторник");case"Wed":return t._t("в среду");case"Thu":return t._t("в четверг");case"Fri":return t._t("в пятницу");case"Sat":return t._t("в субботу");case"Sun":return t._t("в воскресенье");default:return""}}},79658:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});var r=s(53157);const i=(e,t)=>e||(t?(0,r.ND)(t):"")},71030:(e,t,s)=>{"use strict";function r(e,t){if(e)return Number.isNaN(+e)?t._t("Места: %1",[e.toLowerCase()]):t._nt(["%% место","%% места","%% мест"],+e)}s.d(t,{C:()=>r})},34070:(e,t,s)=>{"use strict";function r(e){switch(e.subtype){case"bus":case"trolleybus":case"tram":case"shuttle_bus":return!0;default:return!1}}s.d(t,{mM:()=>r,Mk:()=>a,hx:()=>o,HZ:()=>c,i$:()=>C,Hs:()=>w,Yl:()=>S,GH:()=>g,eu:()=>m,Io:()=>p,$0:()=>b,q6:()=>y,Ge:()=>x,FP:()=>I});var i=s(53157);function a(e,t){if(!e||!("subtype"in e))return[];if("subtype_specification"in e&&e.subtype_specification)return[e.subtype_specification];const s=e.subtype?"detailed_subtype"in e&&e.detailed_subtype?function(e,t){switch(e){case"microdistrict":return t._t("микрорайон");case"residential_district":return t._t("жилмассив");case"residential_quarter":return t._t("квартал");case"poselok":return t._t("посёлок");case"residential_complex":return t._t("жилой комплекс");case"selo":return t._t("село");case"derevnja":return t._t("деревня");case"cottage_estate":return t._t("коттеджный посёлок");case"urban_settlement":return t._t("посёлок городского типа");case"workers_settlement":return t._t("рабочий посёлок");case"dacha_settlement":return t._t("дачный посёлок");case"resort_settlement":return t._t("курортный посёлок");case"stanitsa":return t._t("станица");case"sloboda":return t._t("слобода");case"khutor":return t._t("хутор");case"aul":return t._t("аул");case"aal":return t._t("аал");case"town":return t._t("военный городок");case"farmstead":return t._t("заимка");case"vyselok":return t._t("выселок");case"municipality":return t._t("муниципальное образование");case"station":return t._t("станция");case"townhouse_settlement":return t._t("посёлок таунхаусов");case"territory":return t._t("территория");case"cooperative":return t._t("кооператив");case"partnership":return t._t("товарищество");case"gorod":return t._t("город");case"mun_okrug":return t._t("муниципальный округ");case"vaht_poselok":return t._t("вахтовый поселок");case"nas_punkt":return t._t("населённый пункт");case"poselenie":return t._t("поселение");default:return}}(e.detailed_subtype,t):function(e,t){switch(e){case"settlement":return t._t("населённый пункт");case"living_area":return t._t("микрорайон");case"city":return t._t("город");case"division":return t._t("округ");case"district":return t._t("район");default:return}}(e.subtype,t):void 0;return s?[(0,i.ND)(s)]:[]}var n=s(59954);function o(e){return e.name_ex.extension?[e.name_ex.extension]:e.rubrics&&e.rubrics.length?[e.rubrics[0].name]:n.Ml}function c(e,t){const{name_ex:s}=e;return t&&s.extension?`${s.primary}, ${s.extension}`:s.primary}var d=s(24880),l=s(35023),u=s(79658);function p(e,t){switch(e.type){case"attraction":return(0,u.q)(e.name,e.subtype_name);case"gate":if(!e.barrier)return e.name||"";switch(e.barrier){case"gate":return t._t("Ворота");case"turnstile":return t._t("Турникет");case"wicket":return t._t("Калитка");case"gate_barrier":return t._t("Проход/проезд");default:return""}case"street":case"adm_div":case"crossroad":case"road":return e.name?(0,l.ND)(e.name):"";case"parking":if(e.name)return e.name;if("taxi_only"===e.access)return t._t("Место стоянки такси");switch(e.purpose){case"bike":return t._t("Велопарковка");case"motorbike":return t._t("Мотопарковка");case"baby_carriage":return t._t("Парковка для детских колясок");default:return t._t("Парковка")}case"kilometer_road_sign":return(0,d.m)(e,t);case"building":return w(e);default:return t._t("Какое-то местечко")}}function m(e,t){switch(e.type){case"adm_div":return a(e,t);case"parking":return b(e,t);case"gate":return g(e,t);case"street":return[t._t("Улица")];case"road":return[t._t("Дорога")];case"crossroad":return[t._t("Перекресток")];default:return[]}}function g(e,t){const s=[h(e.purpose,t)];return e.access&&s.push(function(e,t){switch(e){case"paid":return t._t("платный");case"restricted":return t._t("по пропускам");default:return t._t("общедоступный")}}(e.access,t)),s}function h(e,t){switch(e){case"additional":return t._t("дополнительный");case"service":return t._t("служебный");default:return t._t("центральный")}}var f=s(71030);function b(e,t){const s=[];switch(e.access){case"public":s.push(t._t("Общедоступная"));break;case"handicapped_only":s.push(t._t("Только для инвалидов"));break;case"customers_only":s.push(t._t("Только для клиентов"));break;case"residents_only":s.push(t._t("Только для резидентов"))}if(e.is_paid?s.push(t._t("Платная")):s.push(t._t("Бесплатная")),e.capacity){const r=(0,f.C)(e.capacity.total,t);r&&s.push(r)}return s}var v=s(91684);function y(e,t){switch(e.subtype){case"suburban_train":case"aeroexpress":return[(0,v.w)(e.subtype,t)];default:return function(e){return!r(e)&&"metro"!==e.subtype}(e)?[(0,v.w)(e.subtype,t)]:[]}}function x(e,t){return r(e)?`${(0,v.w)(e.subtype,t)} ${e.name}`:e.name}var j=s(19945);function w(e){var t;return e.building_name?e.building_name:(null===(t=e.group)||void 0===t?void 0:t.some((({type:e})=>"parking"===e)))?e.purpose_name||e.name||"":!(0,j.BL)(e)&&e.purpose_name?e.purpose_name:""}var _=s(16510);function C(e,t,{withFloors:s}={}){if(e.purpose_name){const r=e.name!==e.purpose_name;return(0,l.oE)([r&&e.purpose_name,!!s&&(0,_.i)(e,t)])}return[t._pt("Здание","Дом")]}function I(e,t){return"station_entrance"===e.type?"metro"===e.subtype?[t._t("Вход на станцию метро")]:[t._t("Вход на станцию")]:[k(e,t)]}function k(e,t){switch(e.subtype){case"metro":return t._t("Станция метро");case"premetro":case"railway":return t._t("Станция");case"light_metro":return t._t("Станция легкого метро");case"funicular_railway":return t._t("Станция фуникулера");case"monorail":return t._t("Станция монорельсовой дороги");case"cable_car":return t._t("Станция канатной дороги");case"river_transport":return t._t("Причал");default:return t._t("Остановка наземного транспорта")}}var O=s(652);function S(e){return[(0,O.c)(e.geocoded_by||e.point)]}s(21132)},76217:(e,t,s)=>{"use strict";function r(e){switch(!0){case e<1e4:return e.toString();case e<1e6:return e%1e3?`${Math.floor(e/1e3)}.${Math.floor(e%1e3/100)}K`:e/1e3+"K";default:return e%1e6?`${Math.floor(e/1e6)}.${Math.floor(e%1e6/1e5)}M`:e/1e6+"M"}}s.d(t,{r:()=>r})},652:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var r=s(35023);const i=e=>e?`${(0,r.jF)(e.lat)}° ${(0,r.jF)(e.lon)}°`:""},10011:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(50275);function i(e){const{entity:t,tp:s}=e;switch(!0){case(0,r.rn)(t):return{tabLabel:s._pt("Меню в кафе/ресторане","Меню"),title:s._pt("Меню в кафе/ресторане","Меню"),linkToAllOffersTitle:s._t("Посмотреть меню")};case(0,r.$W)(t):return{tabLabel:s._pt("Список услуг в банке","Услуги"),title:s._pt("Список услуг в банке","Услуги"),linkToAllOffersTitle:s._pt("Услуги банка","Посмотреть все услуги")};default:return{tabLabel:s._t("Цены"),title:s._t("Товары и услуги"),linkToAllOffersTitle:s._t("Посмотреть все товары и услуги")}}}},39302:(e,t,s)=>{"use strict";function r(e){const{entity:t}=e;if(!t)return"history"===e.type?"history":"other";switch(t.type){case"parking":return"parking";case"building":case"branch":case"attraction":case"org":return"pin";case"adm_div":return"city"===t.subtype||"settlement"===t.subtype?"city":"pin";case"street":case"road":case"kilometer_road_sign":return"street";case"route":return"route";case"station":return"metro"===t.subtype?"metro":"station";case"rubric":case"metarubric":return"rubric";case"special":switch(t.id){case"1":return"home";case"2":return"work";case"3":return"location";case"4":return"camera";case"5":return"traffic";case"6":return"realty"}}return"other"}s.d(t,{Q:()=>r})},47458:(e,t,s)=>{"use strict";function r(e,t){return(s=t,r)=>{let i=s;for(let t=0;t<e.length;t+=1)i=e[t](i,r);return i}}s.d(t,{o:()=>r})},67809:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var r=s(35023),i=s(19263),a=s(59954);function n(e){if("coordinates"===e.type){const{lon:t,lat:s}=e;return{type:"point",point:{lon:t,lat:s},id:a.K0,hash:(0,r.OV)(a.K0),region_id:"0",segment_id:"0"}}const t=(0,r.ox)(e.id),s=(0,r.OV)(e.id);if("kilometer_road_sign"===e.type)return Object.assign(Object.assign({},e),{id:t,hash:s,segment_id:"0"});if("branch"===e.type){const r=function(e){const t=e.stop_factors;return t?Object.assign(Object.assign({},e.context),{stop_factors:t}):e.context}(e);return Object.assign(Object.assign({},e),{context:r,id:t,hash:s})}if("point"===e.type||"route"===e.type)return Object.assign(Object.assign({},e),{id:t,hash:s});if("station"===e.type&&e.platforms){const a=[];e.platforms.forEach((e=>{const t=e.geometry.centroid&&(0,i.iL)(e.geometry.centroid);t&&a.push(t)}));const n=function(e){if(!e.length)return;const{lon:t,lat:s}=e.reduce(((e,t)=>(e.lon+=t.lon,e.lat+=t.lat,e)),{lon:0,lat:0});return{lon:(0,r.jF)(t/e.length),lat:(0,r.jF)(s/e.length)}}(a);if(n)return Object.assign(Object.assign({},e),{id:t,hash:s,point:n})}const n=e.geometry&&e.geometry.centroid;return Object.assign(Object.assign({},e),{id:t,hash:s,point:n?(0,i.iL)(n):void 0})}},61120:(e,t,s)=>{"use strict";s.d(t,{S$:()=>r});let r="undefined"==typeof window},19297:(e,t,s)=>{"use strict";s.d(t,{Dr:()=>n,F6:()=>u,UL:()=>c,Yr:()=>o,cl:()=>l,yE:()=>d});var r=s(91171),i=s(50334),a=s(24645);class n{constructor(e,t){this.name="NetworkError",this.message=e,this.code=t}}function o(e,t,s){var a,n,o,d,l;const u=(0,r.oU)(s);if(422===Number(u))throw c((null===(o=null===(n=null===(a=s.details.response)||void 0===a?void 0:a.data.error_fields)||void 0===n?void 0:n[0])||void 0===o?void 0:o.error)||(null===(d=s.details.response)||void 0===d?void 0:d.data.error)||s.details.message,(null===(l=s.details.response)||void 0===l?void 0:l.data.error_description)||"");(0,i.eY)(e,{},t)(s)}function c(e,t){return{name:"ValidationError",message:e,code:422,data:t}}const d=e=>!("object"!=typeof e||!e)&&("obscene"in e||"insults"in e||"unproven_allegations"in e);function l(e){if(e instanceof r.pe){const t=e.details.message,s=(0,r.oU)(e);return new n(t,function(e){const t=Number(e);return t!=t?500:u(t)}(s))}return function(e){return!(!(e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)||"code"in e&&"number"!=typeof e.code)}(e)?{name:e.name,message:e.message,code:e.code||500}:{name:"Unknown error type",message:(0,a.u)(e),code:500}}function u(e){switch(e){case 400:return 400;case 401:return 401;case 402:case 404:return 404;case 403:return 403;case 307:return 307;default:return 500}}},40194:(e,t,s)=>{"use strict";s.d(t,{IR:()=>u,Sw:()=>l,_3:()=>o,_V:()=>i,rv:()=>r,uB:()=>a,vY:()=>n});const r={status:"success",code:200},i={status:"loading"},a=e=>({status:"loading",__effect_uuid:e}),n={code:404,name:"NotFound",message:"Empty result"},o=e=>({status:"error",code:c(e),error:d(e)});function c(e){return e.code||500}function d(e){return{name:e.name,message:e.message,code:e.code,data:e.data}}function l(e=404){return o({code:e,name:"NotFound",message:"Empty result"})}function u(e){return 404===e?l():{status:"error",code:500,error:new Error(`Api have responded with ${e}`)}}},22934:(e,t,s)=>{"use strict";s.d(t,{h$:()=>n,i5:()=>c,vL:()=>i});var r=s(40194);function i(e,t,s){return function(e,t,s,r){return Object.assign(Object.assign({},e),{[t]:r(e[t],s)})}(e,t,s,a)}function a(e,t){return{data:e&&e.data,meta:(0,r.uB)(t)}}function n(e,t,s,r){return function(e,t,s,r,i){const a=e[t];return(null==a?void 0:a.meta.__effect_uuid)!==r?e:Object.assign(Object.assign({},e),{[t]:i(a,s)})}(e,t,s,r,o)}function o(e,t){return{data:t,meta:r.rv}}function c(e,t,s,r){return function(e,t,s,r,i){const a=e[t];return(null==a?void 0:a.meta.__effect_uuid)!==r?e:Object.assign(Object.assign({},e),{[t]:i(a,s)})}(e,t,s,r,d)}function d(e,t){return{data:e&&e.data,meta:(0,r._3)(t)}}},33626:(e,t,s)=>{"use strict";s.d(t,{Ng:()=>r.N,Yn:()=>a,tr:()=>i});var r=s(88220);function i(e){return e}function a(e){return e}},30498:(e,t,s)=>{"use strict";s.d(t,{B:()=>a});var r=s(31085),i=s(14041);const a=function(e){var t;return(t=class extends i.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=e=>{this.setState({isHovered:!0}),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e)},this.handleMouseLeave=e=>{this.setState({isHovered:!1}),"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e)}}render(){const t={onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return(0,r.jsx)(e,Object.assign({},this.props,{hoverableHandlers:t,isHovered:this.props.isHovered||this.state.isHovered}))}}).displayName=`Hoverable(${e.displayName||e.name||"Unnamed"})`,t}},60077:(e,t,s)=>{"use strict";s.d(t,{M:()=>b,K:()=>f});var r=s(14848),i=s(79594),a=s(83878),n=s(32065),o=s(15401);function c(e){let t,s;return r=>(t&&(0,o.b)(t,r)||(t=r,s=e(r)),s)}var d=s(68076),l=s(11540),u=s(14041),p=s(79911),m=s(72185),g=s(21252),h=s(26461);function f(){return e=>{const{__dirname:t,selectors:s,handlers:n,formatter:o,bss:c,styles:f}=e,b=s?(0,i.Ng)("function"==typeof s?v(s):(0,a.j8)(s)):void 0,y=c?(0,g.f)(c.showEventFormatter):void 0,x=o?(0,l.Jq)(o):void 0;return e=>{let s=(e=>t=>{const s=Object.assign({},t);if(n){const e=u.useContext(m.P);Object.assign(s,(0,r.zH)(n,e.dispatch))}return(e=>{const t=u.useContext(p.R);Object.assign(e,{i18n:t})})(s),u.createElement(e,s)})(u.memo(e));return f&&(s=(0,d.Xy)(f)(s)),x&&(s=x(s)),y&&(s=y(s)),b&&(s=b(s)),s.displayName=`reconnect2(${(0,h.d)(t)})`,s}}}function b(e){const{selectors:t,handlers:s={}}=e,r="function"==typeof t?v(t):(0,a.j8)(t);return(0,i.Ng)(r,s)}function v(e){const t=c(e);return(e,s)=>{const r=t(s);if("function"==typeof r){const e=c(r);return(t,s)=>y(e(s),t)}return y(r,e)}}function y(e,t){return(0,n.YD)(e).reduce(((s,r)=>(s[r]=e[r](t),s)),{})}},11264:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var r=s(31085),i=s(14041),a=s(13527);const n=function(){return function(e){var t;return(t=class extends i.Component{render(){return(0,r.jsx)(a.Q.Consumer,{children:t=>(0,r.jsx)(e,Object.assign({},this.props,{config:t}))})}}).displayName=`WithConfig(${e.displayName||e.name||"Unnamed"})`,t}}},27942:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var r=s(85608),i=s(31085),a=s(14041),n=s(11540);function o(e,t){return function(s){class o extends a.PureComponent{render(){return(0,i.jsx)(n.cD,{children:a=>{const n=e(this.props,a);if(!n)return null;if("asyncStatus"in(o=n)&&("loading"===o.asyncStatus||"error"===o.asyncStatus))return t?t(n.asyncStatus):null;var o;if(this.props.render){const e=this.props,{render:t}=e,a=(0,r.Tt)(e,["render"]);return t((0,i.jsx)(s,Object.assign({},a,n)))}return(0,i.jsx)(s,Object.assign({},this.props,n))}})}}return o.displayName=`WithFormatter(${s.displayName||s.name||"Unnamed"})`,o}}},7515:(e,t,s)=>{"use strict";s.d(t,{Q:()=>n});var r=s(31085),i=s(14041),a=s(79911);const n=function(){return function(e){var t;return(t=class extends i.Component{render(){return(0,r.jsx)(e,Object.assign({},this.props,{i18n:this.context}))}}).displayName=`WithI18n(${e.displayName||e.name||"Unnamed"})`,t.contextType=a.R,t}}},68076:(e,t,s)=>{"use strict";s.d(t,{AH:()=>i.AH,Xy:()=>n});var r=s(31085),i=s(26064),a=s(84175);function n(e){const t=(0,a.r)(e);return function(e){const s=s=>{const{s:i,dir:n,theme:o}=(0,a.I)(t);return(0,r.jsx)(e,Object.assign({dir:n,s:i,theme:o},s))};return s.displayName=`WithStyles(${e.displayName||e.name||"Anonymous"})`,s}}},21005:(e,t,s)=>{"use strict";s.d(t,{F:()=>b});var r=s(46579),i=s(10742),a=s(82781),n=s(77017),o=s(46516),c=s(8365),d=s(79594),l=s(66633),u=s(80905),p=s(98379),m=s(11042),g=s(66698),h=s(13179),f=s(38132);function b({isForceShown:e}={}){var t;const s=(0,a.c)(),n=(0,d.wA)(),{frame:o,entity:u}=(0,m.Z)(),{isMobileDevice:p}=(0,r.U)(),{searchCtx:b,searchKeyword:j}=(0,f.Z)({entityId:o.entityId}),w=(0,h.Sg)({id:o.entityId,albumId:g.ge,searchCtx:b,searchKeyword:j},{enabled:"menu"===(null==o?void 0:o.tab)&&"branch"===(null==u?void 0:u.type)}),_=w.data?(null===(t=w.data)||void 0===t?void 0:t.pages[0].items.length)||0:void 0,{bssRef:C,useBssHandler:I}=(0,c.E)(y({size:_})),k=I(x,{size:_}),O=(0,i.D)((()=>{o&&u&&(k(),n((0,l.GV)({entityId:u.id,searchId:o.searchId,isMenuPhoto:!0})))}));if("menu"===(null==o?void 0:o.tab)&&(e||p||0!==_))return{type:"addMenuPhoto",label:v(u,s),icon:void 0,href:void 0,onClick:O,bssRef:C}}function v(e,t){switch(e&&(0,o.O)(e)?(0,n.F)(e.rubrics):void 0){case"menu":return t._t("Добавить фото меню");case"prices":return t._t("Добавить фото прайс-листа");default:return}}const y=({size:e})=>({frameId:t},s)=>{const r=(0,u.w1)(s.appContext.frames,t);if(void 0!==e&&"entity"===(null==r?void 0:r.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,p.t)({state:s,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:r.entityId},size:e}}}},x=({size:e})=>({frameId:t},s)=>{const r=(0,u.w1)(s.appContext.frames,t);if(void 0!==e&&"entity"===(null==r?void 0:r.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,p.t)({state:s,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:r.entityId},size:e}},action:"tap"}}},72490:(e,t,s)=>{"use strict";s.d(t,{w:()=>h});var r=s(46579),i=s(10742),a=s(82781),n=s(8365),o=s(79594),c=s(66633),d=s(98379),l=s(11042),u=s(25346),p=s(66698),m=s(30392),g=s(14041);function h({isForceShown:e}={}){const t=(0,a.c)(),s=(0,o.wA)(),{frame:d,entity:h}=(0,l.Z)(),{isMobileDevice:b}=(0,r.U)(),{data:v}=(0,u.l7)({objectId:(null==h?void 0:h.id)||(null==d?void 0:d.entityId)||""},{enabled:!(!(null==h?void 0:h.id)&&!(null==d?void 0:d.entityId))}),y=(0,g.useMemo)((()=>null==v?void 0:v.albums.find((e=>e.id===p.Qh))),[v]),x=null==y?void 0:y.count,{useBssHandler:j}=(0,n.E)(),w=j(f,{size:x}),_=(0,i.D)((()=>{if(!d||!h)return;w();const e="menu"===d.tab;y&&!e&&s((0,m.G)({frameId:d.id,selectedAlbum:y})),s((0,c.GV)({entityId:h.id,searchId:d.searchId}))}));if("photos"===(null==d?void 0:d.tab)&&(e||b||0!==x))return{type:"addPhoto",label:t._t("Добавить фото"),icon:void 0,href:void 0,onClick:_}}const f=({size:e})=>({frameId:t},s)=>({uiElement:{name:"addPhotoButton",ownerName:"cardGallery",frameUuid:t},payload:{placeItem:(0,d.t)({state:s,entityFrameId:t}),gallery:{size:e||0}},action:"tap"})},44920:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(31085),i=s(10742),a=s(82781),n=s(79594),o=s(22786),c=s(51883);function d({isLabelShown:e,onClick:t}={}){var s;const d=(0,a.c)(),l=(0,n.wA)(),u=null===(s=(0,n.d4)((e=>e.appContext.frames[1])))||void 0===s?void 0:s.type,p=(0,i.D)((()=>{t?t():l((0,c.kD)())}));return{type:"back",label:e?"search"===u?d._t("К результатам"):d._t("Назад"):void 0,icon:(0,r.jsx)(o.v,{}),href:void 0,onClick:p}}},90659:(e,t,s)=>{"use strict";s.d(t,{B:()=>v});var r=s(31085),i=s(10742),a=s(82781),n=s(8365),o=s(84082),c=s(79594),d=s(12017),l=s(91818);const u=(0,d.n5)("handleBookmarkClick",(e=>(0,l.oC)("handleBookmarkClick",e)));var p=s(80774);function m({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v17.723z"})}))}function g({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M12 15L18 17.7501V6C18 5.5214 17.4907 5 17 5H7C6.50933 5 6 5.5214 6 6V17.7501L12 15ZM20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}function h({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}var f=s(98379),b=s(11042);function v({color:e,isLabelShown:t,isSmallIcon:s}){const d=(0,a.c)(),l=(0,c.wA)(),{entity:f}=(0,b.Z)(),v=f?{object_id:f.id,object_type:f.type,point:"point"in f?f.point:void 0}:void 0,x=(0,c.d4)((e=>!!v&&((0,o.cE)(v)(e)||(0,o.TH)(v)(e)))),j=(0,n.E)().useBssHandler(y,{isFilled:x});return{type:"bookmark",label:t?x?d._t("Сохранено"):d._t("Сохранить"):void 0,icon:s?x?(0,r.jsx)(h,{color:e}):(0,r.jsx)(g,{color:e}):x?(0,r.jsx)(m,{color:e}):(0,r.jsx)(p.X,{color:e}),href:void 0,isBookmarked:x,onClick:(0,i.D)((e=>{v&&(j(),l(u({item:v,isAdded:x,targetBoundingClientRect:e.currentTarget.getBoundingClientRect()})))}))}}const y=e=>({frameId:t},s)=>({uiElement:{name:"bookmark",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{favoritesItem:{isFilled:e.isFilled},placeItem:(0,f.t)({state:s,entityFrameId:t})}})},33489:(e,t,s)=>{"use strict";s.d(t,{j:()=>f});var r=s(31085),i=s(99259),a=s(10742),n=s(82781),o=s(12017),c=s(20091),d=s(29787),l=s(24872);const u=(0,o.n5)("onMapEntityButtonClick",(e=>(0,o.K2)((0,d.PC)((0,c.X_)({isMinimized:!0})),(0,l.xZ)({lon:null==e?void 0:e.lon,lat:null==e?void 0:e.lat,zoom:null==e?void 0:e.zoom}))));var p=s(79594),m=s(75098),g=s(51143),h=s(11042);function f({isLabelShown:e}){const t=(0,n.c)(),s=(0,p.wA)(),{entity:o}=(0,h.Z)(),c=(0,p.d4)((e=>o?(0,g.d)({entity:o,state:e}):void 0));return{type:"map",label:e?t._t("На карте"):void 0,icon:(0,r.jsx)(m.T,{color:i.T.black}),href:void 0,onClick:(0,a.D)((()=>{s(u(c))}))}}},98827:(e,t,s)=>{"use strict";s.d(t,{n:()=>p});var r=s(31085),i=s(10742),a=s(82781),n=s(79594),o=s(20091),c=s(34603),d=s(22786),l=s(16914),u=s(18389);function p({isLabelShown:e}={}){const t=(0,a.c)(),s=(0,n.wA)(),p=(0,u.o)(),{label:m,icon:g}=function(e,t){switch(e){case"entity":case"product":return{icon:(0,r.jsx)(c.Ad,{}),label:t._t("Карточка")};case"search":return{icon:(0,r.jsx)(l.B,{}),label:t._t("Списком")};case"userPublicProfile":return{icon:(0,r.jsx)(d.v,{}),label:t._t("В профиль")};default:return{icon:(0,r.jsx)(d.v,{}),label:t._t("Назад")}}}(null==p?void 0:p.type,t);return{type:"maximize",label:e?m:void 0,icon:g,href:void 0,onClick:(0,i.D)((()=>{s((0,o.X_)({isMinimized:!1}))}))}}},53346:(e,t,s)=>{"use strict";s.d(t,{y:()=>w});var r=s(31085),i=s(10742),a=s(82781),n=s(8524),o=s(41283),c=s(8365),d=s(79594),l=s(98379),u=s(18887),p=s(11042),m=s(46579),g=s(12017),h=s(29787),f=s(13843),b=s(46287),v=s(7335);const y=(0,g.n5)("handleDirectionsClick",(({lonLat:e,entityId:t})=>e?(0,g.K2)((0,h.PC)(),(0,f.P)({points:[void 0,{type:"point",lonLat:e,entityId:t}]})):t?(0,v.eU)((e=>(0,b.DE)({state:e,entityId:t})),(e=>{const s=e.data&&"point"in e.data?e.data.point:void 0;if(s)return(0,g.K2)((0,h.PC)(),(0,f.P)({points:[void 0,{type:"point",lonLat:s,entityId:t}]}))})):(0,g.lQ)()));var x=s(55027),j=s(95920);function w({color:e,isLabelShown:t,isSmallIcon:s,isFromCard:l}){const g=(0,a.c)(),h=(0,d.wA)(),{isMobileDevice:f,lang:b}=(0,m.U)(),{frame:v,entity:w}=(0,p.Z)(),C=(null==v?void 0:v.point)||w&&"point"in w&&w.point||void 0,I=(0,c.E)().useBssHandler(_,!!l),k=(0,d.d4)((e=>e.session.platform)),O=(0,x.zP)({platform:k,type:"modalGeoPromoDirect"}),S=(0,u.P)({type:"directions",points:C?[void 0,{type:"point",lonLat:C,entityId:null==w?void 0:w.id}]:void 0}),T=(0,i.D)((()=>{I(),f?"ru"===b?h((0,j.t)("routeSearchFullscreenPopup")):window.open(O):h(y({lonLat:C,entityId:null==w?void 0:w.id}))}));if(C&&"route"!==(null==w?void 0:w.type)&&(!f||O))return{type:"route",label:t?g._t("Проехать"):void 0,icon:s?(0,r.jsx)(o.B,{color:e}):(0,r.jsx)(n.B,{color:e}),href:S,onClick:T}}const _=e=>({frameId:t},s)=>({uiElement:{name:"buildRoute",ownerName:e?"cardContacts":"placeCardFull",frameUuid:t},action:"tap",payload:{placeItem:(0,l.t)({state:s,entityFrameId:t})}})},87023:(e,t,s)=>{"use strict";s.d(t,{e:()=>m});var r=s(31085),i=s(10742),a=s(84963),n=s(79594),o=s(64197);function c({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.5C21 7.433 19.433 9 17.5 9C16.5814 9 15.7455 8.64612 15.1211 8.06725L9.8971 11.1541C9.96432 11.425 10 11.7083 10 12C10 12.2917 9.96432 12.575 9.8971 12.8459L15.1211 15.9328C15.7455 15.3539 16.5814 15 17.5 15C19.433 15 21 16.567 21 18.5C21 20.433 19.433 22 17.5 22C15.567 22 14 20.433 14 18.5C14 18.2084 14.0357 17.925 14.1029 17.6542L8.87889 14.5673C8.2545 15.1461 7.41858 15.5 6.5 15.5C4.567 15.5 3 13.933 3 12C3 10.067 4.567 8.5 6.5 8.5C7.41858 8.5 8.25451 8.85387 8.8789 9.43272L14.1029 6.34581C14.0357 6.07496 14 5.79164 14 5.5C14 3.567 15.567 2 17.5 2C19.433 2 21 3.567 21 5.5ZM17.5 7C18.3284 7 19 6.32843 19 5.5C19 4.67157 18.3284 4 17.5 4C16.6716 4 16 4.67157 16 5.5C16 6.32843 16.6716 7 17.5 7ZM8 12C8 12.8284 7.32843 13.5 6.5 13.5C5.67157 13.5 5 12.8284 5 12C5 11.1716 5.67157 10.5 6.5 10.5C7.32843 10.5 8 11.1716 8 12ZM19 18.5C19 19.3284 18.3284 20 17.5 20C16.6716 20 16 19.3284 16 18.5C16 17.6716 16.6716 17 17.5 17C18.3284 17 19 17.6716 19 18.5Z",fill:e})}))}var d=s(39123),l=s(82781),u=s(8365),p=s(7682);function m(e){const{color:t,isLabelShown:s,isSmallIcon:m,frameType:g="entity",ownerName:h}=e,f=(0,l.c)(),b=(0,n.wA)(),v=(0,d.U)(g),y=(0,u.E)().useBssHandler(p.G1,{ownerName:h});return{type:"share",label:s?f._t("Отправить"):void 0,icon:m?(0,r.jsx)(c,{color:t}):(0,r.jsx)(o.S,{color:t}),href:void 0,onClick:(0,i.D)((()=>{v&&(y(),b((0,a.T)({frameId:v.id})))}))}}},83044:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(14041);const i=()=>{const e=(0,r.useRef)(new Map),[t,s]=(0,r.useState)(void 0),i=(0,r.useRef)(null);return{addVideoToSelectActive:(0,r.useCallback)((t=>{var r;const{id:a,isVisible:n,isHovered:o,position:c}=t;if(e.current.set(a,t),n&&o)return i.current=t,void s(t.id);if(!(i.current&&a!==i.current.id&&i.current.position<=c)){if(!i.current&&n||i.current&&a!==i.current.id&&i.current.position>c)return i.current=t,void s(t.id);if(!a||n||(null===(r=i.current)||void 0===r?void 0:r.id)!==a);else{const t=Array.from(e.current.entries()).find((([e,t])=>t.isVisible&&t.id!==a));t?(i.current=t[1],s(t[1].id)):(i.current=null,s(void 0))}}}),[]),activeVideoId:t}}},46579:(e,t,s)=>{"use strict";s.d(t,{U:()=>a});var r=s(14041),i=s(13527);function a(){return(0,r.useContext)(i.Q)}},4911:(e,t,s)=>{"use strict";s.d(t,{X:()=>u});var r=s(14041),i=s(79594),a=s(46579),n=s(80482),o=s(49157),c=s(78170),d=s(41570);const{use:l}=(0,c.V)("Place Dynamic Congestion",(e=>({services:t})=>{const{id:s}=e;return s?t.congestionApi.getCongestion({id:s}):void 0})),u=e=>{var t,s;const{entity:c,refetchOnMount:u=!1}=e,{featurePlaceCongestion:p}=(0,a.U)(),m=(0,i.d4)((e=>e.session.time)),g=c?(0,o.T)(c):void 0,{localHour:h,localDay:f}=g?(0,d.X)(m,g):{localHour:void 0,localDay:void 0},b=p&&c&&"congestion"in c?c.congestion:void 0,v=(0,r.useMemo)((()=>b?function(e){return Object.keys(e).reduce(((t,s)=>{const r=e[s];for(const[e,i]of Object.entries(r))for(const r of i){const i=e.toLowerCase();t[i]=Object.assign(Object.assign({},t[i]),{[r]:{value:+s}})}return t}),{})}(b):void 0),[b]),y=f&&h?null===(s=null===(t=null==v?void 0:v[f])||void 0===t?void 0:t[h])||void 0===s?void 0:s.value:void 0,x=p&&!!y&&!!c&&"has_dynamic_congestion"in c&&!!c.has_dynamic_congestion,{data:j,isLoading:w}=l({id:x?null==c?void 0:c.id:void 0},{refetchOnMount:u});return{dynamicValue:null==j?void 0:j.value,currentCongestion:v?(0,n.p)(y):void 0,staticData:v,isLoading:w}}},28478:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var r=s(14041);const i=()=>{const[e,t]=(0,r.useState)(!1);return{isContentOverflow:e,containerRef:(0,r.useCallback)((e=>{e&&t(e.scrollHeight>e.clientHeight)}),[])}}},67730:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(14041);const i=e=>{const[t,s]=(0,r.useState)(e),i=(0,r.useRef)(e);return e!==i.current&&(s(e),i.current=e),[t,s]}},11042:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(39123),i=s(88942);function a(e){const t=(0,r.U)("entity");return{frame:t,entity:(0,i.t)(null==t?void 0:t.entityId,(null==e?void 0:e.withSearchContext)?null==t?void 0:t.searchId:void 0)}}},39123:(e,t,s)=>{"use strict";s.d(t,{U:()=>a});var r=s(79594),i=s(80905);function a(e){return(0,r.d4)((t=>(0,i.bB)(t.appContext.frames,e)))}},89268:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var r=s(14041),i=s(79911);function a(){const{dateFns:e}=(0,r.useContext)(i.R);return e}},68299:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(14041),i=s(81407);function a(e,t){const s=(0,r.useRef)();(0,r.useEffect)((()=>()=>{s.current&&clearTimeout(s.current)}),[]);const a=(0,r.useRef)(e);return(0,i.E)((()=>{a.current=e})),(0,r.useCallback)(((...e)=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{a.current(...e)}),t)}),[t])}},88942:(e,t,s)=>{"use strict";s.d(t,{t:()=>a});var r=s(46287),i=s(79594);function a(e,t){return(0,i.d4)((s=>{if(e)return t?(0,r.Tq)({state:s,entityId:e,searchId:t}).data:(0,r.DE)({state:s,entityId:e}).data}))}},10742:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(14041),i=s(81407);function a(e){const t=(0,r.useRef)((()=>{throw new Error("Cannot call an event callback while rendering")})),s=(0,r.useCallback)(((...e)=>t.current(...e)),[]);return(0,i.E)((()=>{t.current=e})),s}},99449:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(14041),i=s(35023),a=s(79594),n=s(95993);function o(e){const t=(0,a.wA)(),{type:s,handler:o,stopIfHandled:c,priority:d}=e;(0,r.useEffect)((()=>{const e=(0,i.W7)();return t((0,n.q2)({id:e,type:s,handler:o,stopIfHandled:c,priority:d})),()=>{t((0,n.f)({id:e}))}}),[s,o,c,d,t])}},64433:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var r=s(14041),i=s(79594),a=s(81407);function n(e,...t){const s=(0,i.wA)(),n=(0,r.useRef)(t),o=(0,r.useCallback)(((...t)=>{const r=n.current.length?n.current:t;s(e(...r))}),[]);return(0,a.E)((()=>{n.current=t})),o}},54935:(e,t,s)=>{"use strict";s.d(t,{M:()=>a});var r=s(14041),i=s(31003);function a(e){const[t,s]=(0,r.useState)(!1),{ref:a,refCallback:n}=(0,i.g)(null==e?void 0:e.ref);return(0,r.useEffect)((()=>{const t=a.current;if(!t)return;const r=()=>s(!0),i=()=>s(!1);return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",i),(null==e?void 0:e.loseHoverOnClick)&&t.addEventListener("click",i),()=>{t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",i),(null==e?void 0:e.loseHoverOnClick)&&t.removeEventListener("click",i)}}),[null==e?void 0:e.loseHoverOnClick,a.current]),{ref:a,refCallback:n,isHovered:t}}},81407:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(14041);const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect},84815:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(10753),i=s(14041);function a(e,t){(0,i.useEffect)((()=>{const t=(0,r.uj)().then((t=>{if(t)return e(t.map,t.api,t.mapgl)}));return()=>{t.then((e=>{e&&e()}))}}),t)}},8415:(e,t,s)=>{"use strict";s.d(t,{q:()=>a});var r=s(14041),i=s(84711);function a(e){const{root:t,rootMargin:s,threshold:a,isIntersectInitial:n=!1,showVisibility:o}=e,c=(0,r.useRef)(null),[d,l]=(0,r.useState)(n),[u,p]=(0,r.useState)(n);return(0,r.useEffect)((()=>{if(!c.current)return;const e=(0,i.Z)(c.current,{root:t,rootMargin:s,threshold:a},(e=>{const t=e.some((e=>e.isIntersecting));o&&p(t),!d&&t&&l(!0)}));return()=>{e.disconnect()}}),[t,s,a,o]),[c,o?u:d]}},76098:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var r=s(14041),i=s(79594),a=s(97980),n=s(24302),o=s(64433),c=s(95280),d=s(95083);function l(e){const{entityId:t,dataLocaleSelector:s,isEnabled:a=!0}=e,l=(0,i.d4)(s),p=(0,i.d4)(u(t)),m=(0,o.I)(d.TI,{branchId:t,offersSearchId:t,filtersId:t,page:1,locale:l});return(0,r.useEffect)((()=>{(0,c.P)(p)&&a&&m()}),[t]),p||{data:void 0,meta:n._V}}const u=e=>t=>(0,a.LW)({state:t,searchId:e})},41155:(e,t,s)=>{"use strict";s.d(t,{S:()=>c});var r=s(14041),i=s(63536),a=s(12017),n=s(99449),o=s(35023);function c(e){const[t,s]=(0,r.useState)(),c=(0,r.useCallback)((()=>s(void 0)),[s]),d=(0,r.useCallback)((()=>{if(t)return c(),(0,a.lQ)()}),[(0,o.O9)(t)]);(0,n.A)({type:"common:escapeKeyUp",handler:d,stopIfHandled:!0,priority:i.b.FrameElement});const l=(0,r.useCallback)((()=>{if(!e||e.length<=1)return(0,a.lQ)();const r=e.findIndex((e=>e.id===t))-1;return e[r]&&s(e[r].id),(0,a.lQ)()}),[e,t]);(0,n.A)({type:"common:arrowLeftKeyDown",handler:l,stopIfHandled:!0,priority:i.b.FrameElement}),(0,n.A)({type:"common:arrowUpKeyDown",handler:l,stopIfHandled:!0,priority:i.b.FrameElement});const u=(0,r.useCallback)((()=>{if(!e||e.length<=1)return(0,a.lQ)();const r=e.findIndex((e=>e.id===t))+1;return r>0&&e[r]&&s(e[r].id),(0,a.lQ)()}),[e,t]);return(0,n.A)({type:"common:arrowRightKeyDown",handler:u,stopIfHandled:!0,priority:i.b.FrameElement}),(0,n.A)({type:"common:arrowDownKeyDown",handler:u,stopIfHandled:!0,priority:i.b.FrameElement}),(0,n.A)({type:"common:spaceKeyDown",handler:u,stopIfHandled:!0,priority:i.b.FrameElement}),[t,s,c]}},49423:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(79594);function i(e){return(0,r.d4)((t=>{const s=t.appContext.popup;if(!e||e===(null==s?void 0:s.type))return s}))}},16641:(e,t,s)=>{"use strict";s.d(t,{QO:()=>m,bK:()=>u,m6:()=>g});var r=s(14041),i=s(21959),a=s(79594),n=s(4340),o=s(806);const c="dg5_quickNotes";let d={};const l=n.IG.local.getItem(c);if(l)try{d=JSON.parse(l)}catch(e){}const u=(0,o.e)(d);function p(e,t){u.set((s=>Object.assign(Object.assign({},s),{[e]:t}))),n.IG.local.setItem(c,JSON.stringify(u.get()))}const m=e=>{const{entityId:t,userId:s}=e;return s?`${s}-${t}`:t},g=e=>{const{entityId:t}=e,s=(0,a.d4)(i.LE),n=m({userId:s,entityId:t}),o=(0,r.useMemo)((()=>e=>e[n]),[n]);return[u.use(o),{updateItem:(0,r.useCallback)((e=>p(n,e)),[n]),removeItem:(0,r.useCallback)((()=>p(n,void 0)),[n])}]}},28909:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var r=s(14041),i=s(15471);function a(e){const{frameId:t}=(0,r.useContext)(i.X)}s(53663)},31003:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var r=s(14041);function i(e){const t=(0,r.useRef)(null),s=e||t,[,i]=(0,r.useState)(s.current),a=(0,r.useCallback)((e=>{s.current=e,i(e)}),[s]);return{ref:s,refCallback:a}}},55322:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var r=s(46579),i=s(14041);function a({scrollboxRef:e}){const t=(0,r.U)().rtl?-1:1,[s,a]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),c=(0,i.useCallback)((()=>{e.current&&(a(e.current.scrollLeft*t>0),o(e.current.scrollLeft*t+4<e.current.scrollWidth-e.current.offsetWidth))}),[e,t]);(0,i.useEffect)((()=>{const t=e.current;if(t)return setTimeout(c,0),t.addEventListener("scroll",c),()=>{t.removeEventListener("scroll",c)}}),[c,e]);const d=(0,i.useCallback)(((s,r)=>{s.stopPropagation(),e.current&&e.current.scrollTo({left:e.current.scrollLeft+e.current.scrollWidth/e.current.children.length*t*r,behavior:"smooth"})}),[e,t]);return{isStartArrowShown:s,isEndArrowShown:n,clickArrowStart:(0,i.useCallback)((e=>d(e,-1)),[d]),clickArrowEnd:(0,i.useCallback)((e=>d(e,1)),[d])}}},38132:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(56803),i=s(14041),a=s(79594),n=s(47919),o=s(96536),c=s(80905),d=s(74786);function l({entityId:e}={}){const t=(0,a.d4)((e=>{var t,s,i,a,n;const d=e.appContext.frames[0];if("gallery"===(null==d?void 0:d.type)){const i=d.searchId;return null===(s=null===(t=(0,r.s8)({state:e,searchId:i}).data)||void 0===t?void 0:t.searchAttributes)||void 0===s?void 0:s.query_context}const l=(0,c.bB)(e.appContext.frames,"search");if(l)return null===(n=null===(a=null===(i=(0,o.Y)(e,l).profile)||void 0===i?void 0:i.data)||void 0===a?void 0:a.searchAttributes)||void 0===n?void 0:n.query_context}));return{searchCtx:(0,i.useMemo)((()=>(0,d.MV)(t)),[t]),searchKeyword:(0,a.d4)((0,n.QW)(e)),searchKeywords:(0,a.d4)((e=>(0,n.ze)({state:e})))}}},37573:(e,t,s)=>{"use strict";s.d(t,{A:()=>a,e:()=>i});var r=s(14041);const i=(0,r.createContext)({});function a(){return(0,r.useContext)(i)}},84175:(e,t,s)=>{"use strict";s.d(t,{I:()=>o,r:()=>d});var r=s(92460),i=s(26064),a=s(13730),n=s(95e3);function o(e){const t=(0,n.DP)(),s=e.applyTheme(t),r=t.rtl?"rtl":"ltr";return{s:s,dir:r,css:i.AH,theme:t,inline:e=>(0,i.mG)(e,r)}}const c=e=>{const t=function(){if("undefined"!=typeof Map){const e=new Map;return{set:e.set.bind(e),get:e.get.bind(e)}}let e,t;return{set:(s,r)=>{e=s,t=r},get:s=>{if(s===e)return t}}}();return s=>{const i=t.get(s);if(i)return i;const n=r.vv.create((0,a.Z)("function"==typeof e?e(s):e,s.rtl?"rtl":"ltr"));return t.set(s,n),n}},d=e=>({applyTheme:c(e)})},95792:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var r=s(31085),i=s(84175),a=s(64099),n=s(80552),o=s(99259),c=s(28743);const d=e=>{const{title:t,to:s,delay:a,offset:n,fixedWidth:o,isNowraped:d,loseHoverOnClick:u,innerRef:p}=e,{s:m,css:g}=(0,i.I)(l);return(0,c.K)({content:t?(0,r.jsx)("div",Object.assign({className:g(m.content,d&&m._nowraped),style:{width:o||"auto"}},{children:t})):void 0,to:s,delay:a,offset:n,loseHoverOnClick:u,innerRef:p})},l=(0,i.r)({content:Object.assign(Object.assign({},n.Hg),{borderRadius:a.Vq.default,display:"flex",alignItems:"center",justifyContent:"center",color:o.T.white,boxSizing:"border-box",opacity:.85,padding:8,pointerEvents:"none",background:o.T.black,":empty":{background:"unset"}}),_nowraped:{whiteSpace:"nowrap"}})},6098:(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var r=s(31085),i=s(14041),a=s(79086),n=s(43144);const o=({content:e,to:t,offset:s,ref:o,isDisplayed:c=!0})=>{const d=(0,i.useMemo)((()=>o.current?o.current.getBoundingClientRect():void 0),[c,o.current]),l=(0,i.useMemo)((()=>e&&c?(0,r.jsx)(a.w,Object.assign({targetBoundingClientRect:d,offset:s,to:t},{children:e})):null),[e,s,t,c,d]),u="undefined"!=typeof document?document.getElementById("tooltips"):void 0;return{ref:o,addTooltip:u?(0,n.createPortal)(l,u):null}}},28743:(e,t,s)=>{"use strict";s.d(t,{K:()=>n});var r=s(54935),i=s(14041),a=s(6098);const n=({content:e,to:t,delay:s=200,offset:n=4,loseHoverOnClick:o=!0,innerRef:c})=>{let d;const l=s||200,{ref:u,refCallback:p,isHovered:m}=(0,r.M)({loseHoverOnClick:o,ref:c}),[g,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>(m||(h(!1),window.clearTimeout(d)),()=>{window.clearTimeout(d)})),[m]),(0,i.useEffect)((()=>{m&&!g&&(d=window.setTimeout((()=>h(!0)),l))}),[m,g]);const{addTooltip:f}=(0,a.f)({content:e,to:t,offset:n,ref:u,isDisplayed:g});return{ref:u,refCallback:p,addTooltip:f}}},18389:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(79594);function i(){return(0,r.d4)((e=>e.appContext.frames[0]))}},82781:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var r=s(14041),i=s(79911);function a(){const{tp:e}=(0,r.useContext)(i.R);return e}},32443:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,r.jsx)("path",{d:"M102.49 91.27a3 3 0 0 1 2.28.54l6.63 4.92 1.6-.8V22a7 7 0 0 0-7-7H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h69.46a6.91 6.91 0 0 0 6.15 2.17l14.54-2.17-.3-2-14.53 2.18a5 5 0 0 1-5.61-3.8l-2.49-10.57 7-1.17.07.07.09-.09 3.78-.63-.32-2-2.94.49-2.83-2.83zM22 17h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm65.84 80L87 98.23l2.73 11.62a6.46 6.46 0 0 0 .38 1.15H22a5 5 0 0 1-5-5V33h94v60.94l-5-3.73a5 5 0 0 0-3.8-.92l-9.83 1.64-3.64-3.64a17.09 17.09 0 1 0-1.41 1.41l7.2 7.21zM76 91a15 15 0 1 1 15-15 15 15 0 0 1-15 15z"}),(0,r.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,r.jsx)("ellipse",{cx:"52",cy:"76",rx:"3",ry:"4"}),(0,r.jsx)("ellipse",{cx:"76",cy:"76",rx:"3",ry:"4"}),(0,r.jsx)("path",{d:"M47.754 67.97l.485-1.94 8.004 2.002-.485 1.94zM64 96a8 8 0 0 0-8 8h16a8 8 0 0 0-8-8z"})]}))}},75506:(e,t,s)=>{"use strict";s.d(t,{j:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,r.jsx)("path",{d:"M106 15H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h84a7 7 0 0 0 7-7V22a7 7 0 0 0-7-7zm-84 2h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm84 94H22a5 5 0 0 1-5-5V33h94v73a5 5 0 0 1-5 5z"}),(0,r.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,r.jsx)("path",{d:"M48.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM72.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM71 95H48v2h23v3a5 5 0 0 0 10 0v-5H71zm8 5a3 3 0 0 1-6 0v-3h6z"})]}))}},5438:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(31085);function i({color:e="currentColor",width:t=16,height:s=16}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},24797:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M8 7.293L5.354 4.646l-.708.708L7.293 8l-2.647 2.646.708.708L8 8.707l2.646 2.647.708-.708L8.707 8l2.647-2.646-.708-.708L8 7.293zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"})}))}},9367:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(31085);function i(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,r.jsx)("path",{fill:"#30AD00",fillRule:"evenodd",d:"M8.579.41a1 1 0 00-1.157 0l-.92.653a1 1 0 01-.672.18l-1.124-.105a1 1 0 00-1.002.578l-.47 1.026a1 1 0 01-.492.491l-1.026.471a1 1 0 00-.578 1.002l.105 1.124a1 1 0 01-.18.671l-.653.92a1 1 0 000 1.157l.653.921a1 1 0 01.18.671l-.105 1.124a1 1 0 00.578 1.002l1.026.47a1 1 0 01.491.492l.471 1.026a1 1 0 001.002.578l1.124-.105a1 1 0 01.671.18l.92.653a1 1 0 001.158 0l.92-.653a1 1 0 01.672-.18l1.123.105a1 1 0 001.002-.578l.471-1.026a1 1 0 01.492-.491l1.025-.471a1 1 0 00.579-1.002l-.105-1.124a1 1 0 01.18-.671l.652-.92a1 1 0 000-1.157l-.653-.921a1 1 0 01-.18-.671l.106-1.124a1 1 0 00-.579-1.002l-1.026-.47a1 1 0 01-.491-.492l-.47-1.026a1 1 0 00-1.003-.578l-1.123.105a1 1 0 01-.672-.18L8.58.41zM5 11L4 5l2 1 2-2 2 2 2-1-1 6H5z",clipRule:"evenodd"})}))}},2359:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var r=s(85608),i=s(31085);function a(e={color:"#CCCCCC"}){var{color:t}=e,s=(0,r.Tt)(e,["color"]);return(0,i.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.12097 4C9.32056 4 10.5 4.60705 10.5 5.92954C10.5 6.94851 9.84476 7.64228 9.22984 8.04336C8.60484 8.45528 8.3125 8.67209 8.3125 9.38753V9.72358H7.1129V9.35501C7.1129 8.34688 7.50605 7.8916 8.25202 7.40379C8.83669 7.02439 9.27016 6.62331 9.27016 6.00542C9.27016 5.38753 8.73589 5.04065 8.10081 5.04065C7.20363 5.04065 6.71976 5.61518 6.68952 6.50407H5.5C5.5 4.97561 6.60887 4 8.12097 4ZM8.40323 12H7.03226V10.5257H8.40323V12Z",fill:t})}))}},68913:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},46501:(e,t,s)=>{"use strict";s.d(t,{b:()=>a});var r=s(85608),i=s(31085);const a=e=>{var{color:t="currentColor",width:s=24,height:a=24}=e,n=(0,r.Tt)(e,["color","width","height"]);return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:s,height:a,viewBox:"0 0 24 24",fill:t},n,{children:(0,i.jsx)("path",{d:"M12 10.586l3.793-3.793 1.414 1.414L13.414 12l3.793 3.793-1.414 1.414L12 13.414l-3.793 3.793-1.414-1.414L10.586 12 6.793 8.207l1.414-1.414L12 10.586z"})}))}},52821:(e,t,s)=>{"use strict";s.d(t,{f:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M16 5l-1 1.001 3 3 1.001-1v-1L17 5h-1zM6 15.001l-1 3V19h1l3-.999L17 10l-3-2.999-8 8z"})}))}},30352:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M14 9l.31-2.47a2 2 0 0 0-1.24-2.1L12 4a10.76 10.76 0 0 1-4 5v9l7.35.74a3 3 0 0 0 3.23-2.34L20 10zM5 18h2L6 9H5v9z"})}))}},91905:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var r=s(31085);function i({color:e="currentColor",size:t=24}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M14 14l-1.08 1.45a13.61 13.61 0 0 1-4.37-4.37L10 10a18.47 18.47 0 0 0-.95-5.85L9 4H5.06a1 1 0 0 0-1 1.09 16 16 0 0 0 14.85 14.85 1 1 0 0 0 1.09-1V15h-.15A18.47 18.47 0 0 0 14 14z"})}))}},65111:(e,t,s)=>{"use strict";s.d(t,{j:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M9.52639 4.26872C9.02775 3.94141 8.38661 3.91089 7.85823 4.18932C7.32985 4.46775 7 5.00993 7 5.6V18.4C7 18.9901 7.32985 19.5322 7.85823 19.8107C8.38661 20.0891 9.02775 20.0586 9.52639 19.7313L19.2764 13.3313C19.7285 13.0345 20 12.535 20 12C20 11.465 19.7285 10.9655 19.2764 10.6687L9.52639 4.26872Z",fill:e})}))}},41283:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(31085);function i({width:e=24,height:t=24,color:s="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C13.8954 5 13 5.89543 13 7V17C13 19.2091 11.2091 21 9 21C6.79086 21 5 19.2091 5 17V15H7V17C7 18.1046 7.89543 19 9 19C10.1046 19 11 18.1046 11 17V7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7V10.126C20.7252 10.5701 22 12.1362 22 14C22 16.2091 20.2091 18 18 18C15.7909 18 14 16.2091 14 14C14 12.1362 15.2748 10.5701 17 10.126V7C17 5.89543 16.1046 5 15 5ZM6 8C4.89543 8 4 8.89543 4 10C4 11.1046 4.89543 12 6 12C7.10457 12 8 11.1046 8 10C8 8.89543 7.10457 8 6 8ZM2 10C2 7.79086 3.79086 6 6 6C8.20914 6 10 7.79086 10 10C10 12.2091 8.20914 14 6 14C3.79086 14 2 12.2091 2 10ZM16 14C16 12.8954 16.8954 12 18 12C19.1046 12 20 12.8954 20 14C20 15.1046 19.1046 16 18 16C16.8954 16 16 15.1046 16 14Z",fill:s})}))}},18971:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,d:"M6.85 18.17a2 2 0 0 0 2 1.83h6.32a2 2 0 0 0 2-1.83L18 8H6zM15 5l-1-1h-4L9 5 5 6v1h14V6l-4-1z"})}))}},77110:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12 7c2.667 0 5.333 1.667 8 5l-.267.328C17.156 15.443 14.578 17 12 17c-2.667 0-5.333-1.667-8-5 2.667-3.333 5.333-5 8-5zm0 2c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm1 2v2h-2v-2h2z"})}))}},54405:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M20.23 16L13.72 4.93a2 2 0 0 0-3.44 0L3.77 16a2 2 0 0 0 1.73 3h13a2 2 0 0 0 1.73-3zM11 16l.5-2h1l.5 2zm1.5-3h-1L11 8h2z"})}))}},34603:(e,t,s)=>{"use strict";s.d(t,{Ad:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7H7H25H26V8V14V15H25H7H6V14V8V7ZM8 9V13H24V9H8ZM6 18H20V20H6V18ZM24 23H6V25H24V23Z",fill:e})}))}},22786:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M10.414 15H24v2H10.414l6.293 6.293-1.414 1.414L6.586 16l8.707-8.707 1.414 1.414L10.414 15z"})}))}},27988:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M19.29 24.71L10.59 16l8.7-8.71 1.42 1.42-7.3 7.29 7.3 7.29-1.42 1.42z"})}))}},80774:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3zm-9-6.74l7 3.5V9a1 1 0 0 0-1-1H10a1 1 0 0 0-1 1v14.38z"})}))}},76552:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M22.05 10l-.65-1.95A3 3 0 0 0 18.56 6h-5.12a3 3 0 0 0-2.84 2.05L10 10H5v13a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V10zm-8.61-2h5.12a1 1 0 0 1 1 .68L20 10h-7.9l.44-1.32a1 1 0 0 1 .9-.68zm-2.77 4H25v2.67a33.54 33.54 0 0 1-18 0V12zM24 24H8a1 1 0 0 1-1-1v-6.26a35.66 35.66 0 0 0 8 1.14V20h2v-2.12a35.66 35.66 0 0 0 8-1.14V23a1 1 0 0 1-1 1z"})}))}},93404:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M7.293 8.71l1.414-1.414L24.71 23.297l-1.414 1.415z"}),(0,r.jsx)("path",{d:"M7.293 23.29L23.295 7.288l1.414 1.415L8.707 24.704z"})]}))}},83663:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(31085);const i=({width:e=32,height:t=32,color:s="#19AA1E"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 32 32",fill:"none"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4C21.9567 4 26 8.61818 26 13.6C26 15.6 25.5668 17.3455 24.556 19.5273C18.6354 19.5273 17.5523 23.4909 17.2996 26.1455L17.1191 28H14.8809L14.7004 26.1455C14.4477 23.4909 13.3646 19.5273 7.44404 19.5273C6.43321 17.3455 6 15.6 6 13.6C6 8.61818 10.0433 4 16 4Z",fill:s})}))},4957:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M7 10h18v2H7zM10 15h12v2H10zM13 20h6v2h-6z"})}))}},39419:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var r=s(31085);const i=({width:e=32,height:t=32,color:s="currentColor"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13C22.933 13 24.5 11.433 24.5 9.5C24.5 7.567 22.933 6 21 6C19.067 6 17.5 7.567 17.5 9.5C17.5 11.433 19.067 13 21 13ZM21 11.25C21.9665 11.25 22.75 10.4665 22.75 9.5C22.75 8.5335 21.9665 7.75 21 7.75C20.0335 7.75 19.25 8.5335 19.25 9.5C19.25 10.4665 20.0335 11.25 21 11.25Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12ZM13.5 12C13.5 13.1046 12.6046 14 11.5 14C10.3954 14 9.5 13.1046 9.5 12C9.5 10.8954 10.3954 10 11.5 10C12.6046 10 13.5 10.8954 13.5 12Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411ZM14.7806 20.1745C15.497 20.8697 16 21.9392 16 23.4411C16 23.6925 15.7723 24 15.3616 24H7.6384C7.22772 24 7.00006 23.6925 7 23.4411C7.0001 21.8465 7.45578 20.7926 8.09607 20.1418C8.73038 19.497 9.78954 19 11.5 19C12.9562 19 14.0559 19.4713 14.7806 20.1745Z",fill:s}),(0,r.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12ZM13.5 12C13.5 13.1046 12.6046 14 11.5 14C10.3954 14 9.5 13.1046 9.5 12C9.5 10.8954 10.3954 10 11.5 10C12.6046 10 13.5 10.8954 13.5 12Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411ZM14.7806 20.1745C15.497 20.8697 16 21.9392 16 23.4411C16 23.6925 15.7723 24 15.3616 24H7.6384C7.22772 24 7.00006 23.6925 7 23.4411C7.0001 21.8465 7.45578 20.7926 8.09607 20.1418C8.73038 19.497 9.78954 19 11.5 19C12.9562 19 14.0559 19.4713 14.7806 20.1745Z"}),(0,r.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z"})]}))},11026:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12.5 21c1.933 0 3.5 1.567 3.5 3.5S14.433 28 12.5 28 9 26.433 9 24.5s1.567-3.5 3.5-3.5zm10 0c1.933 0 3.5 1.567 3.5 3.5S24.433 28 22.5 28 19 26.433 19 24.5s1.567-3.5 3.5-3.5zm-10 2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm10 0c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zM5.383 4c1.353 0 2.53.904 2.89 2.193l.044.178 2.257 10.534c.104.488.55.819 1.038.789l.113-.014 13.449-2.373c.438-.077.767-.433.819-.865l.007-.12V10H11V8h17v6.322c0 1.395-.96 2.597-2.302 2.918l-.177.036-13.448 2.374c-1.531.27-3.003-.673-3.412-2.153l-.043-.173L6.361 6.79c-.09-.422-.44-.734-.861-.783L5.383 6H4V4h1.383z"})}))}},49048:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M9.06 13L16 16.856 22.94 13 16 9.144 9.06 13zM16 19.144L4.94 13 16 6.856 27.06 13 16 19.144zm0 3.712l9-5L27.06 19 16 25.144 4.94 19 7 17.856l9 5z"})}))}},16914:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9ZM13 9C12.4477 9 12 9.44772 12 10C12 10.5523 12.4477 11 13 11H23C23.5523 11 24 10.5523 24 10C24 9.44772 23.5523 9 23 9H13ZM13 15C12.4477 15 12 15.4477 12 16C12 16.5523 12.4477 17 13 17H23C23.5523 17 24 16.5523 24 16C24 15.4477 23.5523 15 23 15H13ZM12 22C12 21.4477 12.4477 21 13 21H23C23.5523 21 24 21.4477 24 22C24 22.5523 23.5523 23 23 23H13C12.4477 23 12 22.5523 12 22ZM8 16C8 15.4477 8.44772 15 9 15C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17C8.44772 17 8 16.5523 8 16ZM9 21C8.44772 21 8 21.4477 8 22C8 22.5523 8.44772 23 9 23C9.55228 23 10 22.5523 10 22C10 21.4477 9.55228 21 9 21Z",fill:e})}))}},24787:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,d:"M17.89 26.27l-2.7-9.46-9.46-2.7 18.92-6.76zm-5.62-12.38l4.54 1.3 1.3 4.54 3.24-9.08z"})}))}},59543:(e,t,s)=>{"use strict";s.d(t,{G:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M26.78 13.78a11.43 11.43 0 0 0-.64-2.06 10.55 10.55 0 0 0-1-1.87 11.61 11.61 0 0 0-1.34-1.63 11 11 0 0 0-1.63-1.34 10.56 10.56 0 0 0-1.87-1 10.81 10.81 0 0 0-2.07-.65 11.34 11.34 0 0 0-4.42 0 10.81 10.81 0 0 0-2.07.65 10.56 10.56 0 0 0-1.87 1 11 11 0 0 0-1.65 1.34 11.61 11.61 0 0 0-1.34 1.63L8.54 11A9.16 9.16 0 0 1 11 8.54a8.08 8.08 0 0 1 1.53-.83 9.1 9.1 0 0 1 1.68-.53 9.29 9.29 0 0 1 3.64 0 9.1 9.1 0 0 1 1.68.53 8.08 8.08 0 0 1 1.47.83A9.16 9.16 0 0 1 23.46 11a8.08 8.08 0 0 1 .83 1.53 9.1 9.1 0 0 1 .53 1.68A9.28 9.28 0 0 1 25 16a9.11 9.11 0 0 1-.18 1.81 9 9 0 0 1-.53 1.69 8.08 8.08 0 0 1-.83 1.5A9.16 9.16 0 0 1 21 23.46a8.08 8.08 0 0 1-1.53.83 9.1 9.1 0 0 1-1.68.53 9.29 9.29 0 0 1-3.64 0 9.1 9.1 0 0 1-1.68-.53 8.08 8.08 0 0 1-1.47-.83A9.16 9.16 0 0 1 8.54 21l-1.66 1.15a11.61 11.61 0 0 0 1.34 1.63 11 11 0 0 0 1.63 1.34 10.56 10.56 0 0 0 1.87 1 10.81 10.81 0 0 0 2.07.65 11.21 11.21 0 0 0 4.42 0 10.81 10.81 0 0 0 2.07-.65 10.56 10.56 0 0 0 1.87-1 11 11 0 0 0 1.63-1.34 11.61 11.61 0 0 0 1.34-1.63 10.55 10.55 0 0 0 1-1.87 11.43 11.43 0 0 0 .64-2.06 11.31 11.31 0 0 0 0-4.44z"}),(0,r.jsx)("path",{d:"M14.29 19.29l1.42 1.42 4.7-4.71-4.7-4.71-1.42 1.42 2.3 2.29H5v2h11.59l-2.3 2.29z"})]}))}},75098:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 6.81958V8.00004V23V23.8472L25.1644 23.9864L19.1644 24.9864L19 25.0138L18.8356 24.9864L13 24.0138L7.1644 24.9864L6 25.1805V24V9.00004V8.15291L6.8356 8.01365L12.8356 7.01365L13 6.98625L13.1644 7.01365L19 7.98625L24.8356 7.01365L26 6.81958ZM8 9.84717V22.8196L12 22.1529V12H14V22.1529L18 22.8196V13H20V22.8196L24 22.1529V9.1805L19.1644 9.98643L19 10.0138L18.8356 9.98643L13 9.01383L8 9.84717Z",fill:e})}))}},58689:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",clipRule:"evenodd",d:"M9,6C7.3,6,6,7.3,6,9v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V9\n\tc0-1.7-1.3-3-3-3H9z M8,9c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H9c-0.6,0-1-0.4-1-1V9z M13,11h-1v1v9h2v-3h2.5\n\tc1.9,0,3.5-1.6,3.5-3.5S18.4,11,16.5,11H13z M14,16v-3h2.5c0.8,0,1.5,0.7,1.5,1.5S17.3,16,16.5,16H14z"})}))}},72616:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 12a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"}),(0,r.jsx)("path",{d:"M21.8 9.24L20.72 6h-9.44L10.2 9.24 5 11.32V23a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V11.32zM25 23a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V12.68l4.8-1.92.92-2.76h6.56l.92 2.76 4.8 1.92z"})]}))}},70356:(e,t,s)=>{"use strict";s.d(t,{j:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e,fillRule:"evenodd"},{children:(0,r.jsx)("path",{d:"M12.24 8.15l11.44 6.43a1.51 1.51 0 0 1 .57 2 1.64 1.64 0 0 1-.57.57l-11.44 6.48a1.51 1.51 0 0 1-2.05-.57 1.56 1.56 0 0 1-.19-.73V9.45a1.49 1.49 0 0 1 2.24-1.3z"})}))}},24255:(e,t,s)=>{"use strict";s.d(t,{G:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 24v3a2 2 0 01-2 2h-2.303l-2.806-1.871A1.998 1.998 0 018 25.465v-5.72a7.001 7.001 0 013.088-12.686A5.001 5.001 0 0121 8v.382l5 2.5V22a2 2 0 01-2 2h-8zM7 14a5.002 5.002 0 014-4.9V12a1 1 0 002 0V9.1a5.002 5.002 0 011.5 9.232l-.5.288V27h-1.697L10 25.465V18.62l-.5-.288A5.002 5.002 0 017 14zm10.236-4.646a6.997 6.997 0 00-4.096-2.262A3 3 0 0119 8v.382l-1.447.724a.988.988 0 00-.317.248zM19 14c0-1.092-.25-2.126-.696-3.047.048-.016.096-.035.143-.059L20 10.118l4 2V22h-8v-2.255A6.992 6.992 0 0019 14z",clipRule:"evenodd"})}))}},8524:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M13 13a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-6 0a2 2 0 1 1 2 2 2 2 0 0 1-2-2z"}),(0,r.jsx)("path",{d:"M24 15.14V10.5a4.5 4.5 0 0 0-9 0v11a2.5 2.5 0 0 1-5 0V19H8v2.5a4.5 4.5 0 0 0 9 0v-11a2.5 2.5 0 0 1 5 0v4.64a4 4 0 1 0 2 0zM23 21a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})]}))}},71370:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25.71 24.29l-5.4-5.39A7.92 7.92 0 0 0 22 14a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l5.39 5.4zM8 14a6 6 0 1 1 10.28 4.2l-.08.08A6 6 0 0 1 8 14z"})}))}},64197:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M22 19a4 4 0 0 0-2.92 1.29L12.87 17a3.54 3.54 0 0 0 0-1.9l6.21-3.34A4 4 0 0 0 22 13a4 4 0 1 0-4-4 3.75 3.75 0 0 0 .13.95l-6.21 3.34A4 4 0 0 0 9 12a4 4 0 0 0 0 8 4 4 0 0 0 2.92-1.29l6.21 3.34A3.75 3.75 0 0 0 18 23a4 4 0 1 0 4-4zm0-12a2 2 0 1 1-2 2 2 2 0 0 1 2-2zM9 18a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm13 7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})}))}},26091:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M24.62 20l2.5-5-2.5-5H17V6H7.38l-2.5 5 2.5 5H15v8h-4v2h10v-2h-4v-4zm-1.24-8l1.5 3-1.5 3H17v-6zM8.62 14l-1.5-3 1.5-3H15v6z"})}))}},97984:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var r=s(31085);function i(){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("circle",{fill:"gray",cx:"16",cy:"16",r:"2"}),(0,r.jsx)("circle",{fill:"gray",cx:"8",cy:"16",r:"2"}),(0,r.jsx)("circle",{fill:"gray",cx:"24",cy:"16",r:"2"})]}))}},80813:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(31085);function i(){return(0,r.jsxs)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M40 0H0v40h40V0Z",fill:"#19AA1E"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0h40v13.125L0 6.875V0Z",fill:"#FFB919"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 35.625 40-6.25V40H0v-4.375Z",fill:"#82D714"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 6.084 13.962 2.182C15.7 7.166 17.768 6.563 20 6.563c3.091 0 5.868 1.157 7.89 3.189.254.256.495.524.72.803L40 12.335v1.58l-10.233-1.598a10.27 10.27 0 0 1 1.17 4.743c0 2.143-.479 4.28-1.47 6.425l-.03.065-.42.902h-.996c-2.055 0-3.418.614-4.309 1.704-.7.855-1.104 2.008-1.24 3.266l-.005.04-.02.2-.008.088-.016.17a31.28 31.28 0 0 0-.105 1.427L40 28.584v1.582l-40 6.25v-1.582l17.702-2.766-.008-.355-.003-.1-.001-.051-.003-.08c-.016-.43-.055-.982-.118-1.65l-.012-.127-.022-.22c-.127-1.265-.526-2.432-1.224-3.3-.881-1.097-2.232-1.72-4.27-1.733h-1.057l-.421-.902c-1.011-2.167-1.5-4.325-1.5-6.49 0-2.722 1.104-5.354 3.048-7.308.056-.057.112-.112.17-.167L0 7.665v-1.58Z",fill:"#fff"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 8.125c5.584 0 9.375 4.298 9.375 8.935 0 1.862-.406 3.799-1.354 5.83-5.495 0-6.851 3.934-7.108 6.41l-.016.165a31.03 31.03 0 0 0-.151 2.128l-1.488.232v-.048c-.006-.56-.06-1.346-.16-2.358l-.004-.044c-.237-2.47-1.565-6.486-7.115-6.486-.948-2.03-1.354-3.967-1.354-5.829 0-4.637 3.79-8.935 9.375-8.935Z",fill:"#0070CC"})]}))}},76065:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var r=s(31085);const i={down:"0",up:"180",right:"-90",left:"90"};function a({direction:e,size:t=24,color:s="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:s,style:{transform:`rotate(${i[e||"down"]||0}deg)`}},{children:(0,r.jsx)("path",{d:"M15.793 9.4l1.414 1.414L12 16.024l-5.207-5.21L8.207 9.4 12 13.195z"})}))}},75704:(e,t,s)=>{"use strict";s.d(t,{B:()=>a});var r=s(31085);const i={down:-90,up:90,right:180,left:0};function a({direction:e="left",size:t=24,color:s="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${i[e]}deg)`},width:t,height:t,fill:"none",viewBox:"0 0 18 18"},{children:(0,r.jsx)("path",{fill:s,d:"M9.293.293l1.414 1.414-6.293 6.292L18 8v2L4.412 9.999l6.295 6.294-1.414 1.414L.586 9 9.293.293z"})}))}},53615:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(31085);function i({color:e="currentColor",size:t=16}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16"},{children:(0,r.jsx)("path",{fill:e,d:"M3 3l2.5 3L8 3l2.5 3L13 3v9H3z"})}))}},2390:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(31085);const i=({height:e=24,width:t=87})=>(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,fill:"none",viewBox:"0 0 87 24"},{children:[(0,r.jsx)("mask",Object.assign({id:"a",width:"24",height:"24",x:"0",y:"0",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},{children:(0,r.jsx)("path",{fill:"#299400",d:"M18.0408 23.9889c.5303-.0111 1.0643-.0445 1.5871-.1371.5303-.0964 1.0272-.2446 1.5093-.4929.4784-.2372.9122-.5522 1.2868-.9228.3745-.3706.6934-.8005.9308-1.2712.2447-.4781.4005-.9635.4969-1.4898.0964-.5188.1261-1.0451.1372-1.5713.0074-.2409.0074-.4818.0111-.7227V6.6152c0-.24089 0-.48178-.0111-.72267-.0111-.52255-.0445-1.0525-.1372-1.57134-.0964-.52625-.2522-1.01545-.4969-1.48981-.2411-.46696-.5563-.89685-.9308-1.27116-.3746-.3706-.8121-.685606-1.2868-.922789-.4858-.24089-.979-.396542-1.5093-.492897-.5228-.0926501-1.0568-.126004-1.5871-.13712202-.1001 0-.2003-.00370599-.3634-.00741198H6.99011L5.96663.011118C5.43634.022236 4.90235.0555899 4.37948.14824 3.8492.244595 3.35229.396541 2.87021.641137c-.47837.237183-.91224.552193-1.28677.922793-.37454.3706-.693452.80049-.930782 1.27115-.248455.47808-.400495.96356-.49691 1.48981-.1001238.51884-.12979 1.04509-.1446232 1.57134C.00370828 6.13712.00370828 6.37801 0 6.6189v10.7659c0 .2409.00370828.4818.0111248.7227.0111249.5225.0444994 1.0525.1372062 1.5713.096416.5263.252163 1.0155.49691 1.4898.241038.467.556239.8969.930779 1.2712.37454.3706.81211.6856 1.28677.9228.48579.2409.97899.3965 1.50927.4929.52287.0926 1.05686.126 1.58715.1371.10012 0 .20025.0037.36341.0074H16.4425l1.5909-.0074.0074-.0037Z"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#a)"},{children:[(0,r.jsx)("path",{fill:"#19AA1E",d:"M0 0h24v24H0z"}),(0,r.jsx)("path",{fill:"#FFB919",fillRule:"evenodd",d:"M0 0h24v7.875L0 4.125V0Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#82D714",fillRule:"evenodd",d:"m0 21.375 24-3.75V24H0v-2.625Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m0 3.65057 8.37739 1.30895C9.42023 4.29942 10.6609 3.9375 12 3.9375c1.8547 0 3.5206.6943 4.7336 1.91353.1531.15385.2975.31471.4328.48179L24 7.40055v.94887l-6.1397-.95931c.4561.87533.7022 1.8506.7022 2.84589 0 1.2858-.2876 2.5678-.8821 3.855l-.0181.039-.2525.541h-.5971c-1.2329 0-2.0507.3688-2.5854 1.0224-.4198.5132-.6626 1.205-.7443 1.9598l-.0025.0236-.0119.1206-.0051.0525-.0097.1026c-.0313.337-.0522.6228-.0628.8557L24 17.1506v.9488l-24 3.75v-.9488l10.6209-1.6596-.0046-.213-.0014-.0601-.0009-.0308-.0017-.0475c-.0095-.2583-.0332-.5894-.0711-.9907l-.0073-.0761-.013-.1318c-.0762-.7588-.3154-1.4594-.73409-1.9802-.52909-.658-1.33937-1.0322-2.56235-1.0397l-.03719-.0001h-.59705l-.25249-.541c-.60678-1.3003-.90023-2.5952-.90023-3.894 0-1.63332.66263-3.21271 1.8289-4.38497.03367-.03384.06768-.06728.10204-.10031L0 4.59942v-.94885Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#0073FA",fillRule:"evenodd",d:"M12 4.875c3.3506 0 5.625 2.57897 5.625 5.361 0 1.1169-.2437 2.2791-.8123 3.4975-3.297 0-4.1108 2.3612-4.2647 3.8468l-.0098.099c-.0522.5302-.0823.9556-.0906 1.2763l-.893.1396-.0002-.0289c-.0034-.3362-.0352-.8078-.0953-1.4148l-.0026-.0265c-.1422-1.4824-.9389-3.8915-4.26923-3.8915-.56859-1.2184-.81227-2.3806-.81227-3.4975 0-2.78203 2.27437-5.361 5.625-5.361Z",clipRule:"evenodd"})]})),(0,r.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M35.234 4c-3.8621 0-6.7586 2.30303-6.7338 6.303h3.5897c-.0495-1.59997.9902-3.15148 3.1441-3.15148 1.6339 0 2.6737 1.06666 2.6737 2.42424 0 1.40604-1.1388 2.18184-2.9708 3.05454-2.4014 1.1394-3.8373 1.6727-6.4367 2.5212v4.6061h12.8734v-3.1515h-8.0211c1.2409-.5066 2.4487-1.0628 3.5401-1.5758 2.8966-1.3576 4.6048-2.8848 4.6048-5.62424C41.4974 6.10909 38.9722 4 35.234 4Zm11.8336 3.39394h7.427V4.24242H43.6017V19.7576h3.4659V7.39394Zm12.6259-3.15152h-3.466V19.7576h3.4412l6.4615-9.91518v9.91518h3.4659V4.24242h-3.4659l-6.4367 9.91518V4.24242ZM87 13.9394h-3.5897c-.5446 1.7212-2.2033 2.9091-4.1591 2.9091-2.847 0-4.7038-2.4-4.7038-4.8485 0-2.44848 1.8073-4.84848 4.8028-4.84848 1.9805 0 3.5155 1.18787 4.0601 2.90908H87C86.4801 6.59394 83.6826 4 79.2512 4c-4.9018 0-8.1697 3.3697-8.1697 8s3.2679 8 8.1697 8c4.4314 0 7.2289-2.5455 7.7488-6.0606Z",clipRule:"evenodd"})]}))},83113:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"-4 -6 32 32",fill:e},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M21.014 8.107l-.015 11.888H3V8.098l-1.463.931L.463 7.342 12 0l11.537 7.342-1.074 1.687-1.449-.922zM8.008 17.995v-8H16v8h3.001l.015-11.16L12 2.371 5 6.825v11.17h3.008zm2 0H14v-6h-3.992v6z"})}))}},83467:(e,t,s)=>{"use strict";s.d(t,{qK:()=>i,Z1:()=>a,It:()=>n,$3:()=>o,px:()=>d,vX:()=>c});var r=s(31085);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M10 2.22583C10.548 2.22583 10.9923 2.67009 10.9923 3.21811V4.25473C10.9923 4.80275 10.548 5.24701 10 5.24701V2.22583Z",fill:e}),(0,r.jsx)("path",{d:"M2 0.74707H8C8.82944 0.74707 9.5 1.41774 9.5 2.24279V5.25135C9.5 6.0764 8.82944 6.74707 8 6.74707H2C1.17056 6.74707 0.5 6.0764 0.5 5.25135V2.24279C0.5 1.41774 1.17056 0.74707 2 0.74707Z",stroke:e}),(0,r.jsx)("path",{d:"M2 3.24707C2 2.69479 2.44772 2.24707 3 2.24707H7C7.55228 2.24707 8 2.69479 8 3.24707V4.24707C8 4.79936 7.55228 5.24707 7 5.24707H3C2.44772 5.24707 2 4.79936 2 4.24707V3.24707Z",fill:e})]}))}function a({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M10 2.22583C10.548 2.22583 10.9923 2.67009 10.9923 3.21811V4.25473C10.9923 4.80275 10.548 5.24701 10 5.24701V2.22583Z",fill:e}),(0,r.jsx)("path",{d:"M2 0.74707H8C8.82944 0.74707 9.5 1.41774 9.5 2.24279V5.25135C9.5 6.0764 8.82944 6.74707 8 6.74707H2C1.17056 6.74707 0.5 6.0764 0.5 5.25135V2.24279C0.5 1.41774 1.17056 0.74707 2 0.74707Z",stroke:e}),(0,r.jsx)("path",{d:"M2 3.24707C2 2.69479 2.44772 2.24707 3 2.24707C3.55228 2.24707 4 2.69479 4 3.24707V4.26825C4 4.82053 3.55228 5.26825 3 5.26825C2.44772 5.26825 2 4.82053 2 4.26825V3.24707Z",fill:"#F5373C"})]}))}function n({color:e="#141414"}){return(0,r.jsxs)("svg",Object.assign({width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M10.5 1.97876C11.048 1.97876 11.4923 2.42302 11.4923 2.97104V4.00766C11.4923 4.55568 11.048 4.99994 10.5 4.99994V1.97876Z",fill:e}),(0,r.jsx)("path",{d:"M2.5 0.5H8.5C9.32944 0.5 10 1.17067 10 1.99572V5.00428C10 5.82933 9.32944 6.5 8.5 6.5H2.5C1.67056 6.5 1 5.82933 1 5.00428V1.99572C1 1.17067 1.67056 0.5 2.5 0.5Z",stroke:e}),(0,r.jsx)("path",{d:"M2.5 3C2.5 2.44772 2.94772 2 3.5 2H5.5C6.05228 2 6.5 2.44772 6.5 3V4C6.5 4.55228 6.05228 5 5.5 5H3.5C2.94772 5 2.5 4.55228 2.5 4V3Z",fill:e})]}))}function o({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99729 0.24707H6C6 2.24279 6 4.32214 6 7.24707H2.99729C1.99648 7.24707 1 6.35355 1 5.25135V2.24279C1 1.14059 2.01548 0.24707 2.99729 0.24707Z",fill:e}),(0,r.jsx)("path",{d:"M3 1.99707C3 1.58286 3.33579 1.24707 3.75 1.24707H8.25C8.66421 1.24707 9 1.58286 9 1.99707C9 2.41128 8.66421 2.74707 8.25 2.74707H3.75C3.33579 2.74707 3 2.41128 3 1.99707Z",fill:e}),(0,r.jsx)("path",{d:"M3 5.50562C3 5.0914 3.33579 4.75562 3.75 4.75562H8.25C8.66421 4.75562 9 5.0914 9 5.50562C9 5.91983 8.66421 6.25562 8.25 6.25562H3.75C3.33579 6.25562 3 5.91983 3 5.50562Z",fill:e})]}))}function c(){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M6.82741 7.12752L9.69987 9.99998L10.5 9.19985L1.30015 0L0.500021 0.800128L2.91766 3.21776L0.5 4.12439L4.29455 5.75062L5.92079 9.54518L6.82741 7.12752Z",fill:"white"}),(0,r.jsx)("path",{d:"M9.17326 0.871912L7.67284 4.87304L5.17213 2.37234L9.17326 0.871912Z",fill:"white"})]}))}const d=e=>(0,r.jsxs)("svg",Object.assign({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,r.jsx)("path",{d:"M13.8975 1.78223L14.9177 2.29234C15.6947 2.68087 16.1321 3.52663 16 4.38531L15.1656 8.78279H19.1057C21.0838 8.78279 22.5205 10.6637 22 12.5721L20.0909 19.5721C19.7349 20.8773 18.5495 21.7828 17.1966 21.7828H10C8.34315 21.7828 7 20.4396 7 18.7828V9.9686C7 9.20669 7.28989 8.47333 7.81085 7.91735L13.8975 1.78223Z",fill:"#929292"}),(0,r.jsx)("path",{d:"M5 8.78275L3 8.78279V21.7828H5V8.78275Z",fill:"#929292"})]}))},61979:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(31085);function i({size:e=64}={}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:e,height:e,viewBox:"0 0 64 64"},{children:[(0,r.jsx)("defs",{children:(0,r.jsx)("rect",{id:"i2v4gc9jka",width:"64",height:"64",x:"0",y:"0",rx:"8"})}),(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:(0,r.jsx)("g",{children:(0,r.jsx)("g",{children:(0,r.jsxs)("g",Object.assign({transform:"translate(-44 -120) translate(28 108) translate(16 12)"},{children:[(0,r.jsx)("mask",Object.assign({id:"qkf4unla0b",fill:"#fff"},{children:(0,r.jsx)("use",{xlinkHref:"#i2v4gc9jka"})})),(0,r.jsx)("use",{fill:"#D8D8D8",xlinkHref:"#i2v4gc9jka"}),(0,r.jsxs)("g",Object.assign({mask:"url(#qkf4unla0b)"},{children:[(0,r.jsx)("path",{fill:"#19AA1E",d:"M0 0H64V64H0z"}),(0,r.jsx)("path",{fill:"#FFB919",d:"M0 0L64 0 64 21 0 11z"}),(0,r.jsx)("path",{fill:"#82D714",d:"M0 57L64 47 64 64 0 64z"}),(0,r.jsx)("path",{fill:"#FFF",d:"M0 9.735l22.34 3.49c2.78-1.76 6.089-2.725 9.66-2.725 4.946 0 9.388 1.851 12.623 5.103.408.41.793.839 1.154 1.285L64 19.735v2.53l-16.373-2.558c1.217 2.334 1.873 4.935 1.873 7.589 0 3.429-.767 6.848-2.352 10.28l-.049.104-.673 1.443h-1.592c-3.288 0-5.469.983-6.895 2.726-1.12 1.369-1.766 3.213-1.984 5.226l-.007.063-.032.322-.013.14-.026.273c-.084.9-.14 1.661-.168 2.282L64 45.735v2.53l-64 10v-2.53l28.323-4.426-.013-.568-.004-.16-.002-.082-.004-.127c-.026-.689-.09-1.572-.19-2.642l-.02-.203-.034-.351c-.203-2.023-.841-3.892-1.958-5.28-1.41-1.755-3.571-2.753-6.833-2.773h-1.691L16.9 37.68c-1.618-3.467-2.401-6.92-2.401-10.384 0-4.355 1.767-8.567 4.877-11.693.09-.09.18-.18.272-.268L0 12.265v-2.53z"}),(0,r.jsx)("path",{fill:"#0073FA",d:"M32 13c8.935 0 15 6.877 15 14.296 0 2.978-.65 6.078-2.166 9.327-8.792 0-10.962 6.296-11.373 10.258l-.026.264c-.139 1.414-.22 2.548-.241 3.403l-2.382.372v-.077c-.01-.896-.094-2.154-.254-3.772L30.55 47c-.38-3.953-2.504-10.377-11.385-10.377C17.65 33.373 17 30.274 17 27.296 17 19.877 23.065 13 32 13z"})]}))]}))})})}))]}))}},31106:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(31085);function i(){return(0,r.jsxs)("svg",Object.assign({width:"220",height:"160",viewBox:"0 0 220 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"m92.65 127.815-8.374-4.587a.988.988 0 0 1-.39-1.237l8.375 4.587a.994.994 0 0 0 .39 1.237",fill:"#0D5810"}),(0,r.jsx)("path",{d:"m92.26 126.578-8.373-4.587c.018-.05.039-.099.063-.146l8.374 4.587a1.442 1.442 0 0 0-.063.146",fill:"#0E5C10"}),(0,r.jsx)("path",{d:"m92.323 126.433-8.374-4.588 6.562-13.156 8.374 4.588-6.562 13.156Z",fill:"url(#a)"}),(0,r.jsx)("path",{d:"M136.976 54.049c25.414-3.597 45.986 8.899 45.951 27.913-.035 19.014-20.664 37.341-46.078 40.937-11.113 1.573-21.303.067-29.247-3.716l-14.055 8.576c-.12.075-.252.124-.391.146-.696.098-1.232-.674-.833-1.473l6.562-13.156c-5.05-4.815-8-11.083-7.987-18.29.036-19.014 20.668-37.341 46.078-40.937Z",fill:"#19AA1E"}),(0,r.jsx)("path",{d:"M136.976 54.049c25.414-3.597 45.986 8.899 45.951 27.913-.035 19.014-20.664 37.341-46.078 40.937-11.113 1.573-21.303.067-29.247-3.716l-14.055 8.576c-.12.075-.252.124-.391.146-.696.098-1.232-.674-.833-1.473l6.562-13.156c-5.05-4.815-8-11.083-7.987-18.29.036-19.014 20.668-37.341 46.078-40.937Z",fill:"url(#b)"}),(0,r.jsx)("path",{d:"M90.9 94.987c-.014 7.206 2.936 13.474 7.985 18.289l-8.374-4.587-.022-.021.118-.237c-5.049-4.815-7.973-11.03-7.96-18.238.437-18.772 20.3-36.838 46.521-40.618 2.427-.35 7.062-.558 12.935-.514 4.281.377 8.531 1.261 12.562 2.77 4.711 1.776 9.046 4.486 13.449 6.899-8.182-4.482-19.12-6.382-31.137-4.68-25.41 3.595-46.043 21.922-46.078 40.937Z",fill:"url(#c)"}),(0,r.jsx)("path",{d:"M60.82 120.575c-16.27 8.292-50.355 3.054-48.045-39.528.658-12.126-5.16-23.357-10.438-29.677-2.591-3.103-1.976-9.555 4.677-10.335 6.652-.78 12.673 6.85 14.289 14.648 1.616 7.8 3.33 16.219 14.102 14.528 6.326-.992 17.447-7.13 30.08-4.638 5.513 1.088 11.798 6.323 5.766 14.464-6.033 8.14-27.34 14.132-30.876 7.055-2.959-5.922 8.392-10.189 12.285-11.125 8.515-2.047 8.588-5.29 8.588-5.29",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M76.093 81.716c1.67 5.76-3.27 11.477-13.698 15.678-10.445 4.207-17.519.594-18.055-4.809",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M76.89 90.572c1.678 5.547.099 10.929-10.109 15.31-6.263 2.688-13.255 3.438-17.512-2.44",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M78.082 101.99c.166 3.546-.243 9.419-11.048 13.226-4.562 1.608-13.003 1.942-14.784-4.252M209.714 85.827c.632-31.83-32.952-46.304-36.742-39.241",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M213.409 84.087c.336-26.892-23.461-45.2-30.348-39.653",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M204.611 87.406c.506-4.773-2.212-34.67-32.543-39.351-7.446-1.15-8.396 5.194-6.355 7.667 7.366 8.926 29.72 11.61 23.312 40.599-2.389 10.811-9.645 16.243-17.229 15.09-11.221-1.705-19.262 2.201-22.219 5.049-4.739 4.565-3.08 13.783 6.952 10.619 17.046-5.375 22.47 6.627 44.386-5.253 13.563-7.352 24.469-30.082 14.449-55.055-7.895-19.678-14.424-19.538-15.688-18.57",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M55.092 70.047c7.382-28.904 47.69-44.663 78.55-26.792 24.914 14.428 13.58 43.736-.648 51.594-18.934 10.456-30.913-11.179-13.29-24.532 14.59-11.054 56.873-11.426 48.2 27.72",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"a",x1:"76.741",y1:"138.066",x2:"130.417",y2:"64.109",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{offset:".163",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".175",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".416",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".641",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".843",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"b",x1:"198.833",y1:"90.672",x2:"135.23",y2:"-19.851",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{offset:".098",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:".571",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"c",x1:"82.647",y1:"81.165",x2:"168.114",y2:"81.165",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".013",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".302",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".571",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".812",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]}))]})]}))}},50472:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var r=s(31085);const i=({height:e=24,width:t=88})=>(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 88 24"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,r.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,r.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,r.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,r.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,r.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,r.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,r.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,r.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,r.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,r.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,r.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,r.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,r.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,r.jsx)("path",{fill:"#21A038",d:"M22.024 4.622a11.93 11.93 0 011.407 2.365L12.74 14.974l-4.47-2.839V8.72l4.469 2.839 9.284-6.937z"}),(0,r.jsx)("path",{fill:"url(#prefix__a)",d:"M3.711 11.894c0-.153.004-.305.012-.457l-2.708-.134a11.996 11.996 0 00.877 5.144 11.869 11.869 0 002.546 3.856l1.92-1.945a9.137 9.137 0 01-1.96-2.964 9.245 9.245 0 01-.687-3.5z"}),(0,r.jsx)("path",{fill:"url(#prefix__b)",d:"M12.737 2.747c.151 0 .301.006.45.013l.136-2.745a11.58 11.58 0 00-5.078.889 11.659 11.659 0 00-3.807 2.58l1.92 1.947a8.986 8.986 0 012.925-1.987 8.9 8.9 0 013.454-.697z"}),(0,r.jsx)("path",{fill:"url(#prefix__c)",d:"M12.737 21.041c-.151 0-.301 0-.451-.012l-.136 2.744a11.549 11.549 0 005.077-.888 11.697 11.697 0 003.805-2.58l-1.917-1.946a9.014 9.014 0 01-2.925 1.986 8.89 8.89 0 01-3.453.696z"}),(0,r.jsx)("path",{fill:"url(#prefix__d)",d:"M17.825 4.343l2.282-1.704A11.59 11.59 0 0012.733 0v2.747a8.9 8.9 0 015.092 1.596z"}),(0,r.jsx)("path",{fill:"#21A038",d:"M24.473 11.894c.002-.714-.06-1.428-.184-2.131l-2.526 1.886v.245a9.243 9.243 0 01-.776 3.71 9.11 9.11 0 01-2.197 3.07l1.822 2.04a11.855 11.855 0 002.855-3.994 11.986 11.986 0 001.006-4.826z"}),(0,r.jsx)("path",{fill:"url(#prefix__e)",d:"M12.737 21.041a8.908 8.908 0 01-3.66-.786 9.025 9.025 0 01-3.03-2.227l-2.013 1.846a11.72 11.72 0 003.941 2.894c1.5.675 3.122 1.022 4.762 1.02v-2.747z"}),(0,r.jsx)("path",{fill:"url(#prefix__f)",d:"M6.685 5.115L4.864 3.074a11.846 11.846 0 00-2.857 3.994A11.974 11.974 0 001 11.894h2.711c0-1.278.264-2.542.776-3.71a9.146 9.146 0 012.198-3.07z"}),(0,r.jsx)("path",{d:"M68.73 6.802l3.358-2.479H60.849v14.896h11.239V16.74h-8.032v-3.815h6.852v-2.479h-6.852V6.802zm-15.443 3.324h-3.902V6.801h6.227l3.356-2.487H46.18v14.897h6.695c3.753 0 5.907-1.705 5.907-4.677 0-2.844-1.951-4.408-5.494-4.408zm-.558 6.605h-3.344v-4.128h3.344c2.03 0 2.982.692 2.982 2.064s-1.013 2.064-2.982 2.064zM80.35 4.321h-6.118v14.895h3.206v-4.22h2.912c3.903 0 6.317-2.058 6.317-5.346 0-3.288-2.414-5.33-6.317-5.33zm-.068 8.195h-2.844V6.801h2.844c2.053 0 3.186 1.016 3.186 2.859s-1.133 2.856-3.186 2.856zm-38.915 3.186a5.574 5.574 0 01-2.698.676c-2.82 0-4.864-2.016-4.864-4.793s2.045-4.799 4.864-4.799a4.753 4.753 0 012.841.881l2.243-1.655-.151-.108c-1.309-1.152-3.057-1.762-5.058-1.762-2.17 0-4.139.732-5.544 2.063a7.19 7.19 0 00-2.199 5.305 7.44 7.44 0 002.186 5.382c1.411 1.384 3.375 2.146 5.53 2.146 2.252 0 4.22-.786 5.553-2.219l-2.008-1.499-.695.382z",fill:"#1FA037"})]}))]}))},78076:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(31085);function i({color:e="currentColor",width:t=32,height:s=32}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:t,height:s,fill:e},{children:(0,r.jsx)("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7v-2z"})}))}},82316:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(31085);function i({color:e="currentColor",size:t=16}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M12.326 14.3l-1.145-4.92L15 6.07 9.966 5.64 8 1 6.034 5.639 1 6.07 4.819 9.38 3.674 14.3 8 11.69z"})}))}},92432:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(31085);function i({lang:e}){return"ru"===e?(0,r.jsxs)("svg",Object.assign({width:127,height:40,fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("rect",{width:127,height:40,rx:5,fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.289 15.005a7.002 7.002 0 0 1 13.422 0A4.5 4.5 0 0 1 26.5 24H21v4.586l2.793-2.793 1.414 1.414L20 32.414l-5.207-5.207 1.414-1.414L19 28.586V24h-5.5a4.5 4.5 0 0 1-.211-8.995ZM20 12a5.001 5.001 0 0 0-4.937 4.205l-.159.993-.992-.164A2.5 2.5 0 1 0 13.5 22h13a2.5 2.5 0 1 0-.412-4.966l-.992.164-.159-.993A5.001 5.001 0 0 0 20 12Z",fill:"#30AD00"}),(0,r.jsx)("path",{d:"M46.246 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.079-.972-2.079-2.62 0-1.691.9-2.591 2.052-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.961 3.393 1.413 0 2.538-.756 2.826-2.196ZM48.672 11.849l1.665 2.15h1.017l-2.016-2.555 1.827-2.286h-.972l-1.539 1.98h-.603v-1.98h-.828V14h.828v-2.151h.621ZM51.69 12.722c0 .89.755 1.395 1.664 1.395.855 0 1.36-.288 1.656-.783.01.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.01-1.116c.008-1.36-.595-1.998-1.927-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.989.225-3.276.558-3.276 1.7Zm3.338-1.053v.306c0 1.143-.729 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM59.794 14h.82V9.158h-.82v2.205c-.45.108-.819.162-1.143.162-.684 0-1.026-.243-1.026-.963V9.158h-.819v1.575c0 1.044.54 1.503 1.548 1.503.441 0 .882-.072 1.44-.198V14ZM61.665 12.722c0 .89.756 1.395 1.665 1.395.855 0 1.359-.288 1.656-.783.009.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.009-1.116c.009-1.36-.594-1.998-1.926-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.99.225-3.276.558-3.276 1.7Zm3.339-1.053v.306c0 1.143-.73 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM68.687 9.869h1.656v-.711h-4.13v.71h1.655V14h.82V9.869ZM73.144 10.868h-1.151v-1.71h-.82V14h1.962c1.116 0 1.819-.405 1.819-1.602 0-1.026-.55-1.53-1.81-1.53Zm-.08 2.42h-1.071v-1.71h1.053c.737 0 1.106.18 1.106.82 0 .648-.368.89-1.088.89ZM82.106 9.068c0-1.098-.864-1.71-2.07-1.71-1.386 0-2.286.855-2.268 2.15h.846c.018-1.08.702-1.466 1.404-1.466.774 0 1.224.459 1.224 1.134 0 1.152-1.35 2.385-3.654 4.086V14h4.698v-.765h-3.582c1.827-1.314 3.402-2.655 3.402-4.167ZM87.559 8.267v-.792H83.49V14h.918V8.267h3.15ZM92.85 8.816V14h.918V7.475h-.918l-3.51 5.175V7.475h-.918V14h.918l3.51-5.184ZM100.879 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.08-.972-2.08-2.62 0-1.691.9-2.591 2.053-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.96 3.393 1.414 0 2.539-.756 2.827-2.196ZM48.047 31.651v-2.86h-1.04v-5.785H41.91l-.104 2.223c-.117 2.548-.52 3.562-1.3 3.562h-.377v2.86h1.404V30h5.109v1.651h1.404Zm-2.587-7.423v4.563H42.3c.547-.533.807-1.534.91-3.38l.066-1.183h2.184ZM53.568 30h1.547v-6.994h-5.044l-.13 2.509c-.143 2.652-.676 3.263-1.248 3.263h-.156V30h.286c1.6 0 2.405-1.352 2.587-4.264l.104-1.508h2.054V30ZM62.456 30v-6.994h-2.977c-1.742 0-2.678.806-2.678 2.223 0 1.001.546 1.651 1.287 1.95L56.333 30h1.755l1.43-2.418h1.39V30h1.548ZM59.7 24.228h1.209v2.132h-1.274c-.78 0-1.261-.273-1.261-1.014 0-.715.52-1.118 1.326-1.118ZM69.903 20.575 66.393 30h1.69l.728-2.093h3.822L73.374 30h1.807l-3.536-9.425h-1.742Zm-.61 5.954 1.416-4.043 1.43 4.043h-2.847ZM77.597 23.981v-.975H76.05V30h1.547v-3.718c0-1.261.442-2.171 1.625-2.171s1.326.923 1.326 1.872V30h1.547v-4.394c0-1.664-.69-2.756-2.38-2.756-.974 0-1.715.403-2.118 1.131ZM88.346 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.39 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.74-2.392 1.768-2.392ZM95.461 24.579v-1.56a4.193 4.193 0 0 0-.403-.026c-.845.013-1.52.481-1.898 1.261v-1.248h-1.52V30h1.546v-3.666c0-1.404.56-1.794 1.534-1.794.234 0 .481.013.741.039ZM102.708 26.516c0-2.522-1.742-3.666-3.445-3.666-1.703 0-3.445 1.144-3.445 3.666 0 2.522 1.742 3.653 3.445 3.653 1.703 0 3.445-1.131 3.445-3.653Zm-3.445 2.392c-.975 0-1.846-.78-1.846-2.392 0-1.612.87-2.405 1.846-2.405.975 0 1.846.793 1.846 2.405 0 1.612-.871 2.392-1.846 2.392ZM105.526 20.575h-1.547v1.56h1.547v-1.56Zm0 2.431h-1.547V30h1.547v-6.994ZM111.908 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.391 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.741-2.392 1.768-2.392Z",fill:"#fff"})]})):(0,r.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("rect",{width:"120",height:"40",rx:"5",fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2887 15.0049C14.148 12.1107 16.8267 10 20 10C23.1733 10 25.852 12.1107 26.7113 15.0049C29.0985 15.1152 31 17.0855 31 19.5C31 21.9853 28.9853 24 26.5 24H21V28.5858L23.7929 25.7929L25.2071 27.2071L20 32.4142L14.7929 27.2071L16.2071 25.7929L19 28.5858V24H13.5C11.0147 24 9 21.9853 9 19.5C9 17.0855 10.9015 15.1152 13.2887 15.0049ZM20 12C17.5098 12 15.4431 13.8214 15.0628 16.2046L14.9043 17.1977L13.9121 17.0337C13.7787 17.0116 13.6411 17 13.5 17C12.1193 17 11 18.1193 11 19.5C11 20.8807 12.1193 22 13.5 22H26.5C27.8807 22 29 20.8807 29 19.5C29 18.1193 27.8807 17 26.5 17C26.3589 17 26.2213 17.0116 26.0879 17.0337L25.0957 17.1977L24.9372 16.2046C24.5569 13.8214 22.4902 12 20 12Z",fill:"white"}),(0,r.jsx)("path",{d:"M42.556 7.475C44.626 7.475 46.111 8.249 46.111 10.733C46.111 13.226 44.626 14 42.556 14H40.774V7.475H42.556ZM42.529 8.249H41.692V13.226H42.529C43.879 13.226 45.175 12.956 45.175 10.733C45.175 8.519 43.879 8.249 42.529 8.249ZM51.5512 11.597C51.5512 13.352 50.3542 14.117 49.2292 14.117C48.1042 14.117 46.9072 13.352 46.9072 11.597C46.9072 9.842 48.1042 9.077 49.2292 9.077C50.3542 9.077 51.5512 9.842 51.5512 11.597ZM49.2292 13.397C49.9672 13.397 50.6782 12.839 50.6782 11.597C50.6782 10.31 49.9672 9.797 49.2292 9.797C48.4912 9.797 47.7802 10.274 47.7802 11.597C47.7802 12.884 48.4912 13.397 49.2292 13.397ZM54.6559 9.158H55.5019L56.4649 12.74L57.3919 9.158H58.2739L56.8789 14H56.1319L55.0609 10.103L54.0259 14H53.2789L51.8839 9.158H52.7659L53.6929 12.74L54.6559 9.158ZM59.7834 9.887C60.0624 9.428 60.5304 9.077 61.3494 9.077C62.5194 9.077 62.9424 9.833 62.9424 10.94V14H62.1234V11.183C62.1234 10.436 61.9974 9.788 61.0614 9.788C60.2694 9.788 59.7834 10.337 59.7834 11.372V14H58.9644V9.158H59.7834V9.887ZM64.9865 14H64.1675V7.475H64.9865V14ZM70.6147 11.597C70.6147 13.352 69.4177 14.117 68.2927 14.117C67.1677 14.117 65.9707 13.352 65.9707 11.597C65.9707 9.842 67.1677 9.077 68.2927 9.077C69.4177 9.077 70.6147 9.842 70.6147 11.597ZM68.2927 13.397C69.0307 13.397 69.7417 12.839 69.7417 11.597C69.7417 10.31 69.0307 9.797 68.2927 9.797C67.5547 9.797 66.8437 10.274 66.8437 11.597C66.8437 12.884 67.5547 13.397 68.2927 13.397ZM71.3063 12.722C71.3063 11.579 72.5933 11.246 74.5823 11.021V10.904C74.5823 10.022 74.0873 9.725 73.4843 9.725C72.8093 9.725 72.4133 10.094 72.3773 10.688H71.5313C71.6123 9.644 72.5303 9.059 73.4753 9.059C74.8073 9.059 75.4103 9.698 75.4013 11.057L75.3923 12.173C75.3833 12.983 75.4283 13.541 75.5183 14H74.6903C74.6633 13.82 74.6363 13.622 74.6273 13.334C74.3303 13.829 73.8263 14.117 72.9713 14.117C72.0623 14.117 71.3063 13.613 71.3063 12.722ZM74.6453 11.669C73.1603 11.822 72.2153 12.038 72.2153 12.704C72.2153 13.163 72.5663 13.469 73.1513 13.469C73.9163 13.469 74.6453 13.118 74.6453 11.975V11.669ZM79.9426 7.475H80.7616V14H79.9426V13.271C79.6456 13.784 79.1326 14.117 78.3586 14.117C77.2516 14.117 76.2886 13.199 76.2886 11.597C76.2886 10.004 77.2516 9.077 78.3586 9.077C79.1326 9.077 79.6456 9.41 79.9426 9.923V7.475ZM78.5656 9.779C77.7286 9.779 77.1796 10.445 77.1796 11.597C77.1796 12.749 77.7286 13.415 78.5656 13.415C79.2946 13.415 79.9786 12.875 79.9786 11.597C79.9786 10.319 79.2946 9.779 78.5656 9.779ZM88.329 9.068C88.329 10.58 86.754 11.921 84.927 13.235H88.509V14H83.811V13.262C86.115 11.561 87.465 10.328 87.465 9.176C87.465 8.501 87.015 8.042 86.241 8.042C85.539 8.042 84.855 8.429 84.837 9.509H83.991C83.973 8.213 84.873 7.358 86.259 7.358C87.465 7.358 88.329 7.97 88.329 9.068ZM95.0416 9.374H94.1506C93.9346 8.645 93.3406 8.132 92.2966 8.132C91.1446 8.132 90.2446 9.032 90.2446 10.724C90.2446 12.371 91.0906 13.343 92.2966 13.343C93.1696 13.343 94.2226 12.983 94.2226 11.633V11.462H92.4946V10.67H95.0866V14H94.3666L94.3216 13.181C93.8986 13.847 93.1336 14.117 92.2606 14.117C90.3796 14.117 89.3086 12.713 89.3086 10.724C89.3086 8.699 90.5056 7.358 92.3416 7.358C93.6916 7.358 94.7716 8.114 95.0416 9.374ZM97.4674 14H96.5494V7.475H97.4674V14ZM101.107 7.358C102.277 7.358 103.33 7.88 103.582 9.14H102.691C102.466 8.384 101.728 8.132 101.071 8.132C100.567 8.132 99.6851 8.357 99.6851 9.086C99.6851 9.662 100.144 9.95 100.747 10.085L101.503 10.256C102.502 10.472 103.699 10.85 103.699 12.164C103.699 13.442 102.511 14.117 101.215 14.117C99.6761 14.117 98.7041 13.28 98.5331 11.975H99.4331C99.6041 12.875 100.234 13.343 101.233 13.343C102.196 13.343 102.754 12.884 102.754 12.245C102.754 11.561 102.169 11.273 101.35 11.093L100.54 10.922C99.6491 10.724 98.7491 10.229 98.7491 9.14C98.7491 7.898 100.054 7.358 101.107 7.358Z",fill:"white"}),(0,r.jsx)("path",{d:"M41.079 22.577C41.079 20.939 41.703 20.575 43.393 20.575H44.004V21.758H43.562C42.795 21.758 42.626 21.901 42.626 22.629V23.006H44.004V24.124H42.626V30H41.079V24.124H40.104V23.006H41.079V22.577ZM51.3047 26.516C51.3047 29.038 49.5627 30.169 47.8597 30.169C46.1567 30.169 44.4147 29.038 44.4147 26.516C44.4147 23.994 46.1567 22.85 47.8597 22.85C49.5627 22.85 51.3047 23.994 51.3047 26.516ZM47.8597 28.908C48.8347 28.908 49.7057 28.128 49.7057 26.516C49.7057 24.904 48.8347 24.111 47.8597 24.111C46.8847 24.111 46.0137 24.904 46.0137 26.516C46.0137 28.128 46.8847 28.908 47.8597 28.908ZM56.3981 24.579C56.1381 24.553 55.8911 24.54 55.6571 24.54C54.6821 24.54 54.1231 24.93 54.1231 26.334V30H52.5761V23.006H54.0971V24.254C54.4741 23.474 55.1501 23.006 55.9951 22.993C56.1121 22.993 56.2811 23.006 56.3981 23.019V24.579ZM63.01 20.575H64.752L68.288 30H66.481L65.74 27.907H61.918L61.19 30H59.5L63.01 20.575ZM62.399 26.529H65.246L63.816 22.486L62.399 26.529ZM70.7032 23.981C71.1062 23.253 71.8472 22.85 72.8222 22.85C74.5122 22.85 75.2012 23.942 75.2012 25.606V30H73.6542V25.983C73.6542 25.034 73.5112 24.111 72.3282 24.111C71.1452 24.111 70.7032 25.021 70.7032 26.282V30H69.1562V23.006H70.7032V23.981ZM81.4524 20.575H82.9994V30H81.4524V29.077C81.0364 29.766 80.3084 30.169 79.3724 30.169C77.7214 30.169 76.3304 28.752 76.3304 26.503C76.3304 24.267 77.7214 22.85 79.3724 22.85C80.3084 22.85 81.0364 23.253 81.4524 23.942V20.575ZM79.7104 24.111C78.6834 24.111 77.9424 25.034 77.9424 26.503C77.9424 27.985 78.6834 28.908 79.7104 28.908C80.7244 28.908 81.5174 28.115 81.5174 26.503C81.5174 24.891 80.7244 24.111 79.7104 24.111ZM88.568 24.579C88.308 24.553 88.061 24.54 87.827 24.54C86.852 24.54 86.293 24.93 86.293 26.334V30H84.746V23.006H86.267V24.254C86.644 23.474 87.32 23.006 88.165 22.993C88.282 22.993 88.451 23.006 88.568 23.019V24.579ZM95.8145 26.516C95.8145 29.038 94.0725 30.169 92.3695 30.169C90.6665 30.169 88.9245 29.038 88.9245 26.516C88.9245 23.994 90.6665 22.85 92.3695 22.85C94.0725 22.85 95.8145 23.994 95.8145 26.516ZM92.3695 28.908C93.3445 28.908 94.2155 28.128 94.2155 26.516C94.2155 24.904 93.3445 24.111 92.3695 24.111C91.3945 24.111 90.5235 24.904 90.5235 26.516C90.5235 28.128 91.3945 28.908 92.3695 28.908ZM98.6328 20.575V22.135H97.0858V20.575H98.6328ZM98.6328 23.006V30H97.0858V23.006H98.6328ZM105.015 20.575H106.562V30H105.015V29.077C104.599 29.766 103.871 30.169 102.935 30.169C101.284 30.169 99.8929 28.752 99.8929 26.503C99.8929 24.267 101.284 22.85 102.935 22.85C103.871 22.85 104.599 23.253 105.015 23.942V20.575ZM103.273 24.111C102.246 24.111 101.505 25.034 101.505 26.503C101.505 27.985 102.246 28.908 103.273 28.908C104.287 28.908 105.08 28.115 105.08 26.503C105.08 24.891 104.287 24.111 103.273 24.111Z",fill:"white"})]}))}},47320:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var r=s(31085);function i({lang:e}){return"ru"===e?(0,r.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,r.jsx)("mask",Object.assign({id:"path-3-inside-1",fill:"white"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z"})})),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z",fill:"white",stroke:"white",strokeWidth:"2",mask:"url(#path-3-inside-1)"})]})):(0,r.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM43.8057 10.1083C45.1177 10.1083 45.9277 10.9923 45.9277 12.4443C45.9277 13.9033 45.1207 14.7843 43.8057 14.7843C42.4877 14.7843 41.6807 13.9033 41.6807 12.4443C41.6807 10.9923 42.4917 10.1083 43.8057 10.1083ZM63.3428 10.1083C64.6548 10.1083 65.4658 10.9923 65.4658 12.4443C65.4658 13.9033 64.6578 14.7843 63.3428 14.7843C62.0248 14.7843 61.2178 13.9033 61.2178 12.4443C61.2178 10.9923 62.0288 10.1083 63.3428 10.1083ZM81.355 10.1083C82.667 10.1083 83.477 10.9923 83.477 12.4443C83.477 13.9033 82.67 14.7843 81.355 14.7843C80.037 14.7843 79.23 13.9033 79.23 12.4443C79.23 10.9923 80.041 10.1083 81.355 10.1083ZM102.806 10.1078C104.059 10.1078 104.815 10.9638 104.815 12.3778V12.6878H101.635V12.7378C101.664 13.5278 102.123 14.0278 102.834 14.0278C103.372 14.0278 103.74 13.8338 103.906 13.4818H104.761C104.559 14.2888 103.839 14.7848 102.81 14.7848C101.52 14.7848 100.73 13.8998 100.73 12.4608C100.73 11.0218 101.536 10.1078 102.806 10.1078ZM75.5531 8.43731V14.6973H74.7021V13.9863H74.6311C74.3631 14.4783 73.8371 14.7723 73.2171 14.7723C72.0721 14.7723 71.3481 13.8703 71.3481 12.4443C71.3481 11.0213 72.0791 10.1203 73.2171 10.1203C73.8331 10.1203 74.3541 10.4133 74.5981 10.9103H74.6641V8.43731H75.5531ZM68.4144 10.1076C69.5434 10.1076 70.1804 10.6696 70.1804 11.6216V14.6976H69.3244V14.0646H69.2544C68.9854 14.5156 68.4934 14.7716 67.9014 14.7716C67.0334 14.7716 66.4004 14.2476 66.4004 13.4246C66.4004 12.6136 67.0044 12.1466 68.0754 12.0806L69.2954 12.0096V11.6216C69.2954 11.1456 68.9814 10.8766 68.3734 10.8766C67.8774 10.8766 67.5334 11.0596 67.4354 11.3776H66.5744C66.6654 10.6036 67.3934 10.1076 68.4144 10.1076ZM93.5152 9.07371V10.2157H94.4912V10.9637H93.5152V13.2797C93.5152 13.7507 93.7092 13.9577 94.1522 13.9577C94.2882 13.9577 94.3672 13.9487 94.4912 13.9367V14.6777C94.3462 14.7017 94.1802 14.7227 94.0072 14.7227C93.0192 14.7227 92.6252 14.3747 92.6252 13.5067V10.9637H91.9112V10.2157H92.6252V9.07371H93.5152ZM37.8267 8.73101C39.5957 8.73101 40.6337 9.81801 40.6337 11.696C40.6337 13.602 39.6037 14.698 37.8267 14.698H35.6707V8.73101H37.8267ZM47.4703 10.1948L48.2773 13.6308H48.3443L49.2693 10.1948H50.1223L51.0483 13.6308H51.1183L51.9213 10.1948H52.8093L51.5733 14.6978H50.6513L49.7203 11.3818H49.6503L48.7233 14.6978H47.8103L46.5693 10.1948H47.4703ZM56.1195 10.1078C57.1245 10.1078 57.6775 10.7118 57.6775 11.7828V14.6978H56.7895V12.0058C56.7895 11.2818 56.4745 10.9228 55.8175 10.9228C55.1605 10.9228 54.7425 11.3608 54.7425 12.0638V14.6978H53.8535V10.1948H54.7085V10.9098H54.7755C54.9945 10.4098 55.4415 10.1078 56.1195 10.1078ZM59.983 8.43701V14.698H59.094V8.43701H59.983ZM86.9355 10.1078C87.9405 10.1078 88.4935 10.7118 88.4935 11.7828V14.6978H87.6055V12.0058C87.6055 11.2818 87.2905 10.9228 86.6335 10.9228C85.9765 10.9228 85.5585 11.3608 85.5585 12.0638V14.6978H84.6695V10.1948H85.5245V10.9098H85.5915C85.8105 10.4098 86.2575 10.1078 86.9355 10.1078ZM96.5856 8.43701V10.918H96.6556C96.8746 10.414 97.3506 10.112 98.0286 10.112C98.9876 10.112 99.5796 10.72 99.5796 11.791V14.698H98.6896V12.01C98.6896 11.291 98.3546 10.926 97.7266 10.926C96.9986 10.926 96.5936 11.386 96.5936 12.068V14.698H95.7046V8.43701H96.5856ZM69.2954 12.6636L68.1954 12.7336C67.5754 12.7746 67.2944 12.9856 67.2944 13.3826C67.2944 13.7886 67.6464 14.0236 68.1294 14.0236C68.7994 14.0236 69.2954 13.5976 69.2954 13.0396V12.6636ZM81.355 10.8973C80.583 10.8973 80.148 11.4683 80.148 12.4443C80.148 13.4283 80.583 13.9943 81.355 13.9943C82.125 13.9943 82.563 13.4243 82.563 12.4443C82.563 11.4683 82.125 10.8973 81.355 10.8973ZM43.8057 10.8973C43.0337 10.8973 42.5987 11.4683 42.5987 12.4443C42.5987 13.4283 43.0337 13.9943 43.8057 13.9943C44.5757 13.9943 45.0137 13.4243 45.0137 12.4443C45.0137 11.4683 44.5757 10.8973 43.8057 10.8973ZM63.3428 10.8973C62.5708 10.8973 62.1358 11.4683 62.1358 12.4443C62.1358 13.4283 62.5708 13.9943 63.3428 13.9943C64.1128 13.9943 64.5508 13.4243 64.5508 12.4443C64.5508 11.4683 64.1128 10.8973 63.3428 10.8973ZM73.4691 10.9183C72.7211 10.9183 72.2661 11.4973 72.2661 12.4443C72.2661 13.3993 72.7161 13.9743 73.4691 13.9743C74.2181 13.9743 74.6811 13.3913 74.6811 12.4483C74.6811 11.5093 74.2131 10.9183 73.4691 10.9183ZM37.7227 9.57401H36.5977V13.854H37.7227C38.9707 13.854 39.6907 13.077 39.6907 11.708C39.6907 10.36 38.9587 9.57401 37.7227 9.57401ZM102.801 10.8638C102.144 10.8638 101.685 11.3278 101.635 12.0308H103.909C103.889 11.3238 103.459 10.8638 102.801 10.8638Z",fill:"white"})]}))}},99937:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var r=s(31085);function i(){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 304 180",fill:"none"},{children:[(0,r.jsx)("path",{fill:"#19AA1E",d:"M106.4 122.894v-64.33a8.866 8.866 0 017.803-8.81l88.375-10.75a16.45 16.45 0 0112.904 4.02 16.47 16.47 0 015.551 12.332v60.668a11.402 11.402 0 01-10.019 11.32l-87.577 10.647a15.19 15.19 0 01-11.909-3.707 15.22 15.22 0 01-5.128-11.377v-.013z"}),(0,r.jsx)("path",{fill:"#19AA1E",d:"M208.227 52.644l-.101 75.84-77.051 9.419.101-75.841 77.051-9.418z"}),(0,r.jsx)("path",{fill:"#C4C4C4",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,r.jsx)("path",{fill:"url(#thanks-photo-a)",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,r.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,r.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,r.jsx)("path",{fill:"#C4C4C4",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,r.jsx)("path",{fill:"url(#thanks-photo-b)",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,r.jsx)("path",{fill:"#169523",d:"M130.087 43.758c7.22-.888 14.997.583 17.378 3.258 2.407 2.687-1.52 5.577-8.714 6.464-7.208.875-14.985-.583-17.366-3.27-2.394-2.688 1.52-5.578 8.714-6.452h-.012z"}),(0,r.jsx)("path",{fill:"#C4C4C4",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,r.jsx)("path",{fill:"url(#paint2_linear)",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,r.jsx)("path",{fill:"url(#paint3_linear)",d:"M163.653 55.61c5.32 0 9.627-1.648 9.627-3.714l.101-.19-.215.202c-1.115.99-3.319 1.8-6.27 2.155-.963.127-1.938.19-2.913.203-4.193.038-8.17-.887-9.842-2.37l-.19-.19c.028.064.057.127.088.19 0 2.053 4.307 3.714 9.627 3.714h-.013z"}),(0,r.jsx)("path",{fill:"#169523",d:"M160.639 41.92c5.041-.609 10.488.405 12.16 2.281 1.672 1.876-1.064 3.905-6.106 4.513-5.041.634-10.488-.406-12.16-2.282-1.672-1.876 1.064-3.891 6.106-4.512z"}),(0,r.jsx)("path",{fill:"url(#paint4_radial)",fillRule:"evenodd",d:"M173.964 46.927c-.089 2.13-4.674 3.853-10.298 3.853-5.7 0-10.298-1.762-10.298-3.93 0-.43.329-.76.519-1.128.076-.152.127-.304.165-.583v.419c-.051.05-.051.063 0 0 .253 1.901 4.471 3.41 9.627 3.41 5.307 0 9.614-1.61 9.614-3.6v-.127c0 .076.025.152.038.215.05.228.19.38.316.57.178.28.279.571.317.888v.013z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"url(#paint5_linear)",d:"M172.963 48.613c-.608.469-1.469.887-2.533 1.242-2.394.76-4.965.989-7.448.925a20.878 20.878 0 01-6.764-1.191c-1.165-.444-2.457-1.204-2.837-2.345-.02-.1-.028-.203-.026-.304v3.473c.026.76.532 1.305 1.115 1.736a11.988 11.988 0 004.902 1.762c3.413.572 6.907.45 10.273-.355a9.137 9.137 0 003.42-1.546c.468-.393.899-.925.899-1.572v-3.473c0 .62-.38 1.153-1.013 1.648h.012z"}),(0,r.jsx)("path",{fill:"#19AA1E",d:"M189.088 68.26c17.037-2.383 30.805 10.522 30.767 28.813-.038 18.279-13.857 35.037-30.881 37.42-17.024 2.37-30.793-10.521-30.755-28.8.026-18.292 13.858-35.05 30.882-37.433h-.013z"}),(0,r.jsx)("path",{fill:"url(#paint6_linear)",d:"M146.427 77.654c-8.386 15.21-6.245 34.352 9.284 44.34 5.827 3.74 12.16 6.795 18.19 10.141a36.831 36.831 0 01-1.938-1.141c-15.542-10.014-17.645-29.167-9.247-44.366 8.36-15.173 25.688-23.577 42.433-15.743l.672.33c-5.612-3.106-11.134-6.567-16.936-9.292-16.72-7.834-34.06.532-42.458 15.73z"}),(0,r.jsx)("path",{fill:"#262626",d:"M174.908 128.2c12.65 7.308 29.729 1.403 38.149-13.19 8.419-14.594 4.989-32.349-7.661-39.658-12.65-7.308-29.729-1.403-38.149 13.19-8.419 14.593-4.989 32.349 7.661 39.658z"}),(0,r.jsx)("g",Object.assign({filter:"url(#filter0_ii)"},{children:(0,r.jsx)("path",{fill:"url(#paint7_linear)",d:"M214.459 115.846l.064-.101c8.93-15.49 5.244-34.352-8.234-42.148-13.477-7.783-31.654-1.546-40.584 13.944-8.93 15.477-5.244 34.352 8.234 42.135 9.17 5.299 20.52 4.107 29.64-2.079-8.74 5.894-19.431 7.086-28.044 2.104-12.819-7.402-16.138-25.643-7.423-40.74 8.715-15.11 26.157-21.347 38.975-13.944 12.806 7.403 16.138 25.643 7.423 40.753l-.051.076z"})})),(0,r.jsx)("g",Object.assign({filter:"url(#filter1_ii)"},{children:(0,r.jsx)("path",{fill:"url(#paint8_linear)",fillRule:"evenodd",d:"M176.725 127.369c12.072 6.972 28.348 1.394 36.354-12.46 7.992-13.868 4.686-30.765-7.398-37.737-12.071-6.972-28.348-1.394-36.353 12.46-7.98 13.868-4.687 30.765 7.397 37.737zm33.884-13.868a39.886 39.886 0 01-1.748 2.713c-8.145 11.535-21.952 16.149-32.098 10.293-.29-.163-.577-.332-.861-.507-11.387-6.566-14.313-22.842-6.523-36.33 7.777-13.487 23.306-19.09 34.706-12.51.291.162.579.33.862.506 10.133 5.857 13.034 20.117 7.144 32.933a37.283 37.283 0 01-1.482 2.902z",clipRule:"evenodd"})})),(0,r.jsx)("path",{fill:"#19AA1E",fillRule:"evenodd",d:"M175.535 129.701c12.818 7.403 30.273 1.167 38.975-13.943 8.715-15.085 5.383-33.338-7.423-40.741-12.818-7.403-30.273-1.166-38.975 13.944-8.715 15.084-5.396 33.338 7.423 40.74zm1.469-2.167c11.919 6.883 28.069 1.229 36.075-12.626 7.992-13.867 4.813-30.676-7.119-37.572-11.919-6.895-28.069-1.242-36.075 12.613-7.992 13.868-4.813 30.689 7.119 37.585z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#fff",d:"M204.237 93.866c2.28-.418 3.737-2.991 3.23-5.73-.506-2.737-2.786-4.613-5.066-4.195-2.293.418-3.75 2.979-3.243 5.717.507 2.738 2.787 4.627 5.067 4.208h.012zm-8.22 1.775c.836-.152 1.342-1.166 1.14-2.282-.203-1.103-1.052-1.863-1.888-1.711-.823.152-1.33 1.166-1.14 2.282.216 1.09 1.052 1.863 1.888 1.71z"}),(0,r.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M94.747 158.324c-34.808 9.659-79.61-13.766-52.06-80.823C63.105 27.786 109.3 29.434 121.65 31.78c16.504 3.144 21.381 11.18 16.238 16.301-6.143 6.11-16.124-.52-31.616 1.788-11.4 1.711-29.361 5.45-38.608 27.595 11.983-29.51 70.313-37.52 62.966 15.668"}),(0,r.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M168.15 29.624l24.447-17.34-6.283 22.854 39.9-27.697-18.848 36.33 54.264-24.846-26.651 32.223M76.367 109.407c2.964-3.993 8.905-13.094 22.902-15.275 24.497-3.815 36.391 35.798 5.611 47.447-15.871 6.008-18.455-14.058.507-19.23l-29.02-12.942zm-3.242-19.33c11.324-22.97 63.308-29.6 51.756 19.812L73.125 90.076zm87.767 64.71c8.575 15.668 55.885 32.527 85.779 18.888 44.308-20.219 16.935-70.783-5.194-91.99-14.972-14.362-17.834-21.765-23.357-17.937-4.522 3.144-2.85 14.768.063 22.437 4.725 12.397 22.674 27.304 4.624 42.819-12.11 10.395-35.011 8.975-50.794.406-13.49-7.314-27.613-17.62-31.717-9.507-1.482 2.941.659 10.394 7.119 16.707 11.425 11.13 32.844 23.425 63.156 24.401l-49.679-6.224zm47.956 14.35c-12.996-.482-44.713-9.545-55.353-24.896l55.353 24.896z"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"thanks-photo-a",x1:"105.032",x2:"131.176",y1:"96.11",y2:"96.11",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".01",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".3",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".57",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"thanks-photo-b",x1:"213.155",x2:"226.784",y1:"87.173",y2:"87.173",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".19",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:".43",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".7",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".99",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint2_linear",x1:"120.675",x2:"148.175",y1:"53.696",y2:"53.696",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".25",stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".48",stopColor:"#E6F6E6",stopOpacity:".5"}),(0,r.jsx)("stop",{offset:".51",stopColor:"#C5EAC6",stopOpacity:".58"}),(0,r.jsx)("stop",{offset:".62",stopColor:"#49BC4D",stopOpacity:".88"}),(0,r.jsx)("stop",{offset:".68",stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint3_linear",x1:"153.951",x2:"173.381",y1:"53.658",y2:"53.658",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#194B41"}),(0,r.jsx)("stop",{offset:".17",stopColor:"#19513F"}),(0,r.jsx)("stop",{offset:".41",stopColor:"#196338"}),(0,r.jsx)("stop",{offset:".69",stopColor:"#19812D"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint5_linear",x1:"153.343",x2:"173.964",y1:"50.603",y2:"50.603",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".71",stopColor:"#199029"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint6_linear",x1:"139.384",x2:"200.261",y1:"121.285",y2:"67.9",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".14",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint7_linear",x1:"190.114",x2:"190.114",y1:"70.251",y2:"133.035",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#16961A"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#0D5810"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint8_linear",x1:"191.203",x2:"191.203",y1:"74.168",y2:"130.386",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#0D5810"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#16961A"})]})),(0,r.jsxs)("filter",Object.assign({id:"filter0_ii",width:"59.565",height:"63.283",x:"160.331",y:"69.997",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:".5",dy:".25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,r.jsxs)("filter",Object.assign({id:"filter1_ii",width:"53.464",height:"56.705",x:"164.474",y:"73.918",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:".5",dy:".25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,r.jsxs)("radialGradient",Object.assign({id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(7.55646 0 0 7.50847 163.666 47.953)",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#fff",stopOpacity:".5"}),(0,r.jsx)("stop",{offset:".05",stopColor:"#E4F5E4",stopOpacity:".56"}),(0,r.jsx)("stop",{offset:".35",stopColor:"#52BF56",stopOpacity:".88"}),(0,r.jsx)("stop",{offset:".49",stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".64",stopColor:"#199029"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#195441"})]}))]})]}))}},15635:(e,t,s)=>{"use strict";s.d(t,{s:()=>x});var r=s(31085),i=s(14041),a=s(26461);function n({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10.8 11L9.6 7.6 8 10.1 6.4 7.7 5.2 11h-2l2.9-7.2L8 6.7l1.9-2.9 2.9 7.2h-2z"})}))}function o({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10.9 11.8l-.9-1.2c1.5-1.1 1.7-3.3.6-4.7l-.3-.3L8 10.9 5.7 5.6c-1.3 1.3-1.3 3.5 0 4.8l.3.3-.9 1.2C4 10.9 3.2 9.5 3.2 8c0-1.7.9-3.4 2.4-4.2l.7-.4 1.6 3.8 1.6-3.8.7.4c1.5.9 2.4 2.5 2.4 4.2.2 1.5-.6 2.9-1.7 3.8z"})}))}function c({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M11 12L9.5 9 8 12 6.5 9 5 12 3 8l2-4 1.5 3L8 4l1.5 3L11 4l2 4-2 4z"})}))}function d({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M11 7V3h-1L8 5 6 3H5v4H3v1l5 5 5-5V7h-2zm-3 3.9L5.6 8.5h.9V5.6l.4.4L8 7.1 9.1 6l.4-.4v2.9h.9L8 10.9z"})}))}function l({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M13 11h-3v-1h.4l-.9-2.4L8 10.1 6.4 7.7 5.6 10H6v1H3v-1h.6l2.5-6.2L8 6.7l1.9-2.9 2.5 6.2h.6v1z"})}))}function u({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10.3 11l-.9-2.3L8 10.5 6.6 8.6 5.7 11l-2.3-.5c0-2.3.8-4.5 2-6.5L8 6.3 10.6 4c1.3 2 2 4.2 2.1 6.5l-2.4.5z"})}))}function p({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10 10.5l1-1V3.8c-.9-.6-2-.8-3-.8s-2.1.2-3 .8v5.8l1 1-1.1 1.6 1.2.9 1.1-1.5h1.6l1.1 1.5 1.2-1-1.1-1.6zm-2-1L6 8V5h4v3L8 9.5z"})}))}function m({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3z"})}))}function g({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M8.47 24h3.43a9 9 0 0 1-1.32-15.18L16 24l5.42-15.18A9 9 0 0 1 20.1 24h3.43A11 11 0 0 0 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58A11 11 0 0 0 8.47 24z"})}))}function h({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M18.22 14.1L16 10.65l-2.28 3.55-2.28-3.55L8 16l3.44 5.35 2.28-3.55L16 21.35l2.22-3.45 2.22 3.45L23.88 16l-3.44-5.35zm-6.78 3.55L10.38 16l1.06-1.65L12.5 16zm4.56 0L14.94 16 16 14.35 17 16v.05zm4.44 0l-1-1.6v-.1l1-1.6L21.5 16z"}),(0,r.jsx)("path",{d:"M16 6C8.83 6 3 10.49 3 16s5.83 10 13 10 13-4.49 13-10S23.17 6 16 6zm0 18c-6.07 0-11-3.59-11-8s4.93-8 11-8 11 3.59 11 8-4.93 8-11 8z"})]}))}function f({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M16 26.64L6 16.41V14h4V6h2.43L16 9.76 19.57 6H22v8h4v2.41zM8.4 16l7.6 7.78L23.6 16H20V8.45l-4 4.21-4-4.21V16z"})}))}function b({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22z"})}))}function v({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M20.38 24.14L18.73 20 16 23.67 13.27 20l-1.65 4.12L5 22.82V22A29.28 29.28 0 0 1 9.66 7.46l.64-1 5.7 5.19 5.7-5.19.64 1A29.28 29.28 0 0 1 27 22v.82zM19.27 16l2.35 5.88 3.38-.69a28.47 28.47 0 0 0-3.72-11.64L16 14.35l-5.28-4.8A28.47 28.47 0 0 0 7 21.19l3.34.67L12.73 16 16 20.33z"})}))}function y({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M24 7.15a15.39 15.39 0 0 0-8-2 15.39 15.39 0 0 0-8 2v12l3.66 2.92-3.37 3.37 1.42 1.41 3.7-3.7h5.18l3.7 3.7 1.42-1.41-3.37-3.37L24 19.15zm-14 4h12v2.42L16 17l-6-3.43zm6-4a15 15 0 0 1 6 1.2v.8H10v-.8a14.89 14.89 0 0 1 6-1.2zm2.3 14h-4.6l-3.7-3v-2.28l6 3.43 6-3.43v2.32z"})}))}class x extends i.PureComponent{render(){const{size:e}=this.props;switch(e){case 16:return this.getIcon16();case 32:return this.getIcon32()}}getIcon16(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,r.jsx)(p,{color:t});case"kharkov":return(0,r.jsx)(u,{color:t});case"moscow":return(0,r.jsx)(l,{color:t});case"praha":return(0,r.jsx)(d,{color:t});case"santiago":return(0,r.jsx)(c,{color:t});case"spb":return(0,r.jsx)(o,{color:t});default:return(0,r.jsx)(n,{color:t})}}getIcon32(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,r.jsx)(y,{color:t});case"kharkov":return(0,r.jsx)(v,{color:t});case"moscow":return(0,r.jsx)(b,{color:t});case"praha":return(0,r.jsx)(f,{color:t});case"santiago":return(0,r.jsx)(h,{color:t});case"spb":return(0,r.jsx)(g,{color:t});default:return(0,r.jsx)(m,{color:t})}}}x.displayName=(0,a.d)("src/shared/icons/mappings/metro")},51989:(e,t,s)=>{"use strict";s.d(t,{v:()=>p});var r=s(85608),i=s(31085),a=s(99259),n=s(84175),o=s(14041),c=s(80552),d=s(88836),l=s.n(d);const u={a:["href"],b:[],strong:[],i:[],em:[],br:[],p:[],ul:[],ol:[],li:[]},p=(0,o.memo)((e=>{var{html:t,contentClassName:s}=e,a=(0,r.Tt)(e,["html","contentClassName"]);const{s:c,css:d}=(0,n.I)(m),p=(0,o.useMemo)((()=>(e=>(e=>e.replace(/(<br\s*\/?>){3,}/g,"<br><br>").replace(/<a /g,'<a target="_blank" rel="noopener" '))(l()(e,{whiteList:u})))(t)),[t]);return(0,i.jsx)("span",Object.assign({},a,{children:(0,i.jsx)("span",{className:d(c.html,s),dangerouslySetInnerHTML:{__html:p}})}))})),m=(0,n.r)({html:{"& a":{color:a.T.blue_0072ce,":hover":{color:a.T.gray_262626}},"& p, & ul, & ol":{marginBottom:"1.23em"},"& *:last-child":{marginBottom:0},"& ul":{listStyle:"disc"},"& ol":{listStyle:"decimal"},"& li":{marginStart:32},"& b, & strong":{fontWeight:c.Wy.bold},"& i, & em":{fontStyle:"italic"}}})},98626:(e,t,s)=>{"use strict";s.d(t,{Q:()=>v});var r=s(31085),i=s(46579),a=s(10742),n=s(84175),o=s(81618),c=s(53772),d=s(3135),l=s(14041),u=s(79594),p=s(95792),m=s(49959),g=s(82781),h=s(99259),f=s(80552),b=s(88756);const v=(0,l.memo)((e=>{const{isMobileDevice:t}=(0,i.U)();return t?(0,r.jsx)(x,Object.assign({},e)):(0,r.jsx)(y,Object.assign({},e))}));v.displayName="AdInfoLink";const y=(0,l.memo)((e=>{const{onCopy:t,renderIdInput:s}=(0,d.m)(),{ref:i,addTooltip:a}=(0,p.J)({title:(0,r.jsx)(m.B,Object.assign({},e,{renderIdInput:s})),to:"bottomBottomStart",loseHoverOnClick:!1,delay:300});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,Object.assign({},e,{containerRef:i,onClick:t})),a]})})),x=(0,l.memo)((e=>{const t=(0,u.wA)(),s=(0,a.D)((s=>{s.stopPropagation(),t((0,c.Z)(e))}));return(0,r.jsx)(j,Object.assign({},e,{onClick:s}))})),j=(0,l.memo)((e=>{const{suffix:t,gray:s,tiny:a,small:c,styles:d,dataN:l="wat-ad-info-link",containerRef:u,onClick:p,rating:m,description:h}=e,{s:f,css:v}=(0,n.I)(w),y=(0,g.c)(),{featureAdInfo:x}=(0,i.U)(),j=t?y._t(" — реклама"):y._t("Реклама");return(0,r.jsx)("span",Object.assign({ref:x?u:void 0,onClick:x?p:void 0},o.dx.n(l),{className:v(f.root,x&&f.cursor,t&&f.suffix,s&&f.gray,a&&f.tiny,c&&f.small,d)},{children:void 0!==m||h?(0,r.jsxs)(b.u,Object.assign({inline:!0,styles:h?f.inline:f.noWrap,dotTheme:"inherit"},{children:[j,void 0!==m&&`${m}+`,h&&(0,r.jsx)("span",Object.assign({},o.dx.n("wat-ads-text-warning"),{children:h}))]})):j}))}));j.displayName="AdInfoLinkInner";const w=(0,n.r)({root:{fontWeight:f.Wy.medium},gray:{color:h.T.gray_929292},tiny:Object.assign({},(0,f.lR)(1,f.nU)),small:Object.assign({},(0,f.lR)(1,f.H8)),suffix:Object.assign(Object.assign({},f.EX),{color:h.T.gray_929292,whiteSpace:"nowrap"}),cursor:{cursor:"pointer"},noWrap:{whiteSpace:"nowrap"},inline:{display:"inline"}})},848:(e,t,s)=>{"use strict";s.d(t,{i:()=>n});var r=s(14041),i=s(76065),a=s(46579);const n=({direction:e,size:t,color:s,icon:n=i.i})=>{const{rtl:c}=(0,a.U)();return r.createElement(n,{direction:o(e,c),size:t,color:s})};function o(e,t){switch(e){case"start":return t?"right":"left";case"end":return t?"left":"right";default:return e}}},63245:(e,t,s)=>{"use strict";s.d(t,{$:()=>m});var r=s(31085),i=s(14041),a=s(99259),n=s(81618),o=s(59603),c=s(76065),d=s(2829),l=s(35023),u=s(70498),p=s(84175);const m=(0,i.memo)((({children:e,showDivider:t=!1,bgColor:s})=>{const{css:d,s:u,dir:m}=(0,p.I)(g),[h,f]=(0,i.useState)("none"),b=(0,i.useRef)(null),v=(0,i.useCallback)((()=>{const e=b.current;if(!e)return;const t="rtl"===m,{scrollLeft:s,scrollWidth:r,clientWidth:i}=e,a=Math.abs(s),n=r-i,o=a===n;f(0===s||a<4&&!o?t?"left":"right":o||a>=n-4?t?"right":"left":"both")}),[m]),y=(0,i.useCallback)((()=>{const e=b.current;e&&(e.scrollWidth-e.clientWidth<=4?f("none"):"none"===h&&v())}),[h,v]);(0,i.useEffect)((()=>{setTimeout(y,0)}),[y]),(0,i.useEffect)((()=>{y()}));const x=(0,i.useCallback)(((e,t)=>{const s=b.current;if(!s)return;const{offsetWidth:r,scrollLeft:i}=s,a=t+e;"rtl"!==m?i>t?s.scrollLeft=0:a>r&&(s.scrollLeft=a-r+e):i>=t?s.scrollLeft=Math.abs(a)-r:Math.abs(a)>r-t&&(s.scrollLeft=r+e)}),[m]),j=(0,i.useCallback)((()=>{let e=1;return"right"===h?e=0:"left"===h&&(e=2),e}),[h]),w=(0,i.useCallback)((e=>{const t=b.current,s="rtl"===m;if(t){let r=0;switch(e){case 0:r=s?-t.scrollWidth:0;break;case 1:"right"===h?r=t.scrollWidth:"left"===h&&(r=s?-t.scrollWidth:0);break;case 2:r=t.scrollWidth}t.scrollLeft=r}}),[h,m]);return(0,r.jsxs)("div",Object.assign({className:d(u.wrapper,t&&u._divider)},n.dx.n("wat-wrapper-tabs"),{style:{"--bg-color":s}},{children:[(()=>{if("none"!==h){const e="right"!==h?(0,r.jsx)("div",Object.assign({className:d(u.arrow)},n.dx.n("wat-arrow-left"),{children:(0,r.jsx)(c.i,{direction:"left",color:s===a.T.white?a.T.gray_dddddd:a.T.black})})):null,t="left"!==h?(0,r.jsx)("div",Object.assign({className:d(u.arrow,u._right)},n.dx.n("wat-arrow-right"),{children:(0,r.jsx)(c.i,{direction:"right",color:s===a.T.white?a.T.gray_dddddd:a.T.black})})):null;return(0,r.jsx)(o.N,{left:e,right:t,currentIndex:j(),maxIndex:2,minIndex:0,onChange:w})}return null})(),(0,r.jsx)("div",Object.assign({className:d(u.content),ref:b,onScroll:"none"!==h?v:l.lQ},n.dx.n("wat-contents-tabs"),n.dx.s(h),{children:e(x)}))]}))}));m.displayName="ArrowedScrollWrapper";const g=(0,p.r)({wrapper:{position:"relative",display:"flex",alignItems:"center",height:48,zIndex:d.f.base,background:"var(--bg-color)"},content:{zIndex:d.f.base,margin:"0 24px",width:"100%",height:"100%",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},arrow:{position:"absolute",background:"var(--bg-color)",top:12,height:24,width:24,left:0,paddingLeft:8,zIndex:d.f.top,"::before":{content:'""',backgroundImage:"linear-gradient(to right, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))",pointerEvents:"none",height:44,width:72,position:"absolute",left:0,paddingLeft:8,top:-12}},_divider:{boxShadow:u.E.innerBorderBottomBase},_right:{left:"auto",right:0,paddingRight:8,paddingLeft:0,"::before":{left:"auto",right:0,paddingRight:8,paddingLeft:0,backgroundImage:"linear-gradient(to left, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))"}}})},91466:(e,t,s)=>{"use strict";s.d(t,{i:()=>u});var r=s(31085),i=s(14041),a=s(91664),n=s(99259),o=s(81618),c=s(69158),d=s(84175),l=s(46579);const u=(0,i.memo)((({id:e,src:t,src2x:s,backgroundColor:a,backgroundPosition:n,isLoadingForced:c,contain:u,overlay:m,width:g,height:h,borderRadius:f="0",renderPlaceholder:b,onClick:v,onError:y,onLoad:x})=>{const{css:j,s:w}=(0,d.I)(p),[_,C]=(0,i.useState)(!1),[I,k]=(0,i.useState)(!1),{userAgent:O}=(0,l.U)(),S=b&&!c,T=(0,i.useMemo)((()=>s?/AppleWebKit/.test(O)?`-webkit-image-set(url("${t}") 1x, url("${s}") 2x)`:`image-set("${t}" 1x, "${s}" 2x)`:`url(${t})`),[t,s,O]);(0,i.useEffect)((()=>{if(!S&&!x&&!y)return;const e=new Image;e.onload=()=>{k(!0),x&&x(e)},e.onerror=e=>{C(!0),y&&y(e)},e.src=t}),[t,S,y,x]);const E=(0,i.useCallback)((()=>{v&&v({id:e,src:t})}),[t,e,v]);return!S||!_&&I?(0,r.jsx)("div",Object.assign({role:"img",className:j(w.image,u&&w._imageContain,m&&w._imageOverlay,v&&w._imageClickable),style:{backgroundImage:T,backgroundColor:a,backgroundPosition:n,width:g||"100%",height:h||"100%",maxWidth:"100%",maxHeight:"100%",borderRadius:f},onClick:E},o.dx.n("wat-image"))):(0,r.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",width:g||"100%",height:h||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:b(_?"error":"loading")}))})),p=(0,d.r)({image:{backgroundBlendMode:"multiply",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},_imageContain:{backgroundSize:"contain"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${a.S.short}ms ease-out`,background:(0,c.m)(n.T.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}});u.displayName="BackgroundImg"},96141:(e,t,s)=>{"use strict";s.d(t,{$:()=>g});var r=s(31085),i=s(14041),a=s(84175),n=s(80552),o=s(69158),c=s(99259),d=s(81618);class l extends i.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,disabled:s,onClick:r}=this.props;(t||r)&&e.stopPropagation(),s||(t||e.preventDefault(),r&&r(e))}}render(){const{className:e,style:t,href:s,external:i,disabled:a,children:n,dataN:o="wat-kit-button",dataT:c,dataS:l,type:u,containerRef:p}=this.props,m=d.dx.n(o),g=c?d.dx.t(c):void 0,h=l?d.dx.s(l):void 0,f=Object.assign(Object.assign(Object.assign(Object.assign({className:e,style:t,onClick:this.handleClick,target:i&&s?"_blank":void 0,rel:i&&s&&!s.startsWith("tel:")?"noopener":void 0,disabled:a,ref:p},m),g),h),{type:"submit"===u?"submit":"button"});return s?(0,r.jsx)("a",Object.assign({href:s},f,{children:n})):(0,r.jsx)("button",Object.assign({},f,{children:n}))}}var u=s(64099),p=s(70498),m=s(27212);const g=(0,i.memo)((e=>{const{appearance:t,background:s,wide:i,sharp:n,leftRounded:o,rightRounded:c,noBorder:d,compact:u,fat:p,medium:g,href:h,children:b,onClick:v,external:y,disabled:x,dataN:j,dataT:w,dataS:_,type:C,containerRef:I,color:k,experimentalStyles:O}=e,{css:S,s:T}=(0,a.I)(f);return(0,r.jsx)(l,Object.assign({href:h,className:S(T.button,(()=>{switch(t){case"primary":return T._primary;case"secondary":return T._secondary;case"ghost":return T._ghost;case"noncontrast":return T._noncontrast;default:return T._default}})(),...(()=>{const e=[];return s&&e.push(T._background),i&&e.push(T._wide),d&&e.push(T._noBorder),p?e.push(T._fat):u?e.push(T._compact):g&&e.push(T._medium),n?e.push(T._sharp):o?e.push(T._leftRounded):c&&e.push(T._rightRounded),x&&e.push(T._disabled),e})(),O),style:{background:s,color:k||s&&(0,m.a)(s)},onClick:v,external:y,disabled:x,dataN:j,dataT:w,dataS:_,type:C,containerRef:I},{children:b}))})),h={background:"transparent",border:"none",margin:0,padding:0,WebkitAppearance:"none",color:"inherit",textDecoration:"none"},f=(0,a.r)((e=>({button:Object.assign(Object.assign(Object.assign({},h),n.Hg),{position:"relative",zIndex:u.fE.base,boxSizing:"border-box",display:"inline-block",borderRadius:u.Vq.default,boxShadow:p.E.innerBorderTransparent,overflow:"hidden",padding:"12px 24px",cursor:"pointer",textAlign:"center"}),_background:{background:"transparent",":after":{content:'""',zIndex:u.fE.bottom,position:"absolute",top:0,bottom:0,start:0,end:0,background:"transparent"},":hover:after":{background:(0,o.m)(c.T.gray_929292,.2)}},_wide:{display:"block",width:"100%"},_fat:{padding:"20px 40px"},_compact:{padding:"4px 8px"},_medium:{padding:"8px 12px"},_sharp:{borderRadius:0},_leftRounded:{borderRadius:u.Vq.defaultOnlyEnd},_rightRounded:{borderRadius:u.Vq.defaultOnlyStart},_default:{background:c.T.white,color:c.T.blue_0072ce,":after":{borderRadius:u.Vq.default,boxShadow:p.E.innerBorderTransparent},":hover":{color:c.T.gray_262626},":active":{color:c.T.gray_929292}},_ghost:{background:"transparent",color:c.T.blue_0072ce,":hover":{color:c.T.gray_262626},":active":{color:c.T.gray_929292}},_noncontrast:{background:c.T.gray_f2f2f2,color:c.T.gray_262626,":hover":{color:c.T.gray_262626,background:c.T.blue_c5ebff},":active":{color:c.T.gray_929292}},_noBorder:{boxShadow:"none !important",":after":{boxShadow:"none !important"}},_primary:{color:(0,m.a)(e.colors.green_299400_brand),background:e.colors.green_299400_brand,":active":{color:(0,o.m)((0,m.a)(e.colors.green_299400_brand),.7)}},_secondary:{color:c.T.white,background:c.T.blue_028eff,":active":{color:(0,o.m)(c.T.white,.7)}},_disabled:{opacity:.5,pointerEvents:"none"}})))},43819:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var r=s(31085),i=s(84175),a=s(10742),n=s(80552),o=s(33466),c=s(81618);const d=(0,s(14041).memo)((e=>{const{children:t,size:s,icon:n,innerRef:o,isLabelSolid:d,fontStyle:u,dataT:p="",dataPs:m,href:g,isShifted:h=!1,onClick:f}=e,{css:b,s:v}=(0,i.I)(l),y=(0,a.D)((e=>{e.preventDefault(),f(e)})),x=g?"a":"button";return(0,r.jsxs)(x,Object.assign({},c.dx.n("wat-button-action"),c.dx.t(p),{className:b(v.button,"uppercase"===u&&v._uppercase),onClick:y,"data-ps":m,href:g,ref:o},{children:[(0,r.jsx)("span",Object.assign({className:b(v.icon),style:{width:s,height:s}},{children:n})),t&&(0,r.jsx)("span",Object.assign({className:b(v.label,d&&v._withSolidLabel,h&&v._shifted)},{children:t}))]}))}));d.displayName="ButtonAction";const l=(0,i.r)({button:Object.assign(Object.assign({},n.H8),{color:"inherit",border:"none",background:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",":focus":{outline:"none"}}),_uppercase:Object.assign({},n.mI),icon:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:`opacity ${o.S.short}ms ease`,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:1}},label:{marginStart:4,transition:`opacity ${o.S.short}ms ease`,opacity:.7,"[data-ps]:active &":{opacity:1}},_withSolidLabel:{opacity:1,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:.7}},_shifted:{marginStart:8}})},57758:(e,t,s)=>{"use strict";s.d(t,{S:()=>l});var r=s(31085),i=s(14041),a=s(81618),n=s(84175),o=s(5438),c=s(99259),d=s(68887);const l=({isChecked:e,dataN:t,isInvalid:s,backgroundColor:d,tickColor:l,onClick:p,disabled:m})=>{const{css:g,s:h}=(0,n.I)(u),f=(0,i.useCallback)((()=>{m||p(!e)}),[e,p,m]);return(0,r.jsx)("div",Object.assign({},a.dx.n(t),{tabIndex:0,onClick:f,style:{background:d||"transparent"},className:g(h.checkbox,s&&h._invalid,m&&h._disabled)},{children:e&&(0,r.jsx)("span",Object.assign({className:g(h.icon)},{children:(0,r.jsx)(o.J,{width:24,height:24,color:l||c.T.gray_262626})}))}))},u=(0,n.r)({checkbox:{position:"relative",display:"inline-flex",borderRadius:d.V.default,cursor:"pointer",minWidth:20,height:20,border:`1px solid ${c.T.gray_e6e6e6}`,boxSizing:"border-box",marginEnd:12,outline:"none"},icon:{position:"absolute",top:-3,start:-3},_invalid:{border:`1px solid ${c.T.red_fe5000}`},_disabled:{filter:"grayscale(1)",cursor:"default"}})},90704:(e,t,s)=>{"use strict";s.d(t,{K:()=>p});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(24797),c=s(99259),d=s(81618);class l extends i.PureComponent{constructor(){super(...arguments),this.isClearHandled=!1,this.onClear=e=>{e.preventDefault(),this.props.stopPropagation&&e.stopPropagation(),this.isClearHandled?this.isClearHandled=!1:(this.isClearHandled=!0,this.props.onClear())}}render(){const{ariaLabel:e,isWhite:t,tabIndex:s,s:i}=this.props;return(0,r.jsx)("button",Object.assign({type:"button",className:(0,a.AH)(i.root,t&&i._isWhite),tabIndex:s},d.dx.n("wat-clear-btn"),{"aria-label":e,onClick:this.onClear},{children:(0,r.jsx)(o.k,{})}))}}const u={root:{width:"16px",height:"17px",color:c.T.gray_929292,"&:hover":{color:c.T.gray_262626}},_isWhite:{opacity:.7,color:c.T.white,"&:hover":{opacity:1,color:c.T.white}}},p=(0,n.Xy)(u)(l)},92920:(e,t,s)=>{"use strict";s.d(t,{E:()=>m});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(81618),c=s(64099),d=s(50570),l=s(99259);class u extends i.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClick()}}render(){const{title:e,dataT:t,isActive:s,children:i,disabled:n,s:c,innerRef:l,ariaLabel:u}=this.props;return(0,r.jsx)("button",Object.assign({title:e,className:(0,a.AH)(c.control,s&&c._active),onClick:this.handleClick,disabled:n},o.dx.n("wat-kit-control"),o.dx.t(t),l&&{ref:l},(0,d.a)({label:u}),{children:i}))}}u.displayName=(0,n.d)("src/shared/kit/control");const p={control:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,color:l.T.gray_262626,borderRadius:c.Vq.default,":hover":{opacity:.7},":active":{color:l.T.blue_028eff},":disabled":{background:l.T.gray_f2f2f2,color:l.T.gray_929292,cursor:"default",":hover":{opacity:1}}},_active:{color:l.T.blue_028eff}},m=(0,a.Xy)(p)(u)},9255:(e,t,s)=>{"use strict";s.d(t,{H:()=>p});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(99259),c=s(70498),d=s(64099);class l extends i.PureComponent{render(){const{isGhost:e,isVertical:t,innerRef:s,s:i}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,a.AH)(i.controls,e&&i._ghost,t&&i._vertical),ref:s},{children:this.props.children}))}}l.displayName=(0,n.d)("src/shared/kit/controls");const u={controls:{display:"inline-flex",boxShadow:c.E.popup,background:o.T.white,borderRadius:d.Vq.default,"& > *":{boxShadow:c.E.innerBorderEndBase,borderRadius:d.Vq.defaultOnlyEnd,"&:last-child":{boxShadow:"none"}}},_ghost:{boxShadow:"none",background:"none"},_vertical:{flexDirection:"column","& > *":{boxShadow:c.E.innerBorderBottomBase,borderRadius:d.Vq.defaultOnlyTop,"&:last-child":{boxShadow:"none"}}}},p=(0,a.Xy)(u)(l)},13558:(e,t,s)=>{"use strict";s.d(t,{F:()=>x});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(80552),c=s(99259),d=s(69158),l=s(70498),u=s(69248),p=s(81618),m=s(33466),g=s(64099);function h({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M1 3h1.616c.252 0 .465.188.496.439l.77 6.248c.1.823.85 1.408 1.673 1.306l7.215-.898c.695-.087 1.237-.643 1.307-1.34L14.553 4H4.188l-.085-.683C4.012 2.565 3.374 2 2.616 2H1v1zm3.874 6.565L4.312 5H7v3h1V5h2v3h1V5h2.447l-.365 3.656c-.023.232-.204.418-.436.446L5.432 10c-.274.034-.524-.16-.558-.435zM5.5 15c.828 0 1.5-.672 1.5-1.5S6.328 12 5.5 12 4 12.672 4 13.5 4.672 15 5.5 15zm0-1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5-.5.224-.5.5.224.5.5.5zM11.5 15c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0-1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5-.5.224-.5.5.224.5.5.5z",clipRule:"evenodd"})}))}var f=s(27212);function b({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M11.9 2L9.5 8 3 8.5l5 4L6.5 19l5.5-3.5 5.5 3.5-1.5-6.5 5-4-6.5-.5-2.6-6z",fillRule:"evenodd",clipRule:"evenodd"})}))}function v(){return(0,r.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.72591 1.92586C8.27306 1.69138 7.72694 1.69138 7.27409 1.92586L3.04768 4.11421C2.55291 4.37039 2.25 4.86344 2.25 5.39382V10.4499C2.25 10.9652 2.536 11.4463 3.00856 11.7085L7.23498 14.0532C7.70804 14.3156 8.29196 14.3156 8.76502 14.0532L12.9914 11.7085C13.464 11.4463 13.75 10.9652 13.75 10.4499V5.39382C13.75 4.86344 13.4471 4.37039 12.9523 4.11421L8.72591 1.92586ZM7.77174 2.78111C7.91457 2.70716 8.08543 2.70716 8.22826 2.78111L12.2111 4.84334L9.68735 6.33674C9.66387 6.35064 9.64216 6.36589 9.6222 6.38225L9.60779 6.39404L7.99387 7.35653L6.40333 6.4055L6.38697 6.39139C6.36439 6.37193 6.33946 6.35393 6.31214 6.33776L3.78774 4.84395L7.77174 2.78111ZM12.7154 5.69483V10.4499C12.7154 10.6262 12.6176 10.7841 12.4671 10.8675L8.51741 13.0587L8.51741 8.19853L12.7154 5.69483ZM3.28459 5.69555L7.48282 8.20605L7.48282 13.0588L3.53288 10.8675C3.38243 10.7841 3.28459 10.6262 3.28459 10.4499V5.69555Z",fill:"#262626"})}))}class y extends i.PureComponent{constructor(){super(...arguments),this.renderButton=()=>{const{value:e,title:t,isChecked:s=!1,isCheckedUnclickable:i=!1,isDisabled:n=!1,isFlex:o=!1,isCentered:c=!1,s:d,children:l,iconType:u,dataN:m="wat-filter-btn",dataT:g,isGray:h,style:f}=this.props;return(0,r.jsxs)("label",Object.assign({className:(0,a.AH)(d.button,!!u&&d._promo,s&&!n&&d._checked,s&&i&&d._checkedUnclickable,n&&!s&&d._disabled,h&&d._gray,n&&s&&d._checkedDisabled,o&&d._flex,this.getSharpCornerStyles(),f)},p.dx.n(m),p.dx.t(g),p.dx.v(e),p.dx.s(String(s)),{title:t},{children:[this.getIcon(),(0,r.jsx)("input",{ref:this.saveInput,className:(0,a.AH)(d.input),type:"checkbox",value:e,checked:s,disabled:n,onChange:this.onChange}),(0,r.jsx)("span",Object.assign({className:(0,a.AH)(d.label,o&&d._flex,o&&d._grow,c&&d._center)},{children:l||t}))]}),e)},this.getIcon=()=>{const{iconType:e,isChecked:t,s:s}=this.props;if(e)switch(e){case"cart":return(0,r.jsx)("div",Object.assign({className:(0,a.AH)(s.promoteIcon,t&&s._iconChecked)},{children:(0,r.jsx)(h,{})}));case"star":return(0,r.jsx)("div",Object.assign({className:(0,a.AH)(s.promoteIcon,t&&s._iconChecked)},{children:(0,r.jsx)(b,{})}));case"immersive":return(0,r.jsx)("div",Object.assign({className:(0,a.AH)(s.promoteIcon,t&&s._iconChecked)},{children:(0,r.jsx)(v,{})}))}},this.saveInput=e=>{this.input=e},this.getSharpCornerStyles=()=>{const{s:e,sharpCornersType:t}=this.props;switch(t){case"left":return e._sharpLeft;case"right":return e._sharpRight;case"both":return e._sharpBoth;default:return!1}},this.onChange=()=>{const{value:e,isDisabled:t,onClick:s}=this.props;this.input&&!t&&s&&s({value:e,isChecked:this.input.checked})}}render(){const{href:e}=this.props;return e?(0,r.jsx)("a",Object.assign({href:e},{children:this.renderButton()})):this.renderButton()}}const x=(0,n.Xy)((e=>({button:Object.assign(Object.assign({},o.Hg),{padding:e.mobile?"10px":"6px 10px",borderRadius:g.Vq.oval,boxShadow:l.E.innerBorderBase,color:c.T.gray_262626,display:"inline-flex",boxSizing:"border-box",maxWidth:"100%",userSelect:"none",cursor:"pointer",backgroundColor:c.T.white,transition:`box-shadow ${m.S.short}ms ease, color ${m.S.short}ms ease`,":hover":{boxShadow:`inset 0 0 0 1px ${e.colors.green_299400_brand}`},":active":{boxShadow:`inset 0 0 0 1px ${e.colors.green_299400_brand}`,color:(0,d.m)(c.T.gray_262626,.5)},":focus":{boxShadow:l.E.innerBorderBase,color:(0,d.m)(c.T.gray_262626,.5),outline:"none"},"@media (max-width: 350px)":Object.assign({},o.EX)}),_center:{justifyContent:"center",textAlign:"center"},_flex:{display:"flex"},_grow:{flexGrow:"1"},_sharpLeft:{borderRadius:`logical  ${g.Vq.oval} 0 0 ${g.Vq.oval}`},_sharpRight:{borderRadius:`logical 0 ${g.Vq.oval} ${g.Vq.oval} 0`},_sharpBoth:{borderRadius:0},_checked:{backgroundColor:e.colors.green_30ad00_brand,color:(0,f.a)(e.colors.green_30ad00_brand),boxShadow:"none",":hover":{opacity:.7},":active":{color:(0,d.m)(c.T.white,.7)},":focus":{color:(0,d.m)(c.T.white,.7)}},_checkedUnclickable:{pointerEvents:"none"},_disabled:{boxShadow:l.E.innerBorderDisabled,color:c.T.gray_bbbbbb,backgroundColor:c.T.gray_f2f2f2,pointerEvents:"none"},_gray:{backgroundColor:c.T.gray_e6e6e6,":hover":{background:(0,d.m)(c.T.gray_e6e6e6,.7),boxShadow:l.E.innerBorderDisabled},":active":{background:(0,d.m)(c.T.gray_e6e6e6,.7),boxShadow:l.E.innerBorderDisabled},":focus":{background:(0,d.m)(c.T.gray_e6e6e6,.7),boxShadow:l.E.innerBorderDisabled}},_checkedDisabled:{boxShadow:"none",backgroundColor:(0,d.m)(e.colors.green_30ad00_brand,.5),color:c.T.white,pointerEvents:"none"},_promo:{background:c.T.orange_fffaeb,boxShadow:u.E.innerBorderFilter},promoteIcon:{display:"flex",alignItems:"center",width:16,height:16,marginEnd:8,color:c.T.yellow_ffb81c},_iconChecked:{color:(0,f.a)(e.colors.green_30ad00_brand)},label:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},input:{display:"none"}})))(y)},24620:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(31085),i=s(14041),a=s(26461),n=s(68076);class o extends i.PureComponent{render(){const{children:e,s:t}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.AH)(t.flexRowContent)},{children:e})):null}}o.displayName=(0,a.d)("src/shared/kit/flexRow");const c=(0,n.Xy)({flexRowContent:{paddingTop:12,paddingBottom:12,flex:"1 1 auto",minWidth:0,maxWidth:"100%"}})(o)},48128:(e,t,s)=>{"use strict";s.d(t,{B:()=>c});var r=s(31085),i=s(14041),a=s(26461),n=s(68076);class o extends i.PureComponent{render(){const{children:e,size:t=24,s:s}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.AH)(s.flexRowIcon,48===t&&s._big)},{children:e})):null}}o.displayName=(0,a.d)("src/shared/kit/flexRow");const c=(0,n.Xy)({flexRowIcon:{marginTop:8,marginBottom:8,marginStart:-4,marginEnd:12,flex:"0 0 auto",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},_big:{marginTop:0,marginBottom:0,marginStart:-8,marginEnd:8,width:48,height:48}})(o)},80376:(e,t,s)=>{"use strict";s.d(t,{Y:()=>p});var r=s(31085),i=s(14041),a=s(26461),n=s(68076),o=s(99259),c=s(64099),d=s(81618);class l extends i.PureComponent{render(){const{children:e,shiftedDivider:t,shiftedContent:s,justifyContent:i,alignItems:a,noDivider:o,dataN:c,s:l,wrap:u,styles:p}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.AH)(p,l.flexRow,s&&l._shiftedContent,u&&l.wrap),style:{justifyContent:i,alignItems:a}},d.dx.n(c||"wat-flex-row"),{"data-divider":!o,"data-divider-shifted":!o&&t||void 0},{children:e})):null}}l.displayName=(0,a.d)("src/shared/kit/flexRow");const u={flexRow:{display:"flex",alignItems:"flex-start",position:"relative",'[data-divider="true"] + &:not([data-divider="false"])::before':{position:"absolute",content:'""',display:"block",borderBottom:`1px solid ${o.T.gray_e6e6e6}`,top:0,right:0,left:0},"[data-divider-shifted] + &[data-divider-shifted]::before":{left:c.Ej.rackShift}},_shiftedContent:{paddingStart:c.Ej.rackShift},_alignItemsCenter:{alignItems:"center"},wrap:{flexWrap:"wrap"}},p=(0,n.Xy)(u)(l)},82559:(e,t,s)=>{"use strict";s.d(t,{H:()=>c});var r=s(31085),i=s(14041),a=s(26064),n=s(68076);class o extends i.PureComponent{constructor(){super(...arguments),this.wrapperRef=i.createRef(),this.wasFocused=!1,this.isFocused=!1,this.handleFocusOut=()=>{this.isFocused=!1,this.runTimeout()},this.handleFocusIn=()=>{this.isFocused=!0,this.runTimeout()},this.triggerProperHandler=()=>{this.isFocused!==this.wasFocused&&(this.isFocused?this.props.onFocus&&this.props.onFocus():this.props.onBlur&&this.props.onBlur(),this.wasFocused=this.isFocused)}}componentDidMount(){this.isFocused=!!this.props.initialFocus,this.wasFocused=!!this.props.initialFocus;const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.addEventListener("focusout",this.handleFocusOut),e.addEventListener("focusin",this.handleFocusIn))}componentWillUnmount(){window.clearTimeout(this.triggerTimeoutId);const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.removeEventListener("focusout",this.handleFocusOut),e.removeEventListener("focusin",this.handleFocusIn))}render(){return(0,r.jsx)("div",Object.assign({tabIndex:-1,ref:this.wrapperRef,className:(0,a.AH)(this.props.s.focus),onClick:this.props.onClick},{children:this.props.children}))}runTimeout(){window.clearTimeout(this.triggerTimeoutId),this.triggerTimeoutId=window.setTimeout(this.triggerProperHandler,0)}}const c=(0,n.Xy)({focus:{width:"100%",height:"100%",outline:"none"}})(o)},69270:(e,t,s)=>{"use strict";s.d(t,{M:()=>l});var r=s(31085),i=s(14041),a=s(64099),n=s(57354),o=s(84175),c=s(99259),d=s(81618);const l=(0,i.memo)((e=>{const{css:t,s:s}=(0,o.I)(u),{children:i,header:a,fixedContentFooter:c,contentScrollId:l,frameBackground:p}=e;return(0,r.jsxs)("div",Object.assign({className:t(s.frameLayoutRoot)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},{children:a})),(0,r.jsx)("div",Object.assign({className:t(s.body)},{children:(0,r.jsxs)("div",Object.assign({className:t(s.content),style:{background:p}},{children:[(0,r.jsx)("div",Object.assign({className:t(s.contentScroller)},{children:(0,r.jsx)("div",Object.assign({className:t(s.contentScrollerInner)},{children:(0,r.jsx)(n.OY,Object.assign({id:l,persistent:!!l},{children:i}))}))})),c&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},d.dx.n("wat-footer-card"),{children:c}))]}))}))]}))})),u=(0,o.r)({frameLayoutRoot:{position:"relative",zIndex:a.fE.base,background:c.T.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:a.fE.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:a.fE.base},content:{display:"flex",flexDirection:"column",flex:"1 1 auto"},contentFooter:{position:"relative",zIndex:a.fE.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});l.displayName="FrameLayout"},56671:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(46579);const i=e=>{const{featureReadOnly:t}=(0,r.U)();return t?null:e.children||null}},50593:(e,t,s)=>{"use strict";s.d(t,{t:()=>a});var r=s(31085),i=s(14041);function a(e){const{onMouseEnter:t,onMouseLeave:s,children:a}=e,[n,o]=(0,i.useState)(!!e.isHovered);return(0,r.jsx)(r.Fragment,{children:a({isHovered:n,hoverHandlers:{onMouseEnter:()=>{o(!0),t&&t()},onMouseLeave:()=>{o(!1),s&&s()}}})})}},20315:(e,t,s)=>{"use strict";s.d(t,{H:()=>l});var r=s(31085),i=s(14041),a=s(84175),n=s(99259),o=s(72616),c=s(8415),d=s(2829);const l=i.memo((e=>{const{src:t,srcSet:s,forceLoad:d=!1,withProgressBar:l=!1,threshold:p=.3,alt:m}=e,{css:g,s:h}=(0,a.I)(u),[f,b]=i.useState(!1),[v,y]=i.useState(!1),[x,j]=(0,c.q)({threshold:p}),w=t&&(d||j);return(0,r.jsxs)("article",Object.assign({className:g(h.root,e.styles),ref:x},{children:[(0,r.jsx)("div",Object.assign({className:g(h.icon)},{children:(0,r.jsx)(o.$,{color:n.T.gray_929292})})),f?null:(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsx)("img",{className:g(h.image),src:t,srcSet:s,onError:()=>b(!0),onLoad:()=>y(!0),alt:m}),l&&!v&&j&&(0,r.jsx)("div",{className:g(h.progressbar)})]})]}))})),u=(0,a.r)({root:{position:"relative",zIndex:d.f.base,width:"100%",height:"100%",overflow:"hidden",backgroundColor:n.T.gray_f2f2f2},image:{width:"100%",height:"100%",objectFit:"cover"},icon:{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",color:n.T.gray_e6e6e6,zIndex:d.f.bottom},progressbar:{height:2,position:"absolute",bottom:0,left:0,right:"100%",transform:"translateZ(0)",backgroundColor:n.T.green_30ad00,animationName:{"0%":{right:"100%"},"5%":{right:"100%"},"33%":{right:"33%"},"100%":{right:"10%"}},animationTimingFunction:"ease-out",animationDuration:"10s",zIndex:d.f.bottom}})},88114:(e,t,s)=>{"use strict";s.d(t,{E:()=>m});var r=s(31085),i=s(14041),a=s(26461),n=s(68076),o=s(81618),c=s(91664),d=s(99259),l=s(69158);class u extends i.PureComponent{constructor(){super(...arguments),this.state={imgWidth:0,imgHeight:0,isError:!this.props.src,isComplete:!1},this.renderImage=()=>{const{src:e,onClick:t,s:s,width:i,height:a,alt:c,srcSet:d,borderRadius:l="0",cover:u=!1,overlay:p=!1,border:m}=this.props,{imgWidth:g,imgHeight:h}=this.state,f=u?"100%":h>=g?"auto":"100%",b=u||h>=g?"100%":"auto";return(0,r.jsx)("div",Object.assign({className:(0,n.AH)(s.imageWrapper,p&&s._imageOverlay,t&&s._imageClickable),style:{width:i||"100%",height:a||"100%",borderRadius:l,border:m},onClick:this.handleClick},o.dx.n("wat-image"),{children:(0,r.jsx)("img",{src:e,srcSet:d,alt:c,style:{objectFit:u?"cover":void 0,width:f,height:b}})}))},this.renderPlaceholder=e=>{const{renderPlaceholder:t,width:s,height:i}=this.props;return t?(0,r.jsx)("div",Object.assign({},o.dx.n("wat-image-placeholder"),{style:{display:"flex",justifyContent:"center",alignItems:"center",width:s||"100%",height:i||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:t(e)})):null},this.onLoad=()=>{this.image&&this.setState({isError:!1,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.onError=e=>{this.props.onError&&this.props.onError(e),this.image&&this.setState({isError:!0,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.handleClick=()=>{const{id:e,src:t,onClick:s}=this.props;s&&s({id:e,src:t})}}componentDidMount(){this.props.isLoadingForced||(this.image=new Image,this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src,this.setState({isComplete:this.image.complete}))}componentDidUpdate(e){e.src!==this.props.src&&(this.image=new Image,this.setState({isError:!this.props.src,isComplete:this.image.complete}),this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src)}componentWillUnmount(){delete this.image}render(){if(this.props.isLoadingForced)return this.renderImage();const{isError:e,isComplete:t}=this.state;return e||!t?this.renderPlaceholder(e?"error":"loading"):this.renderImage()}}u.displayName=(0,a.d)("src/shared/kit/img");const p={imageWrapper:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${c.S.short}ms ease-out`,background:(0,l.m)(d.T.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}},m=(0,n.Xy)(p)(u)},88756:(e,t,s)=>{"use strict";s.d(t,{u:()=>p});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(99259),c=s(35023);class d extends i.PureComponent{render(){const{children:e,s:t,maxHeight:s,inline:i=!1,styles:n}=this.props;return 1===e.length&&e[0]?(0,r.jsx)("span",Object.assign({className:(0,a.AH)(t.single,n)},{children:e[0]})):(0,r.jsx)("span",Object.assign({className:(0,a.AH)(t.kebabs,n),style:s?{maxHeight:s}:void 0},{children:(0,c.oE)(e).map(((e,s)=>(0,r.jsxs)("span",Object.assign({className:(0,a.AH)(t.item,this.themeToStyle(),i&&t._inline)},{children:["​",e]}),s)))}))}themeToStyle(){switch(this.props.dotTheme){case"dark":return this.props.s._dark;case"inherit":return this.props.s._inherit}}}d.displayName=(0,n.d)("src/shared/kit/kebab");const l={position:"relative",marginStart:"-12px",paddingStart:"12px",marginEnd:"12px"},u={kebabs:{overflow:"hidden",display:"block"},single:Object.assign({},l),item:Object.assign(Object.assign({},l),{display:"inline-block","::before":{position:"absolute",display:"inline-block",start:"0",width:"12px",textAlign:"center",color:o.T.gray_e6e6e6,content:'"•"'},":last-child":{marginEnd:0},":first-child":{"::before":{content:"none"}}}),_inline:{display:"inline"},_dark:{"::before":{color:o.T.gray_262626}},_inherit:{"::before":{color:"inherit"}}},p=(0,a.Xy)(u)(d)},76504:(e,t,s)=>{"use strict";s.d(t,{O:()=>d});var r=s(31085),i=s(14041),a=s(91466),n=s(8415),o=s(84175),c=s(88114);const d=(0,i.memo)((e=>{const{css:t,s:s}=(0,o.I)(l),{isLoadingForced:i=!1,lazyLoadVisibilityOffset:d,width:u,height:p,backgroundColor:m,borderRadius:g,isTrueImg:h=!1}=e,[f,b]=(0,n.q)({isIntersectInitial:i});return b?h?(0,r.jsx)(c.E,Object.assign({},e)):(0,r.jsx)(a.i,Object.assign({},e)):(0,r.jsxs)("div",Object.assign({className:t(s.root),style:{width:u,height:p}},{children:[!!m&&(0,r.jsx)("div",{className:t(s.background),style:{backgroundColor:m,borderRadius:g}}),(0,r.jsx)("div",{ref:f,className:t(s.visibleTrap),style:{inset:d}})]}))})),l=(0,o.r)({root:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},background:{width:"100%",height:"100%",overflow:"hidden"},visibleTrap:{position:"absolute",inset:0}})},10048:(e,t,s)=>{"use strict";s.d(t,{w:()=>p,M:()=>m});var r=s(50432),i=s(31085),a=s(14041);const n=(0,a.createContext)({addComponent:e=>{}});class o extends a.Component{constructor(e){super(e)}render(){return(0,i.jsx)(n.Provider,Object.assign({value:{addComponent:e=>{this.props.lazyProviderStore.addComponent(e)}}},{children:this.props.children}))}}let c;function d(e){var t;return(t=class extends a.PureComponent{render(){return(0,i.jsx)(e,Object.assign({},this.props))}}).displayName="LazyComponentWrapper",t}o.displayName="LazyProvider",c=s;const l="UnlazyComponent",u=new class{getExistsModuleByModuleId(e){return c(e)}getModuleByModuleId(e){return s.c[e]?this.getExistsModuleByModuleId(e):void 0}},p=function(e){var t;return t=class extends a.Component{static getDerivedStateFromProps(e,t){const s=u.getModuleByModuleId(e.loader.moduleID.toString());return t.chunkName!==e.loader.chunkName?{chunkName:e.loader.chunkName,isLoading:!1,error:!1,component:s?d(s[l]):void 0}:null}constructor(e){super(e),this._mutableIsMounted=!1;const t=this.getExistsComponent();this.state={error:!1,isLoading:!1,chunkName:this.props.loader.chunkName,component:t?d(t):void 0}}componentWillUnmount(){this._mutableIsMounted=!1}componentDidMount(){this._mutableIsMounted=!0,this.onUpdateAndMountActions()}componentDidUpdate(){this.onUpdateAndMountActions()}render(){return this.state.error?this.props.renderPlaceholder("error"):this.state.isLoading||!this.state.component?this.props.renderPlaceholder("loading"):this.props.render(this.state.component)}onUpdateAndMountActions(){if(this.state.component||this.state.isLoading||this.state.error)return;const e=this.getExistsComponent();if(e)return this.setState({component:d(e)});this.setState({isLoading:!0,error:!1}),Promise.all([this.importWithRetries(),this.preventFlick()]).then((([e])=>{this._mutableIsMounted&&(e[l]?this.setState({component:d(e[l]),isLoading:!1,error:!1}):this.setState({component:void 0,error:!0,isLoading:!1}))})).catch((e=>{(e=>{const t=e.message&&e.message.toString();(0,r.vV)({message:t,level:"error",id:"6cvgx",payload:{type:"network",subtype:"ChunkLoadFailed"}})})(e,this.props.loader.chunkName),this._mutableIsMounted&&this.setState({component:void 0,error:!0,isLoading:!1})}))}preventFlick(){return new Promise((e=>{setTimeout((()=>{e()}),200)}))}importWithRetries(e=5,t=500){return new Promise(((s,r)=>{this.props.loader.asyncImport().then(s).catch((i=>{0!==e?setTimeout((()=>{this.importWithRetries(e-1,t).then(s,r)}),t):r(i)}))}))}getExistsComponent(){const e=u.getModuleByModuleId(this.props.loader.moduleID.toString());return e?e[l]:void 0}},t.displayName="LazyComponentLoader",t}(),m=new Error("ChunkLoadError")},71064:(e,t,s)=>{"use strict";s.d(t,{N:()=>g,A:()=>h});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(99259),c=s(81618);const d=/^([^[\]]*)\[([^[\]]+)\]([^[\]]*)$/;function l(e){return e.replace(/[[\]]/g,"")}var u=s(50570);class p extends i.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,onClick:s}=this.props;(t||s)&&e.stopPropagation(),t||e.preventDefault(),s&&s(e)}}render(){return this.props.templated?this.renderTemplated(this.props.children):this.renderLink(this.props.children)}renderTemplated(e){if("string"!=typeof e)return this.renderLink(e);const t=function(e){const t=e.match(d);return t&&4===t.length?""===t[1]&&""===t[3]?[t[2]]:t.slice(1):[l(e)]}(e);return 1===t.length?this.renderLink(t[0]):(0,r.jsxs)("span",Object.assign({ref:this.props.containerRef},{children:[t[0],this.renderLink(t[1]),t[2]]}))}renderLink(e){const{href:t,color:s,s:i,external:n,dataN:o="wat-kit-link",dataT:d,ariaLabel:l,block:p,styles:m,title:g,containerRef:h,dataId:f}=this.props,b=c.dx.n(o),v=d?c.dx.t(d):void 0,y=(0,a.AH)(i.link,"dark"===s&&i._dark,"gray"===s&&i._gray,"inherit"===s&&i._inherit,p&&i._block,m);return t?(0,r.jsx)("a",Object.assign({suppressHydrationWarning:!0,href:t,target:n?"_blank":void 0,className:y,ref:h,"data-id":f,onClick:this.handleClick,title:g},b,v,(0,u.a)({label:l}),{children:e})):(0,r.jsx)("button",Object.assign({ref:h,className:y,"data-id":f,onClick:this.handleClick,title:g},b,v,(0,u.a)({label:l}),{children:e}))}}const m={link:{color:o.T.blue_0072ce,textDecoration:"none",cursor:"pointer",userSelect:"text",display:"inline",textAlign:"inherit",border:"none",padding:0,backgroundColor:"transparent",":hover":{color:o.T.gray_262626}},_dark:{color:o.T.gray_262626,":hover":{color:o.T.gray_929292}},_gray:{color:o.T.gray_929292,":hover":{color:o.T.gray_262626}},_inherit:{cursor:"inherit",color:"inherit",":hover":{color:"inherit",opacity:1}},_block:{display:"block"}},g=(0,n.Xy)(m)(p),h=g},51029:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var r=s(31085),i=s(23300),a=s(27516);const n=({count:e=10,ContentSkeleton:t})=>(0,r.jsx)(r.Fragment,{children:new Array(e).fill("").map(((e,s)=>(0,r.jsx)(a.P,{children:t?(0,r.jsx)(t,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Y,{}),(0,r.jsx)(i.Y,{})]})},s)))})},27516:(e,t,s)=>{"use strict";s.d(t,{P:()=>l,c:()=>d});var r=s(31085),i=s(99259),a=s(70498),n=s(33466),o=s(81618),c=s(84175);const d=e=>{const{children:t,onClick:s,isFlex:i=!1,isActive:a=!1,isHovered:n=!1,onMouseEnter:d,onMouseLeave:l,isSmall:p,dataN:m="wat-mini-wrap",dataT:g="",dataS:h=""}=e,{css:f,s:b}=(0,c.I)(u);return(0,r.jsx)("div",Object.assign({className:f(b.listItem,i&&b._flex,a&&b._active,n&&b._hovered,p&&b._small),onClick:s,onMouseEnter:d,onMouseLeave:l},o.dx.n(m),o.dx.t(g),o.dx.s(h),{children:t}))},l=({children:e})=>{const{css:t,s:s}=(0,c.I)(u);return(0,r.jsx)("div",Object.assign({className:t(s.listItem),style:{pointerEvents:"none"}},{children:e}))},u=(0,c.r)((e=>({listItem:{background:i.T.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:16,boxShadow:a.E.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${n.S.short}ms`,":hover":{background:i.T.gray_f9f9f9}},_active:{boxShadow:`${a.E.innerBorderBottomBase}, inset 3px 0 0 0 ${e.colors.green_299400_brand}`,background:i.T.gray_f9f9f9},_hovered:{background:i.T.gray_f9f9f9},_flex:{display:"flex",justifyContent:"space-between"},_small:{padding:"12px 20px"}})))},71832:(e,t,s)=>{"use strict";s.d(t,{O:()=>c});var r=s(31085),i=s(81882),a=s(90861),n=s(10742),o=s(84175);const c=e=>{const{data:t,renderItem:s,renderSkeleton:c,isLoading:l,fetchNextPage:u,isFetchingNextPage:p,hasNextPage:m,paddingBottom:g}=e,{s:h,css:f}=(0,o.I)(d),b=(0,n.D)((()=>{m&&u()}));return l?c?c():null:(0,r.jsxs)(r.Fragment,{children:[null==t?void 0:t.map(s),!m&&g&&(0,r.jsx)("div",{style:{paddingBottom:g}}),m&&(0,r.jsx)(i.e,Object.assign({loadMore:b,isLoading:p},{children:(0,r.jsx)("div",Object.assign({className:f(h.preloader)},{children:(0,r.jsx)(a.Z,{})}))}))]})},d=(0,o.r)({preloader:{padding:"24px 0"}})},81882:(e,t,s)=>{"use strict";s.d(t,{e:()=>o});var r=s(31085),i=s(14041),a=s(26461);const n={rootMargin:"50px",threshold:0};class o extends i.PureComponent{constructor(){super(...arguments),this.wrapperRef=e=>{e&&this.initObserver(e)},this.handleClick=()=>{const{isLoading:e}=this.props;e||this.props.loadMore()}}render(){const{children:e}=this.props;return(0,r.jsx)("div",Object.assign({ref:this.wrapperRef,onClick:this.handleClick},{children:e}))}componentWillUnmount(){this.destroyObserver()}initObserver(e){this.observer||(this.observer=new IntersectionObserver((e=>{const{loadMore:t,isLoading:s}=this.props;s||e.find((e=>e.isIntersecting))&&t()}),n),this.observer.observe(e))}destroyObserver(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}}o.displayName=(0,a.d)("src/shared/kit/loadMore")},21104:(e,t,s)=>{"use strict";s.d(t,{I:()=>L});var r=s(31085),i=s(10742),a=s(84175),n=s(74182),o=s(1243),c=s(14041),d=s(79594),l=s(29787),u=s(80905),p=s(7335),m=s(64099),g=s(53930),h=s(76504),f=s(43322),b=s(99259),v=s(46579),y=s(56296),x=s(8415),j=s(20121),w=s.n(j),_=s(65111);const C=(0,c.memo)((({id:e,previewSize:t,previewUrls:s,isMediaRubric:i,entity:n,position:o,isActiveVideo:l,coverUrls:u,addVideoToSelectActive:p,lazyLoadVisibilityOffset:m,borderRadius:g,backgroundColor:b,isLoadingForced:j,isPlayOnHover:C,visibilityThreshold:k})=>{const{s:O,css:S}=(0,a.I)(I),{lang:T}=(0,v.U)(),E=(0,c.createRef)(),M=(0,d.d4)((e=>e.session.platform)),[P,L]=(0,x.q)({threshold:k,showVisibility:!0});(0,c.useEffect)((()=>{p&&p({id:e,isVisible:L,position:o})}),[L,e,p,o]);const{playerProps:N,isPlaying:A}=(0,y.A)({ref:E,urls:s,onError:e=>{throw new Error("Videoplayer in videopreview loading error:"+e)},loop:!0,muted:!0,controls:!1,playing:l,height:"auto",type:"ios"===M?"hls":"dash",isPreview:!0});return(0,r.jsxs)("div",Object.assign({className:S(O.playerWrapper),ref:P,onMouseOver:()=>{p&&C&&p({id:e,isVisible:L,position:o,isHovered:!0})}},{children:[(0,r.jsx)("div",Object.assign({className:S(O.item)},{children:(0,r.jsx)(h.O,{src:u[t[0]],src2x:u[t[1]],lazyLoadVisibilityOffset:m,borderRadius:g,backgroundColor:b,isLoadingForced:j,alt:"ru"===T?"Видео превью":void 0})})),(0,r.jsx)("div",Object.assign({className:S(O.play,A?O._hidden:void 0)},{children:(0,r.jsx)(_.j,{})})),(0,r.jsx)("div",Object.assign({className:S(O.item,A?O._visible:O._hidden)},{children:(0,r.jsx)(w(),Object.assign({},N,{ref:E}))})),i&&1===o&&!!n&&(0,r.jsx)("div",Object.assign({className:S(O.logo)},{children:(0,r.jsx)(f.g,{size:64,entity:n})}))]}))}));C.displayName="MediaVideoItemPreview";const I=(0,a.r)({playerWrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:m.fE.base},item:{position:"absolute",width:"100%",height:"100%",borderRadius:m.Vq.isolate,overflow:"hidden"},logo:{position:"absolute",start:10,bottom:10,width:64,height:64},play:{position:"absolute",width:24,height:24,color:b.T.white,bottom:12,right:12,zIndex:m.fE.top},_hidden:{visibility:"hidden"},_visible:{visibility:"visible"}}),k=(0,c.memo)((({previewSize:e,previewUrls:t,isMediaRubric:s,entity:i,position:n,lazyLoadVisibilityOffset:o,borderRadius:c,backgroundColor:d,isLoadingForced:l})=>{const{s:u,css:p}=(0,a.I)(O),{lang:m}=(0,v.U)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.O,{src:t[e[0]],src2x:t[e[1]],lazyLoadVisibilityOffset:o,borderRadius:c,backgroundColor:d,isLoadingForced:l,alt:"ru"===m?"Фото":void 0}),s&&1===n&&!!i&&(0,r.jsx)("div",Object.assign({className:p(u.logo)},{children:(0,r.jsx)(f.g,{size:64,entity:i})}))]})}));k.displayName="MediaPhotoItemPreview";const O=(0,a.r)({logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var S=s(8365),T=s(7818),E=s(65290),M=s(46645);const P=({entity:e,entityPosition:t,mediaPosition:s,media:r,isPhoto:i})=>({frameId:a},n)=>{if(e&&s)return{uiElement:{name:i?"photoCardMini":"videoCardMini",ownerName:"placeCardMini",frameUuid:a,position:s},payload:Object.assign({placeItem:(0,T.ij)({entity:e,position:t}),searchResultsList:(0,E.tp)({state:n,searchFrameId:a})},i?{promoItem:(0,M.j)({state:n,frameId:a}),photo:{photoId:r.id}}:{video:{videoId:r.id}}),action:"tap"}},L=(0,c.memo)((({data:e,size:t,previewSize:s,isMediaRubric:h,entity:f,entityPosition:v,mediaPosition:y,activeVideoId:x,addVideoToSelectActive:j,bssType:w,externalOnClick:_,lazyLoadVisibilityOffset:I=0,borderRadius:O=m.Vq.isolate,backgroundColor:M=b.T.black_transparent_06,isLoadingForced:L,isPlayOnHover:A=!0,visibilityThreshold:R=.5})=>{var z,U;const{s:B,css:H}=(0,a.I)(N),F=(0,d.wA)(),D="miniEntityPhoto"===w&&f&&y&&v,V=(0,g.So)(e),Z=(0,g.tm)(e),{bssRef:$,useBssHandler:q}=(0,S.E)(D?(({entity:e,media:t,entityPosition:s,mediaPosition:r,isPhoto:i})=>({frameId:a},n)=>{if(e&&t)return{uiElement:{name:i?"photoCardMini":"videoCardMini",ownerName:"placeCardMini",frameUuid:a,position:r},payload:Object.assign({placeItem:(0,T.ij)({entity:e,position:s}),searchResultsList:(0,E.tp)({state:n,searchFrameId:a})},i?{photo:{photoId:t.id}}:{video:{videoId:t.id}})}})({entity:f,entityPosition:v,mediaPosition:y,media:e,isPhoto:V}):void 0,{threshold:R}),W=q(P,{entity:f,entityPosition:v,mediaPosition:y,media:e,isPhoto:V}),G=(0,i.D)((t=>{f&&!_&&(t.stopPropagation(),F((0,p.eU)((e=>{const t=(0,u.bB)(e.appContext.frames,"search");return"query"===(null==t?void 0:t.searchType)?(0,n.HX)(t.tabCatalog.searchId):void 0}),(t=>!!t&&(0,l.PC)((0,o.z)({entityId:f.id,searchId:t,entityType:f.type,photoId:e.id}))))),W())})),Q=(0,c.useMemo)((()=>Boolean(Z&&x===e.id)),[Z,x,e.id]);if(!V&&!Z)return null;const K=t?{flexBasis:t,height:t}:{width:"100%",height:"100%"};return(0,r.jsxs)("div",Object.assign({className:H(B.root),ref:$,onClick:G,style:K},{children:[V&&(0,r.jsx)(k,{previewSize:s,previewUrls:e.photo.preview_urls,isMediaRubric:h,entity:f,position:y,lazyLoadVisibilityOffset:I,borderRadius:O,backgroundColor:M,isLoadingForced:L}),Z&&(0,r.jsx)(C,{previewSize:s,previewUrls:null===(z=e.video)||void 0===z?void 0:z.preview_urls,coverUrls:null===(U=e.video)||void 0===U?void 0:U.cover_urls,isMediaRubric:h,entity:f,position:y,isActiveVideo:Q,addVideoToSelectActive:j,id:e.id,lazyLoadVisibilityOffset:I,borderRadius:O,backgroundColor:M,isLoadingForced:L,isPlayOnHover:A,visibilityThreshold:R})]}))}));L.displayName="MediaItemPreview";const N=(0,a.r)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}})},90861:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(31085),i=s(14041),a=s(84175),n=s(64099),o=s(99259),c=s(81618);const d=(0,i.memo)((({height:e,caterpillarColor:t=o.T.green_30ad00,dotColor:s=o.T.gray_e6e6e6})=>{const{s:i,css:n}=(0,a.I)(l);return(0,r.jsx)("div",Object.assign({className:n(i.wrapper),style:{height:e}},c.dx.n("wat-preloader"),{children:(0,r.jsxs)("div",Object.assign({className:n(i.root)},{children:[(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.caterpillar),style:{backgroundColor:t}})]}))}))})),l=(0,a.r)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center"},root:{display:"flex",justifyContent:"space-between",width:56,position:"relative"},dot:{width:8,height:8,background:o.T.gray_e6e6e6,borderRadius:n.Vq.oval},caterpillar:{position:"absolute",top:0,left:0,height:8,borderRadius:n.Vq.oval,animationIterationCount:"infinite",animationTimingFunction:"linear",animationDuration:"4s",animationName:{"0%":Object.assign(Object.assign({},u(!1,0)),{opacity:0}),"10%":Object.assign(Object.assign({},u(!1,0)),{opacity:1}),"20%":u(!0,0),"30%":u(!1,12),"40%":u(!0,12),"50%":u(!1,24),"60%":u(!0,24),"70%":u(!1,36),"80%":u(!0,36),"90%":Object.assign(Object.assign({},u(!1,48)),{opacity:1}),"100%":Object.assign(Object.assign({},u(!1,48)),{opacity:0})}}});function u(e,t){return{width:e?20:8,transform:`translateX(${t}px)`}}},59603:(e,t,s)=>{"use strict";s.d(t,{N:()=>u});var r=s(31085),i=s(14041),a=s(68076),n=s(99259),o=s(26461),c=s(69158);class d extends i.PureComponent{constructor(){super(...arguments),this.onNextArrowClick=()=>{"maxIndex"in this.props&&this.checkIs("last")||this.props.onChange(this.props.currentIndex+1)},this.onPrevArrowClick=()=>{"minIndex"in this.props&&this.checkIs("first")||this.props.onChange(this.props.currentIndex-1)}}render(){const{s:e,children:t}=this.props;return t?(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.main)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.arrowWrapper)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.arrow,e.arrowLeft,this.checkIs("first")&&e._hidden),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.arrow,e.arrowRight,this.checkIs("last")&&e._hidden),onClick:this.onNextArrowClick},{children:this.props.right}))]})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.childrenWrapper)},{children:t}))]})):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.arrow,this.checkIs("first")&&e._disabledArrow),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.arrow,this.checkIs("last")&&e._disabledArrow),onClick:this.onNextArrowClick},{children:this.props.right}))]})}checkIs(e){return"last"===e?"maxIndex"in this.props&&this.props.currentIndex===this.props.maxIndex:"minIndex"in this.props&&this.props.currentIndex===this.props.minIndex}}d.displayName=(0,o.d)("src/shared/kit/prevNextArrows");const l={main:{position:"relative"},arrowWrapper:{display:"flex",justifyContent:"space-between",height:"100%",position:"absolute",width:"100%"},arrow:{cursor:"pointer"},arrowLeft:{display:"flex",alignItems:"center",color:n.T.white,background:`linear-gradient(90deg, ${(0,c.m)(n.T.black,.5)} 0%, ${(0,c.m)(n.T.black,0)} 100%)`,zIndex:1},arrowRight:{display:"flex",alignItems:"center",color:n.T.white,backgroundImage:`linear-gradient(270deg, ${(0,c.m)(n.T.black,.5)} 0%, ${(0,c.m)(n.T.black,0)} 100%)`,zIndex:1},childrenWrapper:{height:"100%",marginTop:0,marginBottom:12,marginStart:24,marginEnd:24},_hidden:{visibility:"hidden"},_disabledArrow:{color:n.T.gray_e6e6e6}},u=(0,a.Xy)(l)(d)},78452:(e,t,s)=>{"use strict";s.d(t,{m:()=>u});var r=s(31085),i=s(14041),a=s(26461),n=s(68076),o=s(64099),c=s(81618);class d extends i.PureComponent{render(){const{children:e,dataN:t="wat-rack",s:s}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.AH)(s.rack),"data-rack":!0},c.dx.n(t),{children:e})):null}}d.displayName=(0,a.d)("src/shared/kit/rack");const l={rack:{"[data-rack] + &":{marginTop:o.Ej.rackMargin}}},u=(0,n.Xy)(l)(d)},22974:(e,t,s)=>{"use strict";s.d(t,{R:()=>c});var r=s(31085),i=s(14041),a=s(26461),n=s(68076);class o extends i.PureComponent{render(){const{children:e,s:t}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,n.AH)(t.rackWrapper)},{children:e}))}}o.displayName=(0,a.d)("src/shared/kit/rack");const c=(0,n.Xy)({rackWrapper:{paddingTop:8,paddingBottom:0,paddingStart:24,paddingEnd:24}})(o)},89446:(e,t,s)=>{"use strict";s.d(t,{G:()=>u});var r=s(31085),i=s(14041),a=s(81618),n=s(69158),o=s(26064),c=s(68076),d=s(82316);class l extends i.PureComponent{constructor(){super(...arguments),this.STAR_SIZE="small"===this.props.size?10:"medium"===this.props.size?16:this.props.size,this.renderStars=()=>{const{rating:e,s:t}=this.props,s=Math.ceil(Math.round(2*e)/2),i=Array(s).fill(""),a=this.STAR_SIZE*(Math.round(2*e)/2)+"px";return(0,r.jsx)("div",Object.assign({className:(0,o.AH)(t.ratingStars),style:{width:a}},{children:i.map(((e,t)=>this.renderStar(t,{isInactive:!1})))}))},this.renderBackgroundStars=()=>{const{s:e,rating:t,dir:s}=this.props,i=Math.floor(Math.round(2*t)/2),a=5-i,n=i*this.STAR_SIZE+"px",c=Array(a).fill("");return(0,r.jsx)("div",Object.assign({className:(0,o.AH)(e.backgroundStars),style:(0,o.mG)({marginStart:n},s)},{children:c.map(((e,t)=>this.renderStar(t,{isInactive:!0})))}))}}render(){const{s:e}=this.props;return(0,r.jsxs)("div",Object.assign({},a.dx.n("wat-kit-rating"),{className:(0,o.AH)(e.rating),style:{height:this.STAR_SIZE}},{children:[this.renderStars(),this.renderBackgroundStars()]}))}renderStar(e,t){const{color:s,inactiveColor:i}=this.props;return(0,r.jsx)("span",Object.assign({style:{width:this.STAR_SIZE,height:this.STAR_SIZE}},{children:(0,r.jsx)(d.F,{color:t.isInactive?i||(0,n.m)(s,.2):s,size:this.STAR_SIZE})}),e)}}const u=(0,c.Xy)({rating:{position:"relative",marginBottom:2,fontSize:0},ratingStars:{position:"absolute",start:0,margin:"auto",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"baseline"},backgroundStars:{display:"flex",alignItems:"baseline"}})(l)},57354:(e,t,s)=>{"use strict";s.d(t,{OY:()=>g,a3:()=>m});var r=s(31085),i=s(14041),a=s(81407),n=s(84175),o=s(64099),c=s(68299),d=s(46579),l=s(31003);const u={},p=(0,i.createContext)({scrollVerticalCenter:void 0});function m(){return(0,i.useContext)(p)}const g=({id:e,persistent:t,children:s})=>{const{isMobileDevice:i}=(0,d.U)(),n=!i,{ref:o,refCallback:m}=(0,l.g)();(0,a.E)((()=>{o.current&&e&&(o.current.scrollTop=t&&u[e]||0)}),[e,t]);const g=(0,c.Y)((()=>{var s;if(!e||!t)return;const r=null===(s=o.current)||void 0===s?void 0:s.scrollTop;r&&(u[e]=r)}),100);(0,a.E)((()=>{var s;if(e&&t)return null===(s=o.current)||void 0===s||s.addEventListener("scroll",g,{passive:!0}),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("scroll",g)}}),[o,e,t]);const b=n?(0,r.jsx)(h,Object.assign({innerRef:o,refCallback:m},{children:s})):(0,r.jsx)(f,Object.assign({innerRef:o},{children:s}));return(0,r.jsx)(p.Provider,Object.assign({value:{scrollVerticalCenter:(v=o,e=>{if(v.current&&e){const{top:t,height:s}=e.getBoundingClientRect(),{clientHeight:r,scrollTop:i}=v.current,a=t>(r+s)/2;if(!(a||t<s))return;v.current.scrollTo({behavior:"smooth",top:a?i+r/2:i-r/2})}})}},{children:b}));var v};g.displayName="Scroll";const h=({children:e,innerRef:t,refCallback:s})=>{const{css:a,s:o}=(0,n.I)(b),[c,d]=(0,i.useState)("100%");(0,i.useEffect)((()=>{if(!t.current)return;const e=setTimeout((()=>{var e;return d((null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().width)||"100%")}),0);return()=>{clearTimeout(e)}}),[t]);const[l,u]=(0,i.useState)(!1);return(0,r.jsx)("div",Object.assign({className:a(o.scroller,o._customScrollbar,l&&o._forceOverflowAuto),ref:s,onTouchStartCapture:()=>{u(!0)},tabIndex:-1,"data-scroll":!0},{children:(0,r.jsx)("div",Object.assign({className:a(o.inner),style:{width:c}},{children:e}))}))},f=({children:e,innerRef:t})=>{const{css:s,s:i}=(0,n.I)(b);return(0,r.jsx)("div",Object.assign({className:s(i.scroller),ref:t,tabIndex:-1,"data-scroll":!0},{children:(0,r.jsx)("div",Object.assign({className:s(i.inner)},{children:e}))}))},b=(0,n.r)({scroller:{height:"100%",overflowX:"hidden",display:"flex",flexDirection:"column"},_customScrollbar:{"@media (hover: hover)":Object.assign(Object.assign({},o.W2),{overflowY:"hidden","&:hover, &:focus":{overflowY:"auto"}})},_forceOverflowAuto:{overflowY:"auto !important"},inner:{flex:"1 0 100%"}})},78075:(e,t,s)=>{"use strict";s.d(t,{e:()=>h});var r=s(31085),i=s(14041),a=s(12043),n=s(64099),o=s(57354),c=s(84175),d=s(99259),l=s(81618);const u=(0,i.memo)((e=>{const{css:t,s:s}=(0,c.I)(p),{children:i,header:a,sidebar:n,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:m,sidebarBg:g,frameBackground:h,areFiltersClosed:f}=e;return(0,r.jsxs)("div",Object.assign({className:t(s.frameLayoutRoot)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},l.dx.n("wat-frame-header"),{children:a})),(0,r.jsxs)("div",Object.assign({className:t(s.body)},{children:[Boolean(!f&&n)&&(0,r.jsx)("div",Object.assign({className:t(s.sidebar),style:{background:g}},{children:(0,r.jsx)("div",Object.assign({className:t(s.sidebarInner)},{children:(0,r.jsx)(o.OY,{children:n})}))})),(0,r.jsxs)("div",Object.assign({className:t(s.content),style:{background:h}},{children:[d&&(0,r.jsx)("div",Object.assign({className:t(s.contentHeader)},{children:d})),(0,r.jsx)("div",Object.assign({className:t(s.contentScroller)},{children:(0,r.jsx)("div",Object.assign({className:t(s.contentScrollerInner)},{children:(0,r.jsx)(o.OY,Object.assign({id:m,persistent:!!m},{children:i}))}))})),u&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},{children:u}))]}))]}))]}))})),p=(0,c.r)({frameLayoutRoot:{position:"relative",zIndex:n.fE.base,background:d.T.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",zIndex:n.fE.top},body:{display:"flex",flex:"1 1 auto",zIndex:n.fE.base},sidebar:{flex:`0 1 ${n.Ej.sidebarFrameWidth}px`,position:"relative",overflow:"hidden",display:"block"},sidebarInner:{width:`${n.Ej.sidebarFrameWidth}px`,position:"absolute",top:0,end:0,bottom:0,borderEnd:`1px solid ${d.T.gray_e6e6e6}`},content:{flex:`1 0 ${n.Ej.standardFrameWidth}px`,maxWidth:n.Ej.standardFrameWidth,display:"flex",flexDirection:"column"},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto"},contentFooter:{},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});u.displayName="SearchFrameLayoutDesktop";const m=(0,i.memo)((e=>{const{css:t,s:s}=(0,c.I)(g),{children:i,header:a,sidebar:n,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:p,frameBackground:m,sidebarBg:h,areFiltersOpened:f,searchType:b}=e;return(0,r.jsxs)("div",Object.assign({className:t(s.frameLayoutRoot)},{children:["filials"===b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.OY,Object.assign({id:p,persistent:!!p},{children:[a,i]})),u&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},{children:u}))]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},{children:a})),(0,r.jsx)("div",Object.assign({className:t(s.body)},{children:(0,r.jsxs)("div",Object.assign({className:t(s.content),style:{background:m}},{children:[d&&(0,r.jsx)("div",Object.assign({className:t(s.contentHeader)},{children:d})),(0,r.jsx)("div",Object.assign({className:t(s.contentScroller)},{children:(0,r.jsx)("div",Object.assign({className:t(s.contentScrollerInner)},{children:(0,r.jsx)(o.OY,Object.assign({id:p,persistent:!!p},{children:i}))}))})),u&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},l.dx.n("wat-footer-card"),{children:u}))]}))}))]}),f&&n&&(0,r.jsx)("div",Object.assign({className:t(s.sidebar),style:{background:h}},{children:(0,r.jsx)("div",Object.assign({className:t(s.sidebarInner)},{children:(0,r.jsx)(o.OY,{children:n})}))}))]}))})),g=(0,c.r)({frameLayoutRoot:{position:"relative",zIndex:n.fE.base,background:d.T.white,display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:n.fE.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:n.fE.base},sidebar:{position:"absolute",width:"100%",height:"100%",top:0,left:0,overflow:"hidden",background:d.T.white,zIndex:n.fE.top},sidebarInner:{width:"100%",position:"absolute",top:0,end:0,bottom:0},content:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto",position:"relative",zIndex:n.fE.top},contentFooter:{position:"relative",zIndex:n.fE.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100,zIndex:n.fE.base},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});m.displayName="SearchFrameLayoutMobile";const h=function(e){const t=e.desktop,s=e.mobile;return e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.j,{children:(0,r.jsx)(t,Object.assign({},e))}),(0,r.jsx)(a.h,{children:(0,r.jsx)(s,Object.assign({},e))})]})}({desktop:u,mobile:m})},82193:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var r=s(31085),i=s(46579);const a=(0,s(14041).memo)((({children:e})=>{const{isSearchBot:t}=(0,i.U)();return e?t?(0,r.jsx)("div",Object.assign({"data-nosnippet":!0},{children:e})):(0,r.jsx)(r.Fragment,{children:e}):null}))},84655:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(99259);class c extends i.PureComponent{render(){const{width:e,height:t,s:s}=this.props,i=t||e||20,n=e||t||20;return(0,r.jsx)("div",{className:(0,a.AH)(s.circle),style:{width:`${i}px`,height:`${n}px`}})}}c.displayName=(0,n.d)("src/shared/kit/skeletons");const d={circle:{background:o.T.gray_f2f2f2,borderRadius:"50%"}},l=(0,a.Xy)(d)(c)},21054:(e,t,s)=>{"use strict";s.d(t,{r:()=>f});var r=s(31085),i=s(14041),a=s(81618),n=s(25698),o=s(87543),c=s(84175),d=s(11827),l=s(18389),u=s(79594),p=s(46383),m=s(46579),g=s(12043);const h=(0,p.S)(),f=(0,i.memo)((()=>{const{css:e,s:t}=(0,c.I)(b),s=(0,m.U)(),i=(0,l.o)(),p=(0,u.d4)((e=>i?h({state:e,frameId:i.id}):void 0));return i&&p?(0,r.jsxs)("div",Object.assign({className:e(t.root)},(0,a.n)("wat-entity-card-skeleton"),{children:[(0,r.jsx)(d.z,{frame:i,frameContext:p}),(0,r.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,r.jsx)(g.j,{children:(0,r.jsxs)("div",Object.assign({className:e(t.actions)},{children:[(0,r.jsx)(n.M,{width:80,height:24,borderRadius:6}),(0,r.jsx)(n.M,{width:80,height:24,borderRadius:6,marginStart:12}),(0,r.jsx)(n.M,{width:80,height:24,borderRadius:6,marginStart:12})]}))}),!s.featureReadOnly&&(0,r.jsx)(n.M,{count:2,flexBasis:272,flexShrink:0,height:170,gap:16,borderRadius:8,marginBottom:12,marginStart:-8,marginEnd:-8}),(0,r.jsx)(n.M,{width:240,height:20,paddingTop:4,borderRadius:6}),(0,r.jsx)(n.M,{width:120,height:16,marginTop:4,borderRadius:6}),(0,r.jsx)(n.M,{width:160,height:16,marginTop:8,borderRadius:6}),(0,r.jsx)(n.M,{height:16,marginTop:8,borderRadius:6})]})),(0,r.jsx)(n.M,{height:44}),(0,r.jsx)("div",Object.assign({className:e(t.content)},{children:(0,r.jsx)(o.Y,{})}))]})):null}));f.displayName="SkeletonEntity";const b=(0,c.r)({root:{height:"100%",overflow:"hidden"},header:{padding:"16px 24px"},content:{flex:1},actions:{display:"flex",marginBottom:12}})},87543:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l});var r=s(31085),i=s(14041),a=s(25698),n=s(10176),o=s(44744),c=s(22974),d=s(84175);const l=i.memo((e=>{const{s:t,css:s}=(0,d.I)(u);return(0,r.jsx)("div",Object.assign({className:s(t.root)},{children:(0,r.jsxs)("div",Object.assign({className:s(t.skeletonEntityTab)},{children:[(0,r.jsx)(c.R,{children:(0,r.jsx)(n.L,{count:4,icon:!0})}),(0,r.jsxs)("div",Object.assign({className:s(t.squaresWrapper)},{children:[(0,r.jsx)(a.M,{count:1,height:40}),(0,r.jsx)(a.M,{count:1,height:40})]})),(0,r.jsx)("div",Object.assign({className:s(t.textLinesWrapper)},{children:(0,r.jsx)(o.C,{linesCount:2})}))]}))}))}));l.displayName="SkeletonEntityTab";const u=(0,d.r)({root:{display:"flex",flexDirection:"column",height:"100%"},skeletonEntityTab:{display:"flex",flexDirection:"column",justifyContent:"space-between"},squaresWrapper:{padding:"0 24px"},textLinesWrapper:{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}})},8605:(e,t,s)=>{"use strict";s.d(t,{r:()=>d});var r=s(31085),i=s(14041),a=s(26461),n=s(99259),o=s(84655);const c=24;class d extends i.PureComponent{render(){const{size:e=c,isBoundVisible:t}=this.props;return(0,r.jsx)("div",Object.assign({style:{boxSizing:"border-box",display:"flex",alignItems:"center",width:e,height:e,border:t?`1px dotted ${n.T.gray_e6e6e6}`:"none"}},{children:(0,r.jsx)(o.j,{width:this.getCompositionSize()})}))}getCompositionSize(){return 48===this.props.size?32:16}}d.displayName=(0,a.d)("src/shared/kit/skeletons")},16363:(e,t,s)=>{"use strict";s.d(t,{N:()=>u,h:()=>m});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(84655),c=s(25698),d=s(27516),l=s(23300);const u=165;class p extends i.PureComponent{constructor(){super(...arguments),this.nothing=()=>{},this.renderTextLine=(e,t)=>(0,r.jsx)(l.Y,{fontSize:8,lineHeight:e,short:t})}render(){const{s:e,squareLogo:t,logoSize:s=56}=this.props;return(0,r.jsxs)(d.c,Object.assign({onMouseEnter:this.nothing,onMouseLeave:this.nothing,dataN:"wat-skeleton-minicard"},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.avatar)},{children:t?(0,r.jsx)(c.M,{width:s,height:s,count:1}):(0,r.jsx)(o.j,{width:s})})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.row,e.firstRow),style:{marginInlineEnd:s}},{children:[this.renderTextLine(20),this.renderTextLine(20)]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.row,e.longRow),style:{marginInlineEnd:s}},{children:[this.renderTextLine(16),this.renderTextLine(16)]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.row,e.longRow),style:{marginInlineEnd:s}},{children:[this.renderTextLine(16),this.renderTextLine(16,!0)]}))]}))}}p.displayName=(0,n.d)("src/shared/kit/skeletons");const m=(0,a.Xy)({row:{paddingBottom:"6px"},firstRow:{width:"176px"},longRow:{maxWidth:"240px"},avatar:{float:"end"}})(p)},10176:(e,t,s)=>{"use strict";s.d(t,{L:()=>p});var r=s(31085),i=s(14041),a=s(26461),n=s(80376),o=s(48128),c=s(24620),d=s(8605),l=s(44744),u=s(78452);class p extends i.PureComponent{render(){const{count:e,icon:t}=this.props;return(0,r.jsxs)(u.m,{children:[Array(e-1).fill("").map(((e,s)=>(0,r.jsxs)(n.Y,Object.assign({shiftedDivider:!!t},{children:[!!t&&(0,r.jsx)(o.B,{children:(0,r.jsx)(d.r,{size:24})}),(0,r.jsx)(c.J,{children:(0,r.jsx)(l.C,{linesCount:3})})]}),s))),(0,r.jsx)(n.Y,Object.assign({shiftedDivider:!!t,shiftedContent:!0},{children:(0,r.jsx)(c.J,{children:(0,r.jsx)(l.C,{linesCount:2})})}),e)]})}}p.displayName=(0,a.d)("src/shared/kit/skeletons")},82882:(e,t,s)=>{"use strict";s.d(t,{g:()=>c});var r=s(31085),i=s(14041),a=s(23300),n=s(84655),o=s(84175);const c=i.memo((()=>{const{css:e,s:t}=(0,o.I)(d);return(0,r.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,r.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,r.jsx)(n.j,{height:24,width:24}),(0,r.jsxs)("div",Object.assign({className:e(t.description)},{children:[(0,r.jsx)(a.Y,{fontSize:8,lineHeight:16}),(0,r.jsx)(a.Y,{fontSize:8,lineHeight:16})]}))]})),(0,r.jsx)("div",Object.assign({className:e(t.rating)},{children:(0,r.jsx)(a.Y,{fontSize:8,lineHeight:16})})),(0,r.jsxs)("div",Object.assign({className:e(t.content)},{children:[(0,r.jsx)(a.Y,{fontSize:8,lineHeight:16}),(0,r.jsx)(a.Y,{fontSize:8,lineHeight:16,short:!0}),(0,r.jsx)(a.Y,{fontSize:8,lineHeight:16})]}))]}))}));c.displayName="ReviewSkeleton";const d=(0,o.r)({root:{padding:"12px 24px",minHeight:98},header:{display:"inline-flex",alignItems:"center"},description:{marginStart:"8px",width:"110px"},rating:{display:"inline-block",width:"50px",float:"end"},content:{padding:"8px 0"}})},46033:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(84655),c=s(23300);class d extends i.PureComponent{render(){const{s:e}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.content)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.icon)},{children:(0,r.jsx)(o.j,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.text)},{children:(0,r.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]}))]}))}}d.displayName=(0,n.d)("src/shared/kit/skeletons");const l=(0,a.Xy)({content:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},item:{marginBottom:4,flex:"1 1 25%"},icon:{marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto",display:"flex",justifyContent:"center"},text:{height:"24px"}})(d)},44744:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var r=s(31085),i=s(14041),a=s(26461),n=s(23300);class o extends i.PureComponent{render(){const{linesCount:e}=this.props;return(0,r.jsxs)("div",{children:[Array(e-1).fill("").map(((e,t)=>(0,r.jsx)(n.Y,{},t))),(0,r.jsx)(n.Y,{short:e>1})]})}}o.displayName=(0,a.d)("src/shared/kit/skeletons")},9390:(e,t,s)=>{"use strict";s.d(t,{S:()=>o});var r=s(31085),i=s(14041),a=s(15937),n=s(16363);const o=i.memo((e=>(0,r.jsx)("div",{children:Array.from({length:e.count||(0,a.H)(n.N)},((t,s)=>(0,r.jsx)(n.h,{squareLogo:e.squareLogo,logoSize:e.logoSize},s)))})));o.displayName="SkeletonsCatalog"},25698:(e,t,s)=>{"use strict";s.d(t,{M:()=>d});var r=s(31085),i=s(14041),a=s(99259),n=s(69158),o=s(26064),c=s(84175);const d=(0,i.memo)((e=>{const{css:t,s:s,dir:i}=(0,c.I)(l),{height:a,width:n,marginTop:d,marginBottom:u,marginStart:p,marginEnd:m,paddingTop:g,borderRadius:h,flexBasis:f,flexShrink:b,flexGrow:v,gap:y,icon:x,count:j=1,dark:w,color:_}=e;return(0,r.jsx)("div",Object.assign({className:t(s.skeleton),style:(0,o.mG)({height:a,width:n,marginTop:d,marginBottom:u,marginStart:p,marginEnd:m,paddingTop:g,gap:y},i)},{children:j>0&&Array(j).fill("ok").map(((e,i)=>(0,r.jsx)("div",Object.assign({className:t(s.skeletonItem,w&&s._dark),style:{flexBasis:f||100/j+"%",flexShrink:b,flexGrow:v,background:_,borderRadius:h}},{children:x}),i)))}))}));d.displayName="Square";const l=(0,c.r)({skeleton:{display:"flex",flexDirection:"row",borderTop:"1px solid #fff",boxSizing:"border-box",gap:1},_dark:{background:(0,n.m)(a.T.black,.6)},skeletonItem:{display:"flex",justifyContent:"center",alignItems:"center",background:a.T.black_transparent_06,overflow:"hidden"}})},23300:(e,t,s)=>{"use strict";s.d(t,{Y:()=>d});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(25698);class c extends i.PureComponent{render(){const{s:e,fontSize:t=8,lineHeight:s=16,full:i=!1,short:n=!1,width:c,marginAuto:d=!1}=this.props,l=Math.floor((s-t)/2);return(0,r.jsx)("div",Object.assign({style:{padding:`${l}px 0`,margin:d?"auto":0,width:c},className:(0,a.AH)(e.line,i&&e.full,n&&e.short)},{children:(0,r.jsx)(o.M,{height:t,count:1})}))}}c.displayName=(0,n.d)("src/shared/kit/skeletons");const d=(0,a.Xy)({line:{width:"90%"},full:{width:"100%"},short:{width:"66%"}})(c)},89379:(e,t,s)=>{"use strict";s.d(t,{h:()=>a});var r=s(31085),i=s(84175);const a=(0,s(14041).memo)((({children:e,offset:t,gap:s,styles:a,containerRef:o})=>{const{css:c,s:d}=(0,i.I)(n);return(0,r.jsx)("div",Object.assign({ref:o,className:c(a,d.root),style:{gap:s,padding:`0 ${t}px`}},{children:e}))}));a.displayName="SnapCarousel";const n=(0,i.r)({root:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}})},33808:(e,t,s)=>{"use strict";s.d(t,{y:()=>p});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(69158),c=s(33466);const d=s(99259).T.black;class l extends i.PureComponent{render(){const{s:e,size:t,color:s=(0,o.m)(d,.6),background:i}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.spinner),style:{width:t,height:t,borderColor:i||(0,o.m)(d,.3)}},{children:(0,r.jsx)("div",{className:(0,a.AH)(e.line),style:{borderTopColor:s}})}))}}l.displayName=(0,n.d)("src/shared/kit/spinner");const u={spinner:{position:"relative",borderRadius:"50%",border:"4px solid transparent",transform:"translateZ(0)"},line:{position:"absolute",top:-4,start:-4,width:"100%",height:"100%",border:"4px solid transparent",borderRadius:"50%",borderColor:"transparent",animationName:{to:{transform:"rotate(360deg)"}},animationDuration:`${c.S.spinner}ms`,animationIterationCount:"infinite"}},p=(0,a.Xy)(u)(l)},33285:(e,t,s)=>{"use strict";s.d(t,{d:()=>l});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(76065),c=s(81618);class d extends i.PureComponent{constructor(){super(...arguments),this.handleShevronClick=e=>{const{isExpanded:t=!1,handleExpandClick:s}=this.props;e.stopPropagation(),s(t)},this.handleExpandClick=e=>{const{isExpanded:t=!1,handleExpandClick:s}=this.props;t||(e.stopPropagation(),s(t))}}render(){const{children:e,isExpanded:t=!1,withoutShevron:s,dataN:i,s:n}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(n.container,!t&&n._showPointer,!s&&n._shevronOffset)},c.dx.n(i||"wat-kit-spoiler"),c.dx.s(`wat-toggle-${t}`),{children:[!s&&(0,r.jsx)("div",Object.assign({className:(0,a.AH)(n.shevron)},c.dx.n("wat-kit-spoiler-shevron"),{onClick:this.handleShevronClick},{children:(0,r.jsx)(o.i,{direction:t?"up":"down"})})),(0,r.jsx)("div",Object.assign({},c.dx.n("wat-toggle"),{onClick:this.handleExpandClick},{children:e}))]}))}}const l=(0,n.Xy)({container:{position:"relative"},shevron:{cursor:"pointer",position:"absolute",end:-4,top:-5,width:24,height:24,userSelect:"none"},_showPointer:{cursor:"pointer"},_shevronOffset:{paddingEnd:20}})(d)},74641:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var r=s(31085),i=s(14041),a=s(33285);class n extends i.Component{constructor(){super(...arguments),this.state={isExpanded:this.props.initiallyExpanded||!1},this.toggle=e=>{const t=!e;this.props.onToggle&&this.props.onToggle(t),this.setState({isExpanded:t})}}render(){return(0,r.jsx)(a.d,Object.assign({isExpanded:this.state.isExpanded,handleExpandClick:this.toggle,withoutShevron:this.props.withoutShevron,dataN:this.props.dataN},{children:this.props.children(this.state.isExpanded,(()=>this.toggle(this.state.isExpanded)))}))}}},60116:(e,t,s)=>{"use strict";s.d(t,{o:()=>h});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(99259),c=s(81618),d=s(71064),l=s(64099),u=s(80552);class p extends i.PureComponent{constructor(){super(...arguments),this.handleTabClick=()=>this.props.onSelect&&this.props.onSelect(this.props.tab)}render(){const{tab:e,s:t,renderIcon:s,tabRef:i,href:n,dataN:o="wat-tab"}=this.props;return(0,r.jsx)("h2",Object.assign({className:(0,a.AH)(t.tab,e.isSelected&&t.active),onClick:this.handleTabClick,ref:i},c.dx.n(o),c.dx.s(e.isSelected?"active":"inactive"),c.dx.v(e.label),c.dx.t(e.key),{children:(0,r.jsxs)(d.A,Object.assign({color:e.isSelected?"inherit":"dark",href:n},{children:[e.label,!!e.count&&(0,r.jsx)("span",Object.assign({className:(0,a.AH)(t.count,e.isSelected&&t.isActive)},c.dx.n("wat-count"),c.dx.v(e.label),c.dx.t(e.key),{children:e.count})),s&&(0,r.jsx)("span",Object.assign({className:(0,a.AH)(t.iconWrapper,e.isSelected&&t.isActive)},{children:s(e)})),!!e.badgeCount&&(0,r.jsx)("div",Object.assign({className:(0,a.AH)(t.badgeCount)},c.dx.n("wat-tab-price-count"),{children:e.badgeCount<99?e.badgeCount:99}))]}))}),e.label)}}const m={tab:Object.assign(Object.assign({cursor:"pointer",color:o.T.gray_262626},u.Hg),{paddingTop:16,paddingBottom:13,paddingStart:0,paddingEnd:0,margin:"0 8px",whiteSpace:"nowrap",userSelect:"none",position:"relative",":first-child":{marginStart:0},":last-child":{marginEnd:0}}),count:{background:o.T.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.T.gray_929292}`,color:o.T.white,marginStart:"4px",borderRadius:l.Vq.default,padding:"0 4px",display:"inline-block",lineHeight:"20px",height:18,marginTop:-4},active:{cursor:"default",color:o.T.gray_929292},iconWrapper:{background:o.T.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.T.gray_929292}`,color:o.T.white,borderRadius:l.Vq.default,height:18,marginStart:4,verticalAlign:"middle",display:"inline-block",marginTop:-4},isActive:{background:"transparent",boxShadow:`inset 0 0 1px 1px ${o.T.gray_929292}`,color:o.T.gray_929292},badgeCount:Object.assign(Object.assign({},u.n0),{lineHeight:u.n0.fontSize,position:"absolute",top:8,end:-2,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:l.Vq.oval,display:"flex",justifyContent:"center",alignItems:"center",color:o.T.white,background:o.T.red_fe5000})},g=(0,n.Xy)(m)(p),h=e=>(0,r.jsx)(g,Object.assign({},e))},64033:(e,t,s)=>{"use strict";s.d(t,{t:()=>m});var r=s(31085),i=s(14041),a=s(26064),n=s(68076),o=s(33466),c=s(60116),d=s(81618),l=s(35023);class u extends i.PureComponent{constructor(){super(...arguments),this.tabsPositions=[],this.renderTab=e=>{const{renderTab:t,onSelect:s}=this.props;return t?t(e):(0,r.jsx)(c.o,{tab:e,onSelect:e.isSelected?l.lQ:s},e.label)},this.refContainer=e=>{this.container=e},this.refUnderline=e=>{this.underline=e},this.setTab=()=>{this.container&&(this.tabs=this.container.childNodes)},this.setTabPositions=()=>{if(!this.container)return;const e=this.container.getBoundingClientRect();this.tabsPositions=Array.prototype.map.call(this.tabs,(t=>{const s=t.getBoundingClientRect();return{left:s.left-e.left+"px",width:`${s.width}px`}}))},this.setUnderlineStyle=()=>{if(!this.underline)return;const e=this.props.tabs.findIndex((e=>!!e.isSelected));if(e<0)return;const t=this.tabsPositions[e];this.underline.style.width=t.width,this.underline.style.left=t.left}}componentDidMount(){this.setTab(),setTimeout((()=>{this.setTabPositions(),this.setUnderlineStyle()}),0)}componentDidUpdate(){this.setTab(),this.setTabPositions(),this.setUnderlineStyle()}render(){const{s:e,tabs:t,opacifyUnderline:s}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.root)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.tabsContainer),ref:this.refContainer},d.dx.n("wat-tabs"),{children:t.map(this.renderTab)})),(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.underline,s&&e._opacify),ref:this.refUnderline},d.dx.n("wat-underline")))]}))}}const p=(0,n.Xy)((e=>({root:{position:"relative",height:"100%"},tabsContainer:{display:"flex"},underline:{position:"absolute",bottom:0,height:3,background:e.colors.green_299400_brand,transition:`left ${o.S.short}ms ease-out, width ${o.S.short}ms ease-out`,transform:"translateZ(0)"},_opacify:{background:"currentColor",opacity:.5}})))(u),m=e=>(0,r.jsx)(p,Object.assign({},e))},33708:(e,t,s)=>{"use strict";s.d(t,{n:()=>b});var r=s(31085),i=s(14041),a=s(68076),n=s(26064),o=s(33466),c=s(59603),d=s(81618),l=s(848),u=s(80552),p=s(99259),m=s(60077),g=s(81407),h=s(12043),f=s(89379);const b=(0,m.K)()({__dirname:"src/shared/kit/tape",styles:{root:{},header:Object.assign(Object.assign({position:"relative",width:"100%",height:40,boxSizing:"border-box"},u.Hg),{lineHeight:"40px",color:p.T.gray_262626,userSelect:"none"}),headerTitle:{position:"absolute",start:24,end:24,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},headerArrows:{float:"end",height:"100%",paddingTop:8,paddingEnd:12,boxSizing:"border-box",display:"flex"},tape:{position:"relative",boxSizing:"border-box",background:"none",display:"flex",transform:"translateZ(0)"},slide:{background:"none"},_marginBottom:{marginBottom:12}}})((({s:e,children:t,gap:s,slideWidth:u,controlsSize:m,dir:b,title:v,titleColor:y,titleHref:x,sideMargins:j,onArrowClick:w,dataN:_="wat-carousel-header",hasStaticWidth:C,slideHeight:I,padding:k=0,__titleCustomStyles:O,withoutHeaderAndArrowsOverCarousel:S})=>{const[T,E]=i.useState(0),[M,P]=i.useState(0),L=i.useRef(null),N=e=>(0,r.jsx)("div",Object.assign({},d.dx.n("wat-carousel-header-arrow"),d.dx.t(e),{children:(0,r.jsx)(l.i,{direction:e,size:m})})),A=e=>{E(e),w&&w(e)};i.useEffect((()=>E(0)),[t.length]),(0,g.E)((()=>{L.current&&P(L.current.offsetWidth)}),[]);const R=Math.floor(M/u),z=R?t.length-R:t.length-1,U=()=>{const i=t.map(((i,o)=>(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.slide)},d.dx.n("wat-carousel-item"),{style:(0,n.mG)({marginStart:o&&s?s:void 0,height:I,minWidth:C||t.length>1?u:"100%",maxWidth:C||t.length>1?u:"100%"},b)},{children:i}),`tape-item-${o}`)));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.j,{children:(0,r.jsx)("div",Object.assign({ref:L,className:(0,a.AH)(e.tape),style:(0,n.mG)({padding:`0px ${k}px`,margin:`0px ${j}px`,start:-(L.current?function({slideWidth:e,viewportWidth:t,slidesCount:s,index:r=0,slideGap:i=0,padding:a}){const n=s*e+(s-1)*i+(a?2*a:0);if(r<0||r>=s||t>=n)return 0;const o=r*(e+i);return Math.min(o,n-t)}({index:T,viewportWidth:L.current.offsetWidth,slideWidth:u,slidesCount:t.length,slideGap:s,padding:k}):0),transition:`${"ltr"===b?"left":"right"} ${o.S.short}ms ${o.l.base}`},b)},{children:i}))}),(0,r.jsx)(h.h,{children:(0,r.jsx)(f.h,Object.assign({offset:j},{children:i}))})]})},B=v||t.length>1;return S?v?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.j,{children:(0,r.jsx)(c.N,Object.assign({left:N("start"),right:N("end"),onChange:A,currentIndex:T,minIndex:0,maxIndex:z},{children:(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.root)},{children:U()}))}))}),(0,r.jsx)(h.h,{children:(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.root,e._marginBottom)},{children:U()}))})]}):(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.root)},{children:[B&&(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(e.header)},d.dx.n(_),{children:[v&&(0,r.jsx)("header",Object.assign({className:(0,a.AH)(e.headerTitle,O),style:(0,n.mG)({color:y||p.T.gray_262626},b)},d.dx.n("wat-carousel-header-title"),{children:x?(0,r.jsx)("a",Object.assign({href:x},{children:v})):v})),(0,r.jsx)(h.j,{children:(0,r.jsx)(r.Fragment,{children:t.length>1&&(0,r.jsx)("div",Object.assign({className:(0,a.AH)(e.headerArrows)},d.dx.n("wat-carousel-header-arrows"),{children:(0,r.jsx)(c.N,{left:N("start"),right:N("end"),onChange:A,currentIndex:T,minIndex:0,maxIndex:z})}))})})]})),U()]}))}))},80848:(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var r=s(31085),i=s(14041);const a=({template:e,render:t})=>{const s=(0,i.useMemo)((()=>function(e){const t=[];let s="",r="",i=!1;for(const a of e)switch(a){case"$":i=!0,r&&(t.push(r),r="");break;case"[":i=!1,r&&(t.push(r),r="");break;case"]":t.push({name:s||"default",text:r}),r="",s="";break;default:" "===a&&i&&(t.push({name:s,text:""}),i=!1,s=""),i?s+=a:r+=a}return r&&t.push(r),s&&t.push({name:s,text:""}),t}(e)),[e]);return(0,r.jsx)(r.Fragment,{children:s.map(((e,s)=>{var a;return(0,r.jsx)(i.Fragment,{children:"string"==typeof e?e:(null===(a=t[e.name])||void 0===a?void 0:a.call(t,e.text))||e.text},s)}))})}},10520:(e,t,s)=>{"use strict";s.d(t,{E:()=>p});var r=s(31085),i=s(14041),a=s(81618),n=s(80552),o=s(99259),c=s(26461),d=s(68076);class l extends i.PureComponent{render(){const{children:e,block:t,dataN:s="wat-kit-text",dataT:i=""}=this.props;return e?t?(0,r.jsx)("div",Object.assign({className:this.getClassName()},a.dx.n(s),a.dx.t(i),{children:e})):(0,r.jsx)("span",Object.assign({className:this.getClassName()},a.dx.n(s),a.dx.t(i),{children:e})):null}getClassName(){const{s:e,bold:t,note:s,lead:r,m:i,small:a,m4:n,m8:o,__experimentalStyles:c}=this.props;return(0,d.AH)(e.text,r&&e.lead,a&&e.small,t&&e._bold,s&&e._note,(i||n||o)&&e.m,(i&&4===i||n)&&e.m4,(i&&8===i||o)&&e.m8,i&&12===i&&e.m12,i&&16===i&&e.m16,i&&20===i&&e.m20,i&&24===i&&e.m24,c)}}l.displayName=(0,c.d)("src/shared/kit/text");const u={text:Object.assign({},n.Hg),_bold:{fontWeight:n.Wy.bold},_note:{color:o.T.gray_929292},lead:Object.assign({},n.HI),small:Object.assign({},n.EX),m:{"&:empty":{display:"none"},"&:last-child":{marginBottom:0}},m4:{marginBottom:4},m8:{marginBottom:8},m12:{marginBottom:12},m16:{marginBottom:16},m20:{marginBottom:20},m24:{marginBottom:24}},p=(0,d.Xy)(u)(l)},51068:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(31085),i=s(14041),a=s(80552),n=s(99259),o=s(81618),c=s(46501),d=s(604),l=s(84175);const u=e=>{const{s:t,css:s}=(0,l.I)(p),[a,n]=(0,i.useState)(e.initialValue||e.value||""),[u]=(0,i.useState)(void 0!==e.value),[m,g]=(0,i.useState)(e.autoFocus||!1);(0,i.useEffect)((()=>{u&&void 0!==e.value&&n(e.value)}),[e.value,u]);const h=(0,i.useRef)({beforeStart:0,beforeEnd:0}),f=(0,i.useRef)(null);(0,i.useLayoutEffect)((()=>{var t,s;(e.multiline||"text"===(null===(t=f.current)||void 0===t?void 0:t.type))&&(null===(s=f.current)||void 0===s||s.setSelectionRange(h.current.beforeStart,h.current.beforeEnd))}),[a,e.multiline]);const b=t=>{var s,r;const i=t.target.value,a=null!==(s=t.target.selectionStart)&&void 0!==s?s:0,o=null!==(r=t.target.selectionEnd)&&void 0!==r?r:0;h.current={beforeStart:a,beforeEnd:o},u||n(i),e.onChange(i)},v=()=>{var t;g(!0),null===(t=e.onFocus)||void 0===t||t.call(e)},y=()=>{var t;g(!1),null===(t=e.onBlur)||void 0===t||t.call(e)},x=()=>{var t;n(""),null===(t=e.onClear)||void 0===t||t.call(e)},j=()=>e.placeholder?e.placeholder:m||""!==a?"":e.label,w=e=>{e.stopPropagation()};return(0,r.jsx)(d.S,{label:e.placeholder||m||""!==a?e.label:"",hasLabel:!!e.label,input:(0,r.jsxs)(r.Fragment,{children:[(()=>{const{autoFocus:i,linesCount:n=4,multiline:c,dataT:d,isLead:l,inputType:u,maxLength:p}=e,m=17*n,g={className:s(t.input,l?t.leadText:t.inputText),placeholder:j(),onChange:b,onFocus:v,onBlur:y,autoFocus:i,maxLength:p};return c?(0,r.jsx)("textarea",Object.assign({},g,{ref:f,style:{height:m},value:a},o.dx.n("wat-textfield-input"),o.dx.t(d),{onClick:w})):(0,r.jsx)("input",Object.assign({},g,{ref:f,type:u||"text",value:a},o.dx.n("wat-textfield-input"),o.dx.t(d),{onClick:w}))})(),(()=>{const{hasClearButton:i}=e;if(i&&a)return(0,r.jsx)("div",Object.assign({className:s(t.buttons)},o.dx.n("wat-input-clear-button"),{children:(0,r.jsx)("div",Object.assign({className:s(t.clearButtonWrapper),onClick:x},{children:(0,r.jsx)(c.b,{})}))}))})()]}),renderOutside:()=>{const{hasClearButton:t,renderOutside:s}=e;if(t&&a)return s&&s()},error:!!e.error,focused:m})};u.displayName="TextField";const p=(0,l.r)({input:{color:n.T.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial","::placeholder":{color:n.T.gray_929292}},inputText:Object.assign({},a.hF),leadText:Object.assign({},a.HI),buttons:{display:"flex",justifyContent:"space-between"},clearButtonWrapper:{height:24,marginTop:-4,marginBottom:-4,cursor:"pointer"}})},604:(e,t,s)=>{"use strict";s.d(t,{S:()=>p});var r=s(31085),i=s(14041),a=s(68076),n=s(26461),o=s(80552),c=s(99259);class d extends i.PureComponent{render(){const{label:e,input:t,s:s,error:i,renderOutside:n,dataN:o="wat-kit-textfield",focused:c,hasLabel:d}=this.props;return(0,r.jsxs)("div",Object.assign({"data-n":o,style:{width:"100%"}},{children:[(e||d)&&(0,r.jsx)("label",Object.assign({className:(0,a.AH)(s.label)},{children:e||""})),!n&&(0,r.jsx)("div",Object.assign({className:(0,a.AH)(s.wrapper,c&&s._focused,i&&s._error)},{children:t})),n&&(0,r.jsxs)("div",Object.assign({className:(0,a.AH)(s.flexWrap)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.AH)(s.wrapper,c&&s._focused,i&&s._error)},{children:t})),n()]}))]}))}}d.displayName=(0,n.d)("src/shared/kit/textField");const l={content:'""',position:"absolute",bottom:0,height:1,width:"100%",start:0},u={flexWrap:{display:"flex",justifyContent:"space-between"},wrapper:{width:"100%",display:"flex",alignItems:"center",color:c.T.gray_929292,position:"relative",boxSizing:"border-box",padding:"12px 0",":after":Object.assign(Object.assign({},l),{background:c.T.gray_e6e6e6})},_error:{":after":Object.assign(Object.assign({},l),{background:c.T.red_fe5000})},_focused:{color:c.T.gray_262626,":after":Object.assign(Object.assign({},l),{background:c.T.blue_0072ce})},label:Object.assign(Object.assign({},o.EX),{display:"block",color:c.T.gray_929292,height:o.EX.lineHeight,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},p=(0,a.Xy)(u)(d)},79086:(e,t,s)=>{"use strict";s.d(t,{w:()=>d});var r=s(31085),i=s(14041);const a={bottomStart:"bottomEnd",bottomEnd:"bottomStart",bottomBottomEnd:"bottomBottomStart",bottomBottomStart:"bottomBottomEnd",centerStart:"centerEnd",centerEnd:"centerStart"};var n=s(46579);const o=s(3633),c={attributes:!0,characterData:!0,subtree:!0,childList:!0},d=i.memo((({children:e,innerRef:t,pointerEvents:s,to:d,offset:l,targetBoundingClientRect:u})=>{const p=(0,i.useRef)(null),m=t||p,[g,h]=(0,i.useState)(void 0),{rtl:f}=(0,n.U)(),{top:b,left:v,bottom:y,right:x,transform:j}=(0,i.useMemo)((()=>{if(!g)return{top:0,left:0};const e=window.innerWidth,t=window.innerHeight;return function(e){const{to:t,targetClientRect:s,ownClientRect:r,windowWidth:i,windowHeight:n,offset:o,rtl:c}=e,d=r.width,l=r.height;switch(c&&a[t]||t){case"bottomMiddle":return{left:s.left+s.width/2,top:s.bottom+o,transform:"translateX(-50%)"};case"bottomStart":return{left:s.left-o,top:s.bottom+o,transform:"translateX(-100%)"};case"bottomEnd":{const e=s.right+o,t=s.bottom+o,r=i-e-d<8,a=n-t-l<8;return r&&a?{right:i-s.left+o,bottom:n-s.top+o}:r?{top:t,right:i-s.left+o}:a?{bottom:n-s.top+o,left:e}:{left:e,top:t}}case"centerStart":return{left:s.left-o,top:s.top+s.height/2,transform:"translateY(-50%) translateX(-100%)"};case"centerEnd":return{left:s.right+o,top:s.top+s.height/2,transform:"translateY(-50%)"};case"bottomBottomStart":const e=s.left,t=s.bottom+o,r=i-e-d<8,a=n-t-l<8;return r&&a?{right:i-s.left+o,bottom:n-s.top+o}:r?{top:t,right:i-s.left+o}:a?{bottom:n-s.top+o,left:e}:{left:e,top:t};case"bottomBottomEnd":return{left:s.right,top:s.bottom+o,transform:"translateX(-100%)"}}}({to:d,targetClientRect:u,ownClientRect:g,windowWidth:e,windowHeight:t,offset:l,rtl:f})}),[g]),w=(0,i.useCallback)((()=>{var e;h(null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect())}),[]);return(0,i.useEffect)(w,[]),function(e,t){const s=(0,i.useCallback)(((...e)=>o((()=>{t(...e)}))),[t]);(0,i.useEffect)((()=>{if(e.current&&"undefined"!=typeof MutationObserver){const t=new MutationObserver(s);return t.observe(e.current,c),()=>{t.disconnect()}}}),[s,e])}(m,w),(0,r.jsx)("div",Object.assign({style:{position:"absolute",top:b,left:v,bottom:y,right:x,transform:j,pointerEvents:s,visibility:g?void 0:"hidden"},ref:m},{children:e}))}))},64099:(e,t,s)=>{"use strict";s.d(t,{Ej:()=>n,Vq:()=>c,W2:()=>d,fE:()=>o});var r=s(99259),i=s(2829),a=s(69158);const n={searchBarWrapperHeight:56,sideMenuWidth:288,navigationWidth:64,standardFrameWidth:352,innerFrameWidth:304,sidebarFrameWidth:200,wideFrameWidth:552,popupFrameWidth:544,photoListItemHeight:170,cardLogo:56,rackShift:32,rackMargin:8},o=Object.assign({},i.f),c={default:"4px",defaultOnlyTop:"4px 4px 0 0",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px",small:"2px",isolate:"6px",oval:"200px",topRaunded8:"8px 8px 0 0"},d={"::-webkit-scrollbar-thumb":{backgroundColor:(0,a.m)(r.T.black,.2)},"::-webkit-scrollbar-track":{backgroundColor:"#f0f0f0"},"::-webkit-scrollbar":{width:"6px"},scrollbarWidth:"thin"}},2487:(e,t,s)=>{"use strict";s.d(t,{j:()=>r});class r{constructor(){this.requests=[]}setRequest(e){2===e.params.data.v&&this.requests.push(e)}getRequests(){return this.requests}clear(){this.requests=[]}}},33682:(e,t,s)=>{"use strict";s.d(t,{y:()=>r});const r=(e,t)=>e.includes(t)},2895:(e,t,s)=>{"use strict";function r(e,t){return t<0||t>=e.length?e:[...e.slice(0,t),...e.slice(t+1)]}s.d(t,{T:()=>r})},24855:(e,t,s)=>{"use strict";function r(e,t,s){return s<0||s>=e.length?e:[...e.slice(0,s),t,...e.slice(s+1)]}s.d(t,{H:()=>r})},46561:(e,t,s)=>{"use strict";function r(e,t){return e<=0?[]:Array(e).fill("").map(((e,s)=>t(s)))}s.d(t,{H:()=>r})},76127:(e,t,s)=>{"use strict";function r(e,t){const s={};return e.filter((e=>{const r=t(e);return!s[r]&&(s[r]=!0,!0)}))}s.d(t,{h:()=>r})},806:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(14041);const i=e=>{let t=e;const s=()=>t,i=(()=>{let e,t;return{notify(t){let s=e;for(;s;)s.fn(t),s=s.next},subscribe(s){const r={fn:s};return e&&t?(t.next=r,r.prev=t,t=r):(e=r,t=r),()=>{r.prev&&r.next?(r.prev.next=r.next,r.next.prev=r.prev):r.prev?(t=r.prev,t.next=void 0):r.next?(e=r.next,e.prev=void 0):(e=void 0,t=void 0)}}}})(),a=e=>e;return{use:(e=a)=>{const[t,n]=(0,r.useState)((()=>e(s())));return(0,r.useEffect)((()=>(n(e(s())),i.subscribe((t=>n(e(t)))))),[e]),t},get:s,set:e=>{"undefined"!=typeof window&&(t=e(s()),i.notify(t))}}}},34764:(e,t,s)=>{"use strict";s.d(t,{MN:()=>r.MN,mN:()=>r.mN,nr:()=>r.nr});var r=s(48171)},48171:(e,t,s)=>{"use strict";var r,i,a,n,o;s.d(t,{MN:()=>c,Yz:()=>d,h_:()=>n,mN:()=>o,nr:()=>r}),function(e){e.Bar="awards_awards2023_thebestbar2023",e.Barbershop="awards_awards2023_thebestbarbershop2023",e.BeautySalon="awards_awards2023_thebestbeautysalon2023",e.Cafe="awards_awards2023_thebestcafe2023",e.Carservice="awards_awards2023_thebestcarservice2023",e.Coffeeshop="awards_awards2023_thebestcoffeeshop2023",e.Confectionery="awards_awards2023_thebestconfectionery2023",e.Dental="awards_awards2023_thebestdental2023",e.Detailing="awards_awards2023_thebestdetailing2023",e.Flowers="awards_awards2023_thebestflowers2023",e.Foodmall="awards_awards2023_thebestfoodmall2023",e.Hairdressing="awards_awards2023_thebesthairdressing2023",e.Hotel="awards_awards2023_thebesthotel2023",e.Massage="awards_awards2023_thebestmassage2023",e.MedicalCenter="awards_awards2023_thebestmedicalcenter2023",e.Nailsalon="awards_awards2023_thebestnailsalon2023",e.Restaurants="awards_awards2023_thebestrestaurants2023",e.Shotglass="awards_awards2023_thebestshotglass2023",e.Spa="awards_awards2023_thebestspa2023",e.Streetfood="awards_awards2023_thebeststreetfood2023"}(r||(r={})),function(e){e.GreatList="guide_great_list"}(i||(i={})),function(e){e.Kidsfriendly="awards_kidsfriendly"}(a||(a={})),function(e){e.award2016="awards_past_awards_awards2016",e.award2017="awards_past_awards_awards2017",e.award2018="awards_past_awards_awards2018",e.award2019="awards_past_awards_awards2019"}(n||(n={})),function(e){e.Award2GIS="Премия 2ГИС",e.GreatList="GreatList",e.Kidsfriendly="Kidsfriendly"}(o||(o={}));const c={[o.Award2GIS]:r,[o.GreatList]:i,[o.Kidsfriendly]:a},d=[...Object.values(c).flatMap(Object.values),...Object.values(n)]},15014:(e,t,s)=>{"use strict";function r(e){return{map:{effectsLevel:e.appContext.isImmersiveMapEnabled?"immersive":"default"}}}s.d(t,{p:()=>r})},9154:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(72833);function i(e){const t=(0,r.T)(e);return[parseInt(`${t[1]}${t[2]}`,16),parseInt(`${t[3]}${t[4]}`,16),parseInt(`${t[5]}${t[6]}`,16)]}},72833:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});const r=/^#[a-f0-9]{6}$/,i=/^#[a-f0-9]{3}$/;function a(e){const t=e.toLowerCase();return r.test(t)?t:i.test(t)?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:"#000000"}},40301:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var r=s(72833),i=s(51451);function a(e,t){const s=(0,r.T)(e).substr(1),a=function(e){const t=Math.round(255*(0,i.qE)(e,0,1)).toString(16);return 1===t.length?"0"+t:t}(t);return`#${s}${a}`}},90618:(e,t,s)=>{"use strict";function r([e,t,s]){return"#"+i(e)+i(t)+i(s)}function i(e){const t=e.toString(16);return 1===t.length?"0"+t:t}s.d(t,{O:()=>r})},13527:(e,t,s)=>{"use strict";s.d(t,{Q:()=>r});const r=(0,s(14041).createContext)("\n  #########\n  ERROR: Забыл добавить конфиг приложения в ConfigContext\n  #########\n")},72384:(e,t,s)=>{"use strict";s.d(t,{n:()=>d,l:()=>l});var r=s(50432),i=s(53157);function a(e){return(0,i.xO)(e)%10}function n(e){return e.slice(-12)}var o=s(24645),c=s(48518);function d(e){return(t,s)=>{var i;const{name:d,percentRange:l,groups:u,forHumanFromSeo:p,forCountries:m,excludeHumanFromSeo:g,excludeSafari:h}=e,f={name:e.name,values:u},b=t.godmode?[...t.availableExperiments,f]:[];if(p&&!t.isHumanFromSeo||m&&!m.includes(t.defaultCountryCode)||g&&t.isHumanFromSeo||h&&(null===(i=null==s?void 0:s.useragent)||void 0===i?void 0:i.isSafari))return{availableExperiments:b};let v=!1;try{v=function(e,t,s){if(s.find((e=>e<0||e>1)))throw new Error(`Bad percentageRange in filters = ${s.toString()}`);const r=a(e),i=n(t).slice(r,r+3),o=parseInt(i,16);if(Number.isNaN(o))throw new Error(`Can't filter properly in a/b test. Cannot get value from ${i}`);const c=4095*s[0],d=4095*s[1];return o>=c&&o<d}(d,t.userId,l)}catch(e){(0,r.vV)({id:"sakfa",message:(0,o.u)(e),level:"error",payload:{type:"exception",subtype:"a/b test error",stack:(0,c.N)(e)}})}if(!0!==v)return{availableExperiments:b};const y=function(e,t,s){s.length;const r=function(e,t=0){const s=n(e),r=s.length-t;return s.slice(r-2,r)}(t,a(e)),i=parseInt(r,16);if(Number.isNaN(i))return;const o=i%(2*s.length);return{group:s[Math.floor(o/2)],subgroup:o%2?1:2}}(e.name,t.userId,u);return y?{availableExperiments:b,experiments:[{name:e.name,value:`${y.group}_${y.subgroup}`},...t.experiments]}:((0,r.vV)({id:"hklqe",message:"cannot set group in a/b test",level:"error",payload:{type:"exception",subtype:"a/b test error"}}),{})}}function l(e,t){const s=t.find((t=>t.name===e));if(s)return s.value.split("_")[0]}},180:(e,t,s)=>{"use strict";s.d(t,{g$:()=>i}),s(24645);var r=s(35023);function i(e,t,s="unknown key"){if("string"==typeof e)return t;if("number"==typeof e){const e=Number(t);if(e!=e||""===t.trim())throw new Error(`Invalid number env config value (${s}): "${t}"`);return e}if("boolean"==typeof e)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;default:throw new Error(`Invalid boolean env config value (${s}): ${t}`)}if(Array.isArray(e)){const e=JSON.parse(t);if(Array.isArray(e))return e;throw new Error(`Invalid array env config value (${s}): ${t}`)}if((0,r.Gv)(e)){const e=JSON.parse(t);if((0,r.Gv)(e))return e;throw new Error(`Invalid object env config value (${s}): ${t}`)}throw new Error(`Config value is not a string/number/boolean/array/object (${s})`)}},88220:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(79594),i=s(15401);function a(e,t,s){return(0,r.H_)((s=>{let r,a={},n={};return(o,c)=>{const d=e?e(o,c):{};if((0,i.b)(r,d)&&(0,i.b)(a,c))return n;const l=t?t(s,Object.assign(Object.assign({},c),d)):void 0;return a=c,r=d,n=Object.assign({},c,r,l),n}}),s)}},86070:(e,t,s)=>{"use strict";s.d(t,{G:()=>d});var r=s(79594),i=s(4340),a=s(7143),n=s(1269),o=s(12017),c=s(7335);function d(e){let t=!1;const s=t=>t.appContext[e],d=(0,n.V)(`appContextAtomSet_${e}`,(0,a.T)("appContext",((t,s)=>t[e]===s?t:Object.assign(Object.assign({},t),{[e]:s}))));return{get:s,use:()=>(0,r.d4)(s),set:s=>(0,o.K2)(t&&(0,o.v6)((()=>{i.IG.local.setItem(e,s)})),d(s)),syncLS:(r=l)=>{var a;t=!0;const n=JSON.parse(null!==(a=i.IG.local.getItem(e))&&void 0!==a?a:"null");return(0,c.eU)(s,(e=>d(r(n,e))))}}}function l(e,t){return null==e?t:e}},69924:(e,t,s)=>{"use strict";function r(e){return Date.now()+e}s.d(t,{l:()=>r})},10330:(e,t,s)=>{"use strict";function r(e,t){return new Date(e+6e4*(new Date(e).getTimezoneOffset()+t))}s.d(t,{F:()=>r})},12148:(e,t,s)=>{"use strict";s.d(t,{YH:()=>o,Yk:()=>c,gb:()=>n});var r=s(27917),i=s(35023),a=s(21788);function n(e){const t=e.reduce(((e,t)=>t&&(0,i.O9)(t.lonLat)?e.concat((0,i.oE)([(0,a.R)(t.lonLat),"entityId"in t&&t.entityId]).join(";")):e),[]),s=e[0];return(!s||c(s)&&!(0,i.O9)(s.lonLat))&&t.length&&t.unshift(""),t.join("|")}function o(e){if(!e)return[];const t=e.split("|"),s=t.reduce(((e,t)=>{const s=function(e,t=";"){const s=e.split(t),i=(0,r.q)(s[0]);if(!i)return;const a=s[1];return/^\d+$/.test(a)?{type:"point",lonLat:i,entityId:a}:{type:"point",lonLat:i}}(t);return s?e.concat(s):e}),[]);return s.length&&!t[0]?[void 0,...s]:s}function c(e){return!!e&&"location"===e.type}},5536:(e,t,s)=>{"use strict";s.d(t,{f:()=>i});var r=s(59954);function i(e){const t=e.split(".").pop();return e.includes("urbi-sa")&&"com"===t||t?r.Jr[t]:void 0}},81618:(e,t,s)=>{"use strict";s.d(t,{c:()=>i,dx:()=>l,n:()=>a,p:()=>d,t:()=>n,v:()=>c});let r=!1;function i(e){r=!e}function a(e){return r||!e?{}:{"data-n":e}}function n(e){return r||!e?{}:{"data-t":e}}function o(...e){return r?{}:{"data-s":e.filter((e=>!!e)).join(" ")||void 0}}function c(e){return r||!e?{}:{"data-v":`${e}`}}function d(e){return r?{}:Object.assign(Object.assign(Object.assign(Object.assign({},a(e.n)),n(e.t)),o(...(t=e.s,t?"string"==typeof t?[t]:t:[]))),c(e.v));var t}const l={s:o,n:a,t:n,v:c}},66003:(e,t,s)=>{"use strict";s.d(t,{Dp:()=>i.Dp,EH:()=>n,mU:()=>i.mU,uI:()=>a.u,yG:()=>i.yG});var r=s(35023),i=s(50154),a=s(5512);function n(e,t,...s){return i=>({type:`effect(${e})`,payload:{name:e,params:i,phase:"start",handler:t,uuid:(0,r.W7)()},effect:!0,reducers:s})}},15434:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(50154);function i(e){const{services:t,asyncExtraPayload:s}=e;return e=>{const i=function(e){const{asyncExtraPayload:t,getState:s}=e;return{get:e=>{if(!t)return;const r=t(s());return r?r[e]:void 0}}}({asyncExtraPayload:s,getState:e.getState});let a=e.dispatch;return e=>s=>(0,r.eh)(s)?(e(s),s.payload.handler(s.payload.params)(Object.assign(Object.assign({},t),{contextApi:i})).then((e=>{a((0,r.cv)(s,e))})).catch((e=>{a((0,r.h$)(s,e))}))):e(s)}}},50154:(e,t,s)=>{"use strict";function r(e){const{effect:t,payload:s}=e;return t&&"start"===s.phase}function i(e,t){return(s,r)=>{if(!function(e,t){return!0===e.effect&&e.payload.name===t}(r,e))return s;switch(r.payload.phase){case"start":return t.start?t.start(s,r.payload):s;case"success":return t.success?t.success(s,r.payload):s;case"error":return t.error?t.error(s,r.payload):s}return s}}function a(e,t,s){const r=i(e,s);return(e=t,s)=>r(e,s)}function n(e,t){return{type:`effect(${e.payload.name}):success`,payload:{uuid:e.payload.uuid,name:e.payload.name,params:e.payload.params,phase:"success",result:t},reducers:e.reducers,effect:!0}}function o(e,t){return{type:`effect(${e.payload.name}):error`,payload:{uuid:e.payload.uuid,name:e.payload.name,params:e.payload.params,phase:"error",error:t},reducers:e.reducers,effect:!0}}function c(e){return(t,s)=>{switch(s.payload.phase){case"start":return e.start?e.start(t,s.payload):t;case"success":return e.success?e.success(t,s.payload):t;case"error":return e.error?e.error(t,s.payload):t}return t}}s.d(t,{Dp:()=>a,cv:()=>n,eh:()=>r,h$:()=>o,mU:()=>c,yG:()=>i})},24645:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var r=s(35023);function i(e){return function(e){if(t=e,(0,r.Gv)(t)&&"message"in t&&"string"==typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}}(e).message}},48518:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(35023);function i(e){if((0,r.Gv)(e)&&"stack"in e&&"string"==typeof e.stack)return e.stack}},39890:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(88618),i=s(80739);function a(e,t={}){const s=Object.assign({},t),{valueType:a,name:n,value:o,isChecked:c}=e;if(!n||!o)return s;const d=t&&t[n]||"";let l;switch(a){case"multiple":const e=(0,i.v)(d),t=e.indexOf(o),s=-1!==t;c&&!s?e.push(o):!c&&s&&e.splice(t,1),l=e.join(r.Wy);break;case"single":l=c?o:""}return l=!l&&e.defaultValue?e.defaultValue:l,!l&&n in s?delete s[n]:l&&s[n]!==l&&(s[n]=l),s}},7491:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(88618);function i(e,t){return`${e}${r.Wy}${t}`}},88618:(e,t,s)=>{"use strict";s.d(t,{Ed:()=>i,K8:()=>r,Wy:()=>n,lm:()=>a,xt:()=>o});const r="=",i=";",a=",",n=",",o="+"},80739:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(88618);function i(e){return e?e.split(r.lm):[]}},92942:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(88618);function i(e){return e.split(r.lm).splice(0,2)}},96508:(e,t,s)=>{"use strict";function r(e="OK"){const t="Добрый день, команда 2ГИС! Хочу поблагодарить именно вас! Вы -Супер!!! Ваша программа помогла мне добраться до далекой точки по неизведанному мне маршруту в кратчайшие сроки. Это было 11 мая в Новокузнецке: ваш навигатор классно провел меня из Заводского района в пос. Абашево. Это было круто! А сейчас именно ваш 2ГИС помог мне очень быстро, находясь в Новосибирске, найти жизненно важное лекарство в Новокузнецке для моего папы!!! Спасибо, что вы-есть!!! Успехов вам, здоровья и благополучия каждому в вашем коллективе!!! Я- давний ваш пользователь, ваша программа много раз помогала мне в разных городах, и не только мне. Она у меня и в компьютере, и в мобильном. Ваша программа у всех моих друзей и знакомых- это незаменимая палочка-выручалочка. Большое спасибо еще раз, что вы есть!!! И громадная благодарность - создателем 2ГИС :-)) Вы были пионеры в этой сфере. Помню времена, года увидела первый лазерный диск с ГИС на презентации и то, как эти диски вы бесплатно распространяли по почтовым ящикам горожан и компаниям. Это было ново, непривычно и необычно. А сейчас ваш проект стал незаменимым для громадного количества людей и удобным громадному количеству компаний. Вам всем еще раз спасибо и как от рядового жителя, которому программа делает комфортной бытовую жизнь , и как от сотрудника компании, которому в свое время ваша программа оказала неоценимую помощь в успешном продвижении продуктов и услуг нашей компании!";if("number"==typeof e)return t.slice(e);switch(e){case"fewWords":return"Добрый день, команда 2ГИС";case"sentence":return"Не знаю ни одного человека в своем окружении, кто бы не пользовался 2Гис, в том числе и в других городах";case"paragraph":return"Оставлю свою 5 и комент. Часто езжу в командировки по России и приложение везде выручает. Покажет любой маршрут, как проехать, пройти, проползти😁 главное не забыть загрузить карты местности, куда едешь. Ещё я была приятно удивлена что все поиложение на полную работает в Эмиратах...Вау... Все маршруты тоже... Даже есть карта по Дубай-Мол в г.Дубай. со всеми бутичками... отлично!!!!!";case"essay":return t;case"emoji":return"Где⁉️ девочкам🤷‍♀️ записаться✍️ на ноготочки 💅  бесплатно 🤑💵💵💵";default:return"клиентоориентированная одиннадцатиклассница уехала на переосвидетельствование в Петропавловск-Камчатский"}}s.d(t,{u:()=>r})},61949:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});const r=function(...e){const t=e?e.length:0;return function(...s){let r=0,i=t?e[r].apply(this,s):s[0];for(;++r<t;)i=e[r].call(this,i);return i}}},79435:(e,t,s)=>{"use strict";function r(){return"undefined"!=typeof FormData?new FormData:{append:()=>{}}}s.d(t,{J:()=>r})},26461:(e,t,s)=>{"use strict";function r(e){const t=e.split("/");return t[t.length-1]}s.d(t,{d:()=>r})},11540:(e,t,s)=>{"use strict";s.d(t,{Jq:()=>i,_4:()=>a,cD:()=>n,kc:()=>o});var r=s(10866);const{withFormatter:i,FormatterProvider:a,FormatterContextConsumer:n,useFormatter:o}=(0,r.PR)()},41929:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(14041),i=s(15401);function a(e,t){const s=function(e){const t=(0,r.useRef)(e);return t.current===e?e:function(e,t){return e.length===t.length&&e.every(((e,s)=>(0,i.b)(e,t[s])))}(t.current,e)?t.current:e}(t);return(0,r.useMemo)(e,s)}},24963:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var r=s(14041);function i(e,t){(0,r.useEffect)((()=>{const s=s=>{e.current&&!e.current.contains(s.target)&&t()};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}}),[e,t])}},86291:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(14041);function i(e,t,s){const i=(0,r.useRef)(null);(0,r.useEffect)((()=>{const r=()=>{!function(e,t,s){a(e),e.current=setTimeout(t,s)}(i,t,s)},n=()=>{a(i)};return r(),e.current&&(e.current.addEventListener("mouseenter",n),e.current.addEventListener("mouseleave",r)),()=>{n(),e.current&&(e.current.removeEventListener("mouseenter",n),e.current.removeEventListener("mouseleave",r))}}),[e.current])}function a(e){clearTimeout(e.current)}},56964:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});const r=e=>"ar"===e.lang||"ar_AE"===e.locale?"straight":e.addressOrder},75041:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(36501);function i(e,t){return"ru"!==e&&t.includes(e)?("cs"!==e&&"it"!==e&&"es"!==e||(e="en"),s(61016)(`./${e}.po`).then((e=>JSON.stringify(e)))):Promise.resolve(r.A)}},58767:(e,t,s)=>{"use strict";s.d(t,{F:()=>p});var r=s(85608),i=s(8834),a=s(61949),n=s(71448),o=s(26516),c=s(15191),d=s(22561);class l{setLocaleData(e){this.currentLocaleData=e}format(e,t){return(0,c.A)(e,t,{locale:this.currentLocaleData})}formatDistanceStrict(e,t,s){return(0,d.A)(e,t,{locale:this.currentLocaleData,addSuffix:null==s?void 0:s.addSuffix})}}var u=s(50432);class p{constructor(e,t=new l){this.getLang=()=>this.lang,this.getLocale=()=>this.locale,this.translationController=e,this.tp=this.replaceEntitiesInProvider(new i.TranslationProvider(this.translationController)),this.dateFns=t,this.lang="ru",this.locale="ru_RU"}setLocale(e){return(0,r.sH)(this,void 0,void 0,(function*(){const{lang:t,countryCode:s}=e,[r,i]=yield Promise.all([this.fetchTranslations(t),this.fetchDateFnsLocaleData(t)]);this.dateFns.setLocaleData(i),this.lang=r,this.locale=(0,o.R)(r,s)}))}fetchTranslations(e){return new Promise((t=>{this.translationController.setLocale(e,(e=>{t(e)}),(s=>{(0,u.vV)({message:`Set locale '${e}' error (${s})`,level:"fatal",id:"VQExy",payload:{type:"exception",subtype:"setLocale",data:s.stack}}),this.translationController.setLocale("ru",t)}))}))}replaceEntitiesInProvider(e){return{_t:(0,a.A)(e._t,n.an),_pt:(0,a.A)(e._pt,n.an),_nt:(0,a.A)(e._nt,n.an),_npt:(0,a.A)(e._npt,n.an),_gg:(0,a.A)(e._gg,n.an),_pgg:(0,a.A)(e._pgg,n.an),_ngg:(0,a.A)(e._ngg,n.an),_npgg:(0,a.A)(e._npgg,n.an)}}fetchDateFnsLocaleData(e){return function(e){return function(e){switch(e){case"ru":return s.e(909).then(s.bind(s,35974));case"kk":return s.e(9664).then(s.bind(s,16323));case"hy":return s.e(7775).then(s.bind(s,57596));case"ka":return s.e(8698).then(s.bind(s,96737));case"az":return s.e(3147).then(s.bind(s,4736));case"uz":return s.e(1751).then(s.bind(s,84068));case"cs":return s.e(1136).then(s.bind(s,58915));case"es":return s.e(3734).then(s.bind(s,48757));case"ar":return s.e(3552).then(s.bind(s,93903));default:return Promise.resolve().then(s.bind(s,69059))}}(e).then((e=>e.default))}(e)}}},79911:(e,t,s)=>{"use strict";s.d(t,{R:()=>r});const r=s(14041).createContext({})},26516:(e,t,s)=>{"use strict";function r(e,t){const[s,r=t]=e.split(/[-_]/);return`${s.toLowerCase()}_${r.toUpperCase()}`}s.d(t,{R:()=>r})},71448:(e,t,s)=>{"use strict";s.d(t,{CT:()=>i,an:()=>a});var r=s(80690);const i=e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;function a(e){return e.replace(/&nbsp;/g,r.aY)}},36501:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});const r='{"meta":{"pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);", "language":"ru_RU"},"items":[]}'},9481:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var r=s(35023);const i="undefined"==typeof window;class a{static removeStore(e,t){try{(0,r.jJ)(localStorage,((s,r)=>{const i=r.split(".");i[0]===e&&i[1]===t&&localStorage.removeItem(r)}))}catch(e){}}static forEachDbKey(e,t,s){try{(0,r.jJ)(localStorage,((r,i)=>{const a=i.split(".");a[0]===e&&a[2]===t&&s(JSON.parse(r),i)}))}catch(e){}}constructor(e,t){this.dbName=e,this.storeName=t,this.meta={},this.prefix=this.dbName+"."+this.storeName+".",i||this.get("__meta").then((e=>this.meta=e)).catch((()=>this.set("__meta",{})))}get(e){try{const t=localStorage.getItem(this.prefix+e);return null===t?Promise.reject(`no such key in storage: ${this.prefix+e}`):Promise.resolve(JSON.parse(t))}catch(e){return Promise.reject(e)}}set(e,t){try{const s=JSON.stringify(t);return this.meta[e]=!0,localStorage.setItem(this.prefix+e,s),"__meta"!==e&&this.updateMeta(),Promise.resolve()}catch(e){return Promise.reject(e)}}delete(e){for(const t of e)delete this.meta[t],localStorage.removeItem(this.prefix+t);this.updateMeta()}clear(){for(const e in this.meta)this.meta.hasOwnProperty(e)&&localStorage.removeItem(this.prefix+e);return this.meta={},this.updateMeta(),Promise.resolve()}getAll(e,t){const s=Object.keys(this.meta).sort(((e,s)=>t?e<s?1:e>s?-1:0:e>s?1:e<s?-1:0)).slice(e);return Promise.all(s.map((e=>this.get(e))))}updateMeta(){return this.set("__meta",this.meta)}}},88516:(e,t,s)=>{"use strict";function r({src:e,src2x:t,onLoad:s,onError:r,onLoading:i}){const a=new Image;t?a.srcset=`${e} 1x, ${t} 2x`:a.src=e,a.complete?null==s||s():(i&&i(),s&&(a.onload=()=>{s()}),r&&(a.onerror=()=>{r()}))}s.d(t,{_:()=>r})},74182:(e,t,s)=>{"use strict";function r(e){return e.intended}function i(e){return e.actual}function a(e){return{intended:e,actual:e}}function n(e,t){return e.intended!==t?{intended:t,actual:e.actual}:e}function o(e){return a(e.intended)}function c(e){return a(e.actual)}s.d(t,{At:()=>r,HX:()=>i,ZS:()=>o,fY:()=>n,ku:()=>c,vt:()=>a})},60382:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=!1},9639:(e,t,s)=>{"use strict";s.d(t,{I:()=>p,a:()=>m});var r=s(91171),i=s(32065);const a=(0,r.WL)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]}),n=new class{constructor(e,t,s){this.queue=[],this.inProgress=!1,this.LOG_BATCH_SIZE=20,this.deduplicateTimeout=s||0,this.sendLogAction=e,this.deduplicateQueue=t}addToQueue(e){this.queue.push(e),this.queue=this.deduplicateQueue(this.queue),this.startQueue()}startQueue(){this.sendNextLog()}sendNextLog(){this.inProgress||(this.inProgress=!0,setTimeout((()=>{this.sendLog()}),this.deduplicateTimeout))}sendLog(){if(!this.queue.length)return void(this.inProgress=!1);const e=this.queue.splice(0,this.LOG_BATCH_SIZE);this.sendLogAction(e).then((()=>{this.inProgress=!1,this.sendNextLog()})).catch((()=>{this.inProgress=!1,e.forEach((e=>{this.addToQueue(e)})),this.addToQueue({environment:"client",level:"warn",message:"Error during send log","error.type":"sendLogError"})}))}}((function(e){return a("/_/log",{method:"post",data:e,timeout:3e4,headers:{"Content-Type":"application/json"}})}),(function(e){const t=(s=e=>(e=>{let t=5381,s=e.length;for(;s;)t=33*t^e.charCodeAt(--s);return String(t>>>0)})("error.type"in e?`${e["error.type"]}_${e.message}`:`${e.log_id}`),e.reduce(((e,t)=>{const r=s(t);return void 0!==e[r]?(e[r].count++,e):(e[r]={data:t,count:1},e)}),{}));var s;return(0,i.sm)(t).map((e=>{const t=e.data;return Object.assign(Object.assign({},t),{count:t.count>1?e.count+t.count-1:e.count})}))}),1e3),o=s(60382),c=o.Logger?function(){const e=new o.Logger({exitOnError:!1,emitErrs:!1,levels:{fatal:0,error:1,warn:2,info:3}});return e.add(o.transports.Console,{handleExceptions:!1,json:!0,stringify:!0,timestamp:!0,prettyPrint:!1}),e}():void 0;var d=s(18310),l=s(35023);function u(e){return e.noCropValues?e:(0,l.LG)(e,(e=>"string"==typeof e?e.slice(0,1e3):e))}function p(e){n.addToQueue(u((0,d.O)(e)))}function m(e){const{level:t}=e;c.log(t,u((0,d.O)(e)))}},16916:(e,t,s)=>{"use strict";s.d(t,{L:()=>r});const r=(e,t=2)=>{if(t<=1)return e;const[s,r]=e,i=(r.lon-s.lon)*(t-1)/2,a=(r.lat-s.lat)*(t-1)/2;return[{lon:s.lon-i,lat:s.lat-a},{lon:r.lon+i,lat:r.lat+a}]}},49804:(e,t,s)=>{"use strict";s.d(t,{$H:()=>a,I4:()=>i,iN:()=>o});var r=s(9729);function i({center:e,zoom:t,mapSize:s,rotation:i,pitch:a}){const n=[e.lon,e.lat],o=[s.width,s.height];return[(0,r.screenPointToLonLat)([0,0],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a}),(0,r.screenPointToLonLat)([o[0],0],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a}),(0,r.screenPointToLonLat)([0,o[1]],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a}),(0,r.screenPointToLonLat)([o[0],o[1]],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a})]}function a({center:e,zoom:t,mapSize:s,pitch:r,rotation:a}){const[n,o,c,d]=i({center:e,zoom:t,mapSize:s,pitch:r,rotation:a});return`POLYGON((${n[0]} ${n[1]},${o[0]} ${o[1]},${d[0]} ${d[1]},${c[0]} ${c[1]},${n[0]} ${n[1]}))`}const n=Math.PI/180;function o(e,t){const s=e.y*n,r=t.y*n,i=(t.x-e.x)*n,a=Math.cos(s)*Math.sin(r)-Math.sin(s)*Math.cos(r)*Math.cos(i),o=Math.sin(i)*Math.cos(r);return function(e){if(0<=e&&e<360)return e;const t=360;return(360*e/t%t+t)%t}(Math.atan2(o,a)/n)}},73158:(e,t,s)=>{"use strict";s.d(t,{x1:()=>g,mo:()=>c,BN:()=>m,$Y:()=>v,uN:()=>p,KJ:()=>y,k8:()=>f,CR:()=>b});var r=s(85608),i=s(34647),a=s(95305),n=s(53157),o=s(88032);const c="undefined"==typeof window?64:Math.ceil(64*window.devicePixelRatio),d=new Map,l=new Map,u=new Map,p=e=>u.get(e),m=()=>{var e;return null===(e=u.get("pin"))||void 0===e?void 0:e.document};function g(){const e=s(53047),t=e.keys(),r=new RegExp("./(?<styleId>[^/]+)/markersGroup/(?<group>[^/]+)/style.json");t.filter((e=>e.match(r))).forEach((s=>{var n,o,c,l;const u=null===(o=null===(n=s.match(r))||void 0===n?void 0:n.groups)||void 0===o?void 0:o.styleId,p=null===(l=null===(c=s.match(r))||void 0===c?void 0:c.groups)||void 0===l?void 0:l.group,m=`./${u}/icons`;if(u&&p){const r=`./${u}/markersGroup/${p}/generalization.json`,n=(0,i.A)(e(s)),o=t.includes(r)?e(r):void 0;Object.keys(n.icons).forEach((t=>{const s=n.icons[t];Object.keys(s).forEach((t=>{const r=s[t];if(r)try{const i=e(`${m}/${r.img}`),n=i&&!i.startsWith((0,a.c)())?(0,a.c)():"";s[t]=Object.assign(Object.assign({},r),{img:`${n}${i}`})}catch(e){}}))}));const c=d.get(u)||{styles:{},generalization:{}};c.styles[p]=n,c.generalization[p]=o,d.set(u,c)}}))}const h=new Set(["smallbullet","bigbullet","middlebullet","commercial","commercial_logo","commercial_immersive","commercial_logo_immersive","pin","pin-commercial","pin-commercial-logo"]);function f(){const e=new DOMParser,t=new Set,s=new Set(Object.values(o.j$));return d.forEach((e=>{Object.values(e.styles).forEach((e=>{Object.entries(e.icons).forEach((([e,r])=>{h.has(e)&&Object.values(r).forEach((e=>{t.add(e.img)})),s.has(e)&&Object.values(r).forEach((e=>{t.add(e.img)}))}))}))})),Promise.all(Array.from(t).map((t=>fetch(t).then((s=>(0,r.sH)(this,void 0,void 0,(function*(){const r=yield s.text();u.set(t,{dataUrl:`data:image/svg+xml,${encodeURIComponent(r)}`,document:e.parseFromString(r,"image/svg+xml")})})))))))}function b(e){return d.get(e)}function v(e){var t;return e?null===(t=u.get(e))||void 0===t?void 0:t.document:void 0}function y(e){const{iconType:t,icon:s,imageUrl:r,state:i,rubric:a,color:o}=e,d=`${r||a||""}_${i}_${o||""}_${t||""}`;let u=l.get(d);return u||(u=e=>{var t,r,i,a;const d=s.document.cloneNode(!0).querySelector("svg");if(!d)return s.dataUrl;if("unknown"!==e.type){const s=function(e,t){if("raster"===e.type){const s=document.createElement("canvas");return s.width=t,s.height=t,s.getContext("2d").drawImage(e.source,0,0,t,t),s.toDataURL()}const s=(new DOMParser).parseFromString(e.source,"image/svg+xml").querySelector("svg");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${t}`),`data:image/svg+xml;base64,${(0,n.WG)(s.outerHTML)}`}(e,c);null===(t=d.getElementById("icon_image"))||void 0===t||t.setAttribute("href",s)}return o&&(null===(r=d.getElementById("marker_color_fill"))||void 0===r||r.setAttribute("fill",o),null===(i=d.getElementById("marker_color_fill2"))||void 0===i||i.setAttribute("fill",o),null===(a=d.getElementById("marker_color_stroke"))||void 0===a||a.setAttribute("stroke",o)),`data:image/svg+xml,${encodeURIComponent(d.outerHTML)}`},l.set(d,u)),u}},6494:(e,t,s)=>{"use strict";function r(e,t){return`${e}:${t}`}function i(e){const t=e.split(":");return{productId:t.slice(0,t.length-1).join(":"),branchId:t[t.length-1]}}s.d(t,{a:()=>r,y:()=>i})},51451:(e,t,s)=>{"use strict";function r(e,t,s){return Math.max(Math.min(e,s),t)}s.d(t,{qE:()=>r})},65671:(e,t,s)=>{"use strict";s.d(t,{UM:()=>i});var r=s(35023);function i(e,t){const s=t({},{});return()=>function(e,t){return function(e,t){for(const s in e)e[s]&&e[s].mockName(`${t}.${s}`);return e}((0,r.LG)(t,(()=>function(){const e=jest.fn();return e.mockImplementation((()=>{const t=e.getMockName();throw new Error(`There is no method "${t}" implementation`)})),e}())),e)}(e,s)}},62508:(e,t,s)=>{"use strict";s.d(t,{S:()=>r});const r=(0,s(14041).createContext)({})},54752:(e,t,s)=>{"use strict";s.d(t,{Ml:()=>n,fn:()=>o});var r=s(14041),i=s(62508);const a={isPending:!1},n={isPending:!0,data:void 0,error:void 0};function o(e){const t=(0,r.useContext)(i.S).dispatch,s=e?t(e):void 0,[n,o]=(0,r.useState)(s?s.getState():a);return(0,r.useEffect)((()=>{if(!s)return void o(a);let e=n.data;const t=()=>{const{isPending:t,data:r,error:i}=s.getState();t&&void 0===r?o({isPending:t,error:i,data:e}):(o({isPending:t,data:r,error:i}),e=r)},r=s.subscribe(t);return t(),()=>{r()}}),[s]),n}},54006:(e,t,s)=>{"use strict";function r(e,t=1){if(0===t||!isFinite(t))return e;const s=Math.round(e/t)*t;return parseFloat(s.toFixed(8))}s.d(t,{W:()=>r})},59050:(e,t,s)=>{"use strict";function r(e,t){return!!e&&e.hasOwnProperty(t)}s.d(t,{C:()=>r})},32065:(e,t,s)=>{"use strict";s.d(t,{YD:()=>r.Y,Up:()=>a,sm:()=>i}),s(35023);var r=s(88056);function i(e){return void 0!==Object.values?Object.values(e):function(e){const t=Array(Object.keys(e).length);let s=0;for(const r in e)e.hasOwnProperty(r)&&(t[s]=e[r],s+=1);return t}(e)}function a(e,t){const s={};for(const r of t)e.hasOwnProperty(r)&&(s[r]=e[r]);return s}},88056:(e,t,s)=>{"use strict";function r(e){return"object"!=typeof e?[]:Object.keys(e)}s.d(t,{Y:()=>r})},11449:(e,t,s)=>{"use strict";function r(e,t,s){const r=[...Object.keys(e),...Object.keys(t)],i={};for(const a of r)i.hasOwnProperty(a)||(i[a]=s(e[a],t[a]));return i}s.d(t,{h:()=>r})},18310:(e,t,s)=>{"use strict";function r(e){const t={};let s=!1;for(const r in e){const i=e[r];void 0!==i?t[r]=i:s=!0}return s?t:e}s.d(t,{O:()=>r})},15401:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});const r=Object.prototype.hasOwnProperty,i=(e,t)=>{if(e===t)return!0;if("object"!=typeof e||null===e)return!1;if("object"!=typeof t||null===t)return!1;const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(let i=0;i<s.length;i++){const o=s[i];if(!r.call(t,o)||!((a=e[o])===(n=t[o])?0!==a||0!==n||1/a==1/n:a!=a&&n!=n))return!1}var a,n;return!0}},84711:(e,t,s)=>{"use strict";function r(e,t,s){const r=new IntersectionObserver(s,t);return r.observe(e),r}s.d(t,{Z:()=>r})},92695:(e,t,s)=>{"use strict";s.d(t,{p:()=>c,k:()=>d});const r=(e,t)=>{const s=[...e],r=t/100;if(s.sort(((e,t)=>e-t)),r<=0)return s[0];if(r>=1)return s[s.length-1];const i=Math.max(s.length*r-1,0),a=Math.ceil(i);return a===i?(s[i]+s[i+1])/2:s[a]};var i=s(44293),a=s(48699),n=s(12017);const o=e=>{let t=0,s=0,o=[];const c=()=>{"undefined"!=typeof window&&(t=requestAnimationFrame((()=>{s||(s=Date.now());const e=Date.now();o.push(e-s),s=e,c()})))};return{startTracker:c,stopTracker:c=>{if(!o.length)return cancelAnimationFrame(t),void(s=0);const d=((e,t)=>({eventName:t,hardwareInfo:(0,i.Z)(),url:window.location.href,percentile50Perf:r(e,50),percentile90Perf:r(e,90)}))(o,e);cancelAnimationFrame(t),s=0,o=[],c((0,n.K2)((0,a.TE)(["Map",`${e}_50percentile`,`${e}_50percentile`,d.percentile50Perf]),(0,a.TE)(["Map",`${e}_90percentile`,`${e}_90percentile`,d.percentile90Perf])))}}},c=o("map_move_after_search"),d=o("show_tooltip_after_markers_update")},62797:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(19400);const i=(e,t,s,i=3)=>{const a=e.length>i,n=e.map(((t,s)=>({id:t.id,url:1===e.length?(0,r.bI)(t)?t.preview_urls["640x"]:t.preview_urls["656x340"]:(0,r.bI)(t)?t.preview_urls["320x"]:t.preview_urls["176x176"],counter:a&&s===i-1?e.length:void 0})));return{photosForGallery:e.map((e=>{var i;return{id:e.id,url:(0,r.ED)(e)?e.url:null!==(i=e.preview_urls.url)&&void 0!==i?i:"",preview_urls:(0,r.bI)(e)?{"328x170":e.preview_urls["320x"],"88x88":e.preview_urls["320x"],"656x340":e.preview_urls["640x"],"176x176":e.preview_urls["320x"],"116x116":e.preview_urls["320x"],"232x232":e.preview_urls["320x"]}:{"328x170":e.preview_urls["328x170"],"88x88":e.preview_urls["88x88"],"656x340":e.preview_urls["656x340"],"176x176":e.preview_urls["176x176"],"116x116":e.preview_urls["116x116"],"232x232":e.preview_urls["232x232"]},status:"active",block_reason:"",is_visible:!0,copyright:{title:(null==t?void 0:t.first_name)?t.first_name:(0,r.ED)(e)?e.owner.name:"",code:s,icon:(null==t?void 0:t.image)?t.image:(0,r.ED)(e)?e.copyright.icon:""},modification_time:"date_created"in e?e.date_created:e.modification_time,creation_time:"date_created"in e?e.date_created:e.creation_time,is_main:!1}})),photos:n}}},78170:(e,t,s)=>{"use strict";s.d(t,{V:()=>o,r:()=>c});var r=s(46579),i=s(37573),a=s(87017),n=s(62200);function o(e,t,s){return{use:(r,i)=>{const[n,o,c]=d(e,r,t,s?Object.assign(Object.assign({},s),i):i);return(0,a.useQuery)(n,o,c)},prefetch:s=>{const r=t(s);return(0,n.uL)(l(r,e,s),u(r))},withQueryState:(s,r)=>{const i=t(s);return(0,n.mn)(l(i,e,s),r)},invalidate:s=>{const r=t(s);return(0,n.WG)(l(r,e,s))},setQueryData:(s,r)=>{const i=t(s);return(0,n.CN)(l(i,e,s),r)}}}function c(e,t,s){return{use:(r,i)=>{const[n,o,c]=d(e,r,t,s?Object.assign(Object.assign({},s),i):i),l=(0,a.useInfiniteQuery)(n,o,c);return Object.assign(Object.assign({},l),{fetchNextPage:()=>l.fetchNextPage(),fetchPreviousPage:()=>l.fetchPreviousPage()})},prefetch:s=>{const r=t(s);return(0,n.g8)(l(r,e,s),u(r))},withQueryData:(s,r)=>{const i=t(s);return(0,n.R0)(l(i,e,s),r)},invalidate:s=>{const r=t(s);return(0,n.WG)(l(r,e,s))},setQueryData:(s,r)=>{const i=t(s);return(0,n.cC)(l(i,e,s),r)}}}const d=(e,t,s,a)=>{const n=(0,r.U)(),o=(0,i.A)();if(!t)return["void",()=>{throw 1},{enabled:!1}];const c=s(t),d=l(c,e,t),p=u(c);return[d,e=>p({config:n,services:o,context:e}),a]},l=(e,t,s)=>Array.isArray(e)&&e[0]?[t,e[0]]:[t,s],u=e=>"function"==typeof e?e:e[1]},62200:(e,t,s)=>{"use strict";s.d(t,{CN:()=>l,R0:()=>c,WG:()=>n,ZT:()=>u,cC:()=>d,g8:()=>a,mn:()=>o,uL:()=>i});var r=s(85608);const i=(e,t)=>({type:"query:prefetch",payload:(s,i)=>(0,r.sH)(void 0,void 0,void 0,(function*(){yield s.prefetchQuery(e,(e=>t(Object.assign(Object.assign({},i),{context:e}))))}))}),a=(e,t)=>({type:"query:prefetch",payload:(s,i)=>(0,r.sH)(void 0,void 0,void 0,(function*(){yield s.prefetchInfiniteQuery(e,(e=>t(Object.assign(Object.assign({},i),{context:e}))))}))}),n=e=>({type:"query:invalidate",payload:(t,s)=>(0,r.sH)(void 0,void 0,void 0,(function*(){yield t.invalidateQueries(e)}))}),o=(e,t)=>({type:"query:getQueryState",payload:s=>t(s.getQueryState(e))}),c=(e,t)=>({type:"query:getInfinityQueryData",payload:s=>t(s.getQueryData(e))}),d=(e,t)=>({type:"query:setInfinityQueryState",payload:s=>s.setQueryData(e,t)}),l=(e,t)=>({type:"query:setQueryState",payload:s=>s.setQueryData(e,t)}),u=(e,t)=>({dispatch:s})=>r=>i=>"query:getQueryState"===i.type||"query:getInfinityQueryData"===i.type?s(i.payload(e)):"query:prefetch"===i.type||"query:invalidate"===i.type?i.payload(e,t):"query:setQueryState"===i.type||"query:setInfinityQueryState"===i.type?i.payload(e):r(i)},91171:(e,t,s)=>{"use strict";s.d(t,{WL:()=>d,oU:()=>c,pe:()=>o});var r=s(26660),i=s.n(r),a=s(61120),n=s(35023);class o{constructor(e){this.details=e}}function c(e){return e instanceof o&&((0,n.Jt)(e,"details.response.status")||(0,n.Jt)(e,"details.code"))||""}function d(e,t={GDPRAllowedServiceHosts:[]}){const s=function(e){if(a.S$||!e.analyticsBssEnableTestHandles)return;const t=window;return t.testHandles=t.testHandles||{},t.testHandles.XHRActive=[],t.testHandles}(e);return(r,a={})=>{const n=Object.assign(Object.assign(Object.assign({method:"get",withCredentials:!1,timeout:e.networkTimeout},a),t.headers&&{headers:Object.assign(Object.assign({},t.headers),a.headers)}),{url:l(r,{useHttps:t.useHttps,hostname:e.hostname}),httpAgent:t.httpAgent,httpsAgent:t.httpsAgent});return e.enableProxy&&(n.proxy={host:e.proxyHost,port:e.proxyPort}),a.timeout&&(n.timeout=a.timeout),e.transformRequest&&(n.transformRequest=e.transformRequest),s&&s.XHRActive.push(r),e.featureReadOnly&&!t.GDPRAllowedServiceHosts.some((e=>r.includes(e)))?Promise.reject({message:"GDPR blocked service",skipLog:!0}):i().request(n).then((e=>(u(r,s),e))).catch((e=>{throw u(r,s),new o(e)}))}}function l(e,t){const{hostname:s,useHttps:r}=t;let i=e;return a.S$&&"/"===e[0]&&"/"!==e[1]&&(i=`//${s}${i}`),a.S$&&i.startsWith("//")&&(i=`${r?"https":"http"}:${i}`),i}function u(e,t){t&&t.XHRActive.find(((s,r)=>(s===e&&t.XHRActive.splice(r,1),!1)))}},66333:(e,t,s)=>{"use strict";function r(e,t=!1,s=o){let r,i;const c=t?a:n;return(...t)=>(c(t,r,s)||(i=e(...t),r=t),i)}function i(e,t,s){return function(e,...t){return(s,i)=>{const a=e(i,...t);return r(((e,t,...r)=>{const i=s.map((s=>s(e,t,...r)));return a(...i)}))}}(r,!!s&&s.compareByFirstArgOnly)(e,t)}function a(e,t,s){return!!t&&s(e[0],t[0])}function n(e,t,s){return!(!t||t.length!==e.length)&&e.every(((e,r)=>s(e,t[r])))}function o(e,t){return e===t}s.d(t,{Bj:()=>r,Mz:()=>i})},32106:(e,t,s)=>{"use strict";s.d(t,{Cg:()=>c,Dc:()=>a,Tm:()=>l,bO:()=>n,bd:()=>d,iv:()=>o,qn:()=>i,rv:()=>u,vQ:()=>p});var r=s(80690);const i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sun","Sat"],n="HH:mm",o="h:mm a",c=r.ts,d="00:00",l=60,u=1440,p=60},12441:(e,t,s)=>{"use strict";s.d(t,{eW:()=>m,_x:()=>i._x,Vi:()=>g,KS:()=>i.KS,lN:()=>h,BS:()=>p,yn:()=>d,wg:()=>l,As:()=>c,eJ:()=>u});var r=s(32106),i=s(96342),a=s(57786),n=s(31512),o=s(35023);function c(e,t){return!d(e)&&!e[t.day]}function d(e){return e.is_24x7||!r.qn.find((t=>{const s=e[t];if(s){const e=s.working_hours[0];return!(e&&"00:00"===e.from&&"24:00"===e.to)}return!0}))}function l(e){const t=r.qn[0],s=e[t];return!d(e)&&!!s&&2!==s.working_hours.length&&r.qn.every((r=>{if(r===t)return!0;const i=e[r];return!!i&&i.working_hours[0].from===s.working_hours[0].from&&i.working_hours[0].to===s.working_hours[0].to}))}function u(e){const t=(0,o.cJ)(e,["comment","is_24x7"]),s=Object.keys(t).reduce(((t,s)=>e[s]?[...t,s]:t),[]),i=e[s[0]];return!(!i||s.length<7)&&r.qn.every((t=>{const s=e[t];return!!s&&function(e,t,s){if(e.length!==t.length)return!1;const r=[...t];return e.every((e=>{const t=r.findIndex((t=>s?s(e,t):e===t));return-1!==t&&(r.splice(t,1),!0)}))}(s.working_hours,i.working_hours,((e,t)=>e.from===t.from&&e.to===t.to))}))}function p(e,t){if(d(e))return{type:a.XU.aroundTheClock};const s=function(e,t){const s=r.qn.indexOf(t.day),a=[].concat(r.qn.slice(s),r.qn.slice(0,s+1)),o=e[(0,i.Q1)(t.day,6)],c=o?o.working_hours:[],d=(0,i.QU)((0,i.mM)(c)),l=function(e,t){return t.map((t=>e[t])).map(((e,t)=>e?e.working_hours.map((e=>Object.assign(Object.assign({},e),{dayOffset:t}))):[])).reduce(((e,t)=>(null!=e?e:[]).concat(null!=t?t:[])))}(e,a),u=function(e,t,s){return e.reduce(((e,t)=>e.concat((0,i.QU)(t))),(0,n.A)(t)).filter((e=>e.dayOffset>0||e.time>s.time))}(l,d,t);return u.slice(0,2)}(e,t),o=s[0],c=s[1],l=(0,i.vl)(t.time,o.time,o.dayOffset);if(o.type===a.Bx.close){if(l>=r.vQ)return{type:a.XU.opened};const e=c?(0,i.Tu)(o,c):void 0;return l<=1?{type:void 0!==e?a.XU.willCloseInMinuteForBreak:a.XU.willCloseInMinute,breakType:e}:{type:void 0!==e?a.XU.willCloseInTimeForBreak:a.XU.willCloseInTime,breakType:e,minutesTo:l}}if(o.type===a.Bx.open){const s=o.dayOffset,n=-1!==r.Dc.indexOf(t.day);if(0===s){const s=g(e,t),n=(0,i.lZ)(s,t.time),c=n&&(0,i._x)(n);return l>=r.vQ?{type:void 0!==c?a.XU.willOpenAtTimeFromBreak:a.XU.willOpenAtTime,breakType:c,time:o.time}:l<=1?{type:void 0!==c?a.XU.willOpenInMinuteFromBreak:a.XU.willOpenInMinute,breakType:c}:{type:void 0!==c?a.XU.willOpenInTimeFromBreak:a.XU.willOpenInTime,breakType:c,minutesTo:l}}return 1===s?{type:a.XU.willOpenTomorrowAtTime,time:o.time}:2!==s||n?{type:a.XU.willOpenAtDayAtTime,day:(0,i.Q1)(t.day,o.dayOffset),time:o.time}:{type:a.XU.willOpenOvermorrowAtTime,day:(0,i.Q1)(t.day,o.dayOffset),time:o.time}}}function m(e,t){const s=r.qn.indexOf(t.day);return r.qn.map(((t,r)=>{const a=e[t],n=a?a.working_hours:[],o=!n||!n.length,c=(0,i.KS)(n),d=(0,i.Fo)(n),l=s===r;return{dayName:t,timeIntervals:c,breaks:d,breakTypes:d.map((e=>(0,i._x)(e))),closed:o,present:l}}))}function g(e,t){const s=e[t.day],r=s?s.working_hours:[];return(0,i.Fo)(r)}function h(e){return{day:r.qn[e.getDay()],time:f(e)}}function f(e){return`${(0,i.u2)(e.getHours())}:${(0,i.u2)(e.getMinutes())}`}},57786:(e,t,s)=>{"use strict";var r,i,a;s.d(t,{Bx:()=>a,M3:()=>i,XU:()=>r}),function(e){e[e.aroundTheClock=0]="aroundTheClock",e[e.opened=1]="opened",e[e.willCloseInMinuteForBreak=2]="willCloseInMinuteForBreak",e[e.willCloseInMinute=3]="willCloseInMinute",e[e.willCloseInTimeForBreak=4]="willCloseInTimeForBreak",e[e.willCloseInTime=5]="willCloseInTime",e[e.willOpenAtTime=6]="willOpenAtTime",e[e.willOpenAtDayAtTime=7]="willOpenAtDayAtTime",e[e.willOpenTomorrowAtTime=8]="willOpenTomorrowAtTime",e[e.willOpenOvermorrowAtTime=9]="willOpenOvermorrowAtTime",e[e.willOpenInMinute=10]="willOpenInMinute",e[e.willOpenInTime=11]="willOpenInTime",e[e.willOpenInMinuteFromBreak=12]="willOpenInMinuteFromBreak",e[e.willOpenInTimeFromBreak=13]="willOpenInTimeFromBreak",e[e.willOpenAtTimeFromBreak=14]="willOpenAtTimeFromBreak"}(r||(r={})),function(e){e[e.lunch=0]="lunch",e[e.rest=1]="rest"}(i||(i={})),function(e){e[e.open=0]="open",e[e.close=1]="close"}(a||(a={}))},96342:(e,t,s)=>{"use strict";s.d(t,{Fo:()=>f,HG:()=>x,KS:()=>v,Q1:()=>d,QU:()=>u,Tu:()=>g,YI:()=>j,_x:()=>h,lD:()=>y,lZ:()=>o,mM:()=>l,u2:()=>b,vl:()=>p});var r=s(57786),i=s(32106),a=s(11792),n=s(14441);function o(e=[],t){return e.find((e=>function(e,t){const s=t.from,r=t.to>t.from?t.to:c(t.to);return e>=s&&e<r}(t,e)))}function c(e){const t=e.split(":");return`${Number(t[0])+24}:${t[1]}`}function d(e,t){return i.qn[(i.qn.indexOf(e)+t)%7]}function l(e){const t=(0,a.A)(e,(e=>e.from>e.to));if(t)return{from:i.bd,to:t.to}}function u(e){if(!e)return[];const t=e.to<e.from;return[{type:r.Bx.open,time:e.from,dayOffset:e.dayOffset||0},{type:r.Bx.close,time:e.to,dayOffset:(e.dayOffset||0)+Number(t)}]}function p(e,t,s){const r=m(e),a=m(t);return a.m-r.m+(a.h-r.h)*i.Tm+s*i.rv}function m(e){const t=e.split(":");return{h:+t[0],m:+t[1]}}function g(e,t){if(e.dayOffset===t.dayOffset)return h({from:e.time,to:t.time})}function h(e){const t=e.to!==i.bd?e.to:c(e.to);return e.from>="12:00"&&t<="16:00"?r.M3.lunch:r.M3.rest}function f(e=[]){return e.reduce(((e,t)=>{const s=(0,n.A)(e);return s&&(s.to=t.from),e.concat({from:t.to,to:""})}),[]).slice(0,-1)}function b(e){return e<10?`0${e}`:`${e}`}function v(e){return e.length?[e.reduce(((e,t)=>(e.from||(e.from=t.from),e.to=t.to,e)),{from:"",to:""})]:[]}function y(e,t,s,r=!0){const a=x(e,s?i.iv:i.bO),n=x(t,s?i.iv:i.bO);return s&&r?`${a} ${n}`:`${a}${i.Cg}${n}`}function x(e,t){return t!==i.bO&&e?j(e):e}function j(e){const[t,s]=e.split(":").map((e=>Number(e))),r=t>=12&&t<24?"pm":"am";return`${t%12?b(t%12):12}:${s<10?b(s):s}&nbsp;${r}`}},12017:(e,t,s)=>{"use strict";s.d(t,{K2:()=>n,NV:()=>l,Q2:()=>d,_7:()=>o,aR:()=>a,bh:()=>i,gd:()=>p,lQ:()=>g,n5:()=>c,rq:()=>m,uk:()=>h,v6:()=>u});var r=s(85608);const i={NAME:"__SIGNAL_NAME__"},a=e=>(...t)=>({type:"INTERNAL/ACTION_SEQUENCE",payload:t,[i.NAME]:e});function n(...e){return{type:"INTERNAL/ACTION_SEQUENCE",payload:e}}function o(...e){return{type:"INTERNAL/ACTION_PARALLEL",payload:e}}function c(e,t){return(...s)=>{return{type:"INTERNAL/SIGNAL",payload:r={name:e,params:1===s.length?s[0]:s,action:t(...s)},[i.NAME]:r.name};var r}}function d(e){return{type:"INTERNAL/ACTION_WITH_STATE",payload:e}}function l(e){return{type:"INTERNAL/ACTION_WITH_CONFIG",payload:e}}const u=e=>({type:"INTERNAL/DEFER",payload:{fn:e}});function p(e){return"undefined"!=typeof window?e:g()}function m(e){return d((t=>t.session.isSearchBot?g():e))}function g(e){return{type:"INTERNAL/NOOP",payload:e}}const h=e=>u((()=>(0,r.sH)(void 0,void 0,void 0,(function*(){return yield new Promise((t=>setTimeout(t,e)))}))))},4340:(e,t,s)=>{"use strict";s.d(t,{IG:()=>a});let r="undefined"!=typeof window?window:void 0;function i(e){return r&&function(e){try{if(e.setItem("testStorageItem","1"),"1"!==e.getItem("testStorageItem"))throw new Error;return e.removeItem("testStorageItem"),!0}catch(e){return!1}}(r[e])?r[e]:function(){const e={};return Object.defineProperty(e,"key",{value(e){return Object.keys(this)[e]}}),Object.defineProperty(e,"getItem",{value(e){return this[e]}}),Object.defineProperty(e,"setItem",{value(e,t){this[e]=t}}),Object.defineProperty(e,"removeItem",{value(e){delete this[e]}}),Object.defineProperty(e,"length",{get(){return Object.keys(this).length}}),Object.defineProperty(e,"clear",{value(){for(const e in this)this.hasOwnProperty(e)&&delete this[e]}}),Object.create(e)}()}const a={local:i("localStorage"),session:i("sessionStorage")}},53157:(e,t,s)=>{"use strict";s.d(t,{jM:()=>o,ND:()=>p,ks:()=>c,KL:()=>l,y4:()=>r,WG:()=>i,IC:()=>d,wz:()=>g,xO:()=>h,M8:()=>m});const r=e=>decodeURIComponent(atob(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),i=e=>btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(parseInt("0x"+t,16)))));var a=s(637),n=s.n(a);const o=e=>(n().str(e)>>>0).toString(16).padStart(8,"0").toUpperCase();function c(e){const{str:t,start:s=0,end:r=e.str.length,letterInTheEnd:i=!1}=e;if(!t)return t;const a=t.slice(s,r);return i?u(a):a}function d(e,t,s){const r=e.split(/<br\s*\/?>/);for(;r.length>0&&!r[r.length-1];)r.pop();const i=[];let a=0,n=!1;for(let e=0;e<r.length&&a<t;e++){const o=l(r[e]),c=o.replace(/&[-#0-9a-z]+;/gi," "),d=Math.ceil(c.length/s)||1;if(a+d>t){e===r.length-1&&(n=!0);const c=s*(t-a);let d=o.substring(0,c);if(/&[-#0-9a-z]*$/.test(d)){const e=o.substring(c).match(/^[-#0-9a-z]*;/);e&&(d+=e[0]||"")}i.push(d);break}i.push(o),a+=d}const o=r.length!==i.length;for(;i.length>0&&!i[i.length-1];)i.pop();return i.length?((o||n)&&(i[i.length-1]=u(i[i.length-1])+"…"),i.join("<br>")):""}function l(e){return e.replace(/<[^>]*>/g,"")}function u(e){return e.replace(/(&[-#0-9a-z]+;|[^0-9a-zа-яё])+$/i,"")}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e){return e.trim().split("\n").map((e=>e.trim())).join("\n").replace(/(\n\n\n+)/g,"\n\n\n").replace(/[^\S\n]+/g," ")}function g(e){const t=e.charAt(1);return(s=t).toUpperCase()!==s||function(e){return/^\s$/.test(e)}(t)||!t?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e):e;var s}function h(e){return e.split("").reduce(((e,t)=>0|(e<<5)-e+t.charCodeAt(0)),0)+2147483647+1}},92460:(e,t,s)=>{"use strict";s.d(t,{AH:()=>n,vv:()=>i});var r=s(38376);const{StyleSheet:i,StyleSheetServer:a,css:n}=r.StyleSheet.extend([{selectorHandler:(e,t,s)=>-1===e.indexOf("&")?null:s(e.replace(/&/g,t))}])},26064:(e,t,s)=>{"use strict";s.d(t,{AH:()=>r.AH,mG:()=>i.C,pz:()=>a});var r=s(92460),i=s(13730);const a=r.vv.rehydrate},13730:(e,t,s)=>{"use strict";s.d(t,{C:()=>r,Z:()=>i});const r=s(89366).default?s(89366).default:s(89366);function i(e,t){const s={};for(const i in e)e.hasOwnProperty(i)&&(s[i]=r(e[i],t||"ltr"));return s}},95e3:(e,t,s)=>{"use strict";s.d(t,{DP:()=>l,O$:()=>o,O4:()=>u});var r=s(31085),i=s(14041),a=s(81618),n=s(31108);const o=({children:e,theme:t})=>(0,r.jsx)(d.Provider,Object.assign({value:t},{children:(0,r.jsx)(c,Object.assign({rtl:t.rtl},{children:i.Children.only(e)}))})),c=({rtl:e,children:t})=>(0,r.jsx)("div",Object.assign({},a.dx.n("wat-theme"),a.dx.s(e?"rtl":"ltr"),{dir:e?"rtl":"ltr",style:{height:"100%"}},{children:t})),d=i.createContext(n.Z.dgis_ltr_desktop),l=()=>i.useContext(d),u=e=>n.Z[(0,n.r)("2gis"===e.brandCode?"dgis":"urbi",e.rtl?"rtl":"ltr",e.isMobileDevice?"mobile":"desktop")]},69158:(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var r=s(9154),i=s(35023);function a(e,t){if(1===t)return e;const s=(0,r.E)(e);return s?function(e,[t,s,r]){return`rgba(${t}, ${s}, ${r}, ${(0,i.jF)(e,2)})`}(t,s):e}},35023:(e,t,s)=>{"use strict";s.d(t,{AK:()=>b,Bq:()=>o,EE:()=>n,Gv:()=>C,Im:()=>I,Jt:()=>v,LG:()=>a,ND:()=>u,O9:()=>E,OV:()=>g,W7:()=>d,bG:()=>p,cJ:()=>_,jB:()=>x,jF:()=>T,jJ:()=>i,kk:()=>j,kx:()=>k,lQ:()=>l,lx:()=>M,nF:()=>h,oE:()=>y,ox:()=>m,sg:()=>f,t2:()=>w});var r=s(85608);function i(e,t){for(const s in e)if(e.hasOwnProperty(s)&&!1===t(e[s],s))break}function a(e,t){const s={};for(const r in e)e.hasOwnProperty(r)&&(s[r]=t(e[r],r));return s}function n(e,t){const s=e.lastIndexOf(t);return s===e.length-1||-1===s?e[0]:e[s+1]}function o(e){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...e):t.push(e)})),t}const c=s(79514);function d(){return c()}const l=()=>{};function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t){if(!e)return"";const s=(e,s)=>t[s]||"";return e.replace(/\${(\w+)}/g,s).replace(/\$(\w+)/g,s)}const m=e=>e?e.split("_")[0]:"",g=e=>e.split("_")[1];function h(e,t){let s,r;return function(){r?s=()=>e.apply(this,arguments):(e.apply(this,arguments),r=setTimeout((()=>{r=void 0,s&&(s(),s=void 0)}),t))}}function f(e,t){let s;return function(){s&&clearTimeout(s),s=setTimeout((()=>{s=void 0,e.apply(this,arguments)}),t)}}function b(e,t){let s;return(...r)=>(s&&clearTimeout(s),new Promise((i=>{const a=new Promise((e=>{s=setTimeout(e,t)}));a.then((()=>{i(e(...r))}))})))}function v(e,t,s){return e&&t.split(".").reduce(((e,t)=>C(e)?e[t]:Array.isArray(e)?e[+t]:void 0),e)||s}function y(e){return e.filter((e=>!!e))}function x(e,t){const s=[],r=[];for(let i=0;i<e.length;i++){const a=e[i];t(a,i)?s.push(a):r.push(a)}return[s,r]}function j(e){for(const t in e)void 0===e[t]||null===e[t]?delete e[t]:"object"==typeof e[t]&&j(e[t]);return e}function w(e){return!!e}function _(e,t){return t.reduce(((e,t)=>{const s=e,i=t;return s[i],(0,r.Tt)(s,["symbol"==typeof i?i:i+""])}),e)}function C(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}function I(e){return!e||0===Object.keys(e).length}function k(e){const t=e.split("."),s=e.split(":");return s.length>1?function(e){let t=e.join(":");if(8===e.length&&0===t.indexOf("0000:0000:0000:0000:0000:ffff:")&&(t=`::ffff:${t.substr(30)}`),0===t.indexOf("::ffff:")){const s=t.substr(7),r=s.split(".");if(4===r.length)return O(r);const i=s.split(":");return 2!==i.length?S(e):O(i.reduce(((e,t)=>{let s=t.split("");switch(s.length){case 3:s.unshift("0");break;case 2:s=["0",s[0],"0",s[1]];break;case 1:s.unshift("0","0","0")}return e.push(parseInt(`${s[0]}${s[1]}`,16).toString()),e.push(parseInt(`${s[2]}${s[3]}`,16).toString()),e}),[]))}return e.length<2?e.join(":"):S(e)}(s):4===t.length?O(t):e}function O(e){return e[3]="0",e.join(".")}function S(e){const t=`${e[0]}:${e[1]}::`;return":::"===t?"::":t}function T(e,t=6){return parseFloat(e.toFixed(t))}function E(e){return null!=e}function M(e,t,s=6){return Math.abs(e-t)<Math.pow(10,-s)}},65622:(e,t,s)=>{"use strict";s.d(t,{pv:()=>a,zF:()=>n.z});const r={sizeLimit:void 0,photoCount:void 0,maxDailyPhotoCount:void 0,maxVerticalRatio:void 0,maxHorizontalRatio:void 0,maxHeight:void 0,maxWidth:void 0,minWidth:void 0,minHeight:void 0,approvedMIMERegExpr:void 0},i={productFeedback:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:10,approvedMIMERegExpr:/image\/(png|gif|bmp|jp(e?)g)/}),userAvatar:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:1,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:170,minHeight:170,approvedMIMERegExpr:/image\/(png|webp|jp(e?)g)/}),entityPhoto:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:9,maxDailyPhotoCount:20,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:600,minHeight:600,approvedMIMERegExpr:/image\/(png|webp|jp(e?)g)/}),reviewPhoto:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:10,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:600,minHeight:600,approvedMIMERegExpr:/image\/(png|jp(e?)g)/}),typedFeedback:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:10,maxVerticalRatio:5,maxHorizontalRatio:5,approvedMIMERegExpr:/image\/(png|jp(e?)g)/})};function a(e){return i[e]}var n=s(81239)},81239:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(50432);function i(e,t){return new Promise(((s,i)=>{const a=function(e,t){const s=e.name.slice(2+(e.name.lastIndexOf(".")-1>>>0));return s&&["heic","heif"].indexOf(s)>-1?"failFormatHEIF":e.size>t.sizeLimit?"failSize":e.type.match(t.approvedMIMERegExpr)?void 0:"failFormat"}(e,t);if(a)return i(a),void(0,r.vV)({message:"Ошибка валидации при загрузке файла изображения",level:"info",id:"ffv510",payload:{type:"debug",subtype:"filevalidation",data:JSON.stringify({error:a,fileType:e.type,fileName:e.name,fileSize:e.size})}});const n=new FileReader;n.onload=()=>{if(!n.result)return void i("failRead");const e=new Image;e.onload=()=>{const a=function(e,t){return t.minWidth&&e.width<t.minWidth?"smallWidth":t.minHeight&&e.height<t.minHeight?"smallHeight":t.maxWidth&&e.width>t.maxWidth?"largeWidth":t.maxHeight&&e.height>t.maxHeight?"largeHeight":t.maxHorizontalRatio&&e.width/e.height>t.maxHorizontalRatio?"wide":t.maxVerticalRatio&&e.height/e.width>t.maxVerticalRatio?"narrow":void 0}(e,t);if(a)return i(a),void(0,r.vV)({message:"Ошибка валидации при загрузке файла изображения",level:"info",id:"dff144",payload:{type:"debug",subtype:"filevalidation",data:a}});s(e)},e.onerror=()=>{i("failRead")},e.src=n.result.toString()},n.onerror=()=>{i("failRead")},n.readAsDataURL(e)}))}},76192:(e,t,s)=>{"use strict";s.d(t,{u:()=>i,z:()=>a});var r=s(33682);const i=["sbol-review"],a={args:[{key:"subtype",isRequired:!1,formatCheck:e=>(0,r.y)(i,e)}],type:"error",name:"error",isQuery:!1}},27917:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});var r=s(35023);function i(e){const[t,s]=e.split(","),i=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t>180?180:t<-180?-180:(0,r.jF)(t)}(t),a=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t>90?90:t<-90?-90:(0,r.jF)(t)}(s);if(void 0!==i&&void 0!==a&&!Number.isNaN(i)&&!Number.isNaN(a))return{lon:i,lat:a}}},21788:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var r=s(35023);function i(e){return`${(0,r.jF)(e.lon)},${(0,r.jF)(e.lat)}`}},333:(e,t,s)=>{"use strict";s.d(t,{w:()=>$,q:()=>V});var r=s(35023),i=s(88618);function a(e){const t=[];return(0,r.jJ)(e,((e,s)=>{!e||"sort"===s&&"distance"===e||t.push("true"===e?s:`${s}${i.K8}${e}`)})),t.join(`${i.Ed}`)}function n(e){const t={};return e?(e.split(i.Ed).forEach((e=>{const[s,r="true"]=e.split(i.K8);s&&r&&(t[s]=function(e){return/^\d+-\d+$/.test(e)?e.replace("-",i.lm):e}(r))})),t):t}const o={args:[{key:"query",isRequired:!0,formatCheck:/^.+$/},{key:"activeTab",name:"tab",isRequired:!1,formatCheck:/^(catalog)$/},{key:"rubricId",name:"rubricId",isRequired:!1,formatCheck:/^(\d+,)*(\d+)$/},{key:"attributeId",name:"attributeId",isRequired:!1,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"search",name:"search",isQuery:!1};var c=s(12148);const d={args:[{key:"tab",name:"tab",isRequired:!1,formatCheck:/^.+$/},{key:"points",name:"points",isRequired:!1,formatCheck:/^.+$/,serialize:e=>e&&(0,c.gb)(e),deserialize:c.YH},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],type:"directions",name:"directions",isQuery:!1};var l=s(21788),u=s(27917);const p={args:[{key:"entityId",isRequired:!1,formatCheck:/^[1-9]\d*$/},{key:"entityWithPoint",isRequired:!1,formatCheck:/^[1-9]\d*,(-?\d+(\.\d+)?,-?\d+(\.\d+)?)(\/|$)/,deserialize:e=>{const[t,s,r]=e.split(",");return{id:t,point:(0,u.q)(`${s},${r}`)}}},{key:"point",isRequired:!1,formatCheck:/^-?[.\d]+,-?[.\d]+$/,serialize:e=>e&&(0,l.R)(e),deserialize:u.q},{key:"tab",name:"tab",isRequired:!1,formatCheck:/^[a-z]+$/},{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"entranceId",name:"entranceId",isRequired:!1,formatCheck:/^\d+$/}],validate:e=>!!(e.entityId||e.entityWithPoint||e.point),type:"firm",name:"firm",isQuery:!1},m={args:[{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"offers",name:"offers",isQuery:!1},g={args:[{key:"buildingId",isRequired:!0,formatCheck:/^\d+$/},{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],type:"inside",name:"inside",isQuery:!1},h=Object.assign(Object.assign({},p),{type:"geo",name:"geo"}),f=Object.assign(Object.assign({},p),{type:"route",name:"route"}),b=Object.assign(Object.assign({},p),{type:"platform",name:"platform"}),v=Object.assign(Object.assign({},p),{type:"station",name:"station"}),y=Object.assign(Object.assign({},p),{type:"stationEntrance",name:"stationEntrance"}),x={args:[{key:"productId",isRequired:!0,formatCheck:/^\S+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],type:"product",name:"product",isQuery:!1};function j(e){return e?(Math.round(100*e)/100).toString():""}const w={args:[{key:"center",isRequired:!1,serialize:e=>void 0!==e?(0,l.R)(e):"",deserialize:e=>(0,u.q)(e),formatCheck:/^-?[.\d]+,-?[.\d]+$/},{key:"zoom",isRequired:!1,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,serialize:j,deserialize:e=>parseFloat(e)},{key:"pitch",name:"p",isRequired:!1,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,serialize:j,deserialize:e=>e?parseFloat(e):0},{key:"rotation",name:"r",isRequired:!1,formatCheck:/^-?\d{1,3}(?:\.\d{1,2})?$/,serialize:j,deserialize:e=>e?parseFloat(e):0}],type:"mapview",name:"m",isQuery:!0},_={args:[{key:"value",formatCheck:/^\d+$/,serialize:e=>void 0===e?"0":String(e),deserialize:e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},isRequired:!1}],isQuery:!0,type:"floor",name:"floor"},C=["source","medium","term","content","campaign"].map((e=>({args:[{key:"value",isRequired:!0}],type:e,name:`utm_${e}`,isQuery:!0}))),I={args:[{key:"orgId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],type:"branches",name:"branches",isQuery:!1},k={args:[{key:"rubricId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"rubric",name:"rubric",isQuery:!1};function O(e){return e.map((e=>(0,r.jF)(e))).join(",")}function S(e){const t=(0,u.q)(e);return t?[t.lon,t.lat]:void 0}const T={args:[{key:"points",isRequired:!1,formatCheck:/^.+$/,serialize:e=>e&&e.map(O).join("|"),deserialize:e=>(0,r.oE)(e.split("|").map(S))}],type:"ruler",name:"ruler",isQuery:!0};function E(e){const t=e.split("|"),s=(0,u.q)(t[0]);if(s)return{type:"point",lonLat:s,entityId:t[2]}}const M=[{args:[{key:"rsType",name:"rsType",isRequired:!1},{key:"from",name:"from",isRequired:!1,formatCheck:/^.+$/,deserialize:E},{key:"to",name:"to",isRequired:!1,formatCheck:/^.+$/,deserialize:E}],type:"online4RouteSearch",name:"routeSearch",isQuery:!1},{args:[{key:"point",isRequired:!0,deserialize:E}],type:"online4From",name:"from",isQuery:!1},{args:[{key:"point",isRequired:!0,deserialize:E}],type:"online4To",name:"to",isQuery:!1},{args:[{key:"value",isRequired:!0}],type:"online4RsType",name:"rsType",isQuery:!1},{args:[],type:"online4Collections",name:"collections",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/},{key:"innerFirmId",name:"firm",isRequired:!1,formatCheck:/^\d+$/}],type:"online4Floors",name:"floors",isQuery:!1},{args:[{key:"stopId",isRequired:!0}],type:"online4Stop",name:"stop",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/}],type:"online4Reviews",name:"reviews",isQuery:!1},{args:[{key:"tab",isRequired:!0,deserialize:e=>{switch(e){case"discount":return"discounts";case"reviews":return"reviews";case"photos":return"photos";default:return"contacts"}}}],type:"online4MediaTab",name:"mediaTab",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Discounts",name:"discounts",isQuery:!1},{args:[{key:"entityId",isRequired:!0},{key:"tab",name:"group",isRequired:!1,deserialize:e=>"internet"===e?"providers":"services"}],type:"online4Service",name:"service",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Inside",name:"inside",isQuery:!1},{args:[],type:"online4Feedback",name:"feedback",isQuery:!1},{args:[],type:"online4AddOrg",name:"addOrg",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Article",name:"article",isQuery:!1},{args:[{key:"id",isRequired:!0,formatCheck:/^\d+$/}],type:"online4City",name:"city",isQuery:!1},{args:[{key:"id",isRequired:!0,formatCheck:/^(geo-|firms-)\d+$/,deserialize:e=>e.replace(/(geo-|firms-)/g,"")}],type:"online4Callout",name:"callout",isQuery:!1},{args:[{key:"lang",isRequired:!0}],type:"online4Lang",name:"lang",isQuery:!1},{args:[{key:"center",isRequired:!0,deserialize:e=>(0,u.q)(e),formatCheck:/^-?[.\d]+[,╎]-?[.\d]+$/}],type:"online4Center",name:"center",isQuery:!1},{args:[{key:"zoom",isRequired:!0,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,deserialize:e=>parseFloat(e)}],type:"online4Zoom",name:"zoom",isQuery:!1}],P={args:[{key:"adsIds",isRequired:!0,formatCheck:/^\d+(,\d+)*$/},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],type:"buyHere",name:"buyHere",isQuery:!1},L={args:[{key:"adsIds",isRequired:!0,formatCheck:/^\d+(,\d+)*$/},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],type:"fmcg",name:"fmcg",isQuery:!1},N={args:[{key:"calc",name:"calc",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e?Object.entries(e).filter((e=>!!e[1])).map((e=>`${e[0]}=${e[1]}`)).join(";"):"",deserialize:e=>{if(!e)return;const t=e.split(";").map((e=>e.split("="))).reduce(((e,[t,s])=>Object.assign(Object.assign({},e),{[t]:s})),{}),s=(null==t?void 0:t.volume)?parseInt(t.volume,10):void 0;return{action:(null==t?void 0:t.action)?t.action:void 0,currencyCode:null==t?void 0:t.currencyCode,volume:s&&s>0?s:void 0}}},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],isQuery:!1,type:"exchange",name:"exchange"},A={args:[{key:"category",isRequired:!1,formatCheck:/^(sale|rent|daily|saleCommercial|rentCommercial)$/},{key:"at",name:"at",isRequired:!1,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:n}],isQuery:!1,type:"realty",name:"realty"};var R=s(76192);const z={args:[{key:"value",formatCheck:/^[1-5]$/,deserialize:Number,isRequired:!1}],isQuery:!0,type:"reviewRating",name:"rating"},U={args:[{key:"value",isRequired:!0,serialize:e=>void 0!==e?(0,l.R)(e):"",deserialize:e=>(0,u.q)(e),formatCheck:/^-?[.\d]+,-?[.\d]+$/}],isQuery:!0,type:"previousMapView",name:"pmv"},B={slugs:[{args:[{key:"id",isRequired:!0,formatCheck:/^\d+$/}],type:"region",compile:({code:e})=>e?[e]:void 0,name:"region",isQuery:!1},{args:[],type:"rubrics",name:"rubrics",isQuery:!1},{args:[{key:"parentId",isRequired:!0,formatCheck:/^\d+$/}],type:"subrubrics",name:"subrubrics",isQuery:!1},o,k,{args:[{key:"stub",isRequired:!0,formatCheck:/^metro$/}],type:"metroScheme",name:"directions",isQuery:!1},d,{args:[{key:"branchId",isRequired:!0,formatCheck:/^\d+$/},{key:"categoryId",name:"categoryId",isRequired:!1,formatCheck:/^\d+$/}],type:"prices",name:"prices",isQuery:!1},{args:[{key:"profileTab",isRequired:!0,formatCheck:/^[a-zA-Z].+$/}],type:"my",name:"my",isQuery:!1},{args:[{key:"userId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"user",name:"user",isQuery:!1},{args:[{key:"page",isRequired:!0,formatCheck:/^(invite|tab)$/},{key:"userId",isRequired:!1,formatCheck:/^[a-zA-Z0-9].+$/}],type:"mapfriends",name:"mapfriends",isQuery:!1},{args:[],type:"friendsList",name:"friendsList",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/}],type:"friends",name:"friends",isQuery:!1},{args:[{key:"group",isRequired:!1,formatCheck:/^[a-zA-Z].+$/}],type:"achievements",name:"achievementsGroup",isQuery:!1},m,{args:[{key:"productId",isRequired:!0,formatCheck:/^\S+$/}],type:"offer",name:"offer",isQuery:!1},p,g,h,f,b,v,y,x,{args:[{key:"entityType",isRequired:!0,formatCheck:/^\w+$/},{key:"entityId",isRequired:!0,formatCheck:/^\d+$/},{key:"photoId",name:"photoId",isRequired:!1}],type:"gallery",name:"gallery",isQuery:!1},I,_,{args:[{key:"OLD_ONLINE_4_PUBLIC_FAVORITE_ID",isRequired:!1}],type:"favorites",name:"favorites",isQuery:!1},{args:[],type:"interesting",name:"interesting",isQuery:!1},{args:[],type:"guidebook",name:"guidebook",isQuery:!1},{args:[{key:"collectionId",isRequired:!0}],type:"collection",name:"collection",isQuery:!1},{args:[{key:"collectionId",isRequired:!0}],type:"private",name:"private",isQuery:!1},w,{args:[{key:"lang",isRequired:!0}],isQuery:!1,compile:e=>[e.lang],type:"lang",name:""},{args:[],type:"addreview",name:"addreview",isQuery:!1},{args:[{key:"source",name:"source",isRequired:!1}],type:"writeReview",name:"writeReview",isQuery:!0},{args:[{key:"value",isRequired:!0}],type:"stat",name:"stat",isQuery:!0},T,{args:[{key:"value",formatCheck:/^[a-zA-Z0-9].+$/,isRequired:!0}],isQuery:!0,type:"layer",name:"layer"},{args:[{key:"value",formatCheck:/^[a-zA-Z0-9].+$/,isRequired:!0}],isQuery:!0,type:"sublayer",name:"sublayer"},{args:[],type:"feedback",name:"feedback",isQuery:!0},{args:[],type:"addOrg",name:"addOrg",isQuery:!0},{args:[],type:"traffic",name:"traffic",isQuery:!0},{args:[{key:"status",isRequired:!0,formatCheck:/^[a-zA-Z].+$/}],type:"auth",name:"auth",isQuery:!1},{args:[],type:"award2019",name:"award2019",isQuery:!1},P,L,N,A,{args:[{key:"id",isRequired:!0},{key:"tab",name:"tab",isRequired:!1}],isQuery:!1,type:"realtyAd",name:"ad"},{args:[{key:"profileTab",isRequired:!1,formatCheck:/^[a-zA-Z].+$/}],type:"profile",name:"profile",isQuery:!1},R.z,{args:[],type:"new_year_promo",name:"new_year_promo",isQuery:!1},{args:[{key:"intensity",isRequired:!1}],type:"snow",name:"snow",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"story",name:"story",isQuery:!1},{args:[],type:"preferences",name:"preferences",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"firmStory",name:"firmStory",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"fmcgStory",name:"fmcgStory",isQuery:!1},z,{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"discoveryStory",name:"discoveryStory",isQuery:!1},U,{args:[{key:"sessionId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"geolocation",name:"geolocation",isQuery:!1},{args:[{key:"state",isRequired:!0}],type:"immersive",name:"immersive",isQuery:!0},{args:[],type:"immersivePromo",name:"immersive-promo",isQuery:!1},...C,...M]};var H=s(60042);const F=["ru","en","es","cs","ar","az","uz"];function D(e,t,s){const r={};if(e.args.every((e=>{let i=t.shift();if(!i)return!1;if(e.name&&e.name!==i)return t.unshift(i),!0;const a=s.slugs.some((e=>e.name===i));return!e.isRequired&&a?(t.unshift(i),!1):!(e.name&&e.name===i&&(i=t.shift(),!i)||(function(e,t){const s=e.formatCheck;return!s||(s instanceof RegExp?!!t.match(s):s(t))}(e,i)?(r[e.key]=function(e,t){return e.deserialize?e.deserialize(t):t}(e,i),0):(t.unshift(i),e.isRequired)))})),!e.validate||e.validate(r))return e.args.every((e=>!e.isRequired||!!r[e.key]))?r:void 0}function V(e,t=B){const{path:s,query:r}=(0,H.qg)(e),i=function(e,t){const s={},r=[...e],i=[],a=[];let n=-1;for(;r.length;){const e=r.shift();if(n+=1,!e)continue;let o,c;for(const s of t.slugs){if(s.name!==e||s.isQuery)continue;o=s;const i=r.length;c=D(o,r,t);const a=r.length;if(c){n+=i-a;break}}o?c?s[o.type]=Object.assign({type:o.type},c):(a.push({name:e,value:[],position:n,isQuery:!1}),r.shift()):i.push({name:e,value:[],position:n,isQuery:!1})}return{payload:s,unknown:i,invalid:a}}(s,t),a=function(e,t){const s={},r=[],i=[];for(;e.length;){const a=e.shift();if(!a)continue;const[n,o]=a,c=t.slugs.find((e=>e.name===n&&e.isQuery));if(!c){r.push({name:n,value:o,isQuery:!0});continue}const d=D(c,o,t);d?s[c.type]=Object.assign({type:c.type},d):i.push({name:n,value:o,isQuery:!0})}return{payload:s,unknown:r,invalid:i}}(r,t);return function(e){const t=Object.assign({},e.payload),s=[...e.unknown];return s[0]&&s[0].name&&0===s[0].position&&F.includes(s[0].name)&&(t.lang={type:"lang",lang:s[0].name},s.shift()),s[0]&&s[0].name&&(0===s[0].position||1===s[0].position)&&(t.region={type:"region",code:s[0].name},s.shift()),Object.assign(Object.assign({},e),{payload:t,unknown:s})}({payload:Object.assign(Object.assign({},i.payload),a.payload),unknown:[...i.unknown,...a.unknown],invalid:[...i.invalid,...a.invalid]})}function Z(e,t){return(0,r.oE)(t.reduce(((t,{key:s,name:r,serialize:i})=>{const a=i?i(e[s]):e[s];return a?r?[...t,r,a]:[...t,a]:t}),[]))}function $(e,t=B){return(0,H.wE)((s=e,r=t.slugs,s.reduce(((e,t)=>{const s=r.find((e=>e.type===t.type));if(!s)return e;const i=s.compile&&s.compile(t),a=i&&i.length>0?i:[s.name,...Z(t,s.args)];if(s.isQuery){const[t,...s]=a;return Object.assign(Object.assign({},e),{query:[...e.query,[t,s]]})}return Object.assign(Object.assign({},e),{path:[...e.path,...a]})}),{path:[],query:[]})));var s,r}},60042:(e,t,s)=>{"use strict";s.d(t,{wE:()=>c,qg:()=>a,vz:()=>d});var r=s(35023);const i=e=>{try{return decodeURIComponent(e)}catch(e){return""}},a=e=>{const[t,s=""]=e.split("?");return{path:n(t),query:o(s.split("#")[0])}};function n(e){return"/"===e?[]:(0,r.oE)(e.split("/")).map(i)}function o(e){if(""===e)return[];const t=e.split("&");return(0,r.oE)(t.map((e=>{if(!e)return;const[t,s]=e.split("=");return t?s?[t,(0,r.oE)(i(s).split("/"))]:[t,[]]:void 0})))}const c=e=>{const t=function(e){return"/"+d(...e.map((e=>encodeURIComponent(e))))}(e.path),s=function(e){return(0,r.oE)(e.map((([e,t])=>{if(""===e)return;const s=encodeURIComponent((0,r.oE)(t).join("/"));return""===s?e:`${e}=${s}`}))).join("&")}(e.query);return s?`${t}?${s}`:t};function d(...e){return e.slice(1).reduce(((e,t)=>t?(e.endsWith("/")||""===e?e+=t.startsWith("/")?t.slice(1):t:e+=t.startsWith("/")?t:"/"+t,e):e),e[0]||"")}},37171:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(14041);const i=e=>{const t=(e=>{const[,t]=(0,r.useReducer)((e=>e+1),0),s=(0,r.useRef)(null),{replace:i,append:a}=e,n=i?i(e.format(e.value)):e.format(e.value),o=(0,r.useRef)(!1);return(0,r.useLayoutEffect)((()=>{if(null==s.current)return;const[,r,o,c,d]=s.current;let l=s.current[0];s.current=null;const u=c&&d,p="number"==typeof r.selectionStart?r.selectionStart:void 0,m=l.slice(p).search(e.accept||/\d/g),g=-1!==m?m:0,h=t=>(t.match(e.accept||/\d/g)||[]).join(""),f=h(l.substr(0,p)),b=e=>{let t=0,s=0;for(let r=0;r!==f.length;++r){let i=e.indexOf(f[r],t)+1,a=h(e).indexOf(f[r],s)+1;a-s>1&&(i=t,a=s),s=Math.max(a,s),t=Math.max(t,i)}return t};if(!0===e.mask&&o&&!d){let e=b(l);const t=h(l.substr(e))[0];e=l.indexOf(t,e),l=`${l.substr(0,e)}${l.substr(e+1)}`}let v=e.format(l);null==a||r.selectionStart!==l.length||d||(o?v=a(v):""===h(v.slice(-1))&&(v=v.slice(0,-1)));const y=i?i(v):v;return n===y?t():e.onChange(y),()=>{let t=b(v);if(null!=e.mask&&(o||c&&!u))for(;v[t]&&""===h(v[t]);)t+=1;r.selectionStart=r.selectionEnd=t+(u?1+g:0)}})),(0,r.useEffect)((()=>{const e=e=>{"Delete"===e.code&&(o.current=!0)},t=e=>{"Delete"===e.code&&(o.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),{value:null!=s.current?s.current[0]:n,onChange:r=>{const i=r.target.value;s.current=[i,r.target,i.length>n.length,o.current,n===e.format(i)],t()}}})(e);return e.children(t)}},19263:(e,t,s)=>{"use strict";s.d(t,{bY:()=>f,iL:()=>o,lj:()=>n,sX:()=>d});var r=s(35023),i=s(85512);const a=/^[A-Z]+\((.+)\)/.source;function n(e){const t=h(e);if(t)switch(t){case"POINT":return{type:"point",geometry:o(e)};case"MULTIPOINT":return{type:"points",geometry:c(e)};case"LINESTRING":return{type:"polyline",geometry:d(e)};case"POLYGON":return{type:"polygon",geometry:l(e)};case"MULTILINESTRING":return{type:"polyline",geometry:u(e)};case"MULTIPOLYGON":return{type:"polygon",geometry:p(e)}}}function o(e){const t=g(e);if("POINT"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;const[r,i]=s[1].split(" ");return void 0!==r&&void 0!==i?{lon:parseFloat(r),lat:parseFloat(i)}:void 0}function c(e){const t=g(e);if("MULTIPOINT"!==h(t))return;const s=new RegExp(a).exec(t);return s?m(s[1].split(",")):void 0}function d(e){const t=g(e);if("LINESTRING"!==h(t))return;const s=new RegExp(a).exec(t);return s?m(s[1].split(",")):void 0}function l(e){const t=g(e);if("POLYGON"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;const r=[],i=/\((.*?)\)/g;let n;for(;n=i.exec(s[1]);)r.push(m(n[1].split(",")));return r}function u(e){const t=g(e);if("MULTILINESTRING"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;const r=[],i=/\((.*?)\)/g;let n;for(;n=i.exec(s[1]);)r.push(m(n[1].split(",")));return r}function p(e){const t=g(e);if("MULTIPOLYGON"!==h(t))return;const s=new RegExp(a).exec(t);return s?s[1].split(")),((").map((e=>`POLYGON((${e.replace("((","").replace("))","")}))`)).map(l).filter(r.t2).reduce(((e,t)=>(e.push(...t),e)),[]):void 0}function m(e){return e.reduce(((e,t)=>{const[s,r]=t.replace(/\(|\)/g,"").split(" ");return e.push({lon:parseFloat(s),lat:parseFloat(r)}),e}),[])}function g(e){return e.replace(/\s*([\s(),])\s*/g,"$1")}function h(e){const t=/((MULTI)?(POINT|LINESTRING|POLYGON)).+/.exec(e);return t&&t[1]?t[1]:void 0}function f(e){if(e&&(0,i.F)(e))return`POINT(${(0,r.jF)(e.lon,7)} ${(0,r.jF)(e.lat,7)})`}},67235:(e,t,s)=>{"use strict";s.d(t,{Ks:()=>a,R9:()=>o,WN:()=>n,kq:()=>r,oB:()=>i}),s(9729);const r=0,i=50,a=180,n=-180;function o(e){return e.reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]])}},536:(e,t,s)=>{"use strict";s.d(t,{z:()=>n,k:()=>a});var r=s(35023);function i(e){return(t,s)=>({id:s||(0,r.W7)(),type:e,payload:t})}const a=i("success"),n=i("error")},47919:(e,t,s)=>{"use strict";s.d(t,{xf:()=>O,OM:()=>C,EV:()=>S,MY:()=>_,QW:()=>E,ze:()=>T,y3:()=>w,kR:()=>M});var r=s(66333),i=s(46287),a=s(66698),n=s(31222),o=s(56688);function c(e){var t,s;return"links"in e&&(null===(s=null===(t=e.links)||void 0===t?void 0:t.branches)||void 0===s?void 0:s.count)||0}var d=s(73428),l=s(41013),u=s(80905),p=s(95530),m=s(59954),g=s(42853),h=s(54684),f=s(77017),b=s(46516);function v(e){return(0,b.O)(e)&&!(0,h.Q)(e)&&(t=e.rubrics,!!(0,f.F)(t));var t}var y=s(35023),x=s(27293),j=s(53790);const w=(0,r.Mz)([e=>(0,i.DE)(e)],(e=>{if(!e||!e.data)return!1;const t=c(e.data);return!!t&&t>a.RK})),_=(0,r.Mz)([({state:e,entityId:t})=>(0,i.DE)({state:e,entityId:t}),({state:e,entityReviewsSearchId:t})=>(0,i.YH)({state:e,searchId:t||""}),({state:e,orgReviewsSearchId:t})=>(0,i.YH)({state:e,searchId:t||""})],((e,t,s)=>function(e,t,s){const r=e&&e.data,i=r&&(0,b.O)(r)&&r.reviews&&r.reviews.org_review_count||0,a=r&&"reviews"in r&&r.reviews&&r.reviews.general_review_count||0,n=t&&t.data&&t.data.total,o=s&&s.data&&s.data.total;return{entityCount:void 0!==n?n:a,orgCount:void 0!==o?o:i}}(e,t,s))),C=(0,r.Mz)([e=>(0,i.DE)(e),e=>_(e),({state:e,entityId:t})=>(0,u.f_)(e.appContext.frames,t),({state:e,entityId:t})=>(0,i.Sf)({state:e,entityId:t}),({state:e})=>"realty"===e.appContext.activeLayer,e=>e.featureReadOnly,({state:e})=>e.config.featureMenu,e=>e.photosCount,e=>e.menuPhotosCount,e=>e.offersCount,e=>e.realtyCount],((e,t,s,r,i,a,n,o,c,d,l)=>I({profile:e,reviewsCount:t,discountsTotal:r.data?r.data.total:0,frame:s,isRealtyLayer:i,isReadOnly:a,featureMenu:n,photosCount:o,offersCount:d,menuPhotosCount:c,realtyCount:l})));function I(e){const{profile:t,reviewsCount:s,discountsTotal:r,frame:i,offersCount:a,isRealtyLayer:u,isReadOnly:m,featureMenu:g,photosCount:f,menuPhotosCount:y,realtyCount:x}=e,w=t&&t.data;if(!w)return[];const _=(0,n.w)(w).reduce(((e,t)=>{var n,_,C,I;let k;switch(t){case"contacts":case"info":k={tab:t};break;case"inside":const e=c(w);k=0===e?void 0:{tab:t,count:e};break;case"photos":k=m||"__empty"===w.id?void 0:{tab:t,count:f};break;case"menu":k=!m&&g&&v(w)?{tab:t,count:y}:void 0;break;case"prices":const O=(0,b.O)(w)&&a?a:0;k=(0,h.Q)(w)?{tab:t,count:O}:void 0;break;case"realty":const S="entity"===(null==i?void 0:i.type)&&((null===(n=i.tabRealty)||void 0===n?void 0:n.currentCategoryValue)||(null===(I=(null===(_=i.tabRealty)||void 0===_?void 0:_.currentFiltersValues)&&Object.keys(null===(C=i.tabRealty)||void 0===C?void 0:C.currentFiltersValues))||void 0===I?void 0:I.length));k=("has_realty"in w&&w.has_realty||(0,j._)(w)&&(x||S))&&!u?{tab:t,count:x}:void 0;break;case"services":{const e=(0,d.o)(w);e&&(k={tab:t,count:e});break}case"providers":{const e=(0,l.p)(w);e&&(k={tab:t,count:e});break}case"discounts":k=r?{tab:t,count:r}:void 0;break;case"reviews":{if((0,p.k)(w)||m||!(0,o.E)(w))break;const e=i&&"entity"===i.type&&i.tabReviews,r=(0,b.O)(w)&&w.reviews&&w.reviews.is_org_reviews;k=e?{tab:t,count:e.isOrg?s.orgCount:s.entityCount}:{tab:t,count:r?s.orgCount:s.entityCount}}}return k?e.concat([k]):e}),[]);return _.length,_}const k=(0,r.Bj)((e=>e),!1,g.A),O=(0,r.Mz)([({state:e,entityId:t,searchId:s})=>{const r=(0,i.Tq)({state:e,entityId:t,searchId:s}).data;return r&&"links"in r&&r.links&&r.links.database_entrances?k(r.links.database_entrances):m.Ml},({state:e,entityId:t,searchId:s})=>{var r,a,n;return null===(n=null===(a=null===(r=(0,i.Tq)({state:e,entityId:t,searchId:s}))||void 0===r?void 0:r.data)||void 0===a?void 0:a.context)||void 0===n?void 0:n.entrance_id},({entranceId:e})=>e],((e,t,s)=>{const r=t||s;if(r){const t=e.find((e=>e.id===r));if(t)return{vectors:t.geometry.vectors,points:t.geometry.points}}return e.reduce(((e,t)=>t&&t.is_visible_on_map?{vectors:e.vectors.concat(t.geometry&&t.geometry.vectors||[]),points:e.points.concat(t.geometry&&t.geometry.points||[])}:e),{vectors:[],points:[]})})),S=e=>t=>(0,i.DE)({state:t,entityId:e||""}),T=(0,r.Mz)([({state:e})=>{const t=(0,u.Su)(e.appContext.frames);return t?(0,x.$8)({state:e,props:{frame:t}}):void 0}],(e=>{if(null==e?void 0:e.length)return(0,y.oE)(e.map((({id:e,search_attributes:t})=>(null==t?void 0:t.best_keyword)?`${e}:${t.best_keyword}`:void 0))).join(",")})),E=e=>t=>{var s,r;if(e)return null===(r=null===(s=(0,i.DE)({state:t,entityId:e}).data)||void 0===s?void 0:s.search_attributes)||void 0===r?void 0:r.best_keyword},M=e=>t=>t.session.is3dEnabled&&"branch"===e.type&&!0===e.has_ads_model},74961:(e,t,s)=>{"use strict";s.d(t,{Pg:()=>v,XR:()=>g,Z6:()=>h,c_:()=>p,cq:()=>m,p0:()=>y});var r=s(10522),i=s(35023),a=s(32065),n=s(46287),o=s(84082),c=s(82393),d=s(66333),l=s(96891),u=s(59954);const p=e=>(0,d.Mz)([t=>(0,o.cB)(t)[e],c.MJ],((e,t)=>e?(0,l.q)(e,t):u.Ml)),m=()=>(0,d.Mz)([e=>(0,o.b1)(e)],(e=>(0,a.sm)(e).filter((t=>{const s=t&&t.collection_id?e[null==t?void 0:t.collection_id]:void 0;return(0,o.OZ)(t)&&(0,o.xM)(s)&&s.is_visible_on_map})))),g=(0,d.Mz)([o.b1,c.MJ],((e,t)=>(0,l.q)((0,a.sm)(e).filter(o.xM),t))),h=e=>{const t=(0,i.oE)((0,a.sm)((0,r.to)(e))),s=t.find((({place_type:e})=>"home"===e)),n=t.find((({place_type:e})=>"work"===e));return[{type:"home",place:s,entity:x(e,s)},{type:"work",place:n,entity:x(e,n)}]},f=(0,n.eJ)(),b=(0,n.eJ)(),v=(0,d.Mz)([r.cd,e=>{const t=(0,r.cd)(e);if(t&&t.object_id)return f({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"home",place:e,entity:t}})),y=(0,d.Mz)([r.cU,e=>{const t=(0,r.cU)(e);if(t&&t.object_id)return b({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"work",place:e,entity:t}}));function x(e,t){if(t&&t.object_id)return(0,n.Tq)({state:e,entityId:t.object_id})}},88337:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(82393);function i(e){const t=(0,r.n$)(e);return{lang:e.appContext.lang,product:"online5",userId:e.session.userId,sessionId:e.config.sessionId,screen:e.session.screen,city:t&&t.code||"unknown",mapType:e.session.is3dEnabled?"3d":"2d",source:"what is source"}}},83720:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(80905),i=s(31800),a=s(55839);const n=e=>t=>{var s;if(!(0,i.S)(e)(t))return!1;const n=(0,r.w1)((0,a.t)(t),e),o=n&&"filterPanelState"in n?n.filterPanelState:void 0;if(!o)return!1;const c="realty"===(null==n?void 0:n.type)&&"building"===(null===(s=n.entity)||void 0===s?void 0:s.type);return!("auto"===o&&t.config.isMobileDevice||("auto"===o?1!==t.appContext.frames.length||c:"manuallyOpened"!==o))}},31800:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var r=s(80905),i=s(55839);const a=e=>t=>{const s=(0,r.w1)((0,i.t)(t),e);if(!s)return!1;switch(s.type){case"search":case"product":case"realty":case"exchange":return!0;case"directions":switch(s.tab){case"bus":return!0;case"car":case"truck":return(e=>{const t=(0,r.bB)(e.appContext.frames,"directions");return!!t&&!!t.isPpngFiltersAvailable})(t);default:return!1}default:return!1}}},55839:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});const r=(0,s(66333).Mz)([e=>e.appContext.frames,e=>e.appContext.staticFrames.dashboard.id],((e,t)=>e.length?e:[{id:t,type:"dashboard"}]))},88817:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});var r=s(55839),i=s(23124),a=s(31897);const n=e=>{if(e.appContext.isDataViewerMinimized)return 0;if(e.config.isMobileDevice)return 0;const t=(0,r.t)(e);return a.k.width+t.reduce(((t,s)=>t+(0,i.q)(s.id)(e)),0)}},46383:(e,t,s)=>{"use strict";s.d(t,{S:()=>o});var r=s(66333),i=s(31800),a=s(83720),n=s(55839);const o=()=>(0,r.Mz)([({state:e,frameId:t})=>c(t)(e),({state:e,frameId:t})=>d(t)(e),({state:e,frameId:t})=>(0,i.S)(t)(e),({state:e,frameId:t})=>(0,a.w)(t)(e)],((e,t,s,r)=>s?{isLeftMost:e,isRightMost:t,hasFilters:s,areFiltersOpened:r}:{isLeftMost:e,isRightMost:t,hasFilters:s})),c=e=>t=>{if(t.config.isMobileDevice)return!0;const s=(0,n.t)(t);return s[s.length-1].id===e},d=e=>t=>!!t.config.isMobileDevice||(0,n.t)(t)[0].id===e},23124:(e,t,s)=>{"use strict";s.d(t,{q:()=>u});var r=s(80905),i=s(64099),a=s(31800),n=s(83720),o=s(55839),c=s(72384);const d="wideCard",l="withWideCard",u=((0,c.n)({name:d,percentRange:[0,0],groups:["controlGroup",l],forHumanFromSeo:!0}),e=>t=>{const s=(0,r.w1)((0,o.t)(t),e),u="entity"===(null==s?void 0:s.type)||"pending"===(null==s?void 0:s.type);return(0,c.l)(d,t.config.experiments)===l&&u?640:s&&(0,a.S)(e)(t)&&(0,n.w)(e)(t)?i.Ej.wideFrameWidth:i.Ej.standardFrameWidth})},71085:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});var r=s(56803),i=s(80905);const a=e=>{var t,s,a,n;const o=e.appContext.frames[0];if("gallery"===(null==o?void 0:o.type)){const i=o.searchId;return null===(s=null===(t=(0,r.s8)({state:e,searchId:i}).data)||void 0===t?void 0:t.searchAttributes)||void 0===s?void 0:s.query_context}const c=(0,i.bB)(e.appContext.frames,"search");if(("query"!==(null==c?void 0:c.searchType)||"catalog"!==c.tab)&&"filials"!==(null==c?void 0:c.searchType))return;const d=(0,i.Xk)(c,"actual");return null===(n=null===(a=(0,r.s8)({state:e,searchId:d}).data)||void 0===a?void 0:a.searchAttributes)||void 0===n?void 0:n.query_context}},2459:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(80905);const i=e=>e.appContext.showTrafficOnMap||!!(0,r.bB)(e.appContext.frames,"directions")||!e.session.is3dEnabled},57744:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});const r={RU:["ru_RU"],KZ:["ru_KZ","kk_KZ"],AE:["en_AE","ar_AE"],IQ:["en_IQ","ar_IQ"],SA:["en_SA","ar_SA"],EG:["en_EG","ar_EG"],CY:["en_CY"],CZ:["cs_CZ"],IT:["it_IT"],CL:["es_CL"],KG:["ru_KG"],UZ:["ru_UZ","uz_UZ"],AZ:["az_AZ","ru_AZ"],BY:["ru_BY"],OM:["en_OM","ar_OM"],BH:["en_BH","ar_BH"],QA:["en_QA","ar_QA"],KW:["en_KW","ar_KW"],MA:["en_MA","ar_MA"],AM:["ru_AM","hy_AM"],GE:["ru_GE","ka_GE"]},i=(0,s(66333).Mz)([e=>e.config,e=>e.appContext.lang,e=>e.appContext.defaultLocale],((e,t,s)=>function(e){const{lang:t,availableLocales:s,defaultLocale:r}=e,i=t.replace("-","_"),a=i.split("_")[0],n=r.split("_")[1];return s.find((e=>e===i))||s.find((e=>e.startsWith(`${a.toLowerCase()}_`)))||s.find((e=>e.endsWith(`_${n.toUpperCase()}`)))||r}({lang:t,availableLocales:r[e.defaultCountryCode]||[],defaultLocale:s})))},15582:(e,t,s)=>{"use strict";s.d(t,{n1:()=>H,Tr:()=>Z,rL:()=>F,uI:()=>W,XZ:()=>D,Pz:()=>R,hv:()=>U,jq:()=>E,Ae:()=>K,JV:()=>z,M_:()=>B,aF:()=>q,iK:()=>A,o5:()=>$,Fq:()=>Q,QS:()=>V,kD:()=>L,Cb:()=>P,Yk:()=>N,_2:()=>Y});var r=s(80905),i=s(74182),a=s(6514),n=s(49804),o=s(66333),c=s(29908),d=s(35023),l=s(18396),u=s(35781),p=s(33920),m=s(65454),g=s(19263),h=s(59954),f=s(88817),b=s(74961),v=s(56803),y=s(83500),x=s(95885),j=s(73158),w=s(37383),_=s(54700),C=s(88032),I=s(26530),k=s(48506),O=s(72384),S=s(31897),T=s(16916);const E=e=>e.appContext.zoom,M={top:56,left:0,right:0,bottom:0,bigTop:100,bigLeft:100,bigRight:100,bigBottom:100},P=(0,o.Mz)([f.b,e=>e.appContext.lang],((e,t)=>{const{bigTop:s,bigLeft:r,bigRight:i,bigBottom:a}=M;return"ar"===t?{topLeft:[i,s],bottomRight:[e+r,a]}:{topLeft:[e+r,s],bottomRight:[i,a]}})),L=(0,o.Mz)([f.b,e=>e.appContext.lang,e=>e.appContext.isDataViewerMinimized,e=>e.config.isMobileDevice],((e,t,s,r)=>{const{top:i,left:a,right:n,bottom:o}=M,c=i,d=a,l=n,u=o;return r?"ar"===t?{topLeft:[l,c],bottomRight:[d,u+S.k.height]}:{topLeft:[d,c],bottomRight:[l,u+S.k.height]}:"ar"===t?{topLeft:[l,c],bottomRight:[s?S.k.width+d:e+d,u]}:{topLeft:[s?S.k.width+d:e+d,c],bottomRight:[l,u]}})),N=(0,o.Mz)([L,e=>e.session.screen],((e,t)=>(0,a.Y)(t,e))),A=(0,o.Mz)([e=>e.appContext.center,e=>e.appContext.zoom,e=>e.appContext.pitch,e=>e.appContext.rotation],((e,t,s,r)=>({center:e,zoom:t,pitch:s,rotation:r}))),R=(0,o.Mz)([e=>U(e)],(e=>{const[t,,s]=e;return[t,s]})),z=({ratio:e})=>(0,o.Mz)([e=>R(e)],(t=>(0,T.L)(t,e))),U=(0,o.Mz)([L,e=>e.session.screen,A],((e,t,s)=>{const{center:r}=s,i=(0,a.Y)(t,e);if(0===i.width||0===i.height)return[r,r,r,r];const o=(0,n.I4)(Object.assign({mapSize:i},s)),[,,c,d]=o.map((e=>({lon:e[0],lat:e[1]}))),l=function(e,t){return e.map((e=>{const s=t.lat+(t.lat-e.lat),r=Math.abs(s)>90?2*Math.sign(s)*90-s:s;return{lon:t.lon+(t.lon-e.lon),lat:r}}))}([c,d],r);return function(e){let t={minLon:-180,maxLat:90,maxLon:180,minLat:-90};return e.length>1&&(t=e.reduce(((e,t)=>{const{lon:s,lat:r}=t;return{minLon:Math.min(e.minLon,s),maxLat:Math.max(e.maxLat,r),maxLon:Math.max(e.maxLon,s),minLat:Math.min(e.minLat,r)}}),{minLon:180,maxLat:-90,maxLon:-180,minLat:90})),[{lon:t.minLon,lat:t.maxLat},{lon:t.minLon,lat:t.minLat},{lon:t.maxLon,lat:t.minLat},{lon:t.maxLon,lat:t.maxLat}]}([...l,c,d])}));function B(e){const t=(0,r.K$)(e.appContext.frames,["collection"]);if(t)return"collection"===t.type?(0,i.vt)(t.collectionId):void 0}const H=e=>{const t=F(e);if(!t)return;const s=(0,v.Iv)({searchId:t,state:e});return s&&s.data};function F(e){const t=(0,r.Su)(e.appContext.frames);if(t)return e.appContext.weak.markers.catalog[t.id]}const D=(0,o.Mz)([w.h,({state:e})=>V(e),({state:e})=>Z(e),({state:e})=>e.config],((e,t,s,r)=>(null==s||s.markers.forEach((s=>{s.icon=function(e){var t,s;const{marker:r,settings:i,group:a,inRubricIconExperiment:n,inBrandColorExperiment:o}=e,c=(null===(t=i[a])||void 0===t?void 0:t.icons)||i.default.icons;return r.is_deleted?(0,_.R)(c,"deleted","deleted_hover"):r.rubr&&n&&!r.logo_url?(0,C.h0)({marker:r,icons:null===(s=i._rubric)||void 0===s?void 0:s.icons}):["commercial","smallbullet","middlebullet","bigbullet"].reduce(((e,t)=>{var s,i;const a=((e,t)=>"commercial"===e?t.has_ads_model?t.logo_url?"commercial_logo_immersive":"commercial_immersive":t.logo_url?"commercial_logo":"commercial":e)(t,r),n=o&&!!r.logo_url&&!!(null===(i=null===(s=r.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.color);return e[t]=(0,I.J)({marker:r,styles:c[a],iconType:a,isBrandColorMarker:n}),e}),{})}({marker:s.data,settings:e.styles,group:t,inRubricIconExperiment:!1,inBrandColorExperiment:!1})})),s))),V=(0,o.Mz)([H,e=>(0,w.h)({state:e}),e=>e.config],((e,t,s)=>{const r=s.markersExperiment&&(0,O.l)(s.markersExperiment,s.experiments);if(r&&"controlGroup"!==r){const e=`experiment${(0,d.ND)(r)}`;if(t.styles[e])return e}return 200===(null==e?void 0:e.code)&&e.items.reduce(((e,t)=>e+(t.cluster?t.cluster.count:1)),0)<20?"fewmarkers":"default"})),Z=(0,o.Mz)([H,F],((e,t)=>{if(!e||200!==e.code||!t)return;const s={},r=e.items.map(((e,r)=>{const i=(e=>{var t,s,r,i,a,n,o,c;return(null===(r=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.marker_logo)||void 0===r?void 0:r.url)&&-1!==(null===(a=null===(i=e.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.marker_logo.url.indexOf(".png"))?(0,x.m)(e.ads.options.marker_logo.url,`${j.mo}x${j.mo}`):null===(c=null===(o=null===(n=e.ads)||void 0===n?void 0:n.options)||void 0===o?void 0:o.marker_logo)||void 0===c?void 0:c.url})(e),a={id:e.id,key:(0,d.ox)(e.id),lonLat:[e.lon,e.lat],type:e.is_advertising||i?"commercial":"bigbullet",buildingId:e.geometry_id,data:{source:"catalog",searchId:t,type:(0,y.y)(e.type),match_type:e.match_type,rubr:e.rubr,source_type:e.source_type,vital:e.vital,is_advertising:e.is_advertising,name:[e.name,e.name_back].filter(d.t2).join(" / "),name_ex:e.name_ex,schedule:e.schedule,context:e.context,reviews:e.reviews,ads:e.ads,cluster:e.cluster,timezone_offset:e.timezone_offset,temporary_unavailable_atm_services:e.temporary_unavailable_atm_services,flags:e.flags,is_deleted:e.is_deleted,logo_url:i,friends:e.friends,has_ads_model:e.has_ads_model}};return s[(0,d.ox)(e.id)]=r,a}));return{indexHashMap:s,markers:r}})),$=(0,o.Mz)([e=>e.appContext.weak.floors,Z],c.k);function q(e){const t=e.appContext.frames.find(u.h);return t&&t.originalSearchId}function W(e){const t=q(e);if(t)return t;const s=e.appContext.frames.find(l.O)||e.appContext.frames.find(p.a)||e.appContext.frames.find(u.h);return s&&(0,r.Xk)(s)}const G=e=>{var t,s;const r=null===(t=e.entity)||void 0===t?void 0:t.data,i=null===(s=e.place)||void 0===s?void 0:s.point;if(!r||!i)return;const a="branch"===r.type?r.name_ex.primary:"name"in r&&r.name||"";return{id:r.id,point:[i.lon,i.lat],name:a,classId:"home"===e.type?1:2,humanReadableClassId:"home"===e.type?"personal_poi_home":"personal_poi_work"}},Q=(0,o.Mz)([m.F,b.Pg,b.p0],((e,t,s)=>{const r=[];if(!e.data&&!t&&!s)return h.Ml;e.data.suggestLastObjects.slice(0,10).forEach((e=>{if(e.entity&&e.entity.id){const t=e.entity,s=t.geometry&&t.geometry.centroid?(0,g.iL)(t.geometry.centroid):t.point;s&&r.push({id:t.id,point:[s.lon,s.lat],name:"name_ex"in t&&t.name_ex?t.name_ex.primary:t.name,classId:t.class_id||0,humanReadableClassId:t.human_readable_class_id})}}));const i=t?G(t):void 0;i&&r.push(i);const a=s?G(s):void 0;return a&&r.push(a),0!==r.length?r:h.Ml})),K=({state:e})=>{const t=(0,k.q)({state:e});if(t&&("entity"===t.type||"pending"===t.type))return t.isCommercial?t.entityIcon:void 0},Y=({state:e})=>{const t=(0,k.q)({state:e});return!(!t||"entity"!==t.type&&"pending"!==t.type)&&Boolean(t.isCommercial)}},11006:(e,t,s)=>{"use strict";s.d(t,{e:()=>o});var r=s(80905),i=s(96536),a=s(40133);const n=(e,t=!0)=>{var s,r,i;if((e=>void 0!==e&&"branch"===e.type)(e))return t&&(null===(i=null===(r=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.poi)||void 0===i?void 0:i.is_premium)?void 0:e.poi_category};function o(e,{checkPremium:t}={checkPremium:!0}){const s=(0,r.pS)(e.appContext.frames,e.appContext.graveyard),o=(0,r.bB)(e.appContext.frames,"search");return(()=>{var r;if(s){if(o){const{profile:t}=(0,i.Y)(e,o);if(1!==(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.searchType))return}return n((0,a.o)(e,s),t)}})()||(()=>{if(o)return n((0,a.L)(e,o),t)})()}},40133:(e,t,s)=>{"use strict";s.d(t,{L:()=>n,o:()=>o});var r=s(46287),i=s(56803),a=s(96536);const n=(e,t)=>{var s,n;const{profile:o,searchId:c}=(0,a.Y)(e,t);if(1!==(null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.searchType)||!c)return;const d=null===(n=(0,i.mF)({searchId:c,page:1,state:e}))||void 0===n?void 0:n.data[0];return d?(0,r.Tq)({state:e,entityId:d,searchId:c}).data:void 0},o=(e,t)=>(0,r.Tq)({state:e,entityId:t.entityId,searchId:t.searchId}).data},50595:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var r=s(83878),i=s(88817);const a=(0,r.Mz)((e=>e.appContext.center.lon),(e=>e.appContext.center.lat),((e,t)=>[e,t])),n=(0,r.Mz)((e=>e.session.screen.width-(0,i.b)(e)),(e=>e.session.screen.height),((e,t)=>[e,t])),o=(0,r.j8)({zoom:e=>e.appContext.zoom,center:a,pitch:e=>e.appContext.pitch,rotation:e=>e.appContext.rotation,mapSize:n})},84759:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});const r=(0,s(66333).Mz)([({state:e})=>e.config,({state:e})=>e.appContext.activeLayer,({state:e})=>!!e.appContext.activeSublayer,({state:e})=>e.appContext.showSnow.allowSnowStyle],((e,t,s,r)=>{let i;return s?i=e.grayMapStyleId:"realty"===t&&e.realtyMapStyleId?i=e.realtyMapStyleId:"metro"===t?i="4bf19781-6fa2-4a43-8386-db596f51db8d":"backTo2004"===t?i="9e75a94c-36f7-4254-8101-90139ead38ad":"roadAccident"===t?i="fd6c509e-855c-4b40-b8b6-b90945c95d55":"tourism"===t?i="ca89ab0b-ceb6-4900-ab22-ad4651736837":r?i="26015706-6204-4b41-bae9-c84dcd126160":e.isMobileDevice?i="9451a385-750a-4f28-ac7a-ddc7922db9b6":e.customMapStyleId&&(i=e.customMapStyleId),i}))},37383:(e,t,s)=>{"use strict";s.d(t,{h:()=>c});var r=s(66333),i=s(73158),a=s(84759);const n={styles:{},generalization:{}},o=new Map,c=(0,r.Mz)([a.t],(e=>function(e){if(o.has(e))return o.get(e);let t=(0,i.CR)(e);return t&&0!==Object.keys(t.styles).length||(t=(0,i.CR)("default")),t&&o.set(e,t),t}(!e||e.includes("//")?"default":e)||n))},96536:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(56803),i=s(80905);const a=(e,t)=>{if(("query"!==(null==t?void 0:t.searchType)||"catalog"!==t.tab)&&"filials"!==(null==t?void 0:t.searchType))return{};const s=(0,i.Xk)(t,"actual");return{profile:(0,r.s8)({state:e,searchId:s}),searchId:s}}},9420:(e,t,s)=>{"use strict";s.d(t,{$x:()=>p,CT:()=>d,PQ:()=>m,g3:()=>u});var r=s(45863),i=s(66333),a=s(46287),n=s(56190),o=s(80905);const c=[],d=(0,i.Mz)([e=>e.appContext.popup],(e=>e&&"photoUploader"===e.type?{photos:e.photoTemporaryIds||c}:{photos:c})),l=[],u=(0,i.Mz)([e=>d(e).photos,e=>e.data.photo],((e,t)=>e===c?{photos:l}:{photos:e.map((e=>t[e]||n.d))})),p=e=>{var t;const{frameId:s,state:r}=e,i=(0,o.w1)(r.appContext.frames,s);if(i&&("entity"===i.type||"gallery"===i.type))return"entity"===i.type?null===(t=i.tabPhoto)||void 0===t?void 0:t.photoAlbum:i.photoAlbum},m=({state:e,frameId:t,media:s,isVideo:i})=>{const n=(0,o.w1)(e.appContext.frames,t),c=n&&"entityId"in n&&n.entityId?(0,a.DE)({entityId:n.entityId,state:e}).data:void 0,d=p({state:e,frameId:t});return{mediaPayload:(0,r.p)({media:s,tag:null==d?void 0:d.id,orgId:"branch"===(null==c?void 0:c.type)?c.org.id:void 0,entityId:null==c?void 0:c.id,entityType:null==c?void 0:c.type,isVideo:i}),entity:c,selectedAlbum:d}}},82393:(e,t,s)=>{"use strict";s.d(t,{wl:()=>O,Pm:()=>h,W0:()=>b,n$:()=>y,MJ:()=>v,JC:()=>j,zN:()=>x,M9:()=>f,Qc:()=>k,$4:()=>I,Hv:()=>_,ER:()=>C});var r=s(52160),i=s(56190),a=s(5536),n=s(59954);function o(e,t){if("sa"===t&&!/urbi-sa\.(com|4geo\.info)$/.test(e)&&"iq"===t&&!/urbi-iq\.(com|4geo\.info)$/.test(e)&&"eg"===t&&!/urbi-eg\.(com|4geo\.info)$/.test(e)&&"om"===t&&!/urbi-om\.(com|4geo\.info)$/.test(e)&&"bh"===t&&!/urbi-bh\.4geo\.info$/.test(e)&&!/urbi\.bh$/.test(e)&&"qa"===t&&!/urbi-qa\.4geo\.info$/.test(e)&&!/urbi\.qa$/.test(e)&&"kw"===t&&!/urbi-kw\.(com|4geo\.info)$/.test(e)&&"ma"===t&&!/urbi-ma\.4geo\.info$/.test(e)&&!/urbi\.ma$/.test(e)&&"ae"===t&&/urbi-ae\.4geo\.info$/.test(e))return;const s=e.replace(/(^|\.)urbi\.ae$/,"$12gis.ae"),r=(0,a.f)(s),i=n.Jr[t];if(!r||!i||r===i)return;const o=s.lastIndexOf(r);return-1!==o?s.substr(0,o)+i:void 0}var c=s(32065),d=s(80905),l=(s(46287),s(43793)),u=s(38385),p=s(27783),m=s(475);const g={admDiv:i.d,project:i.d},h=e=>{const t=_(e);return t&&t.data?"universe"===t.data.type?g:{admDiv:t,project:t.data.regionId&&(0,r.b7)({state:e,id:t.data.regionId})||i.d}:g},f=e=>{var t,s;return null===(s=null===(t=_(e))||void 0===t?void 0:t.data)||void 0===s?void 0:s.segmentId},b=(e,t,s)=>{const r=_(e);if(s&&r&&r.data&&r.data.allowChangeDomain&&m.qo.includes(r.data.countryCode))return function(e,t){if("ge"!==t)return e.endsWith(".web-staging.2gis.ru")?function(e,t){const s=e.match(/([^.]+)\.?(.*)\.web-staging\.2gis\.ru/);if(!s)return;const r=s[1],i=s[2];if(!i&&"ru"===t)return;const a=o(i||"2gis.ru",t);return a?`${r}.${a}.web-staging.2gis.ru`:void 0}(e,t):o(e,t)}(t,r.data.countryCode)},v=e=>{const t=h(e).admDiv.data;return(0,u.t)(t)},y=e=>{var t;const s=v(e);if(void 0!==s)return null===(t=(0,r.b7)({state:e,id:s}))||void 0===t?void 0:t.data};function x(e){const t=y(e);return t&&t.id||"0"}function j(e){const t=y(e);return t&&t.code}const w={data:{name:"",type:"universe",id:"",countryCode:"ru",overlapRegionId:"0",allowChangeDomain:!0},meta:{code:200,status:"success"}},_=e=>(0,p.b)(e.appContext.zoom)?w:(0,r.Zh)({state:e,id:n.i$}),C=e=>{var t;const s=(0,r.Zh)({state:e,id:n.i$});return null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.id};function I({state:e,code:t}){const s=[];return(0,c.sm)(e.data.region.profile).forEach((e=>{(null==e?void 0:e.data)&&s.push(e.data)})),function(e,t){return t.find((t=>{var s;return t.uri_code===e||(null===(s=t.uri_aliases)||void 0===s?void 0:s.includes(e))}))}(t,s)}function k(e){var t;const s=C(e),r=s&&(null===(t=e.data.entity.profile[s])||void 0===t?void 0:t.data),i=r&&"adm_div"in r?r.adm_div:void 0,a=null==i?void 0:i.find((e=>"region"===e.type));return null==a?void 0:a.id}function O(e){const t=(0,d.bB)(e.appContext.frames,"entity")||(0,d.bB)(e.appContext.frames,"gallery");if(t)return t.entityId;const s=(0,d.bB)(e.appContext.frames,"search");if(s)switch(s.searchType){case"inbuilding":return s.buildingId;case"filials":{const t=(0,l.X)(s);if(!t)return;const r=e.data.search.pagination[t];if(!r)return;const i=r[1];if(!i)return;return i.data[0]}default:return}}},45469:(e,t,s)=>{"use strict";s.d(t,{Ad:()=>f,JS:()=>m,Jm:()=>b,KW:()=>y,WY:()=>l,gD:()=>h,gt:()=>p,oJ:()=>v,yN:()=>g});var r=s(83878),i=s(74182),a=s(12762),n=s(97980),o=s(56190),c=s(65454),d=s(74006);function l(e,t){return e.appContext.weak.suggests[t]}function u(e,t){const s=l(e,t);if(s&&s.suggestId)return(0,i.HX)(s.suggestId)}function p(e){const t=u(e,"products");if(t){const s=(0,n.gt)({state:e,searchId:t});return s&&s.data&&s.data.items}}function m(e){var t;const s=u(e,"products");if(s){const r=(0,n.gt)({state:e,searchId:s});return null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.bss}}function g(e){const t=l(e,"primary");if(t&&t.suggestId){const s=(0,a.J)({state:e,searchId:(0,i.At)(t.suggestId)});if(s&&s.data&&s.data.query)return!1}return!0}const h=(0,r.Mz)([e=>g(e),e=>b(e,"primary"),e=>(0,c.F)(e)],((e,t,s)=>e?function(e){if(e)return e.searches.slice(0,d.Dc)}(s&&s.data):t));function f(e,t){if("products"===t)return o.d;const s=u(e,t);return s?(0,a.J)({state:e,searchId:s}):o.d}function b(e,t){const{data:s}=f(e,t);return s&&s.items}function v(e,t){const{data:s}=f(e,t);return s&&s.searchAttributes}function y(e,t){switch(t){case"products":return p(e);case"primary":case"inbuilding":return h(e);default:return b(e,t)}}},22665:(e,t,s)=>{"use strict";function r(e){return e.session.userId}s.d(t,{W:()=>r})},69248:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(99259);const i={innerBorderFilter:`inset 0 0 0 1px ${r.T.yellow_ffb81c}`,innerBorderNonContrastHovered:`inset 0 0 0 1px ${r.T.blue_82bceb}`,innerBorderWithoutColor:"inset 0 0 0 1px"}},51021:(e,t,s)=>{"use strict";s.d(t,{P:()=>i,n:()=>a});var r=s(12017);const i=e=>e?(0,r.NV)((t=>!t.isMobileDevice&&e)):(0,r.lQ)(),a=e=>e?(0,r.NV)((t=>t.isMobileDevice&&e)):(0,r.lQ)()},90882:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var r=s(12017);const i=(e,t)=>window.confirm(e||void 0)?t():(0,r.lQ)()},9101:(e,t,s)=>{"use strict";s.d(t,{O:()=>u});var r=s(12017),i=s(24571),a=s(7335),n=s(82393),o=s(63041),c=s(69395),d=s(77620),l=s(6532);const u=e=>{const{actionType:t,value:s,entityId:u,ctaOwner:m}=e;switch(t){case"order":{if(!u)return(0,r.lQ)();const e=p(m);return(0,d.b)({entityId:u,source:e})}case"search_by_org":return(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:""}),(0,i.f8)({orgId:s}));case"search_buy_here":return(0,l.X)({adsIds:s});case"search_by_query":return(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:s}),(0,a.Cl)((e=>(0,i.q_)({query:s,viewpoint:e}))));case"search_by_rubric":return(0,r.K2)((0,c.Tl)({suggesterKey:"primary",query:""}),(0,r.Q2)((e=>(0,a.Cl)((t=>(0,i.q_)({viewpoint:t,rubricId:s,query:"",regionId:(0,n.zN)(e)}))))));case"open_card":return(0,o.UP)({id:s,type:"branch"});default:return(0,r.lQ)()}},p=e=>{switch(e){case"mapMarker":return"marker";case"placeCardFull":return"entityCard";case"placeCardMini":return"entityMinicard";case"adsBanner":return"banner"}return"entityCard"}},40374:(e,t,s)=>{"use strict";function r(e,t="ru_RU"){return`${e}_${t}`}s.d(t,{SD:()=>I,YY:()=>O,N7:()=>S,Uy:()=>C});var i=s(1321),a=s(82393),n=s(12017),o=s(74182),c=s(46287),d=s(57744),l=s(63041),u=s(88735),p=s(51143),m=s(91565),g=s(29787),h=s(77027),f=s(24872),b=s(62230),v=s(69395),y=s(64912),x=s(75433),j=s(95280),w=s(15582),_=s(35023);const C=(0,n.n5)("updateDashboardDataIfNeeded",(()=>(0,n.Q2)((e=>0===e.appContext.frames.length&&(0,n._7)(I(),k()))))),I=(0,n.n5)("fetchMetarubricsIfNeeded",(e=>(0,n.Q2)((t=>{const s=t.appContext.weak.dashboard.transitions.rubricsId,c=function(e,t){const s=(0,d.u)(e),i=(0,a.zN)(e),n=[(t?(0,_.W7)():(0,o.HX)(e.appContext.weak.dashboard.transitions.rubricsId)).split(":")[0],r(i,s)].join(":");return(0,o.fY)(e.appContext.weak.dashboard.transitions.rubricsId,n)}(t,e);return c===s?(0,n.lQ)():(0,n.K2)((0,i.cr)(c),(0,n.Q2)((e=>{const t=(0,o.At)(e.appContext.weak.dashboard.transitions.rubricsId),s=(0,x.l)({state:e,dashboardId:t});if((0,j.P)(s)&&t){const s=(0,d.u)(e),r=(0,a.zN)(e),i=(0,w.Pz)(e);return(0,y.f)({dashboardId:t,regionId:r,locale:s,viewpoint:i})}})),(0,n.Q2)((e=>{const t=e.appContext.weak.dashboard.transitions.rubricsId;if((0,o.At)(c)===(0,o.At)(t))return(0,i.cr)((0,o.ZS)(t))})))})))),k=(0,n.n5)("fetchDashboardEntityIfNeeded",(()=>(0,n.Q2)((e=>{const t=(0,a.Pm)(e).admDiv.data;if(!t)return(0,n.lQ)();const s=t.id;return s?(0,c.Tq)({state:e,entityId:s}).data?(0,n.lQ)():(0,l.x7)({id:s,searchId:void 0}):(0,n.lQ)()})))),O=(0,n.n5)("openDashboardFromMinicard",(e=>(0,n.K2)(e.skipHistoryPush?(0,n.lQ)():(0,g.PC)(),(0,h.S2)(),(0,v.Tl)({suggesterKey:"primary",query:void 0}),(0,u.o6)({entityId:e.entityId},(t=>t.data?(0,n.lQ)():(0,l.x7)({id:e.entityId,searchId:void 0}))),(0,f.TE)({entityId:e.entityId}))));function S(e){return(0,n.gd)((0,n.NV)((t=>(0,n.Q2)((s=>{if(0!==s.appContext.frames.length)return;const r=(0,a.Pm)(s).admDiv.data;if(!r||!(0,b.o)(e,r)||"adm_div.city"!==r.type)return;const i=r.id;if(!i)return;const n=(0,c.Tq)({state:s,entityId:i}).data;if(!n)return;const o=(0,p.d)({entity:n,state:s});return o?(0,a.W0)(s,window.location.hostname,t.isCountryRedirectsEnabled)?void 0:(0,m.kN)(o):void 0})))))}},15714:(e,t,s)=>{"use strict";s.d(t,{V4:()=>m,HY:()=>p,BS:()=>g});var r=s(85608),i=s(77027),a=s(88735),n=s(73581),o=s(95455),c=s(35023);let d;const l=["offline","navigator"];function u(){return d=(0,c.EE)(l,d),d}function p(e){const{id:t,frameId:s,type:r,point:a,tab:n,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:m,activeDirectionId:g,entranceId:h,isOpenedFromMap:f,entityIcon:b,isCommercial:v}=e;return(0,i.fL)({id:s,type:"entity",entityType:r,entityId:t,tab:n,isShowEntrance:!0,point:a,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:m,activeDirectionId:g,entranceId:h,promoType:u(),isOpenedFromMap:f,entityIcon:b,isCommercial:v})}function m(e){return(0,a.o6)({entityId:e.entityId},(t=>(0,n.$e)(e.frameId,(e=>{const s=t&&t.data;if(!s)return e;const r=(0,o.z)(s);if(r&&e.entityId!==r.id)return Object.assign(Object.assign({},e),{entityId:r.id,entityType:r.type});const i=s.type;return e.entityType===i?e:Object.assign(Object.assign({},e),{entityType:i})}))))}function g(e){const{frameId:t}=e,s=(0,r.Tt)(e,["frameId"]);return(0,i.fL)(Object.assign(Object.assign({},s),{id:t,type:"pending",subtype:"entity",promoType:u()}))}s(47856),s(12017),s(48506),s(87016)},63041:(e,t,s)=>{"use strict";s.d(t,{x7:()=>_,lQ:()=>H,r_:()=>F,UP:()=>O,fV:()=>N,BJ:()=>U});var r=s(12017),i=s(35023),a=s(59954),n=s(29787),o=s(15714),c=s(24872),d=s(12027),l=s(88735),u=s(88703);function p({id:e,searchId:t}){return(0,l.o6)({entityId:e,searchId:t},(t=>{const s=t.data;return s&&"branch"===s.type&&(0,u.H)(s)?(0,d.c)({id:e}):(0,r.lQ)()}))}var m=s(66944),g=s(32462),h=s(85592),f=s(7335),b=s(35606),v=s(56803),y=s(15582),x=s(71085),j=s(74786),w=s(95280);const _=(0,r.n5)("fetchEntityProfileWithCurrentViewpoint",(e=>(0,l.o6)({entityId:e.id},(t=>e.ifMissingOnly&&!(0,w.P)(t)?(0,r.lQ)():(0,f.RC)({viewpoint:y.Pz,searchProfile:t=>(0,v.s8)({state:t,searchId:e.searchId}),searchQueryContext:e=>(0,x.y)(e)},(({viewpoint:t,searchProfile:s,searchQueryContext:r})=>{var i;const a=(0,j.MV)(r);return(0,b.it)({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,viewpoint:t,contextRubrics:null===(i=s.data)||void 0===i?void 0:i.contextRubrics,adsId:e.adsId,mapAdsId:e.mapAdsId,searchCtx:a})}))))));var C=s(95455);function I(e){return(0,r.aR)("fetchProfileCheckGroup")(_({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId,mapAdsId:e.mapAdsId,ifMissingOnly:e.ifMissingOnly}),(0,l.o6)({entityId:e.id},(t=>{if(!t.data||"branch"===t.data.type)return;const s=(0,C.z)(t.data);return s?_({id:s.id,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId,mapAdsId:e.mapAdsId,ifMissingOnly:e.ifMissingOnly}):void 0})))}var k=s(25346);const O=(0,r.n5)("openEntityCard",(e=>{const t=(0,i.W7)(),s=(0,i.W7)(),d=(0,i.W7)(),l=(0,i.W7)(),u=(0,i.W7)(),f=(0,i.W7)(),b=(0,i.W7)(),v=e.searchId?e.searchId:a.j4,y=Object.assign(Object.assign({},e),{statusId:s,searchId:v,frameId:t,entityReviewsSearchId:d,orgReviewsSearchId:l,gtaId:u,unconfirmedEntityReviewsSearchId:f,unconfirmedOrgReviewsSearchId:b}),x=(0,k.lq)({objectId:y.id});return(0,r.K2)(e.skipHistoryPush?(0,r.lQ)():(0,n.PC)(),(0,o.HY)(y),I(y),x,e.shouldFitEntityInMapView?(0,c.TE)({entityId:e.id}):void 0,(0,o.V4)({frameId:t,entityId:y.id}),p({id:y.id,searchId:v}),(0,m.tt)(y),(0,r._7)((0,g.Jy)(y),(0,h.K)(y)))}));var S=s(40374),T=s(60776),E=s(46287),M=s(80905),P=s(47948),L=s(47856);const N=(0,r.n5)("openEntityCardFromMinicard",(e=>(0,f.RC)({entityProfile:t=>(0,E.Tq)({state:t,entityId:e.id,searchId:e.searchId}),searchFrame:e=>(0,M.Su)(e.appContext.frames),isMobile:e=>e.config.isMobileDevice},(({entityProfile:t,searchFrame:s,isMobile:r})=>{var i,a,n,o,c,d,l,u;const{id:p,searchId:m,type:g,skipHistoryPush:h}=e,f=t.data,b=r,v=(null===(n=null===(a=null===(i=null==f?void 0:f.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.marker_logo)||void 0===n?void 0:n.url)?(0,L.S)(null===(c=null===(o=null==f?void 0:f.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.marker_logo.url):void 0,y=Boolean(null===(l=null===(d=null==f?void 0:f.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.marker_logo);return f?function(e){return"adm_div"===e.type&&["city","settlement"].includes(e.subtype)&&!e.geocoded_by}(f)?(0,S.YY)({entityId:p,skipHistoryPush:h}):"point"===f.type?(0,T.v)({point:f.geocoded_by||f.point,shouldCenterMap:!0}):O({id:p,searchId:m,hash:f.hash,type:f.type,skipHistoryPush:h,entranceId:null===(u=f.context)||void 0===u?void 0:u.entrance_id,adsId:(0,P.D)(s),point:"geocoded_by"in f&&f.geocoded_by||"point"in f&&f.point||void 0,shouldFitEntityInMapView:b,entityIcon:v,isCommercial:y}):O({id:p,searchId:m,type:g,skipHistoryPush:h,hash:void 0,shouldFitEntityInMapView:b})}))));var A=s(42451),R=s(77027),z=s(31222);const U=(0,r.n5)("openEntityCardFromPending",(e=>{const{entityId:t,frameId:s,isOpenedFromMap:a,statusId:n,searchId:o,clickPoint:c,gtaId:d,skipFetchEntity:u,trackBssOnLoading:m}=e;return(0,r.K2)((0,f.kE)(s,(s=>!u&&s&&I({id:t,statusId:n,searchId:o,clickPoint:c,gtaId:(0,A.j)(s),adsId:e.adsId,mapAdsId:e.mapAdsId}))),(0,l.o6)({entityId:t,searchId:o},(n=>{if(!n.data)return;const c=n.data,u=(0,C.z)(c),b=u?u.id:t,v=u?u.type:c.type;return(0,f.kE)(s,(t=>t&&(0,r.K2)(m&&m(c),(0,l.o6)({entityId:b},(t=>(0,R.xd)(s,(s=>({id:s.id,searchId:e.searchId,statusId:e.statusId,point:s.point,gtaId:d,type:"entity",entityId:b,entityType:v,tab:(0,z.w)(t.data||c)[0],isShowEntrance:!0,victimsId:s.victimsId,entranceId:s.entranceId,isOpenedFromMap:a,entityIcon:s.entityIcon,isCommercial:s.isCommercial}))))),(0,r._7)((0,g.Jy)({id:b,type:v,searchId:o,frameId:s,entityReviewsSearchId:(0,i.W7)(),orgReviewsSearchId:(0,i.W7)(),unconfirmedOrgReviewsSearchId:(0,i.W7)(),unconfirmedEntityReviewsSearchId:(0,i.W7)()}),(0,h.K)({id:b,searchId:o}),p({id:b,searchId:o})))))})))}));var B=s(81866);const H=(0,r.n5)("fetchEntityProfileWithCurrentViewpointIfNeeded",(e=>(0,B.s)((t=>(0,E.DE)({state:t,entityId:e.id})),_(e)))),F=(0,r.n5)("fetchMultipleEntityProfileWithCurrentViewpoint",(e=>(0,f.Cl)((t=>{if(!e.ids)return(0,r.lQ)();if(!e.experimentalPagination||e.ids.length<=100)return(0,b.I7)({ids:e.ids,searchId:e.searchId,viewpoint:t,hash:e.hash});const s=[...e.ids],i=[];for(;s.length>0;)i.push(s.splice(0,100));return(0,r._7)(...i.map((s=>(0,b.I7)({ids:s,searchId:e.searchId,viewpoint:t,hash:e.hash}))))}))))},30392:(e,t,s)=>{"use strict";s.d(t,{G:()=>o});var r=s(12017),i=s(77027),a=s(73581),n=s(80905);const o=(0,r.n5)("setPhotoAlbum",(e=>(0,r.Q2)((t=>{const{frameId:s,selectedAlbum:o}=e,c=(0,n.w1)(t.appContext.frames,s);switch(null==c?void 0:c.type){case"entity":return(0,a.$e)(s,(e=>Object.assign(Object.assign({},e),{tabPhoto:{photoAlbum:o}})));case"gallery":return(0,i.oy)(s,(e=>Object.assign(Object.assign({},e),{photoAlbum:o})));default:return(0,r.lQ)()}}))))},66944:(e,t,s)=>{"use strict";s.d(t,{n3:()=>k,pd:()=>w,tt:()=>j,yC:()=>I});var r=s(12017),i=s(35023),a=s(95083),n=s(24571),o=s(37895),c=s(62154),d=s(73581),l=s(3726),u=s(46287),p=s(76125),m=s(47919),g=s(7335),h=s(57744),f=s(80905),b=s(97980),v=s(32462),y=s(62363),x=s(53790);function j({id:e,tab:t,tabQuery:s,filterValues:i={},frameId:a,entityReviewsSearchId:n,orgReviewsSearchId:o}){return(0,r.NV)((({featureReadOnly:c})=>(0,r.Q2)((r=>{const d=(0,u.DE)({state:r,entityId:e}),g=(0,f.w1)(r.appContext.frames,a),h=d&&d.data;if(!h)return;if(!g)return;if("entity"!==g.type)return;const b=(0,m.OM)({state:r,entityId:e,entityReviewsSearchId:n,orgReviewsSearchId:o,featureReadOnly:c}),v="realty"===t&&(0,x._)(h)?t:(0,l.c)(b,t||g.tab);return v?w({entityId:e,frameId:a,tab:v,buildingId:(0,p.$)(h),tabQuery:s,filterValues:i}):void 0}))))}const w=(0,r.n5)("setEntityTab",(e=>{const{frameId:t,entityId:s,buildingId:o,tab:c,tabQuery:l="",filterValues:p={}}=e,m=!e.searchId;switch(c){case"inside":return o?m?(0,n.q4)({frameId:t,buildingId:o,filterValues:p,query:l}):(0,d.$e)(t,(e=>e.tabInside?Object.assign(Object.assign({},e),{tab:c,tabInside:Object.assign(Object.assign({},e.tabInside),{tabQuery:e.tabInside.query})}):e)):(0,r.lQ)();case"prices":{const e=s;return(0,r._7)((0,d.$e)(t,(t=>Object.assign(Object.assign({},t),{tab:c,tabPrices:{searchId:e}}))),(0,g.RC)({categories:e=>(0,b.dD)({state:e,id:s})},(({categories:t})=>!t.meta&&(0,g.eU)(h.u,(t=>(0,a.c_)({branchId:s,offersSearchId:e,locale:t}))))))}case"realty":return(0,g.RC)({entity:e=>(0,u.DE)({state:e,entityId:s}).data},(({entity:e})=>{var i,a;const n="branch"===(null==e?void 0:e.type)&&(null===(a=null===(i=null==e?void 0:e.group)||void 0===i?void 0:i.find((e=>"building"===e.type)))||void 0===a?void 0:a.id)||s;return(0,r._7)((0,d.$e)(t,(e=>Object.assign(Object.assign({},e),{tab:c,tabRealty:Object.assign(Object.assign({},e.tabRealty),{geoId:n})}))),(0,g.eU)(y.D8,(e=>e&&(0,y.Ip)(e))))}));case"services":return o?m?_(t,o):(0,d.$e)(t,(e=>{const t=e.tabServices?Object.assign(Object.assign({},e.tabServices),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabServices:t})})):(0,r.lQ)();case"providers":return o?m?C(t,o):(0,d.$e)(t,(e=>{const t=e.tabProviders?Object.assign(Object.assign({},e.tabProviders),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabProviders:t})})):(0,r.lQ)();case"reviews":return(0,g.CG)(t,(e=>"entity"===e.type),(e=>{const a=!e.tabReviews;return(0,r._7)(a?(0,v.eI)({frameId:t,id:s,searchId:e.searchId,entityReviewsSearchId:(0,i.W7)(),orgReviewsSearchId:(0,i.W7)(),unconfirmedEntityReviewsSearchId:(0,i.W7)(),unconfirmedOrgReviewsSearchId:(0,i.W7)(),type:e.entityType}):(0,r.lQ)(),(0,d.$e)(t,(e=>Object.assign(Object.assign({},e),{tab:c}))))}));default:return(0,d.$e)(t,(e=>Object.assign(Object.assign({},e),{tab:c})))}})),_=(e,t)=>{const s=(0,i.W7)(),a=(0,i.W7)();return(0,r.K2)((0,d.$e)(e,(e=>Object.assign(Object.assign({},e),{tab:"services",tabServices:Object.assign(Object.assign({},e.tabServices),{searchId:s,gtaId:a,page:1})}))),k({buildingId:t,searchId:s,gtaId:a,page:1,withStandardPageSize:!0}))},C=(e,t)=>{const s=(0,i.W7)(),a=(0,i.W7)();return(0,r.K2)((0,d.$e)(e,(e=>Object.assign(Object.assign({},e),{tab:"providers",tabProviders:Object.assign(Object.assign({},e.tabProviders),{searchId:s,gtaId:a,page:1})}))),I({buildingId:t,searchId:s,gtaId:a,page:1,withStandardPageSize:!0}))},I=(0,r.n5)("fetchFirmsProvidersWithCurrentViewpoint",(e=>(0,g.Cl)((t=>(0,c.q)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t}))))),k=(0,r.n5)("fetchFirmsMaintainersWithCurrentViewpoint",(e=>(0,g.Cl)((t=>(0,o.p)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t})))))},32462:(e,t,s)=>{"use strict";s.d(t,{Jy:()=>j,Ui:()=>w,eI:()=>_});var r=s(12017),i=s(88735),a=s(35058),n=s(56688),o=s(73581),c=s(74182),d=s(46516),l=s(7335),u=s(61582),p=s(46287),m=s(1364),g=s(40268),h=s(81866),f=s(13179),b=s(66698),v=s(71085),y=s(74786),x=s(47919);function j(e){const{id:t}=e;return(0,r.Q2)((s=>{const i=(0,v.y)(s),a=(0,y.MV)(i),n=(0,x.QW)(t)(s);return(0,r.NV)((({featureReadOnly:s})=>s?(0,r.lQ)():(0,r._7)(_(e),(0,r.gd)((0,f.$D)({id:t,albumId:b.Qh,searchCtx:a,searchKeyword:n})))))}))}function w(e,t,s,i,o,c){return(0,r.Q2)((l=>{var f,b;const v=(0,p.Tq)({state:l,entityId:e,searchId:s});if(!v||!v.data||!(0,n.E)(v.data))return;const y=v.data,x=i.isOrg?"org":(0,d.O)(y)?"branch":"geo",j="org"===x&&(0,d.O)(y)?y.org.id:y.id,w=!!(null===(b=null===(f=y.ads)||void 0===f?void 0:f.options)||void 0===b?void 0:b.review),_=!!i.onlyAnswered||void 0;return(0,r._7)((0,a.M)({type:x,id:j,searchId:t,isAdvertiser:w,withAnswer:_,ratings:i.ratings,facts:c}),"geo"!==x&&(0,h.s)((0,m.Ly)(j),(0,u.J)({id:j,isAdvertiser:w,type:x})),(0,g.sj)({entityId:e,frameId:o,orgId:i.isOrg?j:void 0}))}))}function _(e){const{id:t,searchId:s,frameId:u,entityReviewsSearchId:p,orgReviewsSearchId:m,unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f}=e;return(0,i.o6)({entityId:t,searchId:s},(e=>{var s,i,b;const v=e&&e.data;if(!v||!(0,n.E)(v))return;const y=(0,d.O)(v)&&!!(null===(s=v.reviews)||void 0===s?void 0:s.is_org_reviews)&&v.org.branch_count>1,x={entityReviewsSearchId:(0,c.vt)(p),orgReviewsSearchId:(0,c.vt)(m),unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f,isOrg:y,onlyAnswered:!1},j=(0,d.O)(v),w=(0,d.O)(v)?v.org.id:void 0,_=y&&w?"org":j?"branch":"geo",C=y?w:t,I=!!(null===(b=null===(i=v.ads)||void 0===i?void 0:i.options)||void 0===b?void 0:b.review),k="org"===_?m:p;return C?(0,r._7)((0,o.$e)(u,(e=>Object.assign(Object.assign({},e),{tabReviews:x}))),(0,r.K2)((0,a.M)({id:C,type:_,isAdvertiser:I,searchId:k}),(0,l.eU)((e=>{var t,s;return null===(s=null===(t=e.data.reviewSearch[k])||void 0===t?void 0:t.data)||void 0===s?void 0:s.total}),(e=>"branch"===_&&!e&&w?(0,a.M)({id:w,type:"org",isAdvertiser:I,searchId:m}):(0,r.lQ)()))),(0,g.DB)({entityId:t})):void 0}))}},85592:(e,t,s)=>{"use strict";s.d(t,{K:()=>n});var r=s(88735),i=s(12017),a=s(4080);function n({id:e,searchId:t}){return(0,r.o6)({entityId:e,searchId:t},(t=>{var s,r,n,o,c,d,l;const u=t.data;if(!u||"branch"!==u.type)return(0,i.lQ)();const p=null===(n=null===(r=null===(s=null==u?void 0:u.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.videos)||void 0===n?void 0:n[0],m=null===(d=null===(c=null===(o=null==u?void 0:u.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.fmcg)||void 0===d?void 0:d[0],g=(null===(l=null==m?void 0:m.videos)||void 0===l?void 0:l[0])||p;return g?(0,a.R)({id:e,videoUrl:g.resources_description_url}):(0,i.lQ)()}))}},73546:(e,t,s)=>{"use strict";s.d(t,{_:()=>h});var r=s(12017),i=s(7335),a=s(84082),n=s(96863),o=s(63041),c=s(29787),d=s(60776),l=s(15714),u=s(35023),p=s(24872),m=s(88735),g=s(95455);const h=(0,r.n5)("openFavoriteItem",(e=>{const{type:t,favoriteId:s,shouldCenterMap:h=!0,isOpenedFromMap:f}=e,b="private"===t?a.Wu:n.Zk;return(0,i.eU)(b(s),(e=>{if(!e)return(0,r.lQ)();const t=e.point||e.source_point;if(e.object_id&&e.object_type){const s=(0,u.W7)(),i=(0,u.W7)(),a=(0,u.W7)(),n=(0,u.W7)(),c=e.object_id;return(0,m.o6)({entityId:c},(d=>{var u,m;const b=(0,g.z)(d.data);return!d.data||b&&b.id!==c?(0,r.K2)((0,l.BS)({frameId:s,gtaId:i,point:t,searchId:a,statusId:n}),(0,o.BJ)({entityId:c,frameId:s,statusId:n,searchId:a,gtaId:i,isOpenedFromMap:f}),h&&(0,p.TE)({entityId:c})):(0,o.UP)({id:null!==(u=null==b?void 0:b.id)&&void 0!==u?u:c,type:null!==(m=null==b?void 0:b.type)&&void 0!==m?m:e.object_type,shouldFitEntityInMapView:h,point:t,isOpenedFromMap:f})}))}return t?(0,r.K2)((0,c.PC)(),(0,d.v)({point:t,shouldCenterMap:h})):(0,r.lQ)()}))}))},44288:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var r=s(12017),i=s(86185),a=s(95014),n=s(7335),o=s(82393),c=s(50951),d=s(35023);const l=(0,r.n5)("createCollection",(e=>{const{title:t,color:s,collectionId:l=(0,d.W7)(),skipSync:u,isDefault:p,order:m}=e;return(0,n.eU)(o.Pm,(e=>{const n=e.admDiv.data,o=e.project.data,d=n&&n.regionId||o&&o.id,g=n&&n.segmentId,h=(0,c.h)(d,g),f={id:l,type:"collection",color:s,collection_id:l,title:t,project_id:[h],is_default:p,order:m};return(0,r.K2)((0,i.y)({[l]:f}),u?(0,r.lQ)():(0,a.v)())}))}))},1804:(e,t,s)=>{"use strict";s.d(t,{z:()=>g});var r=s(88735),i=s(86185),a=s(35023),n=s(12017),o=s(7335),c=s(59954),d=s(50951),l=s(61165),u=s(74961),p=s(63041),m=s(34470);const g=(0,n.n5)("createItemInCollection",(e=>{const{collectionId:t,item:s}=e;return(0,n.K2)((0,p.lQ)({id:s.object_id,searchId:void 0}),(0,o.eU)((0,u.c_)(t),(e=>{if(e.find((e=>(0,l.K)(e,s))))return(0,n.lQ)();const o=(0,a.W7)();return"point"===s.object_type?(0,i.y)({[o]:h({itemId:o,collectionId:t,entity:{type:"point",point:s.point},point:s.point})}):(0,r.o6)({entityId:s.object_id},(e=>{const r=e.data;return r?(0,i.y)({[o]:h({itemId:o,collectionId:t,entity:r,point:s.point})}):(0,n.lQ)()}))})))}));function h(e){const{itemId:t,collectionId:s,entity:r,point:i}=e;return"point"===r.type?{id:t,collection_id:s,type:"favorite",project_id:[c.T_],point:i,source_point:i}:{id:t,collection_id:s,type:"favorite",object_id:r.id,object_type:r.type,project_id:[(0,d.h)(r.region_id,r.segment_id)],point:i,source_data:JSON.stringify((0,m.u)(r)),source_point:i,system_create_time:String(Date.now())}}},86185:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});var r=s(7335),i=s(16392);function a(e){return(0,r.eU)((e=>e.data.favoritesPersonal.sync),(t=>(0,i.y)({sync:t,objects:e})))}},95014:(e,t,s)=>{"use strict";s.d(t,{v:()=>d});var r=s(3479),i=s(7335),a=s(12017),n=s(1511),o=s(5795),c=s(38113);function d(){return(0,i.eU)((e=>e.data.favoritesPersonal.sync),(e=>(0,c.R)((0,a.K2)((0,r.v)({sync:e}),(0,a.Q2)((e=>{const t=e.appContext.frames.find(n.S);return t?(0,o.m)(t.subtype,t.collectionId,t.visibleItemsLimit):(0,a.lQ)()}))))))}},27307:(e,t,s)=>{"use strict";s.d(t,{_:()=>l});var r=s(22670),i=s(7335),a=s(12017),n=s(32065),o=s(88735),c=s(95280),d=s(63041);function l(){return(0,i.eU)((e=>e.data.favoritesPlaces.sync),(e=>(0,a.K2)((0,r._)({sync:e}),(0,a.Q2)((e=>{const t=e.data.favoritesPlaces.objects,s=(0,n.sm)(t).map((e=>e&&e.object_id));if(0===s.length)return(0,a.lQ)();const r=s.map((e=>e?(0,o.o6)({entityId:e},(t=>(0,c.P)(t)?(0,d.x7)({id:e,searchId:void 0}):(0,a.lQ)())):(0,a.lQ)()));return r.length>0?(0,a._7)(...r):(0,a.lQ)()})))))}},49971:(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var r=s(7335),i=s(82393),a=s(18797),n=s(12017);function o(){return(0,r.RC)({projectId:i.MJ,countryCode:e=>e.config.defaultCountryCode.toLowerCase(),sync:e=>e.data.favoritesPublic.sync},(({projectId:e,countryCode:t,sync:s})=>e?(0,a.Wm)({projectId:e,countryCode:t,sync:s}):(0,n.lQ)()))}},34470:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var r=s(32065);function i(e){if("type"in e)return Object.assign(Object.assign({},(0,r.Up)(e,["access_comment","access","address_comment","address","adm_div","authors","barrier","building_name","capacity","comment","contact_groups","dates","description","floors","from_name","group","is_incentive","is_paid","level_count","name_ex","name","purpose_name","purpose","rubrics","subtype_specification","subtype","to_name","type"])),"org"in e?{org:{id:e.org.id}}:{})}},69405:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var r=s(12017),i=s(81866),a=s(35606),n=s(47919);const o=(0,r.n5)("fetchEntityProfileByIdIfNeeded",(e=>{const{id:t,searchId:s}=e;return t?(0,i.s)((0,n.EV)(t),(0,a.it)({id:t,searchId:s})):(0,r.lQ)()}))},81866:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});var r=s(12017),i=s(95280);const a=(0,r.n5)("fetchIfMissing",((e,t)=>(0,r.Q2)((s=>(0,i.P)(e(s))?t:(0,r.lQ)()))))},84876:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(95993);function i(){return(0,r.c)({type:"map:hint",event:void 0})}},29787:(e,t,s)=>{"use strict";s.d(t,{Aw:()=>g,FU:()=>h,PC:()=>m});var r=s(32643),i=s(333),a=s(12017),n=s(68443),o=s(91565),c=s(31629),d=s(15401),l=s(69395),u=s(82393);function p(e){return{appContext:Object.assign(Object.assign({},e.appContext),{weak:void 0})}}const m=e=>{const t=(0,a.Q2)((e=>(0,r.dC)({url:(0,i.w)((0,n.I)(e)),state:p(e)})));return e?(0,a.K2)(t,e):t},g=e=>(0,a.Q2)((t=>(0,a.K2)((0,r.g5)({appContext:Object.assign(Object.assign({},e.appContext),{weak:t.appContext.weak})}),(0,l.Tl)({suggesterKey:"primary",query:void 0}),(0,l.Tl)({suggesterKey:"inbuilding",query:void 0}),(0,a._7)((0,c.v)(),(0,o.M4)()))));function h(e,t){var s;const r=p(e);return"pending"===(null===(s=r.appContext.frames[0])||void 0===s?void 0:s.type)||t&&(0,d.b)(r.appContext,p(t).appContext)&&(0,u.ER)(e)===(0,u.ER)(t)&&t.appContext.weak.showSlugsNeededOnlyForStartup===e.appContext.weak.showSlugsNeededOnlyForStartup?{url:void 0,historyState:void 0}:{url:(0,i.w)((0,n.I)(e)),historyState:r}}},77847:(e,t,s)=>{"use strict";s.d(t,{SP:()=>x,po:()=>y,pJ:()=>j});var r=s(24872),i=s(12017),a=s(41949),n=s(77027),o=s(7335),c=s(37163),d=s(48699),l=s(29787),u=s(69395),p=s(89571),m=s(38113),g=s(2459),h=s(82393),f=s(35606),b=s(80905);const v=e=>{const t=e.appContext.frames;return!!(0,b.bB)(t,"friendsList")||!!(0,b.bB)(t,"userPublicProfile")},y=(0,i.n5)("updateLayer",(e=>{const{newLayer:t,manual:s}=e;return(0,m.R)((0,o.eU)((e=>e.appContext.activeLayer),(e=>e===t?(0,i.lQ)():(0,i.NV)((r=>{if("realty"!==t||r.featureRealty)return(0,i.K2)(x({layer:e}),function(e){const{layer:t,manual:s}=e;switch(t){case"realty":return(0,a.P)();case"exchange":return(0,p.E)();case"metro":case"photos":case"eta":case"parkings":case"tourism":return(0,i.K2)(j(t),(0,c.cK)(t),(0,l.PC)(),(0,i.gd)((0,d.in)()));case"friends":return(0,i.K2)(s?(0,n.P8)():(0,i.lQ)(),(0,c.cK)(t),(0,l.PC)(),(0,i.gd)((0,d.in)()));case"backTo2004":return(0,o.eU)(g.Y,(e=>e?(0,i.lQ)():(0,i.K2)((0,c.cK)("backTo2004"),(0,l.PC)(),(0,i.gd)((0,d.in)()))));case"roadAccident":return(0,o.eU)(h.ER,(e=>e?(0,i.K2)((0,f.it)({id:e,searchId:void 0}),(0,c.cK)(t),(0,i.gd)((0,d.in)())):(0,i.K2)((0,c.cK)(t),(0,i.gd)((0,d.in)()))));default:return}}({layer:t,manual:s}))})))))})),x=(0,i.n5)("switchOff",(e=>{const{layer:t}=e;if(!t)return(0,i.lQ)();switch(t){case"eta":case"metro":case"photos":case"parkings":case"backTo2004":case"roadAccident":case"tourism":return(0,c.xA)();case"exchange":case"realty":return(0,i.K2)((0,n.P8)(),(0,i._7)((0,u.Tl)({suggesterKey:"primary",query:void 0}),(0,u.Tl)({suggesterKey:"inbuilding",query:void 0})));case"friends":return(0,i.K2)((0,c.xA)(),(0,o.eU)(v,(e=>e?(0,n.P8)():(0,i.lQ)())));default:return(0,i.lQ)()}})),j=e=>"parkings"===e?(0,i.gd)("parkings"===e?(0,o.eU)((e=>e.appContext.zoom),(e=>e<15.5?(0,r.xZ)({zoom:15.5}):(0,i.lQ)())):(0,i.lQ)()):(0,i.lQ)()},9181:(e,t,s)=>{"use strict";s.d(t,{r:()=>d});var r=s(12017),i=s(23205),a=s(7878),n=s(40268),o=s(15417),c=s(88632);const d=(0,r.n5)("logout",(()=>(0,r.K2)((0,r._7)((0,i.g)(),(0,o.B)(),(0,c.d)(),(0,a.E)({}),(0,n.PH)()),(0,r.v6)((()=>{var e;"undefined"!=typeof window&&(null===(e=window.sdk)||void 0===e||e.logout({reload:!0}))})))))},24872:(e,t,s)=>{"use strict";s.d(t,{tJ:()=>L,TE:()=>S,WH:()=>E,t$:()=>k,CD:()=>P,$b:()=>T,xZ:()=>O});var r=s(8335),i=s(12017),a=s(91565),n=s(29787),o=s(88735),c=s(7335),d=s(15582),l=s(33616),u=s(1321),p=s(73516),m=s(9729),g=s(6514),h=s(80905),f=s(82393),b=s(40374),v=s(61700),y=s(63041),x=s(52160),j=s(51143),w=s(56682),_=s(21785),C=s(35023),I=s(29203);function k(e){return(0,i.aR)("setMapViewManually")((0,n.PC)(),O(e))}function O(e){return(0,i.aR)("updateMapView")((0,r.m3)({center:e.lon&&e.lat?[e.lon,e.lat]:void 0,zoom:e.zoom,rotation:e.rotation,pitch:e.pitch,duration:e.duration,easing:e.easing,animate:e.animate}))}const S=(0,i.n5)("fitEntityInMapView",(e=>(0,i.K2)((0,y.lQ)({id:e.entityId,searchId:void 0}),(0,u.Ip)({dontUpdateResultsOnNextMapMove:!0}),(0,o.o6)({entityId:e.entityId},((t,s)=>{const r=t.data;if(r)return function(e){var t;return"adm_div"===e.type&&"city"===e.subtype&&(null===(t=e.flags)||void 0===t?void 0:t.is_default)}(r)?(0,i.K2)((0,a.cx)(s,r.region_id),(0,i.Q2)((e=>{const t=(0,x.b7)({state:e,id:r.region_id}),s=t&&t.data?t.data.default_pos:void 0;return s?O(s):(0,i.lQ)()}))):(0,c.RC)({viewpoint:d.Pz},(({viewpoint:t})=>{if(e.onlyIfOutOfViewpoint&&(({entity:e,viewpoint:t})=>{if(!(0,w.K)(e))return!1;const s=(0,_.t)(e);return!!s&&!(Array.isArray(s)?(0,C.Bq)(s):[s]).find((e=>!(0,I.z)({point:e,viewpoint:t,margin:0})))})({entity:r,viewpoint:t}))return(0,i.lQ)();const a=(0,j.d)({entity:r,state:s});return a?O(a):(0,i.lQ)()}))}))))),T=(0,i.n5)("updateAfterMapViewChange",(({center:e=[],rotation:t,pitch:s,zoom:n})=>(0,c.eU)(d.jq,(o=>(0,i.K2)(E(),(0,r.G0)({lon:e[0],lat:e[1],zoom:n,rotation:t,pitch:s}),(0,c.RC)({dontUpdateResultsOnNextMapMove:e=>e.appContext.weak.dontUpdateResultsOnNextMapMove,regionId:f.ER},(({dontUpdateResultsOnNextMapMove:e,regionId:t})=>e?(0,i.K2)((0,u.Ip)({dontUpdateResultsOnNextMapMove:!1}),(0,i.gd)((0,i.K2)((0,v.C)({update:!0}),P()))):(0,i._7)((0,l.e)({prevZoom:o,afterMapViewChange:!0}),(0,u.Ip)({realtyListRegionId:t})))),(0,c.eU)((e=>(0,f.Pm)(e).admDiv.data),(e=>(0,i.K2)((0,a.M4)(),(0,b.N7)(e)))),(0,r.y5)()))))),E=(0,i.n5)("onceMapInteractionStart",(()=>(0,i.gd)((0,i.Q2)((e=>e.appContext.weak.mapInteractionStarted?(0,i.lQ)():(0,u.bn)()))))),M=(0,i.n5)("setMapViewToMarkersOnFloor",(e=>(0,c.RC)({currentZoom:e=>e.appContext.zoom,rotation:e=>e.appContext.rotation,offset:d.kD,screen:e=>e.session.screen,searchFrame:e=>(0,h.Su)(e.appContext.frames)},(({currentZoom:t,rotation:s,offset:a,screen:n,searchFrame:o})=>{if(!o||"inbuilding"!==o.searchType)return(0,i.lQ)();const c=(0,g.Y)(n,a),d=(0,m.getCenterZoomByPoints)(e.map((e=>e.point)),s,[c.width,c.height]);if(!d)return(0,i.lQ)();const{center:l,zoom:u}=d;return(0,r.m3)({center:l,zoom:u<t&&u>=17?u:t})})))),P=(0,i.n5)("switchFloorIfNoMarkersOnCurrent",(()=>(0,c.RC)({markersOnFloors:d.o5,currentFloor:e=>e.appContext.floors&&e.appContext.floors.currentFloor,isManuallySelected:e=>{var t;return null===(t=e.appContext.floors)||void 0===t?void 0:t.isManuallySelected}},(({markersOnFloors:e,currentFloor:t,isManuallySelected:s})=>{if(!e)return(0,i.lQ)();if(void 0!==t&&e[t]&&e[t].length>0)return M(e[t]);if(s)return(0,i.lQ)();const a=(0,p._)(e);return void 0!==a?(0,i.K2)((0,r.Jc)({floorIndex:a,isManuallySelected:!1}),M(e[a])):(0,i.lQ)()})))),L=(0,i.n5)("clearHoveredMarker",(()=>(0,c.RC)({hoveredId:e=>e.appContext.weak.hoveredId},(({hoveredId:e})=>e?(0,u.Ip)({hoveredId:void 0}):(0,i.lQ)()))))},84917:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(12017),i=s(6514),a=s(9729),n=s(8335),o=s(7335),c=s(15582),d=s(66698);const l=(0,r.n5)("centerMapByPoints",(e=>(0,o.RC)({rotation:e=>e.appContext.rotation,screen:e=>e.session.screen,offset:c.kD},(({rotation:t,screen:s,offset:r})=>{const o=(0,i.Y)(s,r),c=(0,a.getCenterZoomByPoints)([...e.map((e=>[e.lon,e.lat]))],t,[o.width,o.height]);if(!c)return;const{center:l,zoom:u}=c;return(0,n.m3)({center:l,zoom:u-d.qh})}))))},67301:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var r=s(12017),i=s(20091),a=s(51021),n=s(7335);const o=(0,r.n5)("minimizeDataViewerIfNotDashboard",(()=>(0,a.n)((0,n.eU)((e=>0===e.appContext.frames.length),(e=>!e&&(0,i.X_)({isMinimized:!0}))))))},528:(e,t,s)=>{"use strict";s.d(t,{q:()=>n});var r=s(7335),i=s(90882),a=s(51557);const n=e=>(0,r.eU)((e=>{var t;return!(!(null===(t=e.appContext)||void 0===t?void 0:t.popup)||!("requireConfirmationOnClose"in e.appContext.popup)||!e.appContext.popup.requireConfirmationOnClose)}),(t=>t?(0,a.QY)((t=>(0,i.L)(t.tp._t("Закрыть окно? Ваши изменения не сохранятся"),e))):e()))},41577:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(12017),i=s(35606),a=s(7335),n=s(63041),o=s(80905),c=s(35023);const d=(0,r.n5)("openEntityProfileCardNoType",(({id:e,shouldFitEntityInMapView:t})=>(0,a.eU)((e=>{var t;return null===(t=(0,o.bB)(e.appContext.frames,"userProfile"))||void 0===t?void 0:t.searchId}),(s=>(0,r.K2)((0,i.it)({id:e,searchId:s||(0,c.W7)()}),(0,a.eU)((t=>{var s,r;return null===(r=null===(s=t.data.entity.profile[e])||void 0===s?void 0:s.data)||void 0===r?void 0:r.type}),(s=>s?(0,n.UP)({id:e,type:s,shouldFitEntityInMapView:t}):(0,r.lQ)())))))))},93282:(e,t,s)=>{"use strict";s.d(t,{C:()=>m});var r=s(12017),i=s(35023),a=s(27892),n=s(66698),o=s(7335),c=s(71085),d=s(74786),l=s(47919),u=s(21933),p=s(13179);const m=(0,r.n5)("openMediaComplaintPopup",(e=>(0,o.RC)({frame:e=>e.appContext.frames[0],queryContext:e=>(0,c.y)(e)},(({frame:t,queryContext:s})=>{const c="gallery"===t.type?t.entityId:void 0,m="gallery"===t.type?t.photoAlbum:void 0,g=(0,d.MV)(s);return c?(0,o.RC)({searchKeyword:(0,l.QW)(c),featureVideoInGallery:e=>e.config.featureVideoInGallery},(({searchKeyword:t,featureVideoInGallery:s})=>{var o,d;return s?(0,u.withMediaAlbum)({objectId:c,albumId:null!==(o=null==m?void 0:m.id)&&void 0!==o?o:n.Qh,searchCtx:g,searchKeyword:t},(t=>{const s=null==t?void 0:t.pages.flatMap((e=>e.items)).find((t=>t.id===e));return s?(0,a.PB)({id:(0,i.W7)(),type:"complaint",subtype:"media",itemId:e,objectId:c,objectType:s.real_object_type}):(0,r.lQ)()})):(0,p.gg)({id:c,albumId:null!==(d=null==m?void 0:m.id)&&void 0!==d?d:n.Qh,searchCtx:g,searchKeyword:t},(t=>{const s=null==t?void 0:t.pages.flatMap((e=>e.items)).find((t=>t.id===e));return s?(0,a.PB)({id:(0,i.W7)(),type:"complaint",subtype:"photo",itemId:e,objectId:c,objectType:s.real_object_type}):(0,r.lQ)()}))})):(0,r.lQ)()}))))},9482:(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var r=s(12017),i=s(91818);const a=(0,r.n5)("openComplaintPopup",(e=>(0,i.oC)("openReviewComplaint",{reviewId:e})))},7522:(e,t,s)=>{"use strict";s.d(t,{E:()=>x});var r=s(12017),i=s(21959),a=s(7335),n=s(4340);const o="dg5_numberOfReviewsSent",c="dg5_previousShowTimeThanks",d="dg5_previousShowTimePhone",l=864e5,u="dg5_numberOfPhonePopupShows";var p=s(60832),m=s(35023),g=s(27892),h=s(29094),f=s(536),b=s(34438),v=s(50432),y=s(51557);const x=(0,r.n5)("openEngagingPopup",(e=>{const{contentType:t,isPlacesTab:s}=e;return s?(0,r.lQ)():(0,r.NV)((({featurePhone:s})=>(0,a.RC)({hasConfirmedPhone:i.vY,activities:i.VO},(({hasConfirmedPhone:i,activities:a})=>{switch((e=>{const t=+n.IG.local.getItem(o)||0;n.IG.local.setItem(o,t+1);const s=+n.IG.local.getItem(c),r=+n.IG.local.getItem(d),i=((e,t)=>e%5==0&&(!t||Date.now()-t>=l))(t,s);return(null==e?void 0:e.featurePhone)&&((e,t,s,r)=>{const i=(t||[]).reduce(((e,t)=>"checkin"!==t.type?e+t.count:e),0);if(e||t&&i<=10)return!1;const a=+n.IG.local.getItem(u)||0;return!(a>=3||s%3!=0||r&&Date.now()-r<l||(n.IG.local.setItem(u,a+1),0))})(null==e?void 0:e.hasConfirmedPhone,null==e?void 0:e.activities,t,r)?(n.IG.local.setItem(d,Date.now()),"phonePopup"):i?(n.IG.local.setItem(c,Date.now()),"thanksPopup"):void 0})({hasConfirmedPhone:i,featurePhone:s,activities:a})){case"phonePopup":return(0,p.W)();case"thanksPopup":switch(t){case"photo":return(0,g.PB)({id:(0,m.W7)(),type:"thanksForPhoto"});case"review":return(0,g.PB)({id:(0,m.W7)(),type:"thanksForReview"})}default:switch(t){case"photo":return(0,y.QY)((({tp:e})=>(0,h.D)((0,f.k)({title:e._t("Все фотографии успешно загружены"),message:""}))));case"review":const t=(0,b.o)({review:e.review});return t?(0,y.QY)((({tp:s})=>(0,h.D)((0,f.k)({title:s._t("Готово"),message:s._t("Спасибо за отзыв!"),bssName:"addReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},t),{progressBar:e.progressBar})}})))):((0,v.vV)({message:"Не удалось сформировать payload.reviewItem для сообщения об успешном добавлении отзыва",level:"error",id:"fjhd90",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e.review)}}),(0,r.lQ)())}}}))))}))},67336:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var r=s(12017),i=s(62260),a=s(27892),n=s(46287),o=s(56688),c=s(35023),d=s(66944);const l=({source:e}={})=>(0,r.Q2)((t=>{const s=t.appContext.frames.find((e=>"entity"===e.type));if(!s||"entity"!==s.type)return(0,r.lQ)();const{entityId:l,searchId:u}=(0,i.w)(s,t);if(!l)return(0,r.lQ)();const p=(0,n.Tq)({entityId:l,state:t,searchId:u});return p&&p.data&&(0,o.E)(p.data)?(0,r._7)((0,d.pd)({frameId:s.id,entityId:l,tab:"reviews"}),(0,a.PB)({id:(0,c.W7)(),type:"createReview",entityId:l,searchId:s.searchId,sourceId:e})):(0,r.lQ)()}))},66633:(e,t,s)=>{"use strict";s.d(t,{Wy:()=>M,Jz:()=>E,GV:()=>O,fs:()=>S,wT:()=>T,j1:()=>A,P4:()=>L,UC:()=>N,K_:()=>P});var r=s(91818),i=s(12017),a=s(88735),n=s(29094),o=s(536);function c(e){switch(e){case"branch":case"geo":case"profile":return e;default:return"geo"}}var d=s(7335),l=s(21959),u=s(35350),p=s(80905),m=s(50978),g=s(13179),h=s(25346),f=s(66698);const b=(e,t,s)=>{const r=null==s?void 0:s.find((e=>e.id===f.Qh));return r&&1===r.count&&-1===t?[Object.assign(Object.assign({},r),{count:0})]:(null==s?void 0:s.length)?s.map((s=>s.id===f.Qh||s.id===e&&s.id!==f.Qh&&t<0?Object.assign(Object.assign({},s),{count:s.count+t}):s)):[{id:f.Qh,name:"Все",count:t>0?t:0}]};var v=s(30392),y=s(46287),x=s(77027),j=s(51557),w=s(71085),_=s(74786),C=s(61120),I=s(98452),k=s(47919);function O(e){return(0,r.oC)("openPhotoUploaderPopup",e)}const S=(0,i.n5)("removePhoto",(e=>(0,d.RC)({userId:l.LE,oldPhoto:t=>(0,u.n)({state:t,id:e})},(({userId:t,oldPhoto:s})=>{if(!s.data||s.data.temporary)return(0,i.lQ)();const r=s.data.object;return r&&"profile"!==r.type?(0,i.K2)((0,m.t)({entityId:r.id,entityType:c(r.type),photoId:e,userId:t}),(0,a.pj)(e,(e=>e.data?(0,j.QY)((({tp:e})=>(0,n.D)((0,o.z)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):void 0))):(0,i.lQ)()})))),T=(0,i.n5)("removePhotoV3",(e=>{const{photo:t,entityId:s,albumId:r}=e;return(0,d.RC)({userId:l.LE,entity:e=>(0,y.DE)({state:e,entityId:s}).data,queryContext:e=>(0,w.y)(e),searchKeyword:(0,k.QW)(e.entityId)},(({userId:d,entity:l,queryContext:u,searchKeyword:p})=>{if(!l)return(0,i.lQ)();const h=(0,_.MV)(u);return(0,i.K2)(N({albumId:e.albumId,diffs:-1,entityId:e.entityId}),P({albumId:e.albumId,entityId:e.entityId,actionType:"remove"},[t]),e.albumId!==f.Qh&&P({albumId:f.Qh,entityId:e.entityId,actionType:"remove"},[t]),(0,m.t)({entityId:l.id,entityType:c(l.type),photoId:t.id,userId:d}),(0,a.pj)(t.id,(e=>e.data?(0,j.QY)((({tp:e})=>(0,n.D)((0,o.z)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):(0,i.lQ)())),(0,g.gg)({id:s,albumId:r,searchCtx:h,searchKeyword:p},(e=>{const s=null==e?void 0:e.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;return(null==s?void 0:s.some((e=>e.id===t.id)))?(0,j.QY)((({tp:e})=>(0,n.D)((0,o.z)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):(0,i.lQ)()})))}))}));function E(e){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,w.y)(e)},(({entityFrame:t,queryContext:s})=>{const r=(0,_.MV)(s),a=e.entityId||(null==t?void 0:t.id);return(0,d.RC)({searchKeyword:(0,k.QW)(a)},(({searchKeyword:t})=>a&&!C.S$?(0,g.PG)({id:a,albumId:e.albumId,searchCtx:r,searchKeyword:t}):(0,i.lQ)()))}))}function M(e){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity")},(({entityFrame:t})=>{const s=e||(null==t?void 0:t.id);return s?(0,h.db)({objectId:s}):(0,i.lQ)()}))}function P(e,t){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,w.y)(e)},(({entityFrame:s,queryContext:r})=>{const a=e.entityId||(null==s?void 0:s.id),n=(0,_.MV)(r);return(0,d.RC)({searchKeyword:(0,k.QW)(a)},(({searchKeyword:s})=>a?(0,g.ds)({id:a,albumId:e.albumId,searchCtx:n,searchKeyword:s},(s=>"add"===e.actionType?(({oldData:e,albumId:t,photos:s})=>{const r=null==e?void 0:e.pages.slice(1),i=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...s,...e.pages[0].items]:[...s],albums:b(t,s.length,e.pages[0].albums)}):{items:[...s],albums:b(t,s.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==r?void 0:r.length)?[i,...r]:[i]})})({oldData:s,albumId:e.albumId,photos:t}):(({oldData:e,albumId:t,photos:s})=>{const r=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!s.some((t=>t.id===e.id)))),albums:b(t,0-s.length,e.albums)}))):[{items:[],albums:[{id:f.Qh,name:"Все",count:0}]}];return Object.assign(Object.assign({pageParams:[]},e),{pages:r})})({oldData:s,albumId:e.albumId,photos:t}))):(0,i.lQ)()))}))}function L(e,t){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,w.y)(e)},(({entityFrame:s,queryContext:r})=>{const a=e.entityId||(null==s?void 0:s.id),n=(0,_.MV)(r);return(0,d.RC)({searchKeyword:(0,k.QW)(a)},(({searchKeyword:s})=>a?I.YD.setAlbum({objectId:a,albumId:e.albumId,searchCtx:n,searchKeyword:s},(s=>"add"===e.actionType?(({oldData:e,albumId:t,media:s})=>{const r=null==e?void 0:e.pages.slice(1),i=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...s,...e.pages[0].items]:[...s],albums:b(t,s.length,e.pages[0].albums)}):{items:[...s],albums:b(t,s.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==r?void 0:r.length)?[i,...r]:[i]})})({oldData:s,albumId:e.albumId,media:t}):(({oldData:e,albumId:t,media:s})=>{var r;const i=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!s.some((t=>t.id===e.id)))),albums:b(t,0-s.length,e.albums)}))):[{items:[],albums:[{id:f.Qh,name:"Все",count:0}],error:{type:void 0,message:void 0},meta:void 0,next_page_token:null===(r=null==e?void 0:e.pages[0])||void 0===r?void 0:r.next_page_token}];return{pageParams:(null==e?void 0:e.pageParams)||[],pages:i}})({oldData:s,albumId:e.albumId,media:t}))):(0,i.lQ)()))}))}function N(e){return(0,d.RC)({frame:e=>e.appContext.frames[0]},(({frame:t})=>{var s;if("entity"===t.type||"gallery"===t.type){const r=e.entityId||t.entityId,a="entity"===t.type?null===(s=null==t?void 0:t.tabPhoto)||void 0===s?void 0:s.photoAlbum:t.photoAlbum;return r?(0,i.K2)((0,h.c7)({objectId:r},(t=>(({oldData:e,albumId:t,diffs:s})=>{var r;return Object.assign(Object.assign({},e),{albums:b(t,s,null==e?void 0:e.albums),code:null!==(r=null==e?void 0:e.code)&&void 0!==r?r:200})})({oldData:t,albumId:e.albumId,diffs:e.diffs}))),a&&(0,v.G)({frameId:t.id,selectedAlbum:Object.assign(Object.assign({},a),{count:a.count+e.diffs})})):(0,i.lQ)()}return(0,i.lQ)()}))}const A=(0,i.n5)("setCurrentPhotoId",(e=>{const{frameId:t,photoId:s}=e;return(0,x.oy)(t,(e=>{if("gallery"===e.type)return Object.assign(Object.assign({},e),{photoId:s})}))}))},33662:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(12017),i=s(29787),a=s(27892),n=s(35023);function o(e,t){return(0,r._7)((0,i.PC)(),(0,a.PB)({id:(0,n.W7)(),type:"feedback",subtype:e,rating:t}))}},52072:(e,t,s)=>{"use strict";s.d(t,{c:()=>f});var r=s(12017),i=s(7335),a=s(60066),n=s(80556),o=s(77027),c=s(29787),d=s(41949),l=s(51021),u=s(88735),p=s(9763),m=s(92585),g=s(24763),h=s(80905);const f=(0,r.n5)("closeRealtyFrames",(()=>(0,i.RC)({frame:e=>e.appContext.frames[0],realtyFrame:e=>(0,h.bB)(e.appContext.frames,"realty")},(({frame:e,realtyFrame:t})=>t?(0,a.NL)(e)?(0,r.K2)((0,o.wU)({id:e.id}),(0,l.P)((0,n.Z8)((e=>(null==e?void 0:e.entity)&&"building"===e.entity.type?e.suggestId?(0,u.o6)({entityId:e.suggestId},(t=>!(null==t?void 0:t.data)||(0,p.H)(t.data)?(0,d.P)():(0,d.P)({entity:{id:t.data.id,type:t.data.type},suggestId:null==e?void 0:e.suggestId}))):(0,d.P)():(0,r.lQ)())))):(0,m.n)(e)&&t.previousRealtyId?(0,g.C)({realtyId:t.previousRealtyId}):(0,n.$R)(e)?e.entity&&"building"===e.entity.type?(0,d.P)():(0,c.PC)((0,o.P8)()):(0,c.PC)((0,o.wU)({id:e.id})):(0,l.n)((0,d.P)())))))},91565:(e,t,s)=>{"use strict";s.d(t,{M4:()=>M,cx:()=>S,kN:()=>P});var r=s(12017),i=s(25151);(0,r.n5)("setRegionDetector",((e,t)=>{const s=t?t.region_id:e.id;return(0,i.jx)({id:null==t?void 0:t.id,name:(null==t?void 0:t.name)||e.name,regionId:s,type:"adm_div.city",countryCode:e.country_code,overlapRegionId:s,allowChangeDomain:!0})}));var a=s(52160),n=s(49804),o=s(82393),c=s(6514),d=s(7044),l=s(40374),u=s(35314),p=s(7335),m=s(48914),g=s(57744),h=s(62230);const f=(0,r.n5)("trackAudienceCounter",(e=>(0,r.gd)((0,p.eU)(g.u,(t=>(0,m.Qh)({payload:{audienceCounter:{counterType:"launch",link:window.location.href,referrer:"2gis",segmentInfo:{segmentId:e,baseLocale:"0"===e?void 0:t}}}}))))));var b=s(68443),v=s(333),y=s(11776),x=s(15582),j=s(35023),w=s(88166),_=s(49971),C=s(27783),I=s(59954),k=s(48699),O=s(81181);function S(e,t){if(t&&!(0,a.b7)({id:t,state:e}))return(0,i.lr)({id:t})}const T=["mapview","layer","previousMapView","user","geolocation"],E=(0,r.n5)("countryDomainRedirectOnClient",(()=>(0,r.gd)((0,r.NV)((e=>(0,p.eU)((t=>(0,o.W0)(t,window.location.hostname,e.isCountryRedirectsEnabled)),(e=>e?(0,p.eU)((e=>(0,v.w)((0,b.I)(e).filter((e=>T.includes(e.type))))),(t=>(0,y.v)({url:`${e}${t}`,name:"_self"}))):O.$.cleanFriendInOtherDomainModel()))))))),M=(0,r.n5)("detectRegionWithPostEffects",(()=>(0,p.eU)((e=>(0,o.Pm)(e).admDiv.data),(e=>(0,r.K2)((0,r.Q2)((e=>{const t=(0,o.Pm)(e).admDiv;if((0,C.b)(e.appContext.zoom))return(0,i.Cg)();const s=e.appContext.center,a=(0,x.kD)(e),d=(0,c.Y)(e.session.screen,a);if(0===d.width||0===d.height)return(0,r.lQ)();const l=e.appContext.pitch,u=e.appContext.rotation,p={width:Math.round(d.width/2),height:Math.round(d.height/2)},m=Math.round(e.appContext.zoom),g=(0,n.$H)({center:s,zoom:m,mapSize:p,pitch:l,rotation:u});return(0,r.K2)((0,i.sS)({geometry:g,searchId:I.i$,zoomLevel:m}),(0,r.Q2)((e=>{const s=(0,o.Hv)(e),r=s&&s.data;if(r&&(!t.data||t.data.id!==r.id))return S(e,r.regionId)})))})),E(),(0,l.Uy)(),(0,u.hL)(),(0,u.zY)(),(0,p.eU)((e=>(0,o.Pm)(e).admDiv.data),(t=>function(e,t){return t?(0,h.o)(e,t,"overlapRegionId")?f(t.overlapRegionId):(0,r.lQ)():e&&"0"!==e.overlapRegionId?f("0"):(0,r.lQ)()}(e,t))),(0,w.J)(),(0,p.eU)((e=>(0,o.MJ)(e)),(t=>(!e||e.regionId!==t)&&(0,r._7)((0,_.f)(),t?(0,k.W5)({projectId:t}):(0,r.lQ)())))))))),P=(0,r.n5)("savePositionToCookie",(({lon:e,lat:t,zoom:s})=>(0,d.T)({name:"pos",value:[(0,j.jF)(e),(0,j.jF)(t),(0,j.jF)(s,2)].join(";")})))},91818:(e,t,s)=>{"use strict";s.d(t,{cZ:()=>ae,BP:()=>re,G7:()=>ie,oC:()=>se});var r=s(12017),i=s(7335),a=s(21959),n=s(4340),o=s(50432),c=s(29787),d=s(77314),l=s(35023),u=s(27892),p=s(80905),m=s(84963),g=s(1364),h=s(36954),f=s(68494),b=s(48699),v=s(29094),y=s(536),x=s(40268);function j(e,t){return"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===t.error.name?e._t("Представители компании не могут писать отзывы о своей компании"):403===t.code?e._t("Кажется, вы уже писали мнение об этой компании. Вернитесь к списку отзывов, и мы найдем ваш отзыв для редактирования"):e._t("Не получилось отправить отзыв. Повторите попытку.")}var w=s(19297),_=s(34438),C=s(48304),I=s(67336),k=s(89697),O=s(59939),S=s(48616),T=s(60832),E=s(7522),M=s(27812),P=s(80981),L=s(88654),N=s(51557),A=s(85757);const R=(0,r.n5)("sendCreateReview",(e=>{const{reviewData:t}=e;return(0,r._7)((0,u.R4)((e=>Object.assign(Object.assign({},e),{temporaryId:t.temporaryId}))),(0,r.K2)((0,f.b)(t),(0,r.Q2)((s=>{var i,a,n;if(e.skipNotify)return(0,r._7)((0,x.cb)(t.entityId),(0,A.nL)(e.entity.id));const o=(0,g.xW)({state:s,id:t.temporaryId});if("error"===(null===(i=o.meta)||void 0===i?void 0:i.status)){if("error"in o.meta&&(0,w.yE)(o.meta.error.data)){const e=null===(a=o.meta.error)||void 0===a?void 0:a.data;return(0,u.R4)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return function(e){const t=e.code;return(0,r.K2)((0,N.QY)((({tp:t})=>(0,v.D)((0,y.z)({title:t._t("Что-то пошло не так"),message:j(t,e),bssName:"addReviewError"})))),(0,u.R4)((e=>Object.assign(Object.assign({},e),{temporaryId:void 0}))),403===t&&(0,b.TE)(["UGC","CreateReviewError",t]))}(o.meta)}const c="profileTab"in s.appContext.frames[0]&&"places"===(null===(n=s.appContext.frames[0])||void 0===n?void 0:n.profileTab),{text:d="",rating:l,photos:p}=o.data;return(0,r._7)((0,u.fs)(),(0,x.cb)(t.entityId),(0,E.E)({contentType:"review",isPlacesTab:c,review:o.data,progressBar:(0,P.lS)({textScore:(0,L.Q)(d),hasRating:Boolean(l),hasPhotos:Boolean(null==p?void 0:p.length)})}),(0,M.J)({type:"review",entityId:e.entity.id}),(0,A.nL)(e.entity.id))}))))})),z=(0,r.n5)("sendEditReview",(e=>{const{reviewData:t}=e,{id:s,entityId:i}=t;return(0,r.K2)((0,h.B)(t),(0,r.Q2)((t=>{const a=(0,g.xW)({state:t,id:s});if(a.meta&&"success"!==a.meta.status){if("error"in a.meta&&(0,w.yE)(a.meta.error.data)){const e=a.meta.error.data;return(0,u.R4)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return(0,N.QY)((({tp:e})=>(0,v.D)((0,y.z)({title:e._t("Что-то пошло не так"),message:e._t("Не получилось отправить отзыв. Повторите попытку.")}))))}const n=a.data,c=(0,_.o)({review:n});if(!c)return void(0,o.vV)({message:"Не удалось сформировать payload.reviewItem для редактирования отзыва",level:"error",id:"jdbm89",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(n)}});const{text:d="",rating:l,photos:p}=n;return(0,r._7)((0,N.QY)((({tp:e})=>(0,v.D)((0,y.k)({title:e._t("Готово"),message:e._t("Ваш отзыв отредактирован"),bssName:"editReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},c),{progressBar:(0,P.lS)({textScore:(0,L.Q)(d),hasRating:Boolean(l),hasPhotos:Boolean(null==p?void 0:p.length)})})}})))),(0,u.fs)(),(0,x.cb)(i),(0,M.J)({type:"review",entityId:e.entity.id}),(0,A.nL)(e.entity.id))})))})),U=(0,r.n5)("sendReviewSafely",((e,t)=>{const s=t?(({reviewId:e,entityId:t,searchId:s})=>(0,u.PB)({id:(0,l.W7)(),type:"editReview",reviewId:e,entityId:t,searchId:s}))({reviewId:e.reviewData.id,entityId:e.reviewData.entityId}):(0,I.m)(),n=t?z(e):R(e);return(0,r.NV)((({featurePersonalDataAgreement:t,featurePhoneLaw:r})=>(0,i.RC)({hasPhone:a.vY,status:e=>(0,k.y)(e,t)},(({hasPhone:t,status:i})=>{const a=r&&!t;return a||"idle"===i?(0,O.b)({after:t=>(a?t:null!==t)?n:((0,C.a)(Object.assign(Object.assign({},e.reviewData),{photos:e.photos})),s),openPopup:a?()=>(0,T.z)():()=>(0,S.D)(!1)}):n}))))}));var B=s(7758),H=s(52342),F=s(84082),D=s(83878),V=s(32065);const Z=(0,D.Mz)(F.b1,(e=>{const t=(0,V.sm)(e).find((e=>!(!e||"collection"!==e.type||!e.is_default)));return t&&t.id}));var $=s(69969),q=s(1804),W=s(95014),G=s(44288),Q=s(73766),K=s(68871),Y=s(32380),X=s(81988),J=s(55129),ee=s(90493);const te="dg5_after_action";function se(e,t,s="auto"){return"undefined"==typeof window?(0,r.lQ)():(0,i.RC)({isLoggedIn:a.x3,time:e=>e.session.time},(({isLoggedIn:i,time:a})=>{if(i)return e?(0,ne[e])(t):(0,r.lQ)();e&&n.IG.local.setItem(te,JSON.stringify({key:e,data:t,ts:a,runningAfterAuth:s}));const o=new URL(window.location.href);return o.pathname="/authorize"+o.pathname,(0,r.v6)((()=>window.sdk.ui({type:"current",redirectUrl:o.toString()})))}))}const re=(0,r.n5)("cleanUpActionAfterLogout",(()=>(0,r.v6)((()=>{n.IG.local.removeItem(te)})))),ie=()=>{try{const e=n.IG.local.getItem(te);return e?JSON.parse(e):null}catch(e){return null}},ae=(0,r.n5)("actionAfterLogin",(()=>(0,i.eU)((e=>e.session.time),(e=>{const t=n.IG.local.getItem(te);if(!t)return(0,r.lQ)();n.IG.local.removeItem(te);try{const{key:s,data:i,ts:a}=JSON.parse(t),n=ne[s];if(!n)return(0,r.lQ)();const c=e-a;return Number.isNaN(c)||c<0||c>3e5?((0,o.vV)({id:"sfomn",message:"expired action",level:"warn",payload:{type:"debug",subtype:"AfterInitError",data:JSON.stringify({data:i,time:e})}}),(0,r.lQ)()):n(i)}catch(e){return(0,o.vV)({id:"sfomn",message:null==e?void 0:e.message,level:"error",payload:{type:"exception",subtype:"AfterInitError",data:t,stack:null==e?void 0:e.stack}}),(0,r.lQ)()}})))),ne={openFavorites:()=>(0,c.PC)((0,d.x)("favorites")),openSharingPopup:()=>(0,i.eU)((e=>(0,p.bB)(e.appContext.frames,"entity")),(e=>(0,m.T)({frameId:null==e?void 0:e.id}))),sendReviewSafely:e=>U(e.params,e.isEdit),openSendOrderPopup:e=>(0,B.t)(e),handleBookmarkClick:({item:e,isAdded:t,targetBoundingClientRect:s})=>(0,r.Q2)((i=>{if(t)return(0,r.K2)((0,c.PC)(),(0,H.D)(e));const a=(e=>{const t=e.appContext.weak.temporaryDefaultCollectionId;return t&&(0,F.b1)(e)[t]?t:Z(e)})(i),n=a||(0,l.W7)(),o=(0,Q.si)(n);return(0,r.K2)(!a&&(0,G.N)({title:"",collectionId:n,isDefault:!0,skipSync:!0,color:o}),(0,q.z)({collectionId:n,item:e}),(0,$.G)({collectionId:n,item:e,targetBoundingClientRect:s}),(0,W.v)())})),handleReviewLike:e=>(0,r.Q2)((t=>{var s;const i=null===(s=(0,g.xW)({state:t,id:e.reviewId}))||void 0===s?void 0:s.data;if(!(0,K.N)(i))return(0,r.lQ)();const a=!i.temporary&&!!i.user.public_id,n=i.additional_data.is_liked;return(0,r.K2)((0,Y.u)({id:i.id,value:!n}),a&&ee.e.updatePublicProfileFeedCacheAfterLike({isLiked:!!n,reviewId:i.id,publicUserId:i.user.public_id}))})),handlePublicProfileReviewLike:({reviewId:e,isLiked:t,userId:s})=>ee.e.changeReviewLike({reviewId:e,isLiked:t,publicUserId:s}),openPhotoUploaderPopup:e=>(0,u.PB)({id:(0,l.W7)(),type:"photoUploader",entityId:e.entityId,searchId:e.searchId,isMenuPhoto:e.isMenuPhoto}),openReviewComplaint:({reviewId:e})=>(0,u.PB)({id:(0,l.W7)(),type:"complaint",subtype:"review",itemId:e}),openUserProfile:({userId:e})=>(0,r.K2)(J.V.openFriendsList(X.M.openPublicProfile),X.M.openPublicProfile({userId:e})),subscribeToUser:()=>(0,r.lQ)()}},40268:(e,t,s)=>{"use strict";s.d(t,{BY:()=>L,oS:()=>z,cb:()=>P,sj:()=>U,DB:()=>R,PH:()=>H,IG:()=>A,n1:()=>N});var r=s(88735),i=s(37700),a=s(29094),n=s(536),o=s(90882),c=s(12017),d=s(35023),l=s(77027),u=s(11989),p=s(27892),m=s(63041),g=s(7335),h=s(80905),f=s(21959),b=s(36539),v=s(11484),y=s(95280),x=s(46287),j=s(56688),w=s(73581),_=s(74182),C=s(35058),I=s(46516);function k(e){return"unconfirmedReviews"===e.type}var O=s(81866),S=s(92585),T=s(66367),E=s(51557),M=s(85757);const P=(0,c.n5)("fetchPinnedUserReviewsByEntityId",(e=>(0,g.eU)(f.LE,(t=>t?(0,v.L)({userId:t,entityId:e}):(0,c.lQ)())))),L=(0,c.n5)("editReview",(e=>{const{reviewId:t,searchId:s}=e;return(0,r.bT)(t,(e=>{var r,i;const a=!(null===(r=e.data)||void 0===r?void 0:r.temporary)&&(null===(i=e.data)||void 0===i?void 0:i.object.id);return a?(0,c.K2)((0,m.lQ)({id:a,searchId:s}),(0,p.PB)({id:(0,d.W7)(),type:"editReview",entityId:a,searchId:s,reviewId:t})):(0,c.lQ)()}))})),N=(0,c.n5)("removeReview",(e=>(0,r.bT)(e,(t=>{const s=null==t?void 0:t.data;return s?(0,g.RC)({removableFrameId:e=>{var t;return null===(t=(0,h.bB)(e.appContext.frames,"currentReview"))||void 0===t?void 0:t.id},userId:e=>(0,f.LE)(e),frameEntity:e=>(0,h.bB)(e.appContext.frames,"entity"),frameRealtyCard:e=>(0,h.bB)(e.appContext.frames,"realtyCard")},(({removableFrameId:t,userId:u,frameEntity:p,frameRealtyCard:m})=>{const g=p?(0,b.z)(p,"reviews","actual"):null==m?void 0:m.reviewSearchId;return u?(0,E.QY)((({tp:p})=>(0,o.L)(p._t("Удалить отзыв? Это действие нельзя отменить."),(()=>{const o=(0,d.W7)(),m=s.temporary?void 0:s.object.id;return(0,c.K2)((0,i.lW)({id:e,userId:u,statusId:o,searchId:g,entityId:m}),(0,r.zC)(o,(e=>e&&"success"===e.meta.status?(0,c.K2)((0,a.D)((0,n.k)({title:p._t("Готово"),message:p._t("Отзыв удалён!")})),!!t&&(0,l.wU)({id:t}),!!m&&P(m),!!m&&(0,M.nL)(m)):(0,a.D)((0,n.z)({title:p._t("Что-то пошло не так"),message:p._t("Не удалось удалить отзыв, попробуйте позднее.")})))))})))):(0,c.lQ)()})):(0,c.lQ)()})))),A=(0,c.n5)("removeComment",(e=>{const{commentId:t,reviewId:s}=e;return(0,E.QY)((({tp:e})=>(0,o.L)(e._t("Удалить комментарий к отзыву? Это действие нельзя отменить."),(()=>{const i=(0,d.W7)();return(0,c.K2)((0,u.ir)({id:t,reviewId:s,statusId:i}),(0,r.zC)(i,(t=>t&&"success"===t.meta.status?(0,a.D)((0,n.k)({title:e._t("Готово"),message:e._t("Комментарий к отзыву удалён!")})):(0,a.D)((0,n.z)({title:e._t("Что-то пошло не так"),message:e._t("Не удалось удалить комментарий к отзыву, попробуйте позднее.")})))))}))))})),R=(0,c.n5)("fetchUserPinnedReviewsIfNeeded",(e=>(0,c.gd)((0,g.RC)({userId:f.LE,entity:t=>(0,x.DE)({state:t,entityId:e.entityId})},(({userId:t,entity:s})=>s.data&&(0,j.E)(s.data)&&t?(0,O.s)((0,f.kR)(e.entityId),(0,v.L)({entityId:e.entityId,userId:t})):(0,c.lQ)()))))),z=(0,c.n5)("ensureUnconfirmedReviews",(e=>(0,c.gd)((0,c.Q2)((t=>{const{entityId:s,searchId:r,frameId:i,orgId:a}=e,n=(0,h.bB)(t.appContext.frames,"entity"),o=r?t.data.reviewSearch[r]:void 0;return(0,y.P)(o)&&n&&"reviews"===n.tab&&"branch"===n.entityType&&U({entityId:s,frameId:i,orgId:a})}))))),U=(0,c.n5)("fetchUnconfirmedReviewsOnClient",(e=>{const{entityId:t,frameId:s,orgId:i}=e;return(0,c.Q2)((e=>{var a,n,o;const l=(0,h.w1)(e.appContext.frames,s);if(l&&(0,S.n)(l)){const u=(null===(a=l.tabReviews)||void 0===a?void 0:a.unconfirmedEntityReviewsSearchId)||(0,d.W7)(),p=(null===(n=l.tabReviews)||void 0===n?void 0:n.unconfirmedOrgReviewsSearchId)||(0,d.W7)(),m=i?p:u;return(m?null===(o=e.data.reviewSearch[m])||void 0===o?void 0:o.data:void 0)?(0,c.Q2)((e=>{const t=(0,h.bB)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,w.Q7)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:m})))})):(0,r.o6)({entityId:t},(e=>{const r=null==e?void 0:e.data;if(r&&(0,I.O)(r))return(0,c.K2)((0,w.$e)(s,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{unconfirmedEntityReviewsSearchId:u,unconfirmedOrgReviewsSearchId:p}):void 0}))),(0,c.Q2)((e=>{const t=(0,h.bB)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,w.Q7)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:m})))})),(0,C.M)({id:i||t,type:i?"org":"branch",searchId:m,unconfirmed:!0}))}))}return(0,c.lQ)()}))})),B=(0,c.n5)("refetchReviewsOnClientIfUserLoggedIn",(e=>(0,r.o6)({entityId:e.entityId,searchId:e.searchId},(t=>{var s,r;return t.data&&(0,j.E)(t.data)?(0,c.K2)((0,w.$e)(e.frameId,(t=>Object.assign(Object.assign({},t),{tabReviews:t.tabReviews?Object.assign(Object.assign({},t.tabReviews),{entityReviewsSearchId:(0,_.fY)(t.tabReviews.entityReviewsSearchId,e.searchId)}):void 0}))),(0,C.M)({id:t.data.id,type:"branch"!==t.data.type?"geo":"branch",isAdvertiser:!!(null===(r=null===(s=t.data.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.review),searchId:e.searchId}),(0,w.$e)(e.frameId,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{entityReviewsSearchId:(0,_.ZS)(e.tabReviews.entityReviewsSearchId)}):void 0})))):(0,c.lQ)()}))));function H(){return(0,g.RC)({entityFrame:e=>(0,h.bB)(e.appContext.frames,"entity"),realtyFrame:e=>(0,h.bB)(e.appContext.frames,"realtyCard")},(({entityFrame:e,realtyFrame:t})=>{if(e)return(0,c.K2)((0,c.uk)(1e3),(0,c._7)(B({entityId:e.entityId,frameId:e.id,searchId:e.searchId}),R({entityId:e.entityId}),z({entityId:e.entityId,frameId:e.id})));const s=(0,T.Iu)(t);return t&&s?(0,c.K2)((0,c.uk)(1e3),(0,T.N5)(s,(e=>{var s;const r=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.building.id;return r?(0,c._7)(B({entityId:r,frameId:t.id,searchId:t.reviewSearchId}),R({entityId:r}),z({entityId:r,frameId:t.id})):(0,c.lQ)()}))):(0,c.lQ)()}))}},35314:(e,t,s)=>{"use strict";s.d(t,{IQ:()=>I,aP:()=>w,ak:()=>C,hL:()=>x,k8:()=>_,zY:()=>j});var r=s(1321),i=s(82393),a=s(12017),n=s(74182),o=s(57744),c=s(35080),d=s(99031),l=s(44902),u=s(25056),p=s(24571),m=s(7335),g=s(9101),h=s(77027),f=s(52160),b=s(25151),v=s(80905),y=s(15582);function x(){return _()}function j(){return(0,a.Q2)((e=>{const t=(0,v.bB)(e.appContext.frames,"rubric");return t&&"rubric"===t.type?w(t.parentId):(0,a.lQ)()}))}function w(e){return(0,a.Q2)((t=>{const s=(0,o.u)(t),i=(0,v.bB)(t.appContext.frames,"rubricator");if(!i||"rubricator"!==i.type)return(0,a.lQ)();const p=i.regionId,m=(0,c.r)(p,s,e);if((0,n.HX)(t.appContext.weak.rubric.transition)===m)return(0,a.lQ)();const g=(0,u.Qe)(e)(t),h=(0,u.wy)(m)(t),f=(0,n.fY)(t.appContext.weak.rubric.transition,m);if(g&&h&&"success"===h.meta.status&&h.data&&h.data.length)return(0,r.Vz)((0,n.ZS)(f));const b=(0,y.Pz)(t);return(0,a.K2)(g?(0,a.lQ)():(0,d.G)({regionId:p,locale:s,id:e}),(0,r.Vz)(f),(0,l.G)({key:m,regionId:p,viewpoint:b,locale:s,parentId:e}),(0,r.Vz)((0,n.ZS)(f)))}))}function _(){return(0,a.Q2)((e=>{const t=(0,o.u)(e),s=(0,i.MJ)(e),d=(0,v.bB)(e.appContext.frames,"rubricator");if(!s||!d||"rubricator"!==d.type)return(0,a.lQ)();const p=`${d.id}_${(0,c.r)(s,t)}`;if((0,n.HX)(e.appContext.weak.rubricator.transition)===p)return(0,a.lQ)();const m=(0,u.wy)(p)(e),g=(0,n.fY)(e.appContext.weak.rubricator.transition,p),x=(0,f.b7)({state:e,id:s});if(m&&"success"===m.meta.status&&m.data&&m.data.length)return(0,a.K2)((0,r.zu)((0,n.ZS)(g)),(0,h.oy)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:s}))),x?(0,a.lQ)():(0,b.lr)({id:s}));const j=(0,y.Pz)(e);return(0,a.K2)((0,r.zu)(g),(0,h.oy)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:s}))),(0,l.G)({key:p,regionId:s,viewpoint:j,locale:t}),x?(0,a.lQ)():(0,b.lr)({id:s}),(0,r.zu)((0,n.ZS)(g)))}))}const C=(0,a.n5)("onPseudorubricClick",(e=>(0,g.O)({actionType:e.item.action.type,value:e.item.action.value,caption:e.item.caption}))),I=(0,a.n5)("onRubricClick",(e=>(0,m.Cl)((t=>(0,p.q_)({viewpoint:t,query:e.item.caption,rubricId:e.item.id})))))},44138:(e,t,s)=>{"use strict";s.d(t,{V:()=>p,b:()=>m});var r=s(12017),i=s(29787),a=s(73581),n=s(74182),o=s(13204),c=s(7335),d=s(76666),l=s(35023),u=s(61700);const p=(0,r.n5)("searchBuyHereMoreResult",(({frameId:e,page:t,adsIds:s,searchId:u,filters:p,filtersId:m})=>(0,r.K2)((0,r._7)((0,i.PC)((0,a.WB)(e,(e=>Object.assign(Object.assign({},e),{page:(0,n.fY)(e.page,t)})))),(0,c.eU)((e=>e.session.geolocation.position),(e=>(0,c.Cl)((r=>(0,o.Wj)({query:"",searchId:u,page:t,viewpoint:r,adsIds:s,filters:p,filtersId:m,sortPoint:e})))))),(0,c.CG)(e,d.A,(r=>(0,n.At)(r.page)===t&&(0,a.WB)(e,(e=>Object.assign(Object.assign({},e),{adsIds:s,page:(0,n.ZS)(e.page),scrollIdHash:(0,l.W7)()}))))))));function m(e){const{frame:t,filterValues:s,isViewportChanged:d}=e,p=(0,l.W7)();return(0,r.K2)((0,i.PC)((0,a.WB)(t.id,(e=>Object.assign(Object.assign({},e),{filterValues:s,searchId:(0,n.fY)(e.searchId,p),page:(0,n.vt)(1)})))),(0,c.eU)((e=>e.session.geolocation.position),(e=>(0,c.Cl)((r=>(0,o.Wj)({query:"",searchId:p,page:1,viewpoint:r,adsIds:t.adsIds,filters:s,filtersId:(0,l.W7)(),sortPoint:e}))))),(0,a.WB)(t.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,n.ZS)(e.searchId)}))),(0,u.C)({update:!0,isViewportChanged:d}))}},99445:(e,t,s)=>{"use strict";s.d(t,{Ty:()=>C,au:()=>T,du:()=>S,fm:()=>I,ir:()=>_,pA:()=>O,q4:()=>k});var r=s(12017),i=s(35023),a=s(88735),n=s(77027),o=s(29787),c=s(80905),d=s(47919),l=s(3517),u=s(73581),p=s(63041),m=s(7335),g=s(24872),h=s(74182),f=s(35781),b=s(92585),v=s(18396),y=s(69395),x=s(61700);const j=(0,r.n5)("searchByBuildingIdWithCurrentViewpoint",(e=>(0,m.Cl)((t=>(0,l.d)({buildingId:e.buildingId,page:e.page,more:e.more,searchId:e.searchId,gtaId:e.gtaId,filters:e.filters,viewpoint:t}))))),w=(0,r.n5)("searchInBuildingByQueryWithCurrentViewpoint",(e=>(0,m.eU)((e=>e.session.geolocation.position),(t=>(0,m.Cl)((s=>(0,l.r)({buildingId:e.buildingId,query:e.query,page:e.page,searchId:e.searchId,more:e.more,gtaId:e.gtaId,filters:e.filters,viewpoint:s,sortPoint:t}))))))),_=({buildingId:e,query:t="",filterValues:s,gtaId:l=(0,i.W7)(),loadedSearchId:u})=>{const g=u||(0,i.W7)(),b=(0,i.W7)();return(0,r.K2)((0,o.PC)(),(0,a.o6)({entityId:e},(t=>!t.data&&(0,p.x7)({id:e,searchId:void 0}))),(0,m.RC)({hasSearchControls:t=>(0,d.y3)({state:t,entityId:e}),frame:e=>(0,c.bB)(e.appContext.frames,"search")},(({hasSearchControls:a,frame:o})=>{let c;return o&&((0,v.O)(o)&&(c=o.query),(0,f.h)(o)&&(c=o.parentSearchQuery)),(0,r._7)((0,n.fL)({id:(0,i.W7)(),type:"search",searchType:"inbuilding",buildingId:e,searchId:(0,h.vt)(g),page:(0,h.vt)(1),gtaId:l,statusId:b,query:a?t:"",parentSearchQuery:c,filterPanelState:a?"auto":"manuallyClosed",filterValues:a?s:{},filtersId:(0,i.W7)()}),T({buildingId:e,gtaId:l,page:1,query:t,searchId:g,filterValues:s,hasSearchControls:a,shouldNotFetchBranches:!!u}))})),(0,r.gd)((0,x.C)()))},C=(0,r.n5)("searchInBuildingApplyFilterAndQuery",(({frameId:e,gtaId:t=(0,i.W7)(),buildingId:s,filterValues:a,query:n=""})=>{const c=(0,i.W7)(),l=(0,i.W7)();return(0,r.K2)((0,o.PC)(),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:s})),(i=>(0,r.K2)((0,u.Zv)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,h.fY)(e.searchId,c),statusId:l,page:(0,h.vt)(1),query:i?n:"",filterValues:i?a:{},buildingId:s,gtaId:t}))),T({buildingId:s,gtaId:t,page:1,query:n,searchId:c,filterValues:a,hasSearchControls:i}),(0,u.Zv)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,h.ZS)(e.searchId)})))))),(0,r.gd)((0,x.C)()))})),I=({frameId:e,page:t,buildingId:s,query:a,searchId:n,filterValues:o={}})=>(0,r.K2)((0,u.Zv)(e,(e=>Object.assign(Object.assign({},e),{page:(0,h.fY)(e.page,t),statusId:(0,i.W7)()}))),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:s})),(e=>T({buildingId:s,searchId:n,page:t,query:a,filterValues:o,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,m.CG)(e,f.h,(s=>(0,h.At)(s.page)===t&&(0,u.Zv)(e,(e=>Object.assign(Object.assign({},e),{page:(0,h.ZS)(e.page)})))))),k=({frameId:e,buildingId:t,filterValues:s,query:n=""})=>{const c=(0,i.W7)(),l=(0,i.W7)(),g=(0,i.W7)();return(0,r._7)((0,o.PC)(),(0,a.o6)({entityId:t},(e=>!e.data&&(0,p.x7)({id:t,searchId:void 0}))),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:t})),(i=>(0,r._7)((0,u.$e)(e,(e=>Object.assign(Object.assign({},e),{tab:"inside",statusId:l,tabInside:{searchId:(0,h.vt)(c),page:(0,h.vt)(1),buildingId:t,gtaId:g,query:i?n:"",filterValues:i?s:void 0}}))),T({buildingId:t,searchId:c,page:1,gtaId:g,query:n,filterValues:s,hasSearchControls:i,shouldNotFetchMarkers:!0})))))},O=({frameId:e,searchId:t,buildingId:s,query:a,filterValues:n={},page:o})=>(0,r.K2)((0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:(0,i.W7)(),tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,h.fY)(e.tabInside.page,o)})}):e)),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:s})),(e=>T({buildingId:s,searchId:t,page:o,query:a,filterValues:n,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,m.CG)(e,b.n,(t=>t.tabInside&&(0,h.At)(t.tabInside.page)===o&&(0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,h.ZS)(e.tabInside.page)})}):e))))),S=({frameId:e,buildingId:t,filterValues:s,query:a="",gtaId:n=(0,i.W7)()})=>{const c=(0,i.W7)(),l=(0,i.W7)();return(0,r.K2)((0,o.PC)(),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:t})),(i=>(0,r._7)((0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:l,tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,h.fY)(e.tabInside.searchId,c),page:(0,h.fY)(e.tabInside.page,1),query:i?a:"",filterValues:i?s:void 0,gtaId:n})}):e)),T({buildingId:t,searchId:c,gtaId:n,page:1,query:a,filterValues:s,hasSearchControls:i,shouldNotFetchMarkers:!0}),(0,y.Tl)({suggesterKey:"inbuilding",query:a})))),(0,m.CG)(e,b.n,(t=>t.tabInside&&(0,h.At)(t.tabInside.searchId)===c&&(0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,h.ZS)(e.tabInside.searchId),page:(0,h.ZS)(e.tabInside.page)})}):e)))))};function T({buildingId:e,searchId:t,gtaId:s,query:i,page:a,filterValues:n,hasSearchControls:o,shouldNotFetchBranches:c,shouldNotFetchMarkers:d,more:l}){return o&&i?(0,r._7)(!c&&w({buildingId:e,gtaId:s,page:a,query:i,searchId:t,filters:n,more:l}),!d&&(0,r.gd)((0,r.K2)((0,x.C)(),(0,g.CD)()))):!c&&j({buildingId:e,gtaId:s,page:a,searchId:t,filters:n,more:l})}},24571:(e,t,s)=>{"use strict";s.d(t,{xT:()=>H,sr:()=>B,du:()=>A.du,pA:()=>A.pA,q4:()=>A.q4,f8:()=>U,ir:()=>A.ir,q_:()=>M,kY:()=>L,wz:()=>P,Ty:()=>A.Ty,sI:()=>N});var r=s(12017),i=s(29787),a=s(13204),n=s(63041),o=s(15582),c=s(56803),d=s(77027),l=s(35023),u=s(80905),p=s(7335),m=s(24872),g=s(74182),h=s(73581),f=s(61700),b=s(66698),v=s(9729),y=s(6514),x=s(1321);const j=(0,r.n5)("flights",(e=>(0,r.Q2)((t=>{const s=(0,c.s8)({state:t,searchId:e.searchId}).data,i=function(e,t,s,r){const i=e&&e.out_viewport;if(i&&!(s&&r||function(e,t){return t.every((t=>!!e.find((e=>t.lat===e.latitude&&t.lon===e.longitude))))}(i,t)))return i}(s&&s.searchAttributes,e.inviewport,t.appContext.weak.isMapViewRepresentedInOriginalRequest,"undefined"==typeof window);if(!i)return(0,r.lQ)();const a=t.session.screen,n=(0,o.kD)(t);return(0,r.K2)((0,x.Ip)({dontUpdateResultsOnNextMapMove:!0}),(0,m.xZ)(function(e,t){const s=e.map((e=>[e.longitude,e.latitude])),{screenSize:r,maxZoom:i,rotation:a=0,offset:n}=t,o=(0,y.Y)(r,n),c=(0,v.getCenterZoomByPoints)(s,a,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:Math.min(c.zoom,i)}:{}}(i,{screenSize:a,offset:n,maxZoom:b.nD,rotation:t.appContext.rotation})))}))));var w=s(35363),_=s(18396),C=s(69395),I=s(33616),k=s(14414);const O=(0,r.n5)("autoOpenCardFromSearchIfNeeded",(e=>{const{searchId:t}=e;return(0,r.Q2)((e=>{var s,i,a,o;const d=(0,c.s8)({state:e,searchId:t});if(null===(i=null===(s=d.data)||void 0===s?void 0:s.searchAttributes)||void 0===i?void 0:i.is_partial)return(0,r.lQ)();if(null===(o=null===(a=d.data)||void 0===a?void 0:a.searchAttributes)||void 0===o?void 0:o.is_auto_open_best_result){const s=(0,c.Fs)({state:e,searchId:t}),i=s&&s[1],a=i&&i.data&&i.data[0];if(!a)return(0,r.lQ)();const o=(0,k.E)(a,t)(e);return o?(0,n.fV)({id:a,searchId:t,skipHistoryPush:!0,type:o.type}):(0,r.lQ)()}return(0,r.lQ)()}))}));var S=s(34764),T=s(32065),E=s(81951);const M=(0,r.n5)("searchByQuery",(e=>{const{query:t,rubricId:s,attributeId:o,catalogFilterValues:u={},page:h=1,buildingId:b,shouldNotAutoOpenCard:v=!1,viewpoint:y,regionId:x,isBuyHereRubric:_,cityId:I,isNonFixableQuery:k,parentSearchId:M,seoFakeEntityId:P,bestKeyword:L}=e,N=(0,l.W7)(),A=M||(0,l.W7)(),R=(0,l.W7)(),z=(0,l.W7)(),U=(0,l.W7)(),B=h,H=!(0,l.Im)(u);return(0,r.K2)((0,i.PC)(),(0,d.fL)({id:z,type:"search",filterPanelState:"auto",searchType:"query",query:t,statusId:U,tab:"catalog",tabCatalog:{rubricId:s,attributeId:o,searchId:(0,g.vt)(A),viewpoint:y,gtaId:(0,g.vt)(N),page:(0,g.vt)(B),filtersId:(0,g.vt)(R),filterValues:u,isBuyHereRubric:_},seoFakeEntityId:P}),(0,r.K2)((0,r.NV)((e=>(0,p.eU)((e=>e.session.geolocation.position),(i=>(0,r._7)((0,C.Tl)({suggesterKey:"primary",query:t}),(0,r.K2)((0,r._7)(b?(0,n.x7)({id:b,searchId:void 0}):void 0,s?(0,a.vO)(Object.assign({regionId:x,query:t,filters:u,filtersId:R,withFilters:!H,rubrId:s,viewpoint:y,searchId:A,page:h,gtaId:N,sortPoint:i,cityId:I},e.featureContextSearch?{bestKeyword:L}:{})):o?(0,a.o)({query:t,filters:u,filtersId:R,withFilters:!H,attrId:o,viewpoint:y,searchId:A,page:h,gtaId:N,sortPoint:i}):(0,a.Wj)({withFilters:!H,query:t,filters:u,searchId:A,filtersId:R,searchType:"catalog",page:B,viewpoint:y,statusId:U,gtaId:N,sortPoint:i,cityId:I,isNonFixableQuery:k})),(()=>{if(!s&&!o)return function(e){const{query:t,searchId:s}=e;return(0,r.Q2)((e=>{const r=(0,c.s8)({state:e,searchId:s});if(r.meta&&"success"===r.meta.status)return(0,w.V)(t)}))}({query:t,searchId:A})})()),H&&(0,a.cQ)({query:t,rubrId:s,filtersId:R,viewpoint:y,sortPoint:i,filters:(0,E.q)({searchType:"query",query:t,config:e,checkAwards2GisTags:!1,awards2GisTags:[]})?(0,T.Up)(u,[...Object.values(S.nr)]):void 0})))))),(0,p.eU)((e=>function(e,t){const s=(0,c.s8)({state:e,searchId:t}),r=s.data&&s.data.total||0;return!(s.data&&s.data.searchAttributes&&s.data.searchAttributes.is_partial||!r)}(e,A)),(e=>e?(0,r.gd)((0,r.K2)((0,f.q)(),(0,m.CD)())):(0,r.lQ)()))),(0,r.NV)((({isMobileDevice:e})=>function({searchId:e,shouldCallFlights:t,shouldNotAutoOpenCard:s,inviewport:i}){return(0,r.K2)(t&&j({searchId:e,inviewport:i}),!s&&O({searchId:e}),(0,r.gd)((0,f.q)()))}({searchId:A,shouldCallFlights:!0,shouldNotAutoOpenCard:!!e||v,inviewport:y}))))}));function P(e){const{frameId:t,page:s,query:n,rubricId:o,viewpoint:c,filtersId:d,filters:u={},searchId:m}=e,f=1===s?(0,l.W7)():void 0;return(0,r.K2)((0,i.PC)(),(0,h.mY)(t,(e=>Object.assign(Object.assign({},e),{tab:"catalog",tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,viewpoint:c,gtaId:(0,g.fY)(e.tabCatalog.gtaId,f),page:(0,g.fY)(e.tabCatalog.page,s)})}))),o?(0,p.eU)((e=>e.session.geolocation.position),(e=>(0,p.Cl)((t=>(0,a.vO)({query:n,filters:u,filtersId:d,gtaId:f,rubrId:o,viewpoint:t,searchId:m,page:s,more:!0,sortPoint:e}))))):(0,p.kE)(t,(e=>(0,_.O)(e)&&e.tabCatalog.attributeId?(0,p.eU)((e=>e.session.geolocation.position),(t=>!!e.tabCatalog.attributeId&&(0,a.o)({gtaId:f,query:n,filters:u,searchId:m,filtersId:d,attrId:e.tabCatalog.attributeId,page:s,viewpoint:c,sortPoint:t}))):(0,p.eU)((e=>e.session.geolocation.position),(e=>(0,a.Wj)({withFilters:!1,query:n,filters:u,searchId:m,page:s,viewpoint:c,gtaId:f,sortPoint:e}))))),(0,p.CG)(t,_.O,(e=>(0,g.At)(e.tabCatalog.page)===s&&(0,h.mY)(t,(t=>Object.assign(Object.assign({},t),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,gtaId:(0,g.ZS)(e.tabCatalog.gtaId),page:(0,g.ZS)(e.tabCatalog.page),scrollIdHash:(0,l.W7)()})}))))))}const L=(0,r.n5)("searchByQueryApplyFilter",(e=>{const{frameId:t,filterValues:s,query:i,rubricId:n,parentSearchId:o,isViewportChanged:c,preserveMarkers:d,viewpoint:u,filtersId:b=(0,l.W7)()}=e,v=(0,l.W7)(),y=(0,l.W7)(),x=(0,l.W7)(),j=!("filtersId"in e);return(0,r.K2)((0,h.mY)(t,(e=>Object.assign(Object.assign({},e),{statusId:y,tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{rubricId:n,searchId:(0,g.fY)(e.tabCatalog.searchId,v),filtersId:j?(0,g.fY)(e.tabCatalog.filtersId,b):e.tabCatalog.filtersId,gtaId:(0,g.fY)(e.tabCatalog.gtaId,x),page:(0,g.fY)(e.tabCatalog.page,1),parentSearchId:o,filterValues:s,viewpoint:u})}))),(0,p.eU)((e=>e.session.geolocation.position),(e=>(0,r._7)(n?(0,a.vO)({query:i,filters:s,filtersId:b,rubrId:n,viewpoint:u,searchId:v,page:1,gtaId:x,sortPoint:e}):(0,p.kE)(t,(t=>(0,_.O)(t)&&t.tabCatalog.attributeId?(0,a.o)({gtaId:x,query:i,filters:s,searchId:v,filtersId:b,attrId:t.tabCatalog.attributeId,page:1,viewpoint:u,sortPoint:e}):(0,a.Wj)({gtaId:x,withFilters:!1,query:i,filters:s,searchId:v,filtersId:b,isViewportChanged:c,page:1,viewpoint:u,statusId:y,sortPoint:e}))),j&&(0,a.cQ)({query:i,rubrId:n,filters:s,filtersId:b,viewpoint:u,sortPoint:e}),(0,r.K2)(!d&&(0,f.C)({update:!0,isViewportChanged:c}),(0,m.CD)())))),(0,p.CG)(t,_.O,(e=>(0,g.At)(e.tabCatalog.searchId)===v&&(0,h.mY)(t,(e=>Object.assign(Object.assign({},e),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{searchId:(0,g.ZS)(e.tabCatalog.searchId),filtersId:j?(0,g.ZS)(e.tabCatalog.filtersId):e.tabCatalog.filtersId,gtaId:(0,g.ZS)(e.tabCatalog.gtaId),page:(0,g.ZS)(e.tabCatalog.page)})}))))))}));function N(e){return(0,r.K2)((0,i.PC)(),(0,r.Q2)((t=>{const s=(0,u.bB)(t.appContext.frames,"search");if(s&&(0,_.O)(s)&&s.tab!==e.tab)return(0,r._7)((0,C.Tl)({suggesterKey:"inbuilding",query:void 0}),(0,h.mY)(s.id,(t=>Object.assign(Object.assign({},t),{tab:e.tab}))),(0,f.C)(),(0,d.hU)({id:s.id}),(0,p.eU)(o.jq,(e=>(0,I.e)({prevZoom:e}))))})))}var A=s(99445),R=s(59208),z=s(33920);const U=(0,r.n5)("openFilials",(e=>{const t=(0,l.W7)(),s=(0,l.W7)(),a=(0,l.W7)(),n=(0,l.W7)(),{orgId:o,regionId:c,filterValues:u}=e,m=(0,l.O9)(u);return(0,p.Cl)((e=>(0,r.K2)((0,i.PC)(),(0,d.fL)({id:a,type:"search",searchType:"filials",gtaId:n,searchId:(0,g.vt)(t),parentSearchId:t,page:(0,g.vt)(1),orgId:o,filtersId:s,filterValues:u,query:"",filterPanelState:"auto"}),(0,r._7)((0,R.b)({orgId:o,searchId:t,filtersId:s,regionId:c,filters:u,withFilters:!m,page:1,viewpoint:e,gtaId:n}),m&&(0,R.A)({orgId:o,filtersId:s,viewpoint:e}),(0,r.gd)((0,f.C)())),j({searchId:t,inviewport:e}))))}));function B(e){const{orgId:t,filtersId:s,frameId:i,page:a,searchId:n,filterValues:o}=e;return(0,r.K2)((0,h.ye)(i,(e=>Object.assign(Object.assign({},e),{page:(0,g.fY)(e.page,a)}))),(0,p.Cl)((e=>(0,R.b)({orgId:t,filters:o,withFilters:!1,searchId:n,filtersId:s,page:a,viewpoint:e}))),(0,p.CG)(i,z.a,(e=>(0,g.At)(e.page)===a&&(0,h.ye)(i,(t=>Object.assign(Object.assign({},t),{page:(0,g.ZS)(e.page)}))))))}function H(e){const{frameId:t,orgId:s,filtersId:a,filterValues:n,isViewportChanged:c}=e,d=(0,l.W7)(),u=(0,l.W7)();return(0,r.K2)((0,i.PC)(),(0,h.ye)(t,(e=>Object.assign(Object.assign({},e),{searchId:(0,g.fY)(e.searchId,d),page:(0,g.fY)(e.page,1),statusId:u,filtersId:a,filterValues:n}))),(0,p.eU)(o.Pz,(e=>(0,r._7)((0,R.b)({orgId:s,filters:n,withFilters:!1,searchId:d,filtersId:a,page:1,viewpoint:e,isViewportChanged:c}),(0,f.C)({update:!0,isViewportChanged:c})))),(0,p.CG)(t,z.a,(e=>(0,g.At)(e.searchId)===d&&(0,h.ye)(t,(t=>Object.assign(Object.assign({},t),{searchId:(0,g.ZS)(e.searchId),page:(0,g.ZS)(e.page)}))))))}},35363:(e,t,s)=>{"use strict";s.d(t,{Q:()=>d,V:()=>c});var r=s(12017),i=s(37700),a=s(7335),n=s(56762),o=s(22665);function c(e){return(0,r.K2)((0,i.Lx)({query:e,timestamp:(new Date).getTime()}),d())}function d(){return(0,a.RC)({history:n.q,userId:o.W},(({history:e,userId:t})=>(0,i.pO)({history:e.data,userId:t})))}},94014:(e,t,s)=>{"use strict";s.d(t,{V:()=>c});var r=s(95993),i=s(50595),a=s(9729),n=s(12017),o=s(88817);function c(e){return(0,n.NV)((({rtl:t})=>(0,n.Q2)((s=>{const n=[e.point.lon,e.point.lat],c=(0,a.lonLatToScreenPoint)(n,(0,i.p)(s)),d={top:c[1],left:c[0]},l={top:d.top,left:t?d.left:d.left+(0,o.b)(s)};return function(e){return(0,r.c)({type:"map:hint",event:{text:e.text,point:e.point}})}({text:e.text,point:l})}))))}},59939:(e,t,s)=>{"use strict";s.d(t,{M:()=>a,b:()=>i});var r=s(12017);const i=(0,r.n5)("showUgcLawPopup",(({openPopup:e,after:t})=>(window.__afterUgcLawPopup=t,e()))),a=function(e){const t=window.__afterUgcLawPopup;return window.__afterUgcLawPopup=void 0,t?t(e):(0,r.lQ)()}},12579:(e,t,s)=>{"use strict";s.d(t,{t7:()=>K,hQ:()=>V,nQ:()=>Y,iz:()=>Q,RM:()=>F,ti:()=>B,bP:()=>W,TJ:()=>D});var r=s(74182),i=s(12017),a=s(69395),n=s(95083),o=s(35023),c=s(45469),d=s(7335),l=s(15582),u=s(57744),p=s(88096),m=s(47310),g=s(64425),h=s(24571),f=s(77027),b=s(24872),v=s(29787),y=s(63041),x=s(37700),j=s(35363),w=s(51557),_=s(82393),C=s(17640),I=s(1321),k=s(73035),O=s(10522),S=s(60776),T=s(41577);const E=(0,i.n5)("openPlace",(({object_id:e,point:t})=>e?(0,T.Z)({id:e,shouldFitEntityInMapView:!0}):t?(0,S.v)({point:t,shouldCenterMap:!0}):(0,i.lQ)()));var M=s(51883);const P=(0,i.n5)("showTraffic",(()=>(0,d.eU)((e=>e.appContext.showTrafficOnMap),(e=>!e&&(0,M.GN)()))));var L=s(12762),N=s(41949),A=s(85356),R=s(74006),z=s(67301),U=s(47856);const B=(0,i.n5)("showSuggestions",((e="primary")=>{const t=(0,o.W7)();return(0,d.eU)((t=>(0,c.WY)(t,e)),(s=>{if(!s)return(0,i.lQ)();const{query:n}=s;if(!n)return(0,m.Xw)();const o=s.suggestId;return(0,i.K2)((0,i._7)((0,d.RC)({viewpoint:l.Pz,personalRecords:L.p,regionId:_.zN,geolocationPosition:e=>e.session.geolocation.position},(({viewpoint:s,personalRecords:r,regionId:i,geolocationPosition:a})=>(0,m.Zg)({searchId:t,suggesterType:H(e),query:n,viewpoint:s,regionId:"typedFeedback"===e||"homework"===e?i:void 0,personalRecords:"primary"===e?r:void 0,sortPoint:a}))),(0,a.qP)({suggesterKey:e,suggestId:o?(0,r.fY)(o,t):(0,r.vt)(t)})),(0,d.eU)((t=>(0,c.WY)(t,e)),(s=>{const n=s&&s.suggestId;return n&&t===(0,r.At)(n)?(0,a.qP)({suggesterKey:e,suggestId:(0,r.ZS)(n)}):(0,i.lQ)()})))}))}));function H(e){switch(e){case"typedFeedback":case"homework":return"address";case"directions":return"route_endpoint";default:return}}function F(e){const{branchId:t,query:s}=e,p=(0,o.W7)();return s?(0,i.K2)((0,d.eU)((e=>(0,c.WY)(e,"products")),(e=>{if(e){const t=e.suggestId;return(0,a.qP)({suggesterKey:"products",suggestId:t?(0,r.fY)(t,p):(0,r.vt)(p)})}})),(0,d.RC)({locale:u.u,viewpoint:l.Pz},(({locale:e,viewpoint:r})=>(0,n.wp)({searchId:p,branchId:t,query:s.trim().toLocaleLowerCase(),viewpoint:r,locale:e}))),(0,d.eU)((e=>(0,c.WY)(e,"products")),(e=>{if(e){const t=e.suggestId;if(t&&p===(0,r.At)(t))return(0,a.qP)({suggesterKey:"products",suggestId:(0,r.ZS)(t)})}}))):(0,i._7)((0,a.qP)({suggesterKey:"products",suggestId:(0,r.vt)("")}),(0,n.Xv)())}const D=(0,i.n5)("toggleSuggest",(({suggesterKey:e,show:t})=>(0,d.eU)((t=>(0,c.WY)(t,e)),(s=>s&&s.show===t?(0,i.lQ)():(0,i.K2)(t?(0,m.Xw)():(0,i.lQ)(),(0,a.TJ)({suggesterKey:e,show:t})))))),V=(0,i.n5)("handleSuggestNavigation",(e=>{const{suggesterKey:t,keyCode:s}=e;switch(s){case p.aH:return D({suggesterKey:t,show:!1});case p.En:return Z({suggesterKey:t,direction:"prev"});case p.vx:return Z({suggesterKey:t,direction:"next"})}return(0,i.lQ)()})),Z=(0,i.n5)("highlightNextOrPrevSuggestion",(e=>{const{suggesterKey:t,direction:s,suggestionsLimit:r=A.O}=e;return(0,w.QY)((({tp:e})=>(0,d.RC)({suggest:e=>(0,c.WY)(e,t),allSuggestions:e=>(0,c.KW)(e,t),featureRealty:e=>e.config.featureRealty,isHistorySuggestions:c.yN},(({suggest:n,allSuggestions:o,featureRealty:c,isHistorySuggestions:d})=>{if(!n||!o)return(0,i.lQ)();const l=d?R.Dc:r,u=c&&"primary"===t?(0,A.P)(o,e,d):[...o].slice(0,l),{highlightedIndex:p}=n,m=l?Math.min(u.length,l):u.length;let g=void 0!==p?p:-1;"next"===s?(g+=1,g>m-1&&(g=0)):(g-=1,g<0&&(g=m-1));const h=u[g];return(0,i._7)((0,i.NV)((e=>(0,w.QY)((({tp:s})=>(0,a.Tl)({suggesterKey:t,query:(0,k.R)(h,{tp:s,config:e})}))))),(0,a.r_)({suggesterKey:t,index:g}))}))))})),$=(0,i.n5)("changeCity",(e=>(0,i.K2)((0,v.PC)(),(0,f.S2)(),(0,a.Tl)({suggesterKey:"primary",query:void 0}),(0,I.cr)((0,r.vt)((0,o.W7)())),(0,b.TE)({entityId:e})))),q=(0,i.n5)("addObjectToHistory",((e,t)=>e.entity?(0,i.K2)((0,x.Iq)({entity:e.entity,text:t,timestamp:(new Date).getTime()}),(0,j.Q)()):(0,i.lQ)())),W=(0,i.n5)("submitNewSearch",(e=>(0,d.RC)({viewpoint:l.Pz},(({viewpoint:t})=>(0,i.K2)((0,f.S2)(),(0,h.q_)({query:e.query,viewpoint:t,attributeId:e.attributeId,rubricId:e.rubricId,bestKeyword:e.bestKeyword})))))),G=(0,i.n5)("openObjectSuggestionOrMakeSearch",(e=>{var t,s,r,a,n,o,c;const{suggestion:l,query:u}=e,{entity:p}=l;if(p&&p.id){if("adm_div"===p.type&&("city"===p.subtype||"settlement"===p.subtype))return $(p.id);switch(p.type){case"adm_div":case"branch":case"building":case"station":case"route":case"street":case"road":case"attraction":case"kilometer_road_sign":const e={id:p.id,type:p.type,query:u,entranceId:"context"in p?null===(t=p.context)||void 0===t?void 0:t.entrance_id:void 0,shouldFitEntityInMapView:!0,entityIcon:(0,U.S)(null===(a=null===(r=null===(s=null==p?void 0:p.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.marker_logo)||void 0===a?void 0:a.url),isCommercial:Boolean(null===(o=null===(n=null==p?void 0:p.ads)||void 0===n?void 0:n.options)||void 0===o?void 0:o.marker_logo)};return p.hash?(0,i.K2)((0,f.S2)(),(0,y.UP)(Object.assign(Object.assign({},e),{hash:p.hash})),"object"===l.type?q(l):void 0):(0,i.K2)((0,f.S2)(),(0,y.UP)(e),"object"===l.type?q(l):void 0);case"rubric":return(0,i.K2)(W({query:u,rubricId:p.id,bestKeyword:"search_attributes"in l?null===(c=l.search_attributes)||void 0===c?void 0:c.suggested_text:void 0}),"object"===l.type?q(l):void 0);case"attribute":return(0,i.K2)(W({query:u,attributeId:p.id}),"object"===l.type?q(l,u):void 0);case"org":return(0,i.K2)((0,f.S2)(),(0,h.f8)({orgId:p.id,regionId:p.region_id}),"object"===l.type?q(l):void 0);case"special":switch(p.id){case"1":return(0,d.eU)(O.cd,(e=>e&&E(e)));case"2":return(0,d.eU)(O.cU,(e=>e&&E(e)));case"3":return(0,i.K2)((0,x.S8)(),(0,z.p)());case"4":case"5":return(0,i.K2)(P(),(0,z.p)());case"6":return(0,N.P)()}}}return W({query:u})})),Q=(0,i.n5)("pickPrimarySuggestion",(e=>{const t="primary",{suggestion:s,query:r,pickedIndex:n,frameId:u,suggestions:p,searchAttributes:h,hasLogo:f}=e,b=(0,o.W7)();return(0,i.K2)((0,C.c1)({suggestion:s,query:r,pickedIndex:n,frameId:u,suggestions:p,searchAttributes:h,hasLogo:f}),(0,d.RC)({suggest:e=>(0,c.WY)(e,t),viewpoint:l.Pz,personalRecords:L.p,geolocationPosition:e=>e.session.geolocation.position},(({suggest:e,viewpoint:n,personalRecords:o,geolocationPosition:c})=>e?(0,g.p)(s)&&e.query!==r+" "?(0,i._7)((0,a.Tl)({suggesterKey:t,query:r+" "}),(0,a.r_)({suggesterKey:t,index:void 0}),(0,m.Zg)({searchId:b,suggesterType:H(t),query:r,viewpoint:n,regionId:void 0,personalRecords:o,sortPoint:c})):(0,i.K2)((0,a.Tl)({suggesterKey:t,query:r}),D({suggesterKey:t,show:!1}),G({suggestion:s,query:r})):(0,i.lQ)())))})),K=(0,i.n5)("handleSuggestInputClick",(({query:e,suggesterKey:t})=>(0,d.eU)((e=>(0,c.WY)(e,t)),(s=>s&&s.show?(0,i.lQ)():(0,i._7)(D({suggesterKey:t,show:!0}),(0,a.Tl)({suggesterKey:t,query:e}),B()))))),Y=(0,i.n5)("pickAlternativeSuggestion",(e=>{const t="primary",{suggestion:s,query:r}=e;return(0,i.K2)((0,a.Tl)({suggesterKey:t,query:r}),D({suggesterKey:t,show:!1}),G({suggestion:s,query:r}))}))},17640:(e,t,s)=>{"use strict";s.d(t,{bp:()=>m,HT:()=>l,c1:()=>d});var r=s(12017),i=s(48914),a=s(35023),n=s(7540),o=s(83812),c=s(37862);const d=e=>{const{query:t,frameId:s,pickedIndex:r,suggestions:i,searchAttributes:a,hasLogo:n}=e;return"history"===e.suggestion.type?p({suggestion:e.suggestion,query:t,frameId:s,pickedIndex:r,suggestions:i,hasLogo:n}):u(Object.assign(Object.assign({},e),{suggestion:e.suggestion,suggestions:i,searchAttributes:a,hasLogo:n}))},l=e=>{const t={uiElement:{name:"myLocation",ownerName:0===e.pointIndex?"pointA":"pointB",frameUuid:e.frameId},action:"tap"};return(0,i.cD)(t)},u=e=>{const{suggestion:t,query:s,pickedIndex:n,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}=e,m=n+1,b=g(t.entity),v=s||("text"in t?t.text:""),{suggestItem:y,suggestList:x,bssEvent:j}=(e=>{var t,s,r,i;const{suggestion:a,query:n,pickedIndex:c,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}=e,m=c+1,b=a.search_attributes?function(e){switch(e){case 0:return"openRecord";case 1:return"expandRecord";case 2:return"searchSuggestedText";case 3:return"incompleteQuery";default:return}}(a.search_attributes.handling_type):void 0,v=g(a.entity),y=n||("text"in a?a.text:""),x={text:y,entity:"special"!==(null==v?void 0:v.type)||"3"!==v.id?v:void 0,handlingType:b,resultClass:null===(t=a.search_attributes)||void 0===t?void 0:t.dgis_source_type,personalPriority:h(a),hybridEntities:(0,o.G)(a.entity),org:"branch"===(null===(s=a.entity)||void 0===s?void 0:s.type)?null===(i=null===(r=a.entity)||void 0===r?void 0:r.org)||void 0===i?void 0:i.id:void 0,hasLogo:p},j={size:l.length,searchSegmentId:null==u?void 0:u.dgis_project_id,firstResultClass:null==u?void 0:u.dgis_output_type,searchType:null==u?void 0:u.search_type,rtwVersion:null==u?void 0:u.rtw_version,searchStatisticsTags:(null==u?void 0:u.statistic_tags)||void 0};return{suggestItem:x,suggestList:j,bssEvent:{uiElement:{name:"suggestItem",ownerName:"suggestList",position:m,frameUuid:d},payload:{suggestItem:x,suggestList:j,searchRequest:f("show",y,v)}}}})({suggestion:t,query:s,pickedIndex:n,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}),w={uiElement:{name:"suggestItem",ownerName:"suggestList",position:m,frameUuid:d},action:"tap",payload:{suggestItem:y,suggestList:x,searchRequest:f("tap",v,b)}},_={uiElement:{name:"adsBanner",ownerName:"suggestList",position:m,frameUuid:d},action:"tap",payload:{adsBanner:Object.assign(Object.assign({},c.A.getSuggestionPayload(t)),{position:m})}};return p?(0,i.cD)(_):(0,r.K2)((0,i.X_)(Object.assign({showEventKey:(0,a.W7)(),autoEvent:!0},j)),(0,i.cD)(w))},p=e=>{const{suggestion:t,query:s,pickedIndex:n,frameId:c,suggestions:d,hasLogo:l}=e,u=n+1,p=g(t.entity),{bssEvent:m}=(e=>{const{suggestion:t,query:s,pickedIndex:r,frameId:i,suggestions:a,hasLogo:n}=e,c=r+1,d=g(t.entity);return{bssEvent:{uiElement:{name:"historyItem",ownerName:"historyList",position:c,frameUuid:i},payload:{historyItem:{text:s,handlingType:t.entity?"openRecord":void 0,entity:d,hybridEntities:(0,o.G)(t.entity),hasLogo:n},historyList:{size:a.length}}}}})({suggestion:t,query:s,pickedIndex:n,frameId:c,suggestions:d,hasLogo:l}),h={historyItem:{text:s,handlingType:t.entity?"openRecord":void 0,entity:p,hybridEntities:(0,o.G)(t.entity),hasLogo:l},historyList:{size:d.length}},f={uiElement:{name:"historyItem",ownerName:"historyList",position:u,frameUuid:c},action:"tap",payload:Object.assign({searchRequest:{text:s,entities:p?[p]:void 0}},h)};return(0,r.K2)((0,i.X_)(Object.assign({showEventKey:(0,a.W7)(),autoEvent:!0},m)),(0,i.cD)(f))},m=e=>(0,i.cD)({uiElement:{name:"searchStart",ownerName:"searchBar",frameUuid:e.frameId},action:"tap",payload:{searchRequest:{text:e.query}}});function g(e){if(e)return{type:e.type,segmentInfo:(0,n.o)(e),id:e.id,subtype:"subtype"in e?e.subtype:void 0}}function h(e){var t;if("special"===(null===(t=e.entity)||void 0===t?void 0:t.type))return 8}function f(e,t,s){if("special"===(null==s?void 0:s.type)){if("3"===s.id&&"tap"===e)return;if(("1"===s.id||"2"===s.id)&&"tap"===e)return{entities:s?[s]:void 0}}return{text:t,entities:s?[s]:void 0}}},44178:(e,t,s)=>{"use strict";s.d(t,{I:()=>u});var r=s(35897),i=s(12017),a=s(97980),n=s(95280),o=s(27797),c=s(394),d=s(48648),l=s(90024);const u=(0,i.n5)("syncCart",(()=>(0,i.K2)((0,r.zA)({}),(0,i.Q2)((e=>{const t=(0,c.q)(e);if(!t)return;const s=(0,l.A)(t).reduce(((t,{branchId:s,productId:r})=>((0,n.P)((0,a.a2)({state:e,branchId:s,productId:r}))&&(t[s]||(t[s]=[])).push(r),t)),{});return(0,i._7)(...Object.keys(s).map((e=>(0,d.x)({branchId:e,productIds:s[e]}))))})),(0,i.Q2)((e=>{const t=(0,c.q)(e);if(!t)return;let s=!1;const r=t.orders.map((t=>{const r=t.items.map((t=>{var r,i,o,c;const d=(0,a.z5)({state:e,productId:t.productId}),l=(0,a.a2)({state:e,branchId:t.branchId,productId:t.productId});if((0,n.P)(l))return s=!0,Object.assign(Object.assign({},t),{deleted:!0});{const e=null===(r=d.data)||void 0===r?void 0:r.product,a=l.data;if(e&&a&&(t.name!==e.name||t.description!==e.description||(null===(i=t.price.fixed)||void 0===i?void 0:i.value)!==(null===(c=null===(o=a.price_value)||void 0===o?void 0:o.fixed)||void 0===c?void 0:c.value)))return s=!0,Object.assign(Object.assign({},t),{name:e.name,description:e.description,price:a.price_value||{},deleted:!1});if(t.deleted)return Object.assign(Object.assign({},t),{deleted:!1})}return t}));return Object.assign(Object.assign({},t),{items:r})}));return s&&(0,o.b)({orders:r,showCartButton:!0,customer:t.customer})})))))},88166:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var r=s(12017),i=s(7335),a=s(82393),n=s(92716),o=s(11990),c=s(38113);function d({forced:e}={}){return(0,r.gd)((0,i.eU)(a.n$,(t=>t&&t.flags.traffic&&(0,i.eU)((0,o.q)(t.code),(s=>(!s||e)&&(0,c.R)((0,n.m)({regionCode:t.code})))))))}},51883:(e,t,s)=>{"use strict";s.d(t,{kD:()=>N,OE:()=>R,MP:()=>A,sU:()=>z,oz:()=>F,gn:()=>B,GN:()=>D,GO:()=>H});var r=s(12017),i=s(31629),a=s(20091),n=s(77027),o=s(29787),c=s(27892),d=s(29094),l=s(536),u=s(89415),p=s(24872),m=s(37700),g=s(15582),h=s(6514),f=s(9729),b=s(66698),v=s(69395),y=s(7335),x=s(61700),j=s(82393),w=s(528),_=s(16632),C=s(52072),I=s(37163),k=s(13179),O=s(51021),S=s(51557),T=s(71085),E=s(74786),M=s(77847),P=s(98452),L=s(47919);const N=(0,r.n5)("closeLastFrame",(()=>(0,y.RC)({activeLayer:e=>e.appContext.activeLayer,frames:e=>e.appContext.frames},(({activeLayer:e,frames:t})=>{const s=t[0],i=t[1];if(!s)return(0,r.lQ)();if(1===t.length&&"friendsList"===s.type)return(0,r.K2)((0,I.xA)(),(0,n.S2)());if(1===t.length&&("search"!==s.type||"filials"!==s.searchType&&"inbuilding"!==s.searchType)&&"directions"!==s.type&&"gallery"!==s.type)return(0,o.PC)((0,n.S2)());if("entity"===s.type&&"search"===(null==i?void 0:i.type)&&"query"===i.searchType&&i.seoFakeEntityId)return(0,o.PC)((0,n.S2)());const{type:c,id:d}=s;return"realty"===e?(0,r.K2)((0,C.c)(),U()):"exchange"===e&&"exchange"===c?(0,M.po)({}):(0,r.K2)((0,o.PC)(),(0,n.wU)({id:d}),(0,y.eU)((e=>e.appContext.frames.length),(e=>0===e?U():(0,r.lQ)())),(0,x.C)(),s.isOpenedFromMap&&(0,O.n)((0,a.X_)({isMinimized:!0})))}))));function A(){return(0,r.Q2)((e=>e.appContext.popup?e.appContext.popup.isModal?(0,r.lQ)():(0,w.q)(c.fs):_.m.get()?(0,r.v6)((()=>{_.m.set((()=>!1))})):0===e.appContext.frames.length?(0,a.X_)({isMinimized:!e.appContext.isDataViewerMinimized}):"gallery"===e.appContext.frames[0].type?R():1===e.appContext.frames.length?(0,a.X_)({isMinimized:!e.appContext.isDataViewerMinimized}):N()))}function R(){return(0,r.K2)((0,o.PC)(),(0,n.kg)(),U(),(0,i.v)())}function z(){return(0,r.Q2)((e=>0===e.appContext.frames.length?e.appContext.isDataViewerMinimized?(0,a.X_)({isMinimized:!1}):void 0:(0,r.K2)((0,o.PC)(),(0,n.S2)(),U())))}function U(){return(0,r._7)((0,v.Tl)({suggesterKey:"primary",query:void 0}),(0,v.Tl)({suggesterKey:"inbuilding",query:void 0}))}function B(e){return(0,r.Q2)((t=>{const s=t.appContext.frames[0];return s&&"gallery"===s.type?(0,y.RC)({searchKeyword:(0,L.QW)(s.entityId)},(({searchKeyword:i})=>{const a=(0,T.y)(t),o=(0,E.MV)(a);return(0,r.NV)((({featureVideoInGallery:t})=>{var a;if(null===(a=s.photoAlbum)||void 0===a?void 0:a.id)return t?P.YD.withMediaAlbum({objectId:s.entityId,albumId:s.photoAlbum.id,searchCtx:o,searchKeyword:i},(t=>{const i=null==t?void 0:t.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;if(!i)return(0,r.lQ)();const a=i.findIndex((e=>!(!e||!("id"in e))&&e.id===s.photoId)),o="forward"===e?i[a+1]:i[a-1],c=o&&"id"in o?o.id:void 0;return c?(0,n.oy)(s.id,(e=>Object.assign(Object.assign({},e),{photoId:c}))):(0,r.lQ)()})):(0,k.gg)({id:s.entityId,albumId:s.photoAlbum.id,searchCtx:o,searchKeyword:i},(t=>{const i=null==t?void 0:t.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;if(!i)return(0,r.lQ)();const a=i.findIndex((e=>!(!e||!("id"in e))&&e.id===s.photoId)),o="forward"===e?i[a+1]:i[a-1],c=o&&"id"in o?o.id:void 0;return c?(0,n.oy)(s.id,(e=>Object.assign(Object.assign({},e),{photoId:c}))):(0,r.lQ)()}))}))})):(0,r.lQ)()}))}const H=(0,r.n5)("updateMyGeolocation",(e=>(0,r._7)((0,u.Og)({lonLat:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy}),(0,r.Q2)((t=>{if(!t.session.geolocation.following)return(0,r.lQ)();const s=function({position:e,accuracy:t,state:s}){const r={lon:e.lon,lat:e.lat,zoom:b.im};if(!t)return r;const i=t/111319.492*3,a=[[e.lon-i,e.lat+i],[e.lon+i,e.lat+i],[e.lon+i,e.lat-i],[e.lon-i,e.lat-i]],n=(0,g.kD)(s),o=(0,h.Y)(s.session.screen,n),c=(0,f.getCenterZoomByPoints)(a,s.appContext.rotation,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:c.zoom}:r}({position:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy,state:t});return(0,r._7)((0,u.$y)({follow:!1}),(0,p.t$)(Object.assign(Object.assign({},s),{rotation:0,pitch:0})))}))))),F=(0,r.n5)("setMyGeolocationFailed",(e=>(0,r._7)((0,m.Vu)(),(0,S.QY)((({tp:t})=>"PERMISSION_DENIED"===e?(0,d.D)((0,l.z)({title:t._t("Не удалось определить местоположение"),message:t._t("Доступ к геоданным не разрешён")})):(0,d.D)((0,l.z)({title:t._t("Не удалось определить местоположение"),message:""}))))))),D=()=>(0,y.RC)({regionCode:j.JC,showTraficOnMap:e=>e.appContext.showTrafficOnMap},(()=>(0,r.K2)((0,I.Hq)(),(0,a.HT)())))},73740:(e,t,s)=>{"use strict";s.d(t,{bu:()=>l,jf:()=>d});var r=s(12017),i=s(37700),a=s(97938),n=s(60822),o=s(21959),c=s(8483);const d=e=>{const{statusId:t,email:s}=e;return(0,r.Q2)((c=>{const d=(0,o.ug)(c);if(!d||!d.data)return(0,r.lQ)();const l=(0,n.J)({new_email:s,email:d.data.email,email_confirmed:d.data.email_confirmed});return(0,n.m)({new_email:d.data.new_email,email:d.data.email,email_confirmed:d.data.email_confirmed})?(0,i.j)({statusId:t,email:d.data.new_email||d.data.email,clientId:e.clientId}):l&&e.email?(e=>{const{locale:t,statusId:s,email:i,clientId:n}=e;return(0,r.Q2)((e=>{const c=(0,o.ug)(e);return c&&c.data?(0,a.V)({email:i,userId:c.data.user_id,locale:t,statusId:s,clientId:n}):(0,r.lQ)()}))})({email:e.email,locale:e.locale,clientId:e.clientId,statusId:t}):(0,r.lQ)()}))},l=e=>(0,r.NV)((({authClientId:t})=>(0,c.b)(Object.assign(Object.assign({},e),{authClientId:t}))))},7335:(e,t,s)=>{"use strict";s.d(t,{CG:()=>l,Cl:()=>c,RC:()=>o,eU:()=>n,kE:()=>d});var r=s(12017),i=s(15582),a=s(88056);function n(e,t){return(0,r.Q2)((s=>{const r=e(s);return t(r)}))}function o(e,t){return(0,r.Q2)((s=>{const r=(0,a.Y)(e).reduce(((t,r)=>(t[r]=e[r](s),t)),{});return t(r)}))}function c(e){return n(i.Pz,e)}const d=(e,t)=>n((t=>t.appContext.frames.find((t=>t.id===e))),t),l=(e,t,s)=>n((t=>t.appContext.frames.find((t=>t.id===e))),(e=>!!e&&t(e)&&s(e)))},38113:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var r=s(12017);const i=e=>(0,r.NV)((({featureReadOnly:t})=>t?(0,r.lQ)():e))},60545:(e,t,s)=>{"use strict";s.d(t,{DA:()=>c,RT:()=>a,gD:()=>o,m3:()=>n});var r=s(41281),i=s(35023);function a(e={}){return(t={})=>({eventType:"view",uiElement:(0,i.kk)((0,r.A)({},{type:"frame",uuid:expect.any(String)},e,t))})}function n(e={}){return(t={})=>(0,r.A)({},{eventType:"view",uiElement:{frameUuid:expect.any(String)}},e,t)}function o(e={}){return(t={})=>(0,r.A)({},{eventType:"action",actionType:"tap",uiElement:{frameUuid:expect.any(String)}},e,t)}function c(e={}){return(t={})=>(0,r.A)({},{eventType:"action",actionType:"close",uiElement:{frameUuid:expect.any(String)}},e,t)}},80552:(e,t,s)=>{"use strict";s.d(t,{Co:()=>u,EX:()=>p,H8:()=>m,HI:()=>o,Hg:()=>d,Jc:()=>n,Ki:()=>b,Wy:()=>r,Yn:()=>c,_w:()=>l,dm:()=>i,hF:()=>y,lR:()=>x,mI:()=>v,n0:()=>g,nU:()=>h,sS:()=>a,uu:()=>f});const r={normal:400,medium:500,bold:600},i={fontSize:"40px",fontWeight:r.normal,lineHeight:"48px",letterSpacing:"-1.2px"},a={fontSize:"30px",lineHeight:"33px",fontWeight:r.normal,letterSpacing:"-0.8px"},n=Object.assign(Object.assign({},a),{fontWeight:r.medium}),o={fontSize:"19px",lineHeight:"21px",fontWeight:r.normal,wordWrap:"break-word",letterSpacing:"-0.8px"},c=Object.assign(Object.assign({},o),{fontWeight:r.medium}),d={fontSize:"14px",lineHeight:"17px",fontWeight:r.normal,letterSpacing:"-0.6px"},l=Object.assign(Object.assign({},d),{fontWeight:r.medium}),u=Object.assign(Object.assign({},d),{fontWeight:r.bold}),p={fontSize:"12px",lineHeight:"13px",fontWeight:r.normal,letterSpacing:"-0.5px"},m=Object.assign(Object.assign({},p),{fontWeight:r.medium}),g=Object.assign(Object.assign({},p),{fontWeight:r.bold}),h={fontSize:"10px",lineHeight:"11px",fontWeight:r.normal,letterSpacing:"-0.4px"},f=Object.assign(Object.assign({},h),{fontWeight:r.medium}),b=Object.assign(Object.assign({},h),{fontWeight:r.bold}),v={fontSize:"12px",lineHeight:"17px",fontWeight:r.bold,textTransform:"uppercase",letterSpacing:"0.5px"},y=Object.assign(Object.assign({},d),{fontFamily:"inherit"});function x(e,t){const s=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:s?e*s:"none"})}},21644:(e,t,s)=>{"use strict";s.d(t,{EK:()=>i,GD:()=>c,HT:()=>p,KJ:()=>l,Qp:()=>a,Uz:()=>g,t3:()=>m,yH:()=>o});var r=s(80552);const i=Object.assign(Object.assign({},r.Ki),{fontSize:"11px",lineHeight:"16px"}),a=Object.assign(Object.assign({},r.Ki),{fontSize:"8px",lineHeight:"16px",letterSpacing:"-0.2px"}),n={fontSize:"13px",lineHeight:"16px",fontWeight:r.Wy.normal,letterSpacing:"-0.5px"},o=Object.assign(Object.assign({},n),{fontWeight:r.Wy.medium}),c=Object.assign(Object.assign({},n),{fontWeight:r.Wy.bold}),d={fontSize:"11px",lineHeight:"14px",fontWeight:r.Wy.normal,letterSpacing:"-0.4px"},l=Object.assign(Object.assign({},d),{fontWeight:r.Wy.medium}),u={fontSize:"8px",lineHeight:"10px",fontWeight:r.Wy.normal,letterSpacing:"-0.3px"},p=Object.assign(Object.assign({},u),{fontWeight:r.Wy.medium}),m=Object.assign(Object.assign({},r.HI),{fontSize:"16px",lineHeight:"18px",hyphens:"auto"}),g=Object.assign(Object.assign({},r.Yn),{fontSize:"16px",lineHeight:"16px"});Object.assign(Object.assign({},r.uu),{fontSize:"6px",lineHeight:"7px"})},31108:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a,r:()=>n});const r={colors:{green_30ad00_brand:"#30ad00",green_299400_brand:"#299400",blue_0082c8_brand:"#0082c8",blue_41a5db_brand:"#41a5db"}},i={colors:{green_30ad00_brand:"#ffba00",green_299400_brand:"#ffba00",blue_0082c8_brand:"#ffba00",blue_41a5db_brand:"#ffba00"}},a={};for(const e of["dgis","urbi"])for(const t of["ltr","rtl"])for(const s of["desktop","mobile"]){const o=n(e,t,s);a[o]=Object.assign(Object.assign({},"dgis"===e?r:i),{urbi:"urbi"===e,rtl:"rtl"===t,mobile:"mobile"===s})}function n(e,t,s){return`${e}_${t}_${s}`}},98753:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});var r=s(35079);function i(e){return e?r.l[e]:r.l.default}},85356:(e,t,s)=>{"use strict";s.d(t,{O:()=>a,P:()=>n});var r=s(68819),i=s(74006);const a=8;function n(e,t,s){const n=function(e){return e.some((e=>!!("object"===e.type&&e.entity&&e.entity.id&&["metarubric","rubric"].includes(e.entity.type))&&r.J.includes(e.entity.id)))}(e),o=[...e];return n&&o.splice(2,0,{type:"object",entity:{type:"special",id:"6"},search_attributes:{handling_type:0,suggest_parts:[{is_suggested:!1,text:t._gg("Недвижимость")}],suggested_text:t._gg("Недвижимость")}}),o.slice(0,s?i.Dc:a)}},62230:(e,t,s)=>{"use strict";function r(e,t,s="id"){return!(!e&&!t||!t||e&&e[s]===t[s])}s.d(t,{o:()=>r})},50570:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(88096);function i(e){const{label:t,hidden:s,pressed:i,iCanNotUseButtonSoTabIndexOnClick:n}=e,o=n?(c=n,e=>{if(e.keyCode===r.jD||e.keyCode===r.zP)return c()}):void 0;var c;return{"aria-label":t,"aria-hidden":a(s||void 0),"aria-pressed":a(i),tabIndex:o?0:void 0,onKeyDown:o}}function a(e){switch(e){case!0:return"true";case!1:return"false";default:return}}},7143:(e,t,s)=>{"use strict";function r(e,t){return(s,r)=>{const i=s[e],a=t(i,r);return i===a?s:Object.assign(Object.assign({},s),{[e]:a})}}s.d(t,{T:()=>r})},80482:(e,t,s)=>{"use strict";function r(e){return e&&e>=8?"high":e&&e>=5?"middle":e&&e>=1?"low":"closed"}s.d(t,{p:()=>r})},59272:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(35023),i=s(88618);const a=e=>{const{widgets:t,filterValues:s,valueTextMap:a={}}=e;if(!s||(0,r.Im)(s)||!t||!t.length)return s;const n={};t.forEach((e=>{n[e.tag]=e}));const o=Object.assign({},s);return(0,r.jJ)(s,((e,t)=>{const s=n[t],r=null==e?void 0:e.split(i.Wy),c=null==r?void 0:r.map((e=>{var t;let r=e;return s&&"checkboxlist"===s.widget&&(r=(null===(t=s.items.find((t=>t.value===e)))||void 0===t?void 0:t.text)||r),a[e]||r}));c&&(o[t]=c.join(i.Wy))})),o}},53091:(e,t,s)=>{"use strict";s.d(t,{d:()=>a});var r=s(18310),i=s(35023);function a(e){if("realty"===e.type){const t=e.entity&&"building"!==e.entity.type?{links:e.entity.id}:void 0;return e.filterValues||e.categoryId?(0,r.O)(Object.assign(Object.assign(Object.assign({},e.filterValues),{category_ids:e.categoryId}),t)):void 0}if("entity"===e.type&&e.tabRealty){const t=e.entityId&&"building"!==e.entityType?{links:e.entityId}:void 0;return!(0,i.Im)(e.tabRealty.currentFiltersValues)||e.tabRealty.currentCategoryValue?(0,r.O)(Object.assign(Object.assign(Object.assign({},e.tabRealty.currentFiltersValues),{category_ids:e.tabRealty.currentCategoryValue}),t)):void 0}}},58037:(e,t,s)=>{"use strict";function r(e,t,s){return{id:s,tag:t,name:e,caption:e,search_query:e,icon_url:`/public/dashboard/${t}.svg`,type:"metarubric"}}s.d(t,{P:()=>r})},66900:(e,t,s)=>{"use strict";function r(e){return e*Math.PI/180}function i(e,t){const s=r(e.lat),i=r(t.lat),a=r(t.lat-e.lat),n=r(t.lon-e.lon),o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(s)*Math.cos(i)*Math.sin(n/2)*Math.sin(n/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Math.trunc(6371e3*c)}s.d(t,{g:()=>i})},56682:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var r=s(21785);function i(e){return"point"in e&&!!e.point||!!(0,r.t)(e)}},63628:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var r=s(26289),i=s(94687),a=s(81951),n=s(83487);function o({state:e,frame:t}){var s,o;if("search"!==t.type||"query"!==t.searchType)return!1;const c=null===(o=null===(s=(0,r.o)({state:e,filtersId:t.tabCatalog.filtersId.actual}))||void 0===s?void 0:s.widgets)||void 0===o?void 0:o.main,d=c?(0,i.P)(c,n.n.Award2Gis):void 0;return(0,a.q)({searchType:t.searchType,awards2GisTags:d,config:e.config,query:t.query})}},47054:(e,t,s)=>{"use strict";function r(e){return!!e&&"metro_moscow_mcc"===e}s.d(t,{C:()=>r})},62279:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});const r=["metro_moscow_D1","metro_moscow_D2","metro_moscow_D3","metro_moscow_D4","metro_moscow_D4A","metro_moscow_D4a","metro_moscow_D5"];function i(e){return!!e&&-1!==r.indexOf(e)}},1269:(e,t,s)=>{"use strict";function r(e,...t){return s=>({type:e,payload:s,reducers:t.map((e=>(t,s)=>e(t,s.payload)))})}s.d(t,{V:()=>r})},47856:(e,t,s)=>{"use strict";s.d(t,{S:()=>a,c:()=>i});var r=s(95885);const i=s(73158).mo;function a(e,t){const s=t||i;if(e)return{fullUrl:(0,r.m)(e,`${s}x${s}`),baseUrl:e,width:s,height:s}}},39064:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var r=s(77027);function i(e){return(t,s)=>(0,r.oy)(t,(t=>e(t)?s(t):void 0))}},84642:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var r=s(12017);function i(e){return t=>(0,r.Q2)((s=>{const r=s.appContext.frames.find(e);return t(r)}))}},41570:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(10330);function i(e,t){const s=(0,r.F)(e,t);return{localDay:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(s).toLowerCase(),localHour:s.getHours()}}},88703:(e,t,s)=>{"use strict";function r(e){var t,s,r,i;return"has_discount"in e?!(!e.has_discount||!(null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.discount)):!!(null===(i=null===(r=e.ads)||void 0===r?void 0:r.options)||void 0===i?void 0:i.discount)}s.d(t,{H:()=>r})},56624:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var r=s(7143),i=s(66003);const a=(e,t)=>(0,r.T)("data",(0,r.T)(e,(0,i.mU)(t)))},50275:(e,t,s)=>{"use strict";s.d(t,{$W:()=>a,By:()=>o,rn:()=>n});const r=s(8319).u,i=e=>t=>{const{necessaryRubricList:s=[],sufficientRubricList:r=[]}=e;if(!t||"branch"!==t.type||!t.rubrics||!t.rubrics.length)return!1;const i=t.rubrics.map((e=>e.id));return s.length?i.every((e=>s.includes(e))):!!r.length&&i.some((e=>r.includes(e)))},a=i({sufficientRubricList:["492"]}),n=i({necessaryRubricList:r}),o=i({sufficientRubricList:r})},81339:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=e=>{switch(e){case"branch":return"firm";case"station":return"station";case"station_platform":return"platform";case"station_entrance":return"stationEntrance";case"route":return"route";default:return"geo"}}},47948:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});const r=e=>{if("search"===(null==e?void 0:e.type)&&("buyHere"===e.searchType||"fmcg"===e.searchType))return e.adsIds}},14839:(e,t,s)=>{"use strict";function r(e){return(null==e?void 0:e.fixed)?{currency:e.fixed.currency,min:e.fixed.value,max:e.fixed.value}:(null==e?void 0:e.range)?{currency:e.range.currency,min:e.range.min,max:e.range.max}:(null==e?void 0:e.from)?{currency:e.from.currency,min:e.from.value,max:e.from.value}:void 0}s.d(t,{B:()=>r})},76298:(e,t,s)=>{"use strict";function r(e){if(e&&e.data)switch(e.data.source){case"favorites":case"catalog":case"tUgc":case"realty":case"exchange":case"infrastructure":return e.data;default:return}}s.d(t,{w:()=>r})},95455:(e,t,s)=>{"use strict";function r(e){var t;return e&&"group"in e?null===(t=e.group)||void 0===t?void 0:t.find((e=>!!e.is_main_in_group)):void 0}s.d(t,{z:()=>r})},28356:(e,t,s)=>{"use strict";function r(e,t){return e.find((e=>e.orgId===t))}s.d(t,{K:()=>r})},66748:(e,t,s)=>{"use strict";s.d(t,{F3:()=>p,OC:()=>g,f:()=>m});var r=s(95885),i=s(37397),a=s(35277),n=s(35023);const o={id:(0,n.W7)(),media_type:"photo",real_object_type:"branch",photo:{url:"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b.jpg",preview_urls:{"88x88":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_88x88.jpg","116x116":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_116x116.jpg","176x176":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_176x176.jpg","232x232":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_232x232.jpg","328x170":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_328x170.jpg","656x340":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_656x340.jpg"},height:600,width:800},owner:{id:"123123",name:"Иван Иванов",avatar:"https://example.com/avatar.jpg"},creation_time:(new Date).toISOString(),modification_time:(new Date).toISOString(),copyright:{code:"2gis_owner",title:"Фотография от владельца",type:"text",icon:"https://i.photo.2gis.com/logo/owner.svg",provider_icon:"https://cachizer3.2gis.com/photo-providers/8277b861-94b5-4745-8909-3ee24cd7ca8d.png?w=36&h=36",value:"Фотография от владельца",url:null},is_visible:!0,comment:"Фотография от владельца",is_pinned:!0,pinned_position:3,status:"active"},c={id:(0,n.W7)(),media_type:"video",real_object_type:"branch",video:{urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],preview_urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],cover_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}},copyright:{code:"user",title:"my_nlo Nlo",type:"text",icon:"https://i.photo.2gis.com/logo/2gis.svg",provider_icon:"https://cachizer1.2gis.com/photo-providers/c4728d87-8e84-4621-b27a-e91b4f530ae3.png?w={width}&h={height}",value:"Видео от пользователя",url:null},owner:{id:"9223242625195225638",name:"my_nlo Nlo",avatar:"https://photo-resizer.web-staging.2gis.ru/images/profile/27584547741597131_7ad1.jpg",public_id:"217d2b1cc2f0439588b4b7e1aa53e57b"},creation_time:"2024-08-01T14:22:15.123Z",modification_time:"2024-08-02T10:45:30.456Z",is_visible:!0,comment:"Видео от пользователя",is_pinned:!0,pinned_position:2,status:"active"},d={id:(0,n.W7)(),media_type:"photo",photo:{preview_urls:{"88x88":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_88x88.jpg","116x116":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_116x116.jpg","176x176":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_176x176.jpg","232x232":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_232x232.jpg","328x170":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_328x170.jpg","656x340":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_656x340.jpg"}}},l={id:(0,n.W7)(),media_type:"video",video:{preview_urls:[{type:"hls",url:"https://i-yakovenenko-video.web-staging.2gis.ru/video/anzhorik_IMG_3908.MOV/preview/Dash/master.m3u8"},{type:"dash",url:"https://i-yakovenenko-video.web-staging.2gis.ru/video/anzhorik_IMG_3908.MOV/preview/Dash/dash.mpd"}],cover_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}}},u=(0,a.R)(o),p=((0,a.R)(c),(0,a.R)(d),(0,a.R)(l),"adsImage");function m(e,t){return{id:p,url:(0,r.m)(e.url,"original"),preview_urls:i.$.reduce(((t,s)=>Object.assign(Object.assign({},t),{[s]:(0,r.m)(e.url,s)})),{}),modification_time:"",creation_time:"",real_object_type:t,height:0,width:0,copyright:{},owner:{id:"",name:"",avatar:null}}}function g(e,t){return u({id:p,photo:{url:(0,r.m)(e.url,"original"),preview_urls:i.$.reduce(((t,s)=>Object.assign(Object.assign({},t),{[s]:(0,r.m)(e.url,s)})),{}),height:0,width:0},real_object_type:t})}},67461:(e,t,s)=>{"use strict";function r(e){const t=e.replace("T","-").split(":")[0];return t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}$/)?t:"unknown_version"}s.d(t,{v:()=>r})},74887:(e,t,s)=>{"use strict";function r(e,t){const{tp:s}=t;return e.is_default?e.title||s._t("Избранное"):e.title||s._t("Подборка без названия")}s.d(t,{j:()=>r})},87239:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var r=s(35023),i=s(88618);function a(e,t){if(!e||0===Object.keys(e).length)return;const s=[];return(0,r.jJ)(e,((e,r)=>{if("sort"!==r&&void 0!==e)switch(r){case"category_ids":s.push({entity:{id:e,type:"productCategory"}});break;case"rubric_id":s.push({entity:{id:e,type:"rubric"}});break;case"subway":s.push({entity:{id:e,type:"station"}});break;case"district_id":s.push({entity:{id:e,type:"adm_div",subtype:"district"}});break;case"price":const a=e.split(","),n=a[0];if(!n)break;s.push({name:r,min:+n,max:a[1]?+a[1]:void 0});break;case"transport":const o=e.split(",");for(const e of o)s.push({name:e,value:"true"});break;default:r.split(i.xt).forEach((r=>{s.push(function({value:e,name:t,filtersAttributes:s}){const r=s&&s.find((e=>e.tag===t));if("range"===(r&&r.type)){const[s,r]=e.split(",").map((e=>+e));return{name:t,max:r,min:s}}return{name:t,value:e}}({value:e,name:r,filtersAttributes:t}))}))}})),s.length?s:void 0}},80333:(e,t,s)=>{"use strict";function r(e){if("reviews"in e&&e.reviews&&e.reviews.general_rating)return{stars:e.reviews.is_org_reviews&&e.reviews.org_rating?Math.round(10*e.reviews.org_rating)/10:Math.round(10*e.reviews.general_rating)/10,count:e.reviews.is_org_reviews&&e.reviews.org_review_count_with_stars?e.reviews.org_review_count_with_stars:e.reviews.general_review_count_with_stars||e.reviews.general_review_count}}s.d(t,{X:()=>r})},11528:(e,t,s)=>{"use strict";function r(e){if(e&&0!==Object.keys(e).length&&e.sort)return{name:e.sort}}s.d(t,{g:()=>r})},41411:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});const r=(e,t)=>{const{isoDate:s,currentDate:r,onlyDate:i=!1}=e,{tp:a,dateFns:n}=t;if(Date.parse(s))return s.split("T")[0]!==r.toISOString().split("T")[0]||i?n.format(new Date(s),"d MMMM yyyy"):a._t("сегодня")}},40415:(e,t,s)=>{"use strict";function r(e){if(void 0===e)return;const t=-e,s=Math.round(t),r=s<0?"-":"+",i=Math.abs(s);return`${r}${i<10?`0${i}`:i}:00`}s.d(t,{t:()=>r})},80905:(e,t,s)=>{"use strict";s.d(t,{K$:()=>c,Rh:()=>u,Su:()=>h,Xk:()=>l,Y4:()=>f,al:()=>p,bB:()=>o,f_:()=>g,lX:()=>b,n:()=>v,pS:()=>m,un:()=>d,w1:()=>n});var r=s(13251),i=s(74182),a=s(92585);function n(e,t){return e.find((e=>e.id===t))}function o(e,t){return e.find(function(e){return t=>!!t&&t.type===e}(t))}function c(e,t){return e.find((e=>t.includes(e.type)))}function d(e){if("offers"===e.searchType)return e.searchId}function l(e,t){const s="actual"===t?i.HX:i.At;switch(e.searchType){case"query":return s(e.tabCatalog.searchId);case"buyHere":case"fmcg":case"inbuilding":case"filials":return s(e.searchId)}}function u(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.parentSearchId||(0,i.HX)(e.tabCatalog.searchId):(0,i.HX)(e.searchId);case"entity":return"inside"===e.tab&&e.tabInside?(0,i.HX)(e.tabInside.searchId):""}}function p(e){const t=(0,r.v)(e);return t?t.rubric_id:void 0}function m(e,t){var s,r;const i=o(e,"entity");return i&&"entity"===i.type?i:t&&"pending"===(null===(s=e[0])||void 0===s?void 0:s.type)?null===(r=t[t.length-1])||void 0===r?void 0:r.find(a.n):void 0}function g(e,t){return e.find((e=>"entity"===e.type&&e.entityId===t))}function h(e){const t=o(e,"search");if(t&&"search"===t.type)return t}function f(e){const t=o(e,"pending");if(t&&"pending"===t.type&&"entity"===t.subtype)return t}function b(e,t){const s=e[0],r=n(e,t);return!(!s||!r)&&("search"===s.type&&"offers"===s.searchType&&2===e.length?"entity"===r.type:s===r)}function v(e,t,s,r){return"tab"in e&&"reviews"===e.tab&&s?t._t("Отзывы о %1",[r]):r}},76105:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"link":return e.value;case"phone":return`tel:${e.value}`;default:return}}s.d(t,{j:()=>r})},34533:(e,t,s)=>{"use strict";function r(e,t){return e||(t[0]?t[0].id:void 0)}s.d(t,{r:()=>r})},38385:(e,t,s)=>{"use strict";function r(e){if(!e)return;const{regionId:t,overlapRegionId:s,baseOverlapRegionId:r}=e;return t&&"0"!==t?t:s&&"0"!==s?s:r&&"0"!==r?r:void 0}s.d(t,{t:()=>r})},90024:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(35023);const i=e=>(0,r.Bq)(e.orders.map((e=>e.items)))},55027:(e,t,s)=>{"use strict";s.d(t,{i$:()=>c,zP:()=>o});var r=s(46579),i=s(14041),a=s(50432);const n=e=>{const{type:t,lang:s,isMobileDevice:r,isUrbi:i,isPromoShown:a,promoType:n,deepLink:o}=e;if(!a)return;if(i&&"fullscreenFriendsPopup"!==n)return;const c=i?"qrCode"===t||r?"https://urbi.onelink.me/WGuZ":"ios"===t?"https://urbi.onelink.me/UbXx":"https://urbi.onelink.me/HoaG":"qrCode"===t?"https://2gis.onelink.me/oJqA":r?"https://2gis.onelink.me/IEzw":"ios"===t?"https://2gis.onelink.me/65w0":"ru"===s?"https://2gis.onelink.me/oJqA":"https://2gis.onelink.me/cCeS",d=r?"monline":"online",l={keys:["utm_source","media_source","source","pid","origin_pid","source_pid","media"],defaultValue:d},u={keys:["utm_campaign","campaign","c"],defaultValue:n},p={keys:["af_sub4"],defaultValue:d},m={keys:[],defaultValue:n},g="undefined"!=typeof window?{keys:["deep_link_value"],defaultValue:o||`dgis://${window.location.host}${window.location.pathname}`}:{};return("undefined"!=typeof window&&window.AF_SMART_SCRIPT?window.AF_SMART_SCRIPT.generateOneLinkURL({oneLinkURL:c,afParameters:Object.assign({deepLinkValue:g,mediaSource:l,campaign:u,afCustom:[{paramKey:"utm_source",keys:["utm_source","media_source","source"]},{paramKey:"utm_medium",keys:["utm_medium","medium"]},{paramKey:"utm_campaign",keys:["utm_campaign","campaign"]},{paramKey:"af_ss_ui",defaultValue:"true"},{paramKey:"af_dp",defaultValue:"dgis://"}],afSub4:p},n?{afSub5:m}:{})}):{clickURL:c}).clickURL},o=e=>{const{platform:t,type:s,deepLink:a}=e,{isMobileDevice:o,lang:c,appsFlyerBaseLinksEnabled:d,isPwa:l,brandCode:u}=(0,r.U)(),p=d&&!l,m="urbi"===u,[g,h]=(0,i.useState)("undefined"==typeof window?n({type:t,lang:c,isMobileDevice:o,isUrbi:m,isPromoShown:p,promoType:s,deepLink:a}):window.location.href);return(0,i.useEffect)((()=>{h(n({type:t,lang:c,isMobileDevice:o,isUrbi:m,isPromoShown:p,promoType:s,deepLink:a}))}),[o,m,t,c,s,p,a]),g},c=e=>{const{elementId:t,type:s,deepLink:r}=e;o({type:s,platform:"qrCode",deepLink:r}),(0,i.useEffect)((()=>{var e;if("undefined"!=typeof window){if(!window.AF_SMART_SCRIPT)return void(0,a.vV)({id:"kspr8",message:"Отсутствует window.AF_SMART_SCRIPT. Не получилось сгенерить QR-код",level:"error",payload:{type:"exception",subtype:"AppsFlyerLink"}});null===(e=window.AF_SMART_SCRIPT)||void 0===e||e.displayQrCode(t)}}),[t])}},40819:(e,t,s)=>{"use strict";function r({first_name:e,last_name:t,display_name:s},r){const i=e?e[0]:"",a=t?t[0]:"",n=i&&a?`${i[0]}${a[0]}`:"",o=s?s[0]:"",c=r._t("Я");return n||o||c}s.d(t,{Z:()=>r})},51746:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(34764);const i=e=>{if(e)return Object.keys(r.MN).find((t=>Object.values(r.MN[t]).includes(e.tag)))}},39954:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var r=s(34764),i=s(51746);const a=(e,t)=>{var s;if(!e)return;const a="branch"===e.type?e.attribute_groups:void 0;if(!a)return;let n;const o=Object.values(r.mN).find((e=>null==a?void 0:a.some((s=>s.attributes.some((s=>{const r=(0,i.O)(s),a=t?r===e&&s.is_award:r===e;return a&&(n=s),a})))))),c=o===r.mN.Award2GIS?"https://2023-awards.2gis.ru/":void 0,d=null===(s=a.find((e=>e.attributes.some((e=>(0,i.O)(e)===r.mN.Award2GIS)))))||void 0===s?void 0:s.name;return{hasAward:!!o,awardName:o===r.mN.Award2GIS?d:null==n?void 0:n.name,awardType:o,awardIconUrl:null==n?void 0:n.icon_url,awardTag:null==n?void 0:n.tag,awardLabelLink:c}}},42625:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var r=s(46645),i=s(98379),a=s(65290);function n(e){const{frameUuid:t,ownerName:s,state:n}=e;if(!s)return{};switch(s){case"placeCardFull":case"cardRealty":return{placeItem:(0,i.t)({state:n,entityFrameId:t})};case"dashboardFrame":return{};default:return{searchResultsList:(0,a.tp)({state:n,searchFrameId:t}),promoItem:(0,r.j)({state:n,frameId:t})}}}},31203:(e,t,s)=>{"use strict";s.d(t,{V:()=>a});var r=s(7540),i=s(57744);function a(e){var t;const{banner:s,position:a,state:n}=e;return{entity:{id:s.ad_attributes.branch_id,type:"branch",segmentInfo:(0,r.o)({locale:(0,i.u)(n),region_id:s.ad_attributes.project_id?s.ad_attributes.project_id.toString():void 0})},mainRubric:void 0!==s.main_rubric_id?s.main_rubric_id.toString():void 0,adsId:s.ad_attributes.ads_id,org:s.org.id,adsAlgorithm:s.ad_attributes.algorithm_id,auctionId:s.ad_attributes.auction_id,contextRubric:s.ad_attributes.rubric_id?String(s.ad_attributes.rubric_id):void 0,adsMaterialVersionId:s.ad_attributes.banner_id,position:a,adsHighlight:null===(t=s.ad_attributes.is_ads)||void 0===t||t}}},60695:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});const r=(e,t)=>{const s=i(e,t);return{size:null==t?void 0:t.total,uiFilters:s}},i=(e,t)=>{var s;const r=[];e.action&&r.push({name:"buy"===e.action?"exchangeBuy":"exchangeSell",value:String(e.volume||!0)});const i=e.currencyCode||(null===(s=null==t?void 0:t.currencies[0])||void 0===s?void 0:s.code);return i&&r.push({name:"exchangeToCurrency",value:i}),r}},83812:(e,t,s)=>{"use strict";s.d(t,{G:()=>r.G});var r=s(67046)},45863:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(110),i=s(19400),a=s(53930);const n=e=>{var t,s,n,o;const{media:c,orgId:d,tag:l,entityId:u,entityType:p,isVideo:m}=e;if((0,i.XS)(c)&&(null==c?void 0:c.temporary)||!c||!c.creation_time)return;const g=(0,r.o)(c.creation_time),h=+new Date(c.creation_time),f=p||((0,i.XS)(c)||(0,a.xz)(c)?null===(t=c.object)||void 0===t?void 0:t.type:c.real_object_type),b=u||((0,i.XS)(c)?null===(s=c.object)||void 0===s?void 0:s.id:void 0);return Object.assign(Object.assign({},m?{videoId:c.id,entity:{type:f,id:b},org:d}:{photoId:c.id,owner:{entity:{type:f,id:b},org:d}}),{tag:l,createdAt:{timestamp:h,utcOffset:g},provider:(0,a.xz)(c)||null===(n=c.copyright)||void 0===n?void 0:n.code,author:(0,a.xz)(c)||null===(o=c.owner)||void 0===o?void 0:o.id})}},98379:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var r=s(46287),i=s(32288),a=s(80905);function n(e){const{state:t,entityFrameId:s,currentCongestion:n,position:o}=e,c=(0,a.w1)(t.appContext.frames,s);if(!c||"entity"!==c.type)return;const d=(0,r.Tq)({state:t,entityId:c.entityId,searchId:c.searchId}).data;return d?(0,i.ij)({entity:d,currentCongestion:n,position:o}):void 0}},32288:(e,t,s)=>{"use strict";s.d(t,{eH:()=>r.eH,ij:()=>r.ij});var r=s(7818)},63892:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var r=s(14839);function i({realtyItem:e}){if(!e)return;const{product:t,offer:s,branch:i}=e;return{product:{entity:{id:t.id,type:"orgProduct"},name:t.name,categories:t.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:i.id,type:"branch"},org:i.org.id},price:(0,r.B)(s.price_value)},hasToTheShopButton:!!s.url}}},20113:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(80905),i=s(87239),a=s(59272),n=s(92448),o=s(53091);function c({state:e,isSuccess:t,search:s}){var c;const d=(0,r.bB)(e.appContext.frames,"entity");if(!d||!t)return;const l={type:"branch"===d.entityType?"branch":"building",id:d.entityId};if(!l)return;const u=(0,o.d)(d);return{size:(null==s?void 0:s.total)||0,entity:l,searchParameters:void 0,auctionId:void 0,uiFilters:(0,i.R)((0,a.D)({widgets:null===(c=null==s?void 0:s.filters)||void 0===c?void 0:c.main,filterValues:u,valueTextMap:n.GB}),void 0)}}},34438:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(110);function i(e){var t,s;const{review:i,orgId:a}=e,n=(0,r.o)(i.date_created),o=+new Date(i.date_created);if(!Number.isNaN(o))return{reviewId:i.id,source:i.provider,rating:i.rating,rateOnly:0===(null===(t=i.text)||void 0===t?void 0:t.length),author:i.user.id,createdAt:{timestamp:o,utcOffset:n},owner:{entity:{type:i.object.type,id:i.object.id},org:a},gallerySize:(null===(s=i.photos)||void 0===s?void 0:s.length)||0,status:void 0}}},65290:(e,t,s)=>{"use strict";s.d(t,{tp:()=>f,Mj:()=>g});var r=s(43793),i=s(56803),a=s(26289),n=s(30066),o=s(11528);function c(e){if(e&&4===e.length)return e.map((e=>({lat:e.latitude,lon:e.longitude})))}var d=s(80905),l=s(83878),u=s(87239),p=s(66089),m=s(42451);const g=()=>(0,l.Mz)([({state:e,frame:t})=>(0,i.s8)({state:e,searchId:(0,r.X)(t)||""}),({state:e,frame:t})=>(0,a.o)({state:e,filtersId:(0,n.Y)(t)}),({state:e,frame:t,checkStories:s})=>{var r;if(!s)return;const i=(0,m.j)(t);return i?!!(null===(r=e.data.gta[i])||void 0===r?void 0:r.stories):null}],((e,t,s)=>{var r;if(!e.meta||!e.data||"loading"===e.meta.status)return;const{total:i,searchType:a,buildingId:n,searchAttributes:d,filters:l}=e.data,m=(0,o.g)(l),g=null===(r=null==d?void 0:d.query_context)||void 0===r?void 0:r.reduce(((e,t)=>("attribute"===t.table_name&&e.push(t.record_id),e)),[]);return Object.assign(Object.assign({uiFilters:(0,u.R)(l,t&&t.filters&&t.filters.attributes)},void 0!==s?{template:s?"stories_on_position_4":"without_stories"}:{}),{sort:m,size:i||0,typoCorrected:!!(null==d?void 0:d.query_fix)||void 0,searchType:a,firstResultClass:a,contextRubrics:(0,p.l)(null==d?void 0:d.query_context),contextAttributes:(null==g?void 0:g.length)?g:void 0,hasGeoRestriction:!!d&&!!d.geo_restriction,partialResult:!!d&&d.is_partial,advertisers:d&&d.advertisers?d.advertisers.map((({org:e,rubr:t})=>({org:e,contextRubric:t}))):void 0,searchStatisticsTags:(null==d?void 0:d.statistic_tags)||void 0,outviewport:d?c(d.out_viewport):void 0,building:n,searchSegmentId:d&&d.dgis_project_id,rtwVersion:null==d?void 0:d.rtw_version})})),h=g();function f(e){const{state:t,searchFrameId:s,checkStories:r}=e,i=(0,d.w1)(t.appContext.frames,s);if(i&&("search"!==i.type||"filials"!==i.searchType))return h({state:t,frame:i,checkStories:r})}},86664:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var r=s(74281);const i=({story:e})=>{if(r.YH.isAdStory(e))return{id:e.orgId,type:"org"}};function a(e){const{story:t,position:s}=e,a=r.YH.isAdStory(t);return Object.assign(Object.assign(Object.assign({id:t.id,entity:i({story:t}),size:r.YH.getStorySlides(t).length,name:r.YH.getStoryPreview(t).text,adsAlg:a?t.algorithmId:void 0},a&&t.rubricId?{rubric:`${t.rubricId}`}:{}),"discovery"===t.source?{carouselPosition:4}:{}),s?{position:s}:{})}},26185:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(74281);function i(e){const{slide:t}=e;return Object.assign({id:t.id,title:t.title},(e=>{const t=r.YH.getSlideTextPosition(e);return e.template?{template:"left_bottom"===t?"LeftBottom":"LeftTop"}:{}})(t))}},99906:(e,t,s)=>{"use strict";function r(e){const t="frame"in e?a(e.frame):e.name;if(t)return{uiElement:{type:"frame",uuid:"frame"in e?e.frame.id:e.uuid,name:t,framesLayout:{dataViewer:i(e.state)}}}}function i(e){return e.appContext.frames.length?e.appContext.frames.map((e=>({uuid:e.id,name:a(e)}))).reverse():[{name:"dashboardFrame",uuid:e.appContext.staticFrames.dashboard.id}]}function a(e){switch(e.type){case"dashboard":return"dashboardFrame";case"search":return"offers"===e.searchType?"branchMarketSearchResultsFrame":"directorySearchResultsFrame";case"prices":return"pricesFrame";case"collection":return"private"===e.subtype?"userCollectionFrame":"specialProjectCollectionFrame";case"userProfile":return"userProfileFrame";case"gallery":return"galleryFrame";case"entity":return"directoryObjectCardFrame";case"offer":return"branchMarketProductOfferFrame";case"direction":return"directionFrame";case"directions":return"routeSearchFrame";case"rubric":return"rubricatorSubrubricsFrame";case"rubricator":return"rubricatorFirstLevelFrame";case"pending":return"directoryObjectCardFrame";case"product":return"productFrame";case"publicFavorites":switch(e.subtype){case"guidebook":return"guidebookFrame";case"award2019":return"award2gisFrame";default:return"interestingFrame"}case"unconfirmedReviews":return"unconfirmedReviewsFrame";case"achievements":return"achievementsFrame";case"currentReview":return"currentReviewFrame";case"tUgc":return"tUGCCardFrame";case"userFriendsActivity":return"friendsActivitiesHereFrame";case"realty":return"realtyLayerFrame";case"realtyCard":return"realtyLayerProductOfferFrame";case"error":return"errorFrame";case"exchange":return"exchangeCurrencyFrame";case"friendsList":return"friendsLayerFrame";case"userPublicProfile":return"profileCardFrame";case"sharingGeo":return"geoSharingCardFrame"}}s.d(t,{DR:()=>a,f_:()=>r})},28076:(e,t,s)=>{"use strict";function r(e){switch(e.searchType){case"filials":return"filialsList";case"inbuilding":return"buildingOrgsList";case"offers":return"productOffersList";case"buyHere":return"buyHerePartnersList";case"fmcg":return"fmcgPartnersList";case"query":return e.tabCatalog.isBuyHereRubric?"buyHerePartnersList":"searchResultsList"}}s.d(t,{e:()=>r})},76125:(e,t,s)=>{"use strict";function r(e){return"building"===e.type?e.id:"branch"===e.type||"station_entrance"===e.type?e.address&&e.address.building_id:void 0}s.d(t,{$:()=>r})},51143:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var r=s(15582),i=s(6514),a=s(9729),n=s(35023),o=s(21785),c=s(56682);function d({entity:e,state:t}){if(!(0,c.K)(e))return;const s=(0,o.t)(e);if(s){if(!Array.isArray(s))return{lon:s.lon,lat:s.lat,zoom:Math.max(t.appContext.zoom,16)};const e=(0,r.kD)(t),o=(0,n.Bq)(s).map((e=>[e.lon,e.lat])),c=(0,i.Y)(t.session.screen,e),d=(0,a.getCenterZoomByPoints)(o,t.appContext.rotation,[c.width,c.height]);if(d)return{lon:d.center[0],lat:d.center[1],zoom:Math.min(d.zoom-.1,16)}}return"point"in e&&e.point?{lon:e.point.lon,lat:e.point.lat,zoom:Math.max(t.appContext.zoom,16)}:void 0}},4986:(e,t,s)=>{"use strict";function r(e){return Object.assign({top:e.top,left:e.left,bottom:e.top,right:e.left,x:e.left,y:e.top,height:0,width:0})}s.d(t,{K:()=>r})},33224:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var r=s(652),i=s(73620);function a(e,t,s){if("AE"===t&&"branch"!==e.type&&"kilometer_road_sign"!==e.type)return(0,i.C)(e);const a="attraction"===e.type||"kilometer_road_sign"===e.type?s||e.point:s;return a&&"station"!==e.type&&"branch"!==e.type&&"station_platform"!==e.type&&"station_entrance"!==e.type&&"building"!==e.type&&"point"!==e.type?(0,r.c)(a):void 0}},73428:(e,t,s)=>{"use strict";function r(e){const t="links"in e&&e.links;return t&&t.servicing&&t.servicing.count||0}s.d(t,{o:()=>r})},41013:(e,t,s)=>{"use strict";function r(e){const t="links"in e&&e.links;return t&&t.providers&&t.providers.count||0}s.d(t,{p:()=>r})},3726:(e,t,s)=>{"use strict";function r(e,t){return t&&e.some((e=>e.tab===t))?t:e[0].tab}s.d(t,{c:()=>r})},27212:(e,t,s)=>{"use strict";s.d(t,{a:()=>c});var r=s(9154),i=s(90618);function a(e){const t=e[0]/255,s=e[1]/255,r=e[2]/255;return.2126*n(t)+.7152*n(s)+.0722*n(r)}function n(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}var o=s(99259);function c(e){return/^#[0-9a-f]{3,6}$/i.test(e)?e===o.T.green_30ad00?o.T.white:(t=e,s=[o.T.gray_262626,o.T.white],(0,i.O)(function(e,t){return function(e,t){if(0===e.length)return;let s=e[0],r=t(s);for(let i=1;i<e.length;i++){const a=t(e[i]);a>r&&(s=e[i],r=a)}return s}(t,(t=>function(e,t){const s=(a(e)+.05)/(a(t)+.05);return s>1?s:1/s}(t,e)))||e}((0,r.E)(t),s.map(r.E)))):o.T.gray_262626;var t,s}},55143:(e,t,s)=>{"use strict";function r(e){var t,s;return e.city_alias?e.city_alias:"adm_div"in e?null===(s=null===(t=e.adm_div)||void 0===t?void 0:t.find((e=>("city"===e.type||"settlement"===e.type)&&e.city_alias)))||void 0===s?void 0:s.city_alias:void 0}s.d(t,{f:()=>r})},45276:(e,t,s)=>{"use strict";function r(e,t){var s;const r=[];return"branch"===(null==e?void 0:e.type)&&(null===(s=e.contact_groups)||void 0===s||s.forEach((({contacts:e})=>{null==e||e.forEach((e=>{e.type===t&&r.push(e)}))}))),r}s.d(t,{Y:()=>r})},71781:(e,t,s)=>{"use strict";s.d(t,{b:()=>c});var r=s(6458);function i(e,t){if((0,r.m)(e.subtype,e.route_logo))return;const s=e.routes&&e.routes.length||0;return 0!==s?t._nt(["%% маршрут","%% маршрута","%% маршрутов"],s):void 0}var a=s(34070),n=s(35023);const o=(e,t)=>e.name||e.name_back?t._t("Километровый знак"):void 0;function c(e,t,{withFloors:s,withRoutesCount:r}={}){return function(e,t,{withFloors:s,withRoutesCount:r}={}){switch(e.type){case"branch":return(0,a.hx)(e);case"building":return(0,a.i$)(e,t,{withFloors:s});case"route":return(0,a.q6)(e,t);case"station":case"station_platform":return(0,n.oE)([...(0,a.FP)(e,t),!!r&&i(e,t)]);case"station_entrance":return(0,a.FP)(e,t);case"point":return(0,a.Yl)(e);case"kilometer_road_sign":return(0,n.oE)([o(e,t)]);default:return(0,a.eu)(e,t)}}(e,t,{withFloors:s,withRoutesCount:r}).map((e=>(0,n.ND)(e)))}},62260:(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var r=s(59954),i=s(73865);function a(e,t){var s,a;switch(e.type){case"entity":case"pending":case"gallery":return{entityId:e.entityId,searchId:e.searchId};case"prices":return{entityId:e.entityId,searchId:e.entitySearchId};case"realtyCard":return{entityId:(0,i.X)(t)};case"realty":return"building"===(null===(s=e.entity)||void 0===s?void 0:s.type)?{entityId:null===(a=e.entity)||void 0===a?void 0:a.id,searchId:e.searchId}:r.t0;case"product":return{entityId:e.buildingId};case"search":switch(e.searchType){case"inbuilding":return{entityId:e.buildingId};case"offers":return{entityId:e.branchId,searchId:e.branchSearchId}}return{}}return{}}},21785:(e,t,s)=>{"use strict";s.d(t,{t:()=>a});var r=s(19263),i=s(35023);function a(e){if("route"===e.type)return e.directions&&e.directions.map((e=>e.geometry.selection?(0,r.sX)(e.geometry.selection):void 0)).filter(i.t2);const t=e.geometry&&e.geometry.selection&&(0,r.lj)(e.geometry.selection);return t?t.geometry:void 0}},73620:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(652);function i(e){var t;return"address"in e&&(null===(t=e.address)||void 0===t?void 0:t.makani)?e.address.makani:"point"in e&&e.point?(0,r.c)(e.point):void 0}},31222:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(6276),i=s(95455),a=s(53790);function n(e){const t=(0,i.z)(e);switch(t?t.type:e.type){case"branch":return(0,r.E)(e)?["contacts","inside","reviews","prices","photos","realty","services","providers","discounts"]:["contacts","info","inside","reviews","menu","prices","photos","realty","services","providers","discounts"];case"building":return["info","inside","realty","reviews","photos","services","providers"];case"station_entrance":return["info","inside","realty","reviews","photos"];case"station":case"station_platform":case"route":return["info","photos"];case"street":case"adm_div":return(0,a._)(e)?["info","reviews","photos","realty"]:["info","reviews","photos"];default:return["info","reviews","photos"]}}},12954:(e,t,s)=>{"use strict";function r(){return{"116x116":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","176x176":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","232x232":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","328x170":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","656x340":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","88x88":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg"}}s.d(t,{u:()=>r})},85566:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(44293);function i(){return{hardwareInfo:(0,r.Z)(),sourceUrl:window.location.href.split("://")[1]}}},73516:(e,t,s)=>{"use strict";function r(e){const t=Math.max(0,...e.map((e=>e.length)));if(0===t)return;const s=e.map(((e,t)=>({markers:e,floorIndex:t}))).filter((e=>e.markers.length===t));if(s.length>1){const e=s.map((e=>Math.min(...e.markers.map((e=>e.index))))),t=Math.min(...e);return s[e.indexOf(t)].floorIndex}return s[0].floorIndex}s.d(t,{_:()=>r})},43793:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(74182),i=s(36539);function a(e,t){const s="actual"===t?r.HX:r.At;switch(e.type){case"search":switch(e.searchType){case"query":return s(e.tabCatalog.searchId);case"inbuilding":case"filials":case"buyHere":case"fmcg":return s(e.searchId);default:return e.searchId}case"entity":return(0,i.z)(e,e.tab,t);case"gallery":return e.searchId;case"prices":return e.offersSearchId;case"directions":return s(e.searchId)}}},20919:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(74182);function i(e){if("search"===e.type)switch(e.searchType){case"query":return(0,r.HX)(e.tabCatalog.page);case"offers":case"filials":case"buyHere":case"fmcg":return(0,r.HX)(e.page)}return 1}},13251:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"search":return"query"===e.searchType?"catalog"===e.tab?e.tabCatalog.filterValues:void 0:e.filterValues;case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}s.d(t,{v:()=>r})},36539:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(74182);function i(e,t,s){const i="actual"===s?r.HX:r.At;switch(t){case"inside":return e.tabInside?i(e.tabInside.searchId):void 0;case"providers":return e.tabProviders?e.tabProviders.searchId:void 0;case"services":return e.tabServices?e.tabServices.searchId:void 0;case"prices":return e.tabPrices?e.tabPrices.searchId:void 0;case"reviews":if(!e.tabReviews)return;return e.tabReviews.isOrg?i(e.tabReviews.orgReviewsSearchId):i(e.tabReviews.entityReviewsSearchId);default:return}}},98638:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.filterValues:"filterValues"in e?e.filterValues:void 0;case"product":return e.filterValues;case"directions":return e.filterValuesByTab[e.tab];case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0;default:return}}s.d(t,{G:()=>r})},30066:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(74182);function i(e,t){const s="actual"===t?r.HX:r.At;switch(e.type){case"search":switch(e.searchType){case"query":return s(e.tabCatalog.filtersId);case"offers":return s(e.filtersId);case"buyHere":case"fmcg":case"filials":case"inbuilding":return e.filtersId||"";default:return""}case"entity":return"";case"product":return e.filtersId}return""}},42451:(e,t,s)=>{"use strict";s.d(t,{j:()=>i});var r=s(74182);function i(e,t){const s="actual"===t?r.HX:r.At;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?s(e.tabCatalog.gtaId):void 0;case"filials":case"inbuilding":return e.gtaId;default:return}case"entity":switch(e.tab){case"inside":return e.tabInside?e.tabInside.gtaId:void 0;case"services":return e.tabServices?e.tabServices.gtaId:void 0;case"providers":return e.tabProviders?e.tabProviders.gtaId:void 0;default:return}default:return"gtaId"in e?e.gtaId:void 0}}},54694:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(74182);function i(e){switch(e.type){case"search":switch(e.searchType){case"query":return(0,r.At)(e.tabCatalog.page);case"offers":case"inbuilding":case"filials":case"buyHere":case"fmcg":return(0,r.At)(e.page);default:return 1}case"realty":case"exchange":case"product":return e.page;case"entity":switch(e.tab){case"inside":return e.tabInside?(0,r.At)(e.tabInside.page):1;case"services":return e.tabServices?e.tabServices.page:1;case"providers":return e.tabProviders?e.tabProviders.page:1;default:return 1}default:return 1}}},18322:(e,t,s)=>{"use strict";s.d(t,{e:()=>n});var r=s(43793),i=s(35023),a=s(20919);function n(e){const t=[e.id];switch(e.type){case"search":switch(t.push((0,r.X)(e,"actual")),"query"===e.searchType&&t.push(e.tab),e.searchType){case"query":t.push((0,a.t)(e).toString()),t.push(o(e));break;case"buyHere":case"fmcg":case"offers":t.push(o(e))}break;case"entity":t.push(e.tab);break;case"directions":t.push((0,r.X)(e,"actual")),t.push(e.tab)}return(0,i.oE)(t).join("_")}function o(e){if("search"!==e.type)return"";switch(e.searchType){case"query":return e.tabCatalog.scrollIdHash;case"offers":case"buyHere":case"fmcg":return e.scrollIdHash}}},67013:(e,t,s)=>{"use strict";function r(e){return"product"===e.type?e.viewpoint:e.tabCatalog.viewpoint}s.d(t,{b:()=>r})},44293:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=(0,s(66333).Bj)((function(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas").getContext("webgl",e);if(t){const e=function(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(t);return/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|mali-4|mali-3|mali-2)/.test(e)?`${e} - GPU из блэклиста`:e}}}catch(e){}}))},12222:(e,t,s)=>{"use strict";s.d(t,{H:()=>c});var r=s(61200),i=s(58147),a=s(71781),n=s(35023),o=s(56009);function c(e){const{entity:t,config:s,tp:r}=e;return(0,n.oE)([...d(t,r),p(t,s),u(t),l(t,r)])}function d(e,t){return"building"===e.type?[]:(0,a.b)(e,t)}function l(e,t){if("station_entrance"===e.type&&e.comment)return t._t("Выход %1",[e.comment])}function u(e){return(0,o.B)(e)&&"parking"!==e.type&&"address"in e&&e.address?(0,i.T)(e):void 0}function p(e,t){if("parking"!==e.type&&(0,o.B)(e))return(0,r.tB)(e,{config:t})}},67046:(e,t,s)=>{"use strict";function r(e){return e&&"group"in e?function(e){if(e&&e.length)return e.map((e=>({id:e.id,type:e.type,subtype:e.subtype})))}(e.group):void 0}s.d(t,{G:()=>r})},95885:(e,t,s)=>{"use strict";function r(e,t){if(e&&!e.use_default_value&&e.img_url)return i(e.img_url,t)}function i(e,t){if("original"===t)return e.replace("/previews/","/raws/");const s="?api-version=2.0";return e.endsWith("/")?`${e}${t}${s}`:`${e.replace(/image.([a-zA-Z0-9]+)$/,`image_${t}.$1`)}${s}`}s.d(t,{Y:()=>r,m:()=>i})},53790:(e,t,s)=>{"use strict";s.d(t,{_:()=>r});const r=e=>!!e&&("street"===e.type||"adm_div"===e.type&&("district"===e.subtype||"living_area"===e.subtype||"division"===e.subtype||"region"===e.subtype||"settlement"===e.subtype))},6276:(e,t,s)=>{"use strict";function r(e){var t;return"parking"===e.type||!(!("group"in e)||!(null===(t=e.group)||void 0===t?void 0:t.find((e=>"parking"===e.type))))}s.d(t,{E:()=>r})},24880:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var r=s(35023);const i=(e,t)=>[e.name,e.name_back].filter(r.t2).join(" / ")||t._t("Километровый знак")},87712:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(95885);function i(e,t){if("branch"!==e.type||!e.ads)return;if(e.ads.is_social)return{image:void 0};const s=e.ads.options&&e.ads.options.logo;return s?{image:(0,r.Y)(s,t)}:void 0}},54071:(e,t,s)=>{"use strict";function r(e){const t=e.find((e=>"primary"===e.kind))||e[0];return t?t.id:void 0}s.d(t,{Z:()=>r})},30158:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(35023);function i(e){let t;switch(e.origin){case"adsIconForPoi":t=e.markerData.position;break;case"marker":t=e.marker.lonLat;break;case"poi":case"map":case"ppna":case"ppnot":case"geometry":t=e.lngLat;break;case"etaMarker":case"photo":t=e.point}if(t)return{lon:(0,r.jF)(t[0]),lat:(0,r.jF)(t[1])}}},6514:(e,t,s)=>{"use strict";function r(e,t){if(!t)return e;const s=t.topLeft[0]+t.bottomRight[0],r=t.topLeft[1]+t.bottomRight[1];return{width:Math.max(e.width-s,0),height:Math.max(e.height-r,0)}}s.d(t,{Y:()=>r})},19519:(e,t,s)=>{"use strict";function r(e){switch(e){case"bigbullet":case"commercial":return"large";case"middlebullet":return"medium";case"smallbullet":return"small"}return"small"}s.d(t,{j:()=>r})},83500:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(50432);function i(e){switch(e){case"adm_div.district_area":case"adm_div.settlement":case"adm_div.division":case"adm_div.city":case"adm_div.district":case"adm_div.place":case"adm_div.country":case"adm_div.region":case"adm_div.living_area":return"adm_div";case"branch":case"branch.deleted":return"branch";case"building":return"building";case"attraction":return"attraction";case"crossroad":return"crossroad";case"street":return"street";case"route":return"route";case"parking":return"parking";case"road":return"road";case"station.metro":case"station.entrance":case"station":return"station_platform";case"coordinates":return"point";case"kilometer_road_sign":return"kilometer_road_sign";default:return(0,r.vV)({message:"Неожиданный тип маркера",level:"error",id:"3smuq",payload:{type:"debug",subtype:"UnexpectedMarkerType",data:e}}),e}}},36958:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var r=s(31085);const i=({width:e=24,height:t=24,background:s="#5FAE86"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77170)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{d:"M3.4201 15.5432V9.78785H2L2.98066 8.45284H5.72671C6.77881 8.45284 7.74648 8.68644 8.53579 9.56302C9.19512 10.2953 9.4058 11.2209 9.4058 11.9314C9.4058 12.6419 9.24232 13.6935 8.53579 14.465C7.75845 15.3138 6.84496 15.5432 5.79286 15.5432H3.4201ZM4.86481 14.235C4.86481 14.235 5.33053 14.235 5.64637 14.235C6.08452 14.235 6.7775 14.1577 7.26871 13.7077C7.81348 13.2086 7.90817 12.6808 7.90817 11.9314C7.90817 11.259 7.72861 10.7422 7.26871 10.3327C6.81511 9.91694 6.28996 9.78785 5.6497 9.78785C5.29978 9.78785 4.86481 9.78785 4.86481 9.78785V14.235Z",fill:"white"}),(0,r.jsx)("path",{d:"M12.9052 15.5432V14.0629H9.71973L9.71978 13.08L11.6855 8.44995H13.2013L11.3471 12.7603H12.9052V10.7709H14.3263V12.7603H15.5341L15.0486 14.0629H14.3263V15.5432H12.9052Z",fill:"white"}),(0,r.jsx)("path",{d:"M17.7073 12.5827H19.5004L18.6132 10.4701L17.7073 12.5827ZM16.6262 15.5432H15.262L18.0448 8.46172H19.229L22 15.5432H20.6046L19.9889 13.8853H17.2376L16.6262 15.5432Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77170"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),a={metro_moscow_D1:function({width:e=24,height:t=24,background:s="#ED9F2E"}){return(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77150)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8.69335L4.36377 6.80005L8.31634 6.80514C9.74699 6.80516 11.0744 7.24182 12.0995 8.25359C13.022 9.22031 13.4757 10.4516 13.4757 11.9204C13.4757 13.3891 13.0219 14.6203 12.0994 15.587C11.168 16.5631 9.89303 17.0356 8.31634 17.0356H4.93314L4.93233 8.69207L3 8.69335ZM6.96767 8.69018V15.1779H8.22141C9.15631 15.1779 9.9055 14.9014 10.4943 14.3638C11.0631 13.8443 11.3734 13.0501 11.3734 11.9204C11.3734 10.8107 11.0641 10.0246 10.4943 9.50431C9.9055 8.96669 9.15631 8.69018 8.22141 8.69018H6.96767ZM14 14.9836V17.04H19.8336L20.696 14.9836H18.272V6.80005H14.154V8.85995H16.072V14.9836H14Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77150"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},metro_moscow_D2:function({width:e=24,height:t=24,background:s="#E94282"}){return(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77154)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6918 17.1H20.4754L21.2002 15.1028H16.8969L18.1702 13.8709C18.9112 13.1566 19.4933 12.5094 19.909 11.9304L19.9106 11.9281C20.3502 11.306 20.5765 10.6277 20.5765 9.90114C20.5765 9.09503 20.2588 8.37772 19.6558 7.76136C19.0207 7.10294 18.1253 6.80005 17.0325 6.80005C16.2696 6.80005 15.5616 6.96496 14.9156 7.29894C14.3058 7.61423 13.8144 7.95445 13.4589 8.32584L13.2002 8.59619L14.6073 9.98692L14.8803 9.74316C15.131 9.5194 15.4501 9.30486 15.8432 9.10213C16.2094 8.90542 16.6176 8.81069 17.0325 8.81069C17.4487 8.81069 17.7707 8.92798 18.0258 9.146C18.2673 9.35243 18.3932 9.62234 18.3932 9.99488C18.3932 10.3231 18.2696 10.6839 17.9784 11.0837C17.513 11.7408 16.9246 12.3208 16.3508 12.8865C16.3015 12.9351 16.2523 12.9836 16.2033 13.032L13.6918 15.5004V17.1ZM2.6001 8.74339L3.96387 6.8501L7.91644 6.85519C9.34709 6.85521 10.6745 7.29187 11.6996 8.30364C12.6221 9.27036 13.0758 10.5016 13.0758 11.9704C13.0758 13.4392 12.622 14.6704 11.6995 15.6371C10.7681 16.6132 9.49312 17.0856 7.91644 17.0856H4.53324L4.53243 8.74212L2.6001 8.74339ZM6.56777 8.74023V15.228H7.82151C8.75641 15.228 9.5056 14.9514 10.0944 14.4138C10.6632 13.8944 10.9735 13.1001 10.9735 11.9704C10.9735 10.8607 10.6642 10.0747 10.0944 9.55436C9.5056 9.01674 8.75641 8.74023 7.82151 8.74023H6.56777Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77154"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},metro_moscow_D3:({width:e=24,height:t=24,background:s="#D26439"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77158)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06397 6.80005L2.7002 8.69335L4.63253 8.69207L4.63334 17.0356H8.01653C9.59322 17.0356 10.8682 16.5631 11.7996 15.587C12.7221 14.6203 13.1759 13.3891 13.1759 11.9204C13.1759 10.4516 12.7222 9.22031 11.7997 8.25359C10.7746 7.24182 9.44719 6.80516 8.01653 6.80514L4.06397 6.80005ZM6.66787 15.1779V8.69018H7.92161C8.85651 8.69018 9.60569 8.96669 10.1945 9.50431C10.7643 10.0246 11.0736 10.8107 11.0736 11.9204C11.0736 13.0501 10.7633 13.8443 10.1945 14.3638C9.60569 14.9014 8.85651 15.1779 7.92161 15.1779H6.66787Z",fill:"white"}),(0,r.jsx)("path",{d:"M20.6533 6.80514H13.9682V8.7039H17.97L15.6766 11.0218V12.3888C16.0308 12.3337 16.3816 12.2805 16.7413 12.2805C17.6773 12.2805 18.7815 12.6981 18.7815 13.784C18.7815 14.7448 17.9036 15.3013 17.0125 15.3013C16.5715 15.3013 16.1817 15.2236 15.8381 15.0742C15.3729 14.872 14.9976 14.5577 14.6301 14.2172L13.269 15.5929L13.491 15.8172C13.9136 16.2443 14.4326 16.5799 15.0418 16.8272C15.6573 17.077 16.3245 17.2 17.0396 17.2C18.0957 17.2 19.0012 16.8745 19.7344 16.2135C20.4675 15.5527 20.8432 14.7323 20.8432 13.7703C20.8432 12.8985 20.555 12.1522 19.9732 11.5541C19.5356 11.1041 19.012 10.7976 18.4094 10.6332L20.6533 8.36529V6.80514Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77158"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),metro_moscow_D4:({width:e=24,height:t=24,background:s="#5FAE86"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77162)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.49742 6.80005L2.1001 8.72376L4.09899 8.72247L4.09945 17.2H7.56319C9.17729 17.2 10.4826 16.7205 11.4365 15.7292C12.3815 14.7471 12.8468 13.4958 12.8468 12.0026C12.8468 10.5095 12.3816 9.25808 11.4366 8.27597C10.3933 7.25261 9.01202 6.80524 7.56319 6.80523L3.49742 6.80005ZM6.17862 15.3125V8.72055H7.46595C8.42518 8.72055 9.19382 9.00198 9.79756 9.54867C10.3816 10.0776 10.6982 10.8759 10.6982 12.0026C10.6982 13.1497 10.3806 13.9564 9.79756 14.4844C9.19382 15.0311 8.42518 15.3125 7.46595 15.3125H6.17862Z",fill:"white"}),(0,r.jsx)("path",{d:"M18.5026 6.80523H16.3229L13.4488 13.5797V15.0141H18.1304V17.2H20.1679V15.0141H21.237L21.9195 13.1544H20.1679V10.2165H18.1304V13.1544H15.7677L18.5026 6.80523Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77162"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),metro_moscow_D4a:i,metro_moscow_D4A:i,metro_moscow_D5:({width:e=24,height:t=24,background:s="#141414"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77166)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.33369 6.80005H7.72521C9.32232 6.80005 10.6064 7.27298 11.5435 8.24463C12.4736 9.20902 12.9329 10.4383 12.9329 11.9107C12.9329 13.3832 12.4736 14.6124 11.5435 15.5768C10.6064 16.5485 9.32232 17.0214 7.72521 17.0214H4.33369V8.49091H2.6001L3.52437 6.82722H4.33369V6.80005ZM6.27817 8.57816V15.271H7.62816C8.59947 15.271 9.38297 14.9862 9.99911 14.4295C10.5987 13.8879 10.9191 13.0646 10.9191 11.9107C10.9191 10.7768 10.5995 9.96205 9.99911 9.41964C9.38297 8.86299 8.59947 8.57816 7.62816 8.57816H6.27817Z",fill:"white"}),(0,r.jsx)("path",{d:"M14.5204 6.81234H21.0799L20.4371 8.60431H16.1739L16.0581 10.6687C16.4618 10.477 16.9958 10.3754 17.6351 10.3754C18.862 10.3754 20.1676 11.0706 20.8554 12.2891C21.3907 13.6062 21.0272 15.2041 20.0709 16.188C19.2407 16.8682 18.3007 17.2 17.2746 17.2C16.3898 17.2 15.6912 17.0757 15.1846 16.8192C14.4272 16.5413 13.8756 16.1356 13.4689 15.6408L14.7852 14.3245C15.0518 14.6606 15.4629 14.9456 15.9962 15.1583C16.4677 15.3464 16.7679 15.4249 17.2746 15.3942C17.8511 15.3593 18.2599 15.3107 18.67 14.904C19.0226 14.5545 19.1783 14.2356 19.1792 13.7392C19.18 13.2623 19.0479 12.95 18.7129 12.6105C18.3231 12.2153 17.926 12.1692 17.3717 12.1397C16.7029 12.104 16.1179 12.3203 15.7293 12.633L14.2169 12.4729L14.5204 6.81234Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77166"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},n=e=>a[e]},77017:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(8319);function i(e){if(e.length)return e.every((e=>r.u.includes(e.id)))?"menu":e.every((e=>r.f.includes(e.id)))?"prices":void 0}},7098:(e,t,s)=>{"use strict";s.d(t,{M:()=>i});var r=s(5836);const i=e=>{switch(e){case"android":case"ios":return r.x[e];case"online":return r.x.android}}},20371:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});const r=e=>({category:e.sysCode?{id:e.sysCode}:void 0,adsHighlight:e.isCommercial||!1,isPersonal:e.isPersonal,adsPriority:e.isCityCommercial?"city":e.isPremiumCommercial?"premium":void 0,isContext:e.isContext})},51547:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});const r=e=>{if(e)for(const t of e)if("checkboxlist"===t.widget)for(const e of t.items)if("ПИК"===e.text)return Object.assign(Object.assign({},e),{tag:t.tag})}},7818:(e,t,s)=>{"use strict";s.d(t,{U:()=>p,eH:()=>d,ij:()=>l});var r=s(35023),i=s(7540),a=s(59954),n=s(83878),o=s(67046),c=s(54071);c.Z;const d=()=>(0,n.Mz)([({entity:e})=>e,({position:e})=>e,({currentCongestion:e})=>e],((e,t,s)=>{var n;return(0,r.kk)(Object.assign(Object.assign({adsId:u(e),entity:{id:e.id===a.K0?void 0:e.id,type:e.id===a.K0?"point":e.type,subtype:"subtype"in e?e.subtype:void 0,segmentInfo:(0,i.o)(e)},bestKeyword:null===(n=e.search_attributes)||void 0===n?void 0:n.best_keyword,geoPosition:"point"in e&&e.point?p(e.point):void 0,hybridEntities:(0,o.G)(e)},function(e){if("branch"===e.type)return{adsSearch:e.stat&&e.stat.is_advertised,mainRubric:e.rubrics?(0,c.Z)(e.rubrics):void 0,isDeleted:!!e.is_deleted,org:e.org&&e.org.id,contextRubric:e.stat&&e.stat.rubr,hasModel:e.has_ads_model}}(e)),{resultClass:e.stat&&e.stat.source_type,personalPriority:e.stat&&e.stat.personal_priority,position:t,currentCongestion:s}))})),l=d();function u(e){var t,s,r,i,a,n,o,c,d,l,u,p;if("branch"!==e.type)return;const m=null===(r=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here_owner)||void 0===r?void 0:r.find((e=>!!e.ads_id)),g=null===(n=null===(a=null===(i=e.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.buy_here)||void 0===n?void 0:n.find((e=>!!e.ads_id)),h=null===(d=null===(c=null===(o=e.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.fmcg)||void 0===d?void 0:d.find((e=>!!e.ads_id)),f=null===(p=null===(u=null===(l=e.ads)||void 0===l?void 0:l.options)||void 0===u?void 0:u.fmcg_owner)||void 0===p?void 0:p.find((e=>!!e.ads_id));return g?g.ads_id:m?m.ads_id:h?h.ads_id:f?f.ads_id:void 0}function p(e){let t=e.lon%360,s=e.lat%180;return t<-180?t+=360:t>180&&(t-=360),s<-90?s+=180:s>90&&(s-=180),{lon:t,lat:s}}},58171:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});const r=["#007AFF","#388C4D","#A84CA8","#BA5D00","#F23037"];function i(e=function(){return Math.random()*r.length}()){return r[Math.floor(e)%r.length]}},69935:(e,t,s)=>{"use strict";function r(e){var t,s,r;if("branch"!==e.type)return;const i=null===(r=null===(s=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here)||void 0===r?void 0:r.find((e=>!!e.is_primary&&!e.videos&&!e.images));return i?{adsBuyHere:i,adsPosition:"buyHere"}:void 0}s.d(t,{d:()=>r})},50951:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var r=s(59954);function i(e,t){return e&&"0"!==e?e:t&&"0"!==t?t:r.T_}},71483:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(82393);function i(e){return function(e){var t,s,i,a;const n=null===(s=null===(t=e.data.region.detector.default)||void 0===t?void 0:t.data)||void 0===s?void 0:s.id,o=n?null===(a=null===(i=e.data.settlements.default)||void 0===i?void 0:i.data)||void 0===a?void 0:a[n]:void 0;if(!o)return;const c=(0,r.n$)(e);return c&&function(e,t){return e.alias===t.uri_code||e.alias===t.code}(o,c)?void 0:o.id}(e)?void 0:(0,r.MJ)(e)}},46645:(e,t,s)=>{"use strict";s.d(t,{j:()=>n});var r=s(63628),i=s(80905);const a={name:"Премия 2ГИС 2022"};function n({state:e,frameId:t}){const s=(0,i.w1)(e.appContext.frames,t);if(s&&(0,r.C)({state:e,frame:s}))return a}},23253:(e,t,s)=>{"use strict";function r(){return"9999"+(Math.random()*Math.pow(10,12)).toFixed(0)}s.d(t,{r:()=>r})},73865:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(80905);function i(e){var t;return null===(t=(0,r.bB)(e.appContext.frames,"realtyCard"))||void 0===t?void 0:t.buildingId}},47128:(e,t,s)=>{"use strict";function r(e,t){var s;return!(!e||!t.has(e.name)&&!(null===(s=e.admDiv)||void 0===s?void 0:s.some((({name:e})=>t.has(e)))))}s.d(t,{a:()=>r})},83639:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(9126);function i(e){return e&&e.color||(0,r.O)(e&&e.subtype)}},9126:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});const r="#3E7C17",i={suburban_train:r,tram:r,trolleybus:r,metro:r,mcc:r,mcd:r,funicular_railway:r,monorail:r,river_transport:r,cable_car:r,light_rail:r,premetro:r,light_metro:r,bus:"#5D86DD",aeroexpress:"#EB212D",shuttle_bus:"#f2990c"};function a(e){return e?i[e]:r}},45641:(e,t,s)=>{"use strict";function r(e){if(e.from_name&&e.to_name)return`${e.from_name} → ${e.to_name}`}s.d(t,{J:()=>r})},33414:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});const r=()=>({orientation:i(),screenResolution:{width:window.screen.width,height:window.screen.height},windowResolution:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),i=()=>{var e;switch(null===(e=window.screen.orientation)||void 0===e?void 0:e.type){case"landscape-primary":case"landscape-secondary":return"horizontal";case"portrait-secondary":case"portrait-primary":return"vertical";default:return window.screen.height>window.screen.width?"vertical":"horizontal"}}},38900:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(64099),i=s(8951);function a(e,t,s){if(!(0,i.F)(e,t,s))return;let a=r.Ej.searchBarWrapperHeight;switch(e.type){case"search":"inbuilding"===e.searchType&&(a+=16);break;case"product":a+=16}return a}},74786:(e,t,s)=>{"use strict";s.d(t,{MV:()=>i});const r=["rubric","meta_rubric","attribute","attribute.synthetic"],i=e=>{if(!e||!e.length)return;const t=e.filter((e=>r.includes(e.table_name)));let s,i,a="";const n=(e=>{if(e.length<=10)return e.length;const t=e.slice(10,e.length>20?20:e.length).findIndex(((t,s)=>t.group!==e[10+s-1].group));return-1!==t?t+10:20})(t);return t.slice(0,n).forEach(((e,t)=>{a+=((e,t,s)=>void 0!==e.group&&e.group!==s?`${0!==t?";":""}${e.group}:`:"")(e,t,s),s!==e.group&&(s=e.group,i=void 0),a+=((e,t)=>{if(t&&e.table_name&&e.table_name===t)return",";let s="";switch(e.table_name){case"meta_rubric":s="m";break;case"attribute":s="a";break;case"attribute.synthetic":s="sa";break;default:s="r"}return`${t?"&":""}${s}=`})(e,i),i=e.table_name,a+=e.record_id})),a}},73035:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var r=s(53157),i=s(31098);function a(e,{tp:t,config:s}){return"market"===e.type?(0,i.s)({tp:t,config:s},e):"attribute"===(e.entity&&e.entity.type)?function(e){var t;const s=(("object"===e.type?null===(t=null==e?void 0:e.search_attributes)||void 0===t?void 0:t.suggested_text:e.text)||"").toLowerCase(),i=(e.entity&&"attribute"===e.entity.type&&e.entity.extend&&e.entity.extend.search_name||"").toLowerCase();return s.includes(i)?(0,r.ND)(s):i.includes(s)?(0,r.ND)(i):(0,r.ND)(`${s} (${i})`)}(e):(0,i.s)({tp:t,config:s},e)}},7540:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});const r=e=>{const{locale:t,region_id:s,segment_id:r}=e;if(!t)return;if(!s&&!r)return;const i="0"===s?r:s;return i?{baseLocale:t,segmentId:i}:void 0}},15937:(e,t,s)=>{"use strict";function r(e){return e<=0?0:"undefined"!=typeof window?Math.ceil(window.screen.height/e):0}s.d(t,{H:()=>r})},823:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(49109);function i(e){const t=(0,r.yj)(e);switch(t&&t.tab){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian"}return"default"}},34406:(e,t,s)=>{"use strict";function r(e,t,s){var r,i;switch(e.type){case"crash":if(!e.lanes)return;return e.lanes.map((e=>{switch(e){case"center":return t._t("Средний ряд.");case"left":return t._t("Левый ряд.");case"right":return t._t("Правый ряд.")}})).join(" ");case"camera":{const a=null===(r=e.data)||void 0===r?void 0:r.speed,n=new Set(null===(i=e.data)||void 0===i?void 0:i.violation);if(!n||n.size<2)return;const o=[1,9,10,11,4,2].reduce(((e,s)=>{if(!n.has(s))return e;switch(s){case 1:return a?[...e,t._t("%1 км/ч",[a])]:e;case 9:return a?[...e,t._t("среднюю скорость %1 км/ч",[a])]:e;case 10:return[...e,t._t("остановку")];case 11:return[...e,t._t("разметку")];case 4:return[...e,t._t("полосу ОТ")];case 2:return[...e,t._t("перекресток")];default:return e}}),[]);if(0===o.length)return;return t._t("Камера на %1",[o.join(s.comma+" ")])}}}s.d(t,{a:()=>r})},47425:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(74867);function i(e,t){switch(e.type){case"crash":return t._pt("tUgcType","ДТП");case"camera":return function(e,t){var s,i,a;const n=1===new Set(null===(s=e.data)||void 0===s?void 0:s.violation).size?(0,r.e)(e):"camera",o=null===(i=e.data)||void 0===i?void 0:i.speed,c=null===(a=e.data)||void 0===a?void 0:a.violation;return n===`camera-${o}`&&(null==c?void 0:c.includes(1))?t._t("Камера на %1 км/ч",[o]):n===`camera-${o}`&&(null==c?void 0:c.includes(9))?t._t("Камера средней скорости на %1 км/ч",[o]):"camera-parking"===n?t._t("Камера контроля остановки"):"camera-line"===n?t._t("Камера контроля разметки"):"camera-bus"===n?t._t("Камера контроля полосы общественного транспорта"):"camera-tl"===n?t._t("Камера контроля перекрестка"):t._pt("tUgcType","Камера")}(e,t);case"roadwork":return t._pt("tUgcType","Дорожные работы");case"restriction":return t._pt("tUgcType","Перекрытие");case"comment":return t._pt("tUgcType","Сообщение на карте");case"other":return t._pt("tUgcType","Прочее")}}},20487:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(41411),i=s(59620);function a(e){var t,s,a;const{entity:n,format:o,ctx:{tp:c,dateFns:d}}=e;if(!(0,i.a)(n))return;if((0,i.k)(n))return"long"===o?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании."):c._t("Филиал временно не работает");const l=null===(s=null===(t=n.flags)||void 0===t?void 0:t.temporary_closed_parameters)||void 0===s?void 0:s.value,u=l?(0,r.l)({isoDate:l,currentDate:new Date,onlyDate:!0},{tp:c,dateFns:d}):void 0;switch(null===(a=n.flags)||void 0===a?void 0:a.temporary_closed){case"unknown":return"short"===o?c._t("Филиал временно не работает"):u?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе %1",[u]):c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании.");case"opening_soon":return"short"===o?c._t("Скоро открытие"):u?c._t("Компания откроет здесь новый офис %1",[u]):c._t("Компания скоро откроет здесь новый офис. Уточняйте информацию у компании.");default:return"short"===o?c._t("Филиал закрыт для посещения"):c._t("Компания закрыла свой офис, но, возможно, предоставляет услуги онлайн или через доставку. Уточните по телефону")}}},49157:(e,t,s)=>{"use strict";function r(e){return"timezone_offset"in e&&e.timezone_offset||0}s.d(t,{T:()=>r})},74639:(e,t,s)=>{"use strict";function r(e){return e.slice(-1).charCodeAt(0)||0}s.d(t,{F:()=>r})},43224:(e,t,s)=>{"use strict";function r(e){const[t,s]=e.split(" ");return t&&s?`${t[0]}${s[0]}`:e[0]}s.d(t,{Y:()=>r})},110:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});const r=e=>{const t=e.match(/(\+|-)?\d\d:\d\d$/);return(null==t?void 0:t[0])||"+00:00"}},15387:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});const r=["open_card","search_by_org","search_by_query","search_by_rubric","phone","order","link","search_buy_here"];function i(e,t,s=r){const i=e.filter((e=>-1!==s.indexOf(e.type)));return i.find((e=>{const s=!!e.platforms&&-1!==e.platforms.indexOf(t),r=!e.platforms||!e.platforms.length;return s||r}))||i[0]}},90408:(e,t,s)=>{"use strict";s.d(t,{m:()=>c});const r=["ae","cl","cz","cy","it"],i={min:2,max:20},a={min:2,max:16},n={min:9,max:20},o={min:9,max:16};function c(e){const{project:t,is3d:s,hasTmpZoomLimits:c}=e;let d=s?i:a,l=0;return c?s?n:o:(t&&(r.includes(t.country_code)&&(d=s?n:o),l=t.zoom_level.max),{min:d.min,max:Math.max(l,d.max)})}},54684:(e,t,s)=>{"use strict";function r(e){return"branch"===e.type&&!(!e.has_goods&&!e.is_promoted)}s.d(t,{Q:()=>r})},61405:(e,t,s)=>{"use strict";function r(e){return e.replace("http://","https://")}s.d(t,{L:()=>r})},93067:(e,t,s)=>{"use strict";function r(e){return e>25}s.d(t,{d:()=>r})},80473:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(35023);function i(e){if(!e)return!1;const t=(0,r.cJ)(e,["options"]);return!(0,r.Im)(t)}},46516:(e,t,s)=>{"use strict";function r(e){return"branch"===e.type}s.d(t,{O:()=>r})},9763:(e,t,s)=>{"use strict";s.d(t,{H:()=>r});const r=e=>"building"===e.type},63312:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});const r=e=>"adm_div"===e.type&&"city"===e.subtype},95530:(e,t,s)=>{"use strict";function r(e){return!("branch"!==e.type||(!e.dates||!e.dates.deleted_at)&&!e.is_deleted)}s.d(t,{k:()=>r})},56688:(e,t,s)=>{"use strict";function r(e){const t="reviews"in e?e.reviews:void 0;return!!t&&!!t.items&&t.items.some((e=>e.is_reviewable))}s.d(t,{E:()=>r})},57838:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});const r=["open_card","search_by_org","search_by_query","search_by_rubric","order","search_buy_here"];function i(e){return-1===r.indexOf(e)}},92585:(e,t,s)=>{"use strict";function r(e){return"entity"===e.type}s.d(t,{n:()=>r})},8951:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});const r=["offer","directions","prices","realty","realtyCard","exchange","friendsList","userPublicProfile","sharingGeo"];function i(e,t,s){if(r.includes(e.type))return!1;if("search"===e.type&&"offers"===e.searchType)return!1;if(!t.isLeftMost)return!1;const{isMobileDevice:i}=s;if(i){if(t.areFiltersOpened)return!1;if("gallery"===e.type)return!1;if("direction"===e.type)return!1}return!0}},81625:(e,t,s)=>{"use strict";function r(e){return"search"===e.type&&"offers"===e.searchType}s.d(t,{D:()=>r})},76666:(e,t,s)=>{"use strict";function r(e){return"search"===e.type&&("buyHere"===e.searchType||"fmcg"===e.searchType)}s.d(t,{A:()=>r})},33920:(e,t,s)=>{"use strict";function r(e){return!!e&&"search"===e.type&&"filials"===e.searchType}s.d(t,{a:()=>r})},35781:(e,t,s)=>{"use strict";function r(e){return!!e&&"search"===e.type&&"inbuilding"===e.searchType}s.d(t,{h:()=>r})},18396:(e,t,s)=>{"use strict";function r(e){return!!e&&"search"===e.type&&"query"===e.searchType}s.d(t,{O:()=>r})},56009:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(86542);function i(e){return(0,r.a)(e.type)}},86542:(e,t,s)=>{"use strict";function r(e){switch(e){case"branch":case"station":case"station_entrance":case"station_platform":case"route":return!1;default:return!0}}s.d(t,{a:()=>r})},27783:(e,t,s)=>{"use strict";function r(e){return e<6}s.d(t,{b:()=>r})},47422:(e,t,s)=>{"use strict";function r(e){return"address"in e&&!!e.address&&!!e.address.components&&1===e.address.components.length&&"location"===e.address.components[0].type}s.d(t,{m:()=>r})},6458:(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var r=s(47054),i=s(62279);function a(e,t){switch(e){case"mcc":case"mcd":case"metro":case"premetro":case"light_metro":return!0;default:return(0,r.C)(t)||(0,i.v)(t)}}},25415:(e,t,s)=>{"use strict";function r(e){return"group"in e&&!!e.group&&!!e.group.length}s.d(t,{v:()=>r})},29203:(e,t,s)=>{"use strict";s.d(t,{z:()=>r});const r=({point:e,viewpoint:t,margin:s})=>{const[r,i]=t,a=(i.lon-r.lon)*(s/100),n=(r.lat-i.lat)*(s/100),o=e.lon>r.lon+a&&e.lon<i.lon-a,c=e.lat<r.lat-n&&e.lat>i.lat+n;return o&&c}},68871:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});const r=e=>!(!e||e.temporary)},38024:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"station":case"station_entrance":case"station_platform":return!0;default:return!1}}s.d(t,{g:()=>r})},59620:(e,t,s)=>{"use strict";function r(e){var t;return!!i(e)||!!(null===(t=e.flags)||void 0===t?void 0:t.temporary_closed)}function i(e){return"temporary_unavailable_atm_services"in e&&!!e.temporary_unavailable_atm_services}s.d(t,{a:()=>r,k:()=>i})},56841:(e,t,s)=>{"use strict";function r(e){return!!e&&/\S+@\S+\.\S+/.test(e)}s.d(t,{B:()=>r})},29711:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(98638);function i(e){const t=(0,r.G)(e);return!(!(null==t?void 0:t.work_time)&&"firm_is_open"!==(null==t?void 0:t.options))}},82664:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});const r={az:"2GIS",uz:"2GIS",am:"2GIS",ru:"2ГИС"};function i(e,t,s){if("urbi"===s)return"Urbi";switch(e){case"AE":case"SA":case"IQ":case"EG":case"OM":case"BH":case"QA":case"KW":return"Urbi";case"CL":case"CY":case"CZ":case"IT":return"2GIS Local Search Limited";default:return r[t]||r.ru}}},47070:(e,t,s)=>{"use strict";function r(e){return e.join(" · ")}s.d(t,{K:()=>r})},29908:(e,t,s)=>{"use strict";function r(e,t){if(!e||!t)return;const{floorNames:s,firmsToFloorIndexMap:r}=e,i=s.map((()=>[]));return Object.keys(r).forEach((e=>{const s=t.indexHashMap[e];if(void 0!==s){const a=r[e];i[a].push({index:s,point:t.markers[s].lonLat})}})),i}s.d(t,{k:()=>r})},17426:(e,t,s)=>{"use strict";s.d(t,{J:()=>r});const r=(e,t)=>{const s=e.lat*Math.PI/180,r=t.lat*Math.PI/180,i=(t.lon-e.lon)*Math.PI/180;return 6371e3*Math.acos(Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(i))}},7717:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(73158),i=s(99259);function a(e){const{marker:t,iconType:s,icon:a,state:n,size:o,offset:c,inRubricIconExperiment:d,isBrandColorMarker:l}=e,u=a&&(0,r.uN)(a);if(!u)return;const p=t.friends?i.T.green_1ba136:l?null===(g=null===(m=t.ads)||void 0===m?void 0:m.options)||void 0===g?void 0:g.color:void 0;var m,g;return{img:t.logo_url,transformer:(0,r.KJ)({iconType:s,icon:u,imageUrl:t.logo_url,state:n,rubric:d?t.rubr:void 0,color:p}),size:o,offset:c}}},54700:(e,t,s)=>{"use strict";function r(e,t,s){const r=["bigbullet","middlebullet","smallbullet"].reduce(((r,i)=>{var a,n;const o=null===(a=e[i])||void 0===a?void 0:a[t],c=null===(n=e[i])||void 0===n?void 0:n[s];return o&&(r[i]=Object.assign({normal:o},c&&{hover:c})),r}),{});return Object.keys(r).length>0?r:void 0}s.d(t,{R:()=>r})},26530:(e,t,s)=>{"use strict";s.d(t,{J:()=>a,j:()=>i});var r=s(7717);const i=["normal","hover"];function a(e){const{marker:t,styles:s,iconType:a,isBrandColorMarker:n}=e;return i.reduce(((e,i)=>{var o,c,d;return e[i]=(0,r.Y)({marker:t,iconType:a,icon:null===(o=s[i])||void 0===o?void 0:o.img,size:null===(c=s[i])||void 0===c?void 0:c.size,offset:null===(d=s[i])||void 0===d?void 0:d.offset,state:i,isBrandColorMarker:n}),e}),{})}},88032:(e,t,s)=>{"use strict";s.d(t,{E6:()=>n,h0:()=>o,j$:()=>a});var r=s(26530),i=s(7717);const a={164:"cafe",161:"coffee",166:"coffee",112430:"coffee",111593:"coffee",15791:"sushi",112658:"candy",16677:"candy",111594:"candy",165:"fastfood",159:"bar",52248:"bar",162:"coffe_to_go",112656:"coffe_to_go",58871:"coffe_to_go",112719:"coffe_to_go",51459:"pizza"},n=["commercial","bigbullet"];function o(e){const{marker:t,icons:s}=e;if(!s||!t.rubr)return;const o=s[a[t.rubr]];if(!o)return;const c=n.reduce(((e,s)=>{const a=r.j.reduce(((e,r)=>{var a,n,c;return e[r]=(0,i.Y)({marker:t,icon:null===(a=o[`${s}_${r}`])||void 0===a?void 0:a.img,state:r,size:null===(n=o[`${s}_${r}`])||void 0===n?void 0:n.size,offset:null===(c=o[`${s}_${r}`])||void 0===c?void 0:c.offset,inRubricIconExperiment:!0}),e}),{});return a.normal&&(e[s]=a),e}),{});return Object.keys(c).length>0?c:void 0}},21329:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(88032);function i(e,t){var s,i;const a=r.E6.includes(e.currentType),n=!!e.icon,o=!!(null===(i=null===(s=t.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.marker_logo),c=t.rubr?r.j$[t.rubr]:void 0;return a&&n&&!o?c:void 0}},22758:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});var r=s(90809),i=s(36586);function a(e){let t=0,s=0;for(const r of e){const e=n(r);t=Math.max(t,e.width),s+=e.height}return{width:t,height:s}}function n(e){const{width:t,lineCount:s}=c(e),i=o(e)*s;return{width:s>1?r.g:t,height:i}}const o=e=>{var t;switch(null===(t=e[0])||void 0===t?void 0:t.type){case"name":return 16;case"exchange":return 16;case"link":case"order":return 22;default:return 13}},c=e=>{let t=0,s=1;for(const a of e){const n="name"===a.type||"exchange"===a.type?"font13":"font11",o=(0,i.Q)(a.text,n);let c=o.width;if("rating"===a.type&&(c+=12),"link"!==a.type&&"order"!==a.type||(c+=16),1===e.length){t=c,s=o.lines;break}t>0&&(c+=14),t+=c,t>r.g&&(t=c,s++)}return{width:t,lineCount:s}}},36586:(e,t,s)=>{"use strict";s.d(t,{Q:()=>a});var r=s(90809);const i={font10:{2:" ij",3:":,.!lI",4:"-гтfrtJ",5:"₽«»авеёзксухчьэяГЗТaceksvxyzFLST",6:"бдийлнопрцъАБВЕЁКРСУХЧЬЭЯbdghnopquABCEKPRVXYZ0123456789",7:"мфыДИЙЛНОПЦЪDGHNOQU",8:"&amp;—жшщюЫw",9:"%ЖМФШmMW",10:"ЩЮ"},font11:{3:" :,.ijlI",4:"!frJ",5:"-гзстухcstxyz",6:"₽«»абвдеёклнопчъьэяГЕЁЗТaehknouvEFLSTYZ0123456789",7:"ийрцАБВДКЛРСУХЧЪЬЭЯbdgpqABCGKPRVX",8:"жмфыИЙНОПЦDHNOQU",9:"&amp;—шщюМЫwM",10:"%ЖФШmW",11:"ЩЮ"},font13:{3:" ij",4:":,.!lI",5:"frJ",6:"-гзстcstz",7:"₽«»авеёклухчьэяГЕЁЗТaekvxyEFLSTZ0123456789",8:"бдийнопрцъАБВРСУХЧЬЭЯbdghnopquABCPRVXY",9:"мыДКЛЪDGKU",10:"жфИЙНОПЦwHNOQ",11:"&amp;—шщюМФЫmM",12:"%ЖШW",13:"ЩЮ"},font13b:{3:" ,.ijlI",4:":!-frt",5:"г",6:"₽зтz",7:"«»абвеёийкнопрсухцчьэяГТabcdeghknopqsuvxyFJLTZ0123456789",8:"длъЕЁЗРУХЧЬEPSVXY",9:"&amp;мАБВДИЙКЛНПСЦЭЯABCDHKNRU",10:"жфшщыюМОФЪwGMOQ",11:"%m",12:"—ЖШЩЫЮW"}};function a(e,t,s=r.g){const a=function(e){const t={};for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s];for(const e of r)t[e]=+s}return t}(i[t]);let n=1,o=0;const c=e.split(" ");return c.forEach(((e,t)=>{t>0&&t!==c.length-1&&(o+=a[" "]);let r=0;for(const t of e)r+=a[t]||5;o+=r,o>s&&(n++,o=r)})),{width:n>1?s:o,lines:n}}},42494:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(99259);function i(e){switch(e){case"almostClosed":return r.T.orange_ff8800;case"closed":return"#B61919"}return r.T.green_299400}},16205:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(15387);const i=e=>{var t,s;const i=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.actions;if(i)return(0,r.H)(i,"online",["link","order"])}},90809:(e,t,s)=>{"use strict";s.d(t,{g:()=>r});const r=190},35079:(e,t,s)=>{"use strict";s.d(t,{F:()=>d,l:()=>a});var r=s(40301),i=s(99259);const a={passage:"#0f6ec1",walkway:"#626262",crossing:"#626262",default:"#0f6ec1",inactive:"#99aabb",border:"#ffffff",border2:(0,r.F)(i.T.gray_141414,1),"pedestrian-underground":"#626262"},n={img:s(44258).A,size:[22,22],offset:[11,11]},o={img:s(49185).A,size:[18,18],offset:[9,9]},c=(e,t)=>({color:t[e],hoveredColor:(0,r.F)(t[e],.8),borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),d=e=>({lineStylesByZoom:{14:{passage:{width:5.73,borderWidth:3,border2Width:.5},walkway:{width:4,borderWidth:2,border2Width:.5},crossing:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5},"pedestrian-underground":{width:4,borderWidth:2,border2Width:.5}},20:{passage:{width:10.5,borderWidth:5.5,border2Width:.8},walkway:{width:5.5,borderWidth:3,border2Width:.5},crossing:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5},"pedestrian-underground":{width:5.5,borderWidth:3,border2Width:.5}}},lineStyles:{passage:c("passage",e),walkway:c("walkway",e),crossing:c("crossing",e),inactive:c("inactive",e),"pedestrian-underground":c("pedestrian-underground",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}},waypointStyles:{start:n,finish:n,pedestrian:o,bus:n,trolleybus:n,tram:n,shuttle_bus:n,metro:n,suburban_train:n,funicular_railway:n,monorail:n,river_transport:n,cable_car:n,light_rail:n,premetro:n,light_metro:n,aeroexpress:n,mcd:n,mcc:n}})},81338:(e,t,s)=>{"use strict";function r(e,t,s={}){if(e)return!t||!t.result||s.more&&"error"===t.result.meta.status?e:"success"===t.result.meta.status||"error"===t.result.meta.status?t:Object.assign(Object.assign({},e),{result:Object.assign(Object.assign({},e.result),{meta:t.result.meta})})}s.d(t,{u:()=>r})},52973:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(24855);function i(e,t){if(0===e.length)return[t];const s=e.findIndex((e=>e.orgId===t.orgId));return-1===s?[...e,t]:(0,r.H)(e,t,s)}var a=s(28356);function n(e,t,s){const r=(0,a.K)(e.orders,t)||{orgId:t,items:[],createdDate:(new Date).getTime()};return Object.assign(Object.assign({},e),{orders:i(e.orders,s(r))})}},6465:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(35023);const i=(e,t)=>{var s,i,a,n,o,c,d,l,u,p,m,g,h,f;if(200===e.code)return{id:e.id,url:e.url,real_object_type:t.objectType,height:0,width:0,preview_urls:e.preview_urls,copyright:{type:"image",value:"",url:null!==(i=null===(s=e.copyright)||void 0===s?void 0:s.url)&&void 0!==i?i:void 0,code:null!==(n=null===(a=e.copyright)||void 0===a?void 0:a.code)&&void 0!==n?n:"user",icon:null!==(c=null===(o=e.copyright)||void 0===o?void 0:o.icon)&&void 0!==c?c:"",title:(null===(d=e.copyright)||void 0===d?void 0:d.title)||(null===(l=t.user)||void 0===l?void 0:l.display_name)||""},owner:{id:(null===(u=t.user)||void 0===u?void 0:u.user_id)||(null===(p=e.owner)||void 0===p?void 0:p.id)||(0,r.W7)(),name:(null===(m=t.user)||void 0===m?void 0:m.display_name)||(null===(g=e.owner)||void 0===g?void 0:g.name)||"",avatar:(null===(h=t.user)||void 0===h?void 0:h.avatar)||(null===(f=e.owner)||void 0===f?void 0:f.avatar)||""},creation_time:e.creation_time||(new Date).toISOString(),modification_time:e.modification_time||(new Date).toISOString()}}},92448:(e,t,s)=>{"use strict";s.d(t,{$s:()=>n,GB:()=>a,gI:()=>i});var r=s(32065);const i={sale:{categoryId:"70241201812761646",defaultTypeId:"1067258717690367200"},saleCommercial:{categoryId:"70241201812768717"},rent:{categoryId:"70241201812768719",defaultTypeId:"5049376148110570281"},rentCommercial:{categoryId:"70241201812768720"},rentDaily:{categoryId:"70241201813054308"}},a={[i.sale.defaultTypeId]:"Квартира",[i.rent.defaultTypeId]:"Квартира"};function n(e){return(0,r.YD)(i).find((t=>i[t].categoryId===e))}},59321:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(94521);function i(e,t,s){switch(e){case"failRead":return s._t("Ошибка при чтении файла");case"failSize":return s._t("Размер фото слишком большой");case"failFormat":case"failFormatHEIF":const e=(e=>Object.values(r.f).filter((t=>e.test(`image/${t}`))).join(", "))(t.approvedMIMERegExpr);return s._t("Неправильный формат. Мы поддерживаем %1.",[e]);case"failLimit":return s._t("Можно прикрепить не более %1 фотографий",[t.photoCount]);case"smallWidth":return s._t("Ширина фото должна быть не менее %1 px",[t.minWidth]);case"smallHeight":return s._t("Высота фото должна быть не менее %1 px",[t.minHeight]);case"largeWidth":return s._t("Ширина фото должна быть не более %1 px",[t.maxWidth]);case"largeHeight":return s._t("Высота фото должна быть не более %1 px",[t.maxHeight]);case"wide":return s._t("Фото слишком широкое");case"narrow":return s._t("Фото слишком узкое");case"deletedError":return s._t("Ошибка при удалении. Попробуйте снова");case"failServerLimit":return s._t("Вы можете загрузить не более %1 фотографий в карточку",[t.maxDailyPhotoCount]);default:return s._t("Ошибка при загрузке")}}},53769:(e,t,s)=>{"use strict";s.d(t,{V:()=>a});var r=s(98753),i=s(35079);function a(e,t,s){return s?(0,r.H)("pedestrian-underground"):t?i.l.border:e&&"passage"===e.type&&e.outcoming_line&&e.outcoming_line.color?e.outcoming_line.color:(0,r.H)(e&&e.type)}},38695:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(98753);function i(e){const t=(0,r.H)(e.type);return"walkway"===e.type||"crossing"===e.type?e.incoming_line&&e.incoming_line.color||t:"passage"!==e.type?t:e.outcoming_line&&e.outcoming_line.color||t}},16884:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});var r=s(4340),i=s(48304);function a(){r.IG.local.removeItem(i.R)}},48304:(e,t,s)=>{"use strict";s.d(t,{R:()=>i,a:()=>a});var r=s(4340);const i="savedReview";function a(e){r.IG.local.setItem(i,JSON.stringify(e))}},18006:(e,t,s)=>{"use strict";s.d(t,{f:()=>a});var r=s(57786),i=s(12441);function a(e,t){const s=(0,i.BS)(e,(0,i.lN)(t));return s?s.type===r.XU.opened||s.type===r.XU.aroundTheClock?"open":s.type===r.XU.willCloseInMinute||s.type===r.XU.willCloseInMinuteForBreak||s.type===r.XU.willCloseInTime||s.type===r.XU.willCloseInTimeForBreak?"almostClosed":"closed":"closed"}},25877:(e,t,s)=>{"use strict";function r(e,t){return void 0===t.width&&void 0!==t.height?e.replace("{height}",t.height.toString()).replace("w={width}","").replace("&",""):void 0!==t.width&&void 0===t.height?e.replace("{width}",t.width.toString()).replace("h={height}","").replace("&",""):void 0!==t.width&&void 0!==t.height?e.replace("{width}",t.width.toString()).replace("{height}",t.height.toString()):e.replace("h={height}","").replace("w={width}","").replace("&","").replace("?","")}s.d(t,{$:()=>r})},26428:(e,t,s)=>{"use strict";function r(e){var t,s;return!!(null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.branded_advertiser)}s.d(t,{S:()=>r})},73861:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(80690);function i(e,t){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,`$1${t&&t.isBreakable?" ":r.aY}`)}r.aY},67806:(e,t,s)=>{"use strict";s.d(t,{W:()=>a});var r=s(19945),i=s(56964);function a(e,t){const s=t.addressSeparator+" ";switch(e.type){case"branch":case"building":if(e.address)return(0,r.U6)(e.type,e.address,{order:(0,i.t)(t),separator:t.addressSeparator,useSingleComponentForBranch:!1,useBuildingNameForBranch:"branch"===e.type&&!e.group}).map((e=>e.value)).join(s)}}},36366:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(35023),i=s(31098);function a(e,t,s){var a,n;const o=null===(a=e.name_ex)||void 0===a?void 0:a.extension;return[e.name_ex&&o?(null===(n=e.name_ex)||void 0===n?void 0:n.primary)+t+o:e.name,(0,i.U)(s,e)].filter(r.t2).join(t)}},86824:(e,t,s)=>{"use strict";s.d(t,{M:()=>m,W:()=>h});var r=s(31098),i=s(36366),a=s(61200),n=s(67806),o=s(45801),c=s(47422),d=s(34070),l=s(24880),u=s(35023),p=s(80690);function m(e,t,s){const{includeRegion:r=!0,alwaysIncludeDivision:i,separator:n}=t,o="adm_div"===e.type&&"city"===e.subtype,c="adm_div"===e.type||i;let l=e.adm_div&&(0,a.ue)(e.adm_div,{includeDivision:c,includeRegion:r,excludeLivingAreaAndDistrict:!0,separator:n,entityFlags:"flags"in e?e.flags:void 0});if(!o||!l||e.name!==l){if("subtype"in e&&"settlement"===e.subtype&&s){const t=(0,d.Mk)(e,s)[0];l=t?`${t}${n}${l}`:l}return l||void 0}}function g(e,t){var s,r,d,g;const{config:h,tp:f,showDrilldown:b}=t,v=h.addressSeparator+" ";if("market"===e.type)return;if(!e.entity)return;const y={alwaysIncludeDivision:h.alwaysIncludeDivisionInDrilldown,separator:v},x="search_attributes"in e&&!!(null===(s=e.search_attributes)||void 0===s?void 0:s.dgis_found_by_address),{entity:j}=e;switch(j.type){case"street":case"adm_div":return m(j,y,f);case"attraction":return j.adm_div?(0,a.OM)(j.adm_div)[0].name:void 0;case"branch":return x?(0,i.A)(j,v,f):[(0,n.W)(j,h),b&&!(0,c.m)(j)&&m(j,Object.assign(Object.assign({},y),{includeRegion:!1}))].filter((e=>!!e)).join(v);case"building":return x?j.building_name||[(0,n.W)(j,h),m(j,y)].filter((e=>!!e)).join(v)||j.name:j.building_name?[(0,n.W)(j,h),m(j,y)].filter((e=>!!e)).join(v):m(j,y);case"station":return"metro"===j.subtype?j.routes&&j.routes[0]&&j.routes[0].name:m(j,y);case"route":const t=(null===(r=j.adm_div)||void 0===r?void 0:r.length)?j.adm_div[0].name:void 0;return j.from_name&&j.to_name?t?`${j.from_name} – ${j.to_name} • ${t}`:`${j.from_name} – ${j.to_name}`:t;case"rubric":case"metarubric":const s=(0,o.x)(e),w=j.name,_=(null!==(d=j.branch_count)&&void 0!==d?d:0)+(null!==(g=j.geo_count)&&void 0!==g?g:0),C=_?f._nt(["%% филиал","%% филиала","%% филиалов"],_):void 0,I=(_&&j.geo_count?f._nt(["%% место","%% места","%% мест"],_):void 0)||C,k=s&&w.toLowerCase()!==s.toLowerCase()?w:void 0,O=p.aY+"•"+p.aY;return I||k?`${null!=I?I:""}${I&&k?O:""}${null!=k?k:""}`:void 0;case"attribute":const{subcode_label:S,category_label:T}=j.extend||{},{suggested_text:E}="object"===e.type&&e.search_attributes||{};return S&&E&&!S.toLowerCase().includes(E.toLowerCase())&&!E.toLowerCase().includes(S.toLowerCase())?E:T;case"org":const M=b?m(j,Object.assign(Object.assign({},y),{includeRegion:!1})):void 0;return[f._nt(["%% филиал","%% филиала","%% филиалов"],j.org&&j.org.branch_count||0),M].filter(u.t2).join(v);case"road":return;case"kilometer_road_sign":return(0,l.m)(j,f)}}function h({tp:e,config:t,showDrilldown:s=!0},i){return{name:(0,r.s)({tp:e,config:t},i),hint:g(i,{tp:e,config:t,showDrilldown:s})}}},45801:(e,t,s)=>{"use strict";function r(e){var t,s;return"search_attributes"in e&&(null===(t=e.search_attributes)||void 0===t?void 0:t.suggested_text)?null===(s=e.search_attributes)||void 0===s?void 0:s.suggested_text:void 0}s.d(t,{x:()=>r})},31098:(e,t,s)=>{"use strict";s.d(t,{U:()=>l,s:()=>u});var r=s(35023),i=s(53157),a=s(45801),n=s(67806),o=s(36366),c=s(24880),d=s(79658);function l(e,t){switch(t.type){case"street":return e._t("улица");case"road":return e._t("дорога");case"station":switch(t.subtype){case"railway":return e._t("станция");case"metro":return""}return e._t("остановка");case"route":return function(e,t){if("metro"===t)return"";const s={bus:e._t("автобус"),trolleybus:e._t("троллейбус"),tram:e._t("трамвай"),shuttle_bus:e._t("маршрутное такси"),suburban_train:e._t("электричка"),funicular_railway:e._t("фуникулер"),monorail:e._t("монорельсовая дорога"),river_transport:e._t("водный транспорт"),cable_car:e._t("канатная дорога"),light_rail:e._t("скоростной трамвай"),premetro:e._t("метротрам"),light_metro:e._t("лёгкое метро")};return t&&s[t]||e._t("маршрут")}(e,t.subtype)}return"adm_div"===t.type&&"district"===t.subtype?e._t("район"):""}function u({tp:e,config:t},s){var u;if("history"===s.type&&s.text)return s.text;const p=(0,a.x)(s)||"";if("market"===s.type)return s.name||p;const{entity:m}=s;if(!m)return p;const g="search_attributes"in s&&!!(null===(u=s.search_attributes)||void 0===u?void 0:u.dgis_found_by_address),h=t.comma+" ";let f;switch(m.type){case"adm_div":case"station":f=[m.name,l(e,m)].filter(r.t2).join(h);break;case"parking":f=m.name;break;case"branch":f=g&&(0,n.W)(m,t)||(0,o.A)(m,h,e);break;case"rubric":case"street":f=m.name&&p&&p.toLowerCase()!==m.name.toLowerCase()?p:m.name;break;case"attraction":f=(0,d.q)(m.name,m.subtype_name);break;case"building":f=g?(0,n.W)(m,t)||m.name:m.building_name||(0,n.W)(m,t)||m.name;break;case"road":case"route":f=[(0,i.ND)(l(e,m)),m.name].filter(r.t2).join(" ");break;case"attribute":f=m.extend&&m.extend.search_name&&!p.toLowerCase().includes(m.extend.search_name.toLowerCase())?m.extend.search_name:void 0;break;case"directory":f=(0,i.ND)(p);break;case"org":f=function(e,t){if(!e.name_ex||!e.name_ex.primary)return e.name;if(e.name_ex.extension)return[e.name_ex.primary,e.name_ex.extension].join(t);const s=e.rubrics&&e.rubrics[0]&&e.rubrics[0].name;return s?[e.name_ex.primary,(0,i.wz)(s)].join(t):e.name_ex.primary}(m,h);break;case"kilometer_road_sign":f=(0,c.m)(m,e)}return f||p}},64425:(e,t,s)=>{"use strict";function r(e){return!("object"!==e.type||!e.search_attributes)&&3===e.search_attributes.handling_type}s.d(t,{p:()=>r})},16510:(e,t,s)=>{"use strict";function r(e,t){const s=e.floors&&e.floors.ground_count;if(s)return t._nt(["%%&nbsp;этаж","%%&nbsp;этажа","%%&nbsp;этажей"],s)}s.d(t,{i:()=>r})},91684:(e,t,s)=>{"use strict";function r(e,t){switch(e){case"bus":return t._t("Автобус");case"suburban_train":return t._t("Электричка");case"trolleybus":return t._t("Троллейбус");case"tram":return t._t("Трамвай");case"shuttle_bus":return t._t("Маршрутка");case"metro":return t._t("Метро");case"river_transport":return t._t("Водный транспорт");case"funicular_railway":return t._t("Фуникулер");case"monorail":return t._t("Монорельс");case"cable_car":return t._t("Канатная дорога");case"light_rail":return t._t("Скоростной трамвай");case"premetro":return t._t("Метротрам");case"light_metro":return t._t("Лёгкое метро");case"aeroexpress":return t._t("Аэроэкспресс");case"mcc":return t._gg("МЦК");case"mcd":return t._gg("Московский центральный диаметр");default:return t._t("Транспорт")}}s.d(t,{w:()=>r})},79495:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(96342);const i=e=>{const{dayItem:t,tp:s,dateFns:i,is12h:a}=e,{start_hour:n,start_minute:o,finish_hour:c,finish_minute:d}=t,l=(0,r.u2)(n),u=(0,r.u2)(o),p=(0,r.u2)(c),m=(0,r.u2)(d),g=new Date(0,0,0,Number(l),Number(u),0,0),h=new Date(0,0,0,Number(p),Number(m),0,0),f=i.format(g,a?"hh:mm aaaa":"HH:mm"),b=i.format(h,a?"hh:mm aaaa":"HH:mm");return s._pt("Временной период","%1 - %2",[f,b])},a=e=>{const{wdays:t,tp:s,dateFns:r,is12h:a}=e,n=[],o=(e=>{for(let t=1;t<e.length;t++)if(e[t].start_hour!==e[t-1].start_hour||e[t].start_minute!==e[t-1].start_minute||e[t].finish_hour!==e[t-1].finish_hour||e[t].finish_minute!==e[t-1].finish_minute)return!1;return!0})(t);return o?i({dayItem:t[0],tp:s,dateFns:r,is12h:a}):(t.forEach((e=>{const t=((e,t,s,r)=>{const a=i({dayItem:e,tp:t,dateFns:s,is12h:r}),n=(e=>{const{day:t,tp:s}=e;switch(t){case"sun":return s._t("Вс");case"mon":return s._t("Пн");case"tue":return s._t("Вт");case"wed":return s._t("Ср");case"thu":return s._t("Чт");case"fri":return s._t("Пт");case"sat":return s._t("Сб");default:return}})({day:e.day,tp:t});return t._pt("Временной период","%1. - %2",[n,a])})(e,s,r,a);n.push(t)})),n.join("; "))};var n=s(10330);const o=e=>{var t,s,r;const{event:i,dateFns:o,tp:c,is12h:d,offset:l}=e;return"restriction"===i.type?(e=>{const{startTime:t,finishTime:s,dateFns:r,wdays:i,tp:o,is12h:c,offset:d}=e;let l;const u=(e,t)=>r.format((0,n.F)(1e3*e,t),"d MMMM yyyy HH:mm");if(t&&s){const e=u(t,d),r=u(s,d);l=o._t("%1 – %2",[e,r])}if(t&&!s){const e=u(t,d);l=o._t("С %1",[e])}if(!t&&s){const e=u(s,d);l=o._t("По %1",[e])}const p=(null==i?void 0:i.length)?a({wdays:i,tp:o,dateFns:r,is12h:c}):void 0;return p&&l?o._pt("Временной период","%1: %2",[l,p]):p||l})({startTime:null===(t=i.data)||void 0===t?void 0:t.start_time,finishTime:null===(s=i.data)||void 0===s?void 0:s.finish_time,wdays:null===(r=i.data)||void 0===r?void 0:r.wdays,dateFns:o,tp:c,is12h:d,offset:l}):function(e,t){const s=new Date,r=new Date(e);return+s-e<864e5?t.formatDistanceStrict(r,s,{addSuffix:!0}):t.format(r,"d MMMM yyyy")}(1e3*i.timestamp,o)};function c(e,t,s,r,i){const a="2gis"===e.user.id?r.brandName:e.user.name,n=[],c=o({event:e,dateFns:s,tp:t,is12h:r.is12h,offset:i});return c&&n.push(c),a&&n.push(a),n.join(`${r.comma} `)}},63854:(e,t,s)=>{"use strict";function r(e,t="2gis"){if("urbi"===t)switch(e){case"com":case"sa":return"http://localhost/1stechmap";case"iq":return"urbi-iq.com";case"eg":return"urbi-eg.com";case"om":return"urbi-om.com";case"qa":return"urbi.qa";case"bh":return"urbi.bh";case"kw":return"urbi-kw.com";case"ma":return"urbi.ma";case"ae":return"maps.urbi.ae";default:return`2gis.${e}`}return`2gis.${e}`}s.d(t,{e:()=>r})},60663:(e,t,s)=>{"use strict";s.d(t,{S:()=>o,p:()=>c});var r=s(333),i=s(81339),a=s(63854),n=s(35023);const o=["branch","branchMenu","branchPrices","branchPricesMenu","firm","geo","building","attraction","gate","street","road","crossroad","place","region","district","districtArea","district_area","livingArea","living_area","division","city","settlement","country","adm_div","parking","station","stationPlatform","station_platform","stationEntrance","station_entrance","stop","metro","route","exchange","kilometer_road_sign","geolocation"];function c(e){if("custom"===e.type)return e.url;const t=function(e){switch(e.type){case"branch":return[{type:"firm",entityId:e.id,tab:e.tab}];case"branchPrices":case"branchPricesMenu":return[{type:"firm",entityId:e.id,tab:"prices"}];case"geo":case"building":case"attraction":case"gate":case"street":case"road":case"crossroad":case"place":case"region":case"district":case"districtArea":case"district_area":case"livingArea":case"living_area":case"division":case"city":case"adm_div":case"parking":return[{type:"geo",entityId:e.id,tab:e.tab}];case"point":return[{type:"geo",point:e.point}];case"station":case"stop":case"metro":return[{type:"station",entityId:e.id,tab:e.tab}];case"stationEntrance":case"station_entrance":return[{type:"stationEntrance",entityId:e.id,tab:e.tab}];case"stationPlatform":case"station_platform":return[{type:"platform",entityId:e.id,tab:e.tab}];case"route":return[{type:"route",entityId:e.id,tab:e.tab}];case"buildingServices":return[{type:e.slugType,entityId:e.id,tab:"services"}];case"buildingProviders":return[{type:e.slugType,entityId:e.id,tab:"providers"}];case"inBuildingBranches":return[{type:e.slugType,entityId:e.id,tab:"inside"}];case"organizationBranches":return[{type:"branches",orgId:e.id,filters:"filters"in e?e.filters:void 0}];case"product":return[{type:"product",productId:e.id}];case"catalogSearch":case"awards2gis":return[{type:"search",query:e.query,rubricId:e.rubricId,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"branchOffers":return[{type:"prices",branchId:e.branchId,categoryId:e.categoryId},{type:"offers",query:e.query,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"directions":return[{type:"directions",tab:e.tab,points:e.points}];case"metroLayer":case"metroLayerMoscow":case"metroScheme":return[{type:"metroScheme",stub:"metro"}];case"gallery":return[{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,i.Z)(e.entityType),entityId:e.entityId,photoId:e.photoId}];case"realty":return[{type:"realty",category:e.category,filters:e.filters,at:e.entityId}];case"realtyRent":return[{type:"realty",category:"rent",filters:e.filters,at:e.entityId}];case"realtyDaily":return[{type:"realty",category:"rentDaily",filters:e.filters,at:e.entityId}];case"realtySaleCommercial":return[{type:"realty",category:"saleCommercial",filters:e.filters,at:e.entityId}];case"realtySales":return[{type:"realty",category:"sale",filters:e.filters,at:e.entityId}];case"realtyAd":return(0,n.oE)([e.category&&{type:"realty",category:e.category,at:e.entityId},{type:"realtyAd",id:e.id,tab:e.tab}]);case"collection":return[{type:"collection",collectionId:e.id}];case"guidebook":return[{type:"guidebook"}];case"interesting":return[{type:"interesting"}];case"award2019":return[{type:"award2019"}];case"project":case"root":return[];case"rubrics":return[{type:"rubrics"}];case"subrubrics":return[{type:"rubrics"},{type:"subrubrics",parentId:e.id}];case"favorites":return[{type:"favorites"}];case"defaultEntity":return e.id?[{type:"geo",entityId:e.id}]:void 0;case"traffic":return[{type:"traffic"}];case"user":return[{type:"user",userId:e.userId}];case"mapfriends":return[{type:"mapfriends",page:e.page,userId:e.userId}];case"tabReviews":return[{type:e.slugType,entityId:e.id,tab:e.tab}];case"friends":return[{type:"friendsList"}];case"immersivePromo":return[{type:"immersivePromo"}];case"directionsRoot":return[{type:"directions"}];default:return}}(e);return t?function(e,t){const{cityAlias:s,lang:i,domain:n,brandCode:o}=e;s&&t.unshift({type:"region",code:s}),i&&t.unshift({type:"lang",lang:i});const c=(0,r.w)(t);return c?n?`https://${(0,a.e)(n,o)}${c}`:c:""}(e,t):void 0}},3135:(e,t,s)=>{"use strict";s.d(t,{R:()=>x,m:()=>j});var r=s(31085),i=s(14041),a=s(14193),n=s(35606),o=s(74182),c=s(35023),d=s(46287),l=s(79594),u=s(80905),p=s(84175),m=s(29094),g=s(536),h=s(82781),f=s(75433),b=s(39123),v=s(88942),y=s(43793);function x(e){const t=function(e){return(0,i.useMemo)((()=>{if((null==e?void 0:e.erid)||(null==e?void 0:e.legalName))return{description:e.description,blocks:[{erid:e.erid,legalName:e.legalName}]}}),[null==e?void 0:e.erid,null==e?void 0:e.legalName,null==e?void 0:e.description])}("banner"===(null==e?void 0:e.source)?e:void 0),s=function(e){const t=(0,b.U)("entity"),s=e?e.entityId||(null==t?void 0:t.entityId):void 0,r=(0,l.d4)((e=>{if(t&&(null==t?void 0:t.entityId)===s)return t.searchId;const r=(0,u.bB)(e.appContext.frames,"gallery");if(r&&r.entityId===s)return r.searchId;const i=(0,u.bB)(e.appContext.frames,"offer")||(0,u.bB)(e.appContext.frames,"prices");if(i&&i.entityId===s)return i.entitySearchId;const a=(0,u.bB)(e.appContext.frames,"search");return a?(0,y.X)(a):void 0})),a=(0,v.t)(s,r),n=(0,l.d4)((e=>(0,f.l)({state:e,dashboardId:(0,o.HX)(e.appContext.weak.dashboard.transitions.rubricsId)}).data));return(0,i.useMemo)((()=>{var e,t,s,r,i,o,c,d,l,u,p,m,g,h;if("branch"!==(null==a?void 0:a.type))return;const f=[],b=({erid:e,legalName:t})=>{const s=f.find((e=>e.legalName===t));s?e&&(s.erid=[...s.erid||[],...e]):f.push({erid:e,legalName:t})};((null===(t=null===(e=null==a?void 0:a.ads)||void 0===e?void 0:e.options)||void 0===t?void 0:t.erid)||(null===(r=null===(s=null==a?void 0:a.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.legal_name))&&b({erid:a.ads.options.erid,legalName:a.ads.options.legal_name}),((null===(c=null===(o=null===(i=null==a?void 0:a.ads)||void 0===i?void 0:i.options)||void 0===o?void 0:o.poi)||void 0===c?void 0:c.erid)||(null===(u=null===(l=null===(d=null==a?void 0:a.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.poi)||void 0===u?void 0:u.legal_name))&&b({erid:a.ads.options.poi.erid,legalName:null===(p=a.ads.options.poi)||void 0===p?void 0:p.legal_name}),(null===(h=null===(g=null===(m=null==a?void 0:a.ads)||void 0===m?void 0:m.options)||void 0===g?void 0:g.fmcg_owner)||void 0===h?void 0:h[0])&&b({erid:a.ads.options.fmcg_owner[0].erid,legalName:a.ads.options.fmcg_owner[0].legal_name});const v=null==n?void 0:n.find((e=>"pseudorubric"===e.type&&(e.owner_id===a.id||e.owner_id===a.org.id)));return"pseudorubric"===(null==v?void 0:v.type)&&((null==v?void 0:v.erid)||(null==v?void 0:v.legal_name))&&b({erid:v.erid,legalName:v.legal_name}),{blocks:f}}),[a,n])}("card"===(null==e?void 0:e.source)?e:void 0),r=function(e){var t,s,r,p,m,g,h,f,v,y,x;const j=e?e.entityId:void 0,w=(0,b.U)("entity"),_=(0,l.d4)((e=>{var t,s,r;const i=w&&(0,d.Tq)({state:e,entityId:w.entityId,searchId:w.searchId}).data;if(w&&i&&j&&(i.id===j||[...(0,a.l)(i),...null!==(r=null===(s=null===(t=i.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.fmcg)&&void 0!==r?r:[]].some((e=>e.branch_id===j))))return w.searchId;const n=(0,u.bB)(e.appContext.frames,"search");switch(null==n?void 0:n.searchType){case"query":return(0,o.HX)(n.tabCatalog.searchId);case"filials":case"buyHere":return(0,o.HX)(n.searchId)}})),C=(0,i.useMemo)((()=>_||(0,c.W7)()),[_]),I=(0,l.d4)((e=>j?(0,d.Tq)({state:e,entityId:j,searchId:C}):void 0)),k=null==I?void 0:I.data,O=(0,l.wA)();(0,i.useEffect)((()=>{var e;j&&!(null===(e=null==I?void 0:I.data)||void 0===e?void 0:e.ads)&&O((0,n.it)({id:j,searchId:C}))}),[O,null===(t=null==I?void 0:I.data)||void 0===t?void 0:t.ads,j,C]);const S=(null==w?void 0:w.entityId)===(null==e?void 0:e.frameEntityId)&&(null==w?void 0:w.isOpenedFromMap)&&(null===(r=null===(s=null==k?void 0:k.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.map_buy_here_owner)?null===(p=k.ads.options.map_buy_here_owner)||void 0===p?void 0:p[0]:(null===(h=null===(g=null===(m=null==k?void 0:k.ads)||void 0===m?void 0:m.options)||void 0===g?void 0:g.buy_here_owner)||void 0===h?void 0:h[0])||(null===(y=null===(v=null===(f=null==k?void 0:k.ads)||void 0===f?void 0:f.options)||void 0===v?void 0:v.fmcg_owner)||void 0===y?void 0:y[0]),T=e?!(null===(x=null==I?void 0:I.meta)||void 0===x?void 0:x.status)||"loading"===I.meta.status:void 0,E=(0,i.useMemo)((()=>T),[]);return(0,i.useMemo)((()=>(null==S?void 0:S.erid)||(null==S?void 0:S.legal_name)?{isLoading:T,wasLoading:E,blocks:[{erid:S.erid,legalName:S.legal_name}]}:{isLoading:T,wasLoading:E}),[T,E,null==S?void 0:S.erid,null==S?void 0:S.legal_name])}("buyHere"===(null==e?void 0:e.source)?e:void 0),p=t||s||r;return(0,i.useMemo)((()=>{var e;const t=null===(e=null==p?void 0:p.blocks)||void 0===e?void 0:e.map((e=>{var t;return Object.assign(Object.assign({},e),{erid:(null===(t=e.erid)||void 0===t?void 0:t.join(", "))||void 0})}));return Object.assign(Object.assign({},p),{erid:null==t?void 0:t.filter((({erid:e})=>!!e)).map((({erid:e})=>e)).join(", "),blocks:t})}),[p])}function j(){const{css:e,s:t}=(0,p.I)(w),s=(0,h.c)(),a=(0,i.createRef)(),n=(0,l.wA)();return{onCopy:(0,i.useCallback)((e=>{if(e.stopPropagation(),!a.current)return;a.current.select(),document.execCommand("copy"),a.current.blur();const t=document.getSelection();t&&t.empty(),n((0,m.D)((0,g.k)({title:s._gg("Скопировано"),message:s._gg("ID скопирован в буфер обмена!")})))}),[]),renderIdInput:(0,i.useCallback)((s=>(0,r.jsx)("input",{ref:a,readOnly:!0,value:s,className:e(t.idInput)})),[])}}const w=(0,p.r)({idInput:{opacity:0,position:"absolute",top:0,start:0,cursor:"default"}})},64631:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(14041);function i({delay:e,onChange:t}={}){const[s,i]=(0,r.useState)("undefined"==typeof window||!document.hidden);return(0,r.useEffect)((()=>{let s;const r=void 0!==e?()=>{document.hidden?s=setTimeout((()=>{s=void 0,null==t||t(),i(!1)}),e):s?clearTimeout(s):(null==t||t(),i(!0))}:()=>{null==t||t(),i(!document.hidden)};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}}),[e,t]),s}},67143:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(79594);function i(e){const t=(0,r.d4)((e=>e.appContext.activeLayer));return"building"===(null==e?void 0:e.type)&&!!e.has_realty&&"realty"!==t}},18887:(e,t,s)=>{"use strict";s.d(t,{P:()=>c});var r=s(60663),i=s(55143),a=s(46287),n=s(52160),o=s(79594);function c(e){const t=(0,o.d4)((t=>{var s,o;const c=e&&r.S.includes(e.type)&&"id"in e?e.id:void 0,d=c?(0,a.DE)({state:t,entityId:c}).data:void 0;return d?(0,i.f)(d)||(null===(o=null===(s=(0,n.b7)({state:t,id:d.region_id}))||void 0===s?void 0:s.data)||void 0===o?void 0:o.uri_code):(0,n.kB)(t)})),s=(0,o.d4)((e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0));return e?(0,r.p)(Object.assign({cityAlias:t,lang:s},e)):void 0}},60822:(e,t,s)=>{"use strict";function r(e){return!e.new_email&&!!e.email&&!e.email_confirmed}function i(e){return!(!e.email&&!e.new_email||!e.new_email||e.new_email===e.email)}s.d(t,{J:()=>i,m:()=>r})},45396:(e,t,s)=>{"use strict";function r(e){var t;return(null===(t=e.match(/(\d+(?:\.\d+)? \d+(?:\.\d+)?)/g))||void 0===t?void 0:t.map((e=>e.split(" ").map(parseFloat))))||[]}s.d(t,{s:()=>r})},56475:(e,t,s)=>{"use strict";s.d(t,{Nd:()=>n,gv:()=>l});var r={};s.r(r),s.d(r,{authorizationButtonElementName:()=>f,notAuthorizedPromoFriendsElementName:()=>g,promoBlockFrameElementName:()=>p,showNotAuthorizedPromoFriends:()=>h,showPromoBlockFrame:()=>m,tapAuthorizationButton:()=>b,tapCloseButton:()=>v});var i={};s.r(i),s.d(i,{authorizedPromoFriendsElementName:()=>j,promoBlockFrameElementName:()=>y,showAuthorizedPromoFriends:()=>w,showPromoBlockFrame:()=>x,tapCloseButton:()=>_});var a={};s.r(a),s.d(a,{actionOnMobilePromoFriends:()=>E,promoBlockElementName:()=>O,promoBlockFrameElementName:()=>I,promoBlockOwnerElementName:()=>S,showMobilePromoFriends:()=>T,showPromoBlockFrame:()=>k});var n={};s.r(n),s.d(n,{PU:()=>r,Xe:()=>i,TS:()=>a});var o=s(27892),c=s(12017),d=s(77847);const l=(0,c.n5)("closeOnboardingPopup",(({withLayer:e})=>(0,c._7)(e&&(0,d.po)({newLayer:void 0}),(0,o.fs)())));var u=s(99906);const p="promoBlockFrame",m=()=>({frameId:e},t)=>(0,u.f_)({state:t,uuid:e,name:p}),g="notAuthorizedPromoFriends",h=()=>({frameId:e})=>({uiElement:{name:g,ownerName:p,frameUuid:e}}),f="authorizationButton",b=()=>({frameId:e})=>({uiElement:{name:f,ownerName:g,frameUuid:e},action:"tap"}),v=()=>({frameId:e})=>({uiElement:{name:g,ownerName:p,frameUuid:e},action:"close"}),y="promoBlockFrame",x=()=>({frameId:e},t)=>(0,u.f_)({state:t,uuid:e,name:y}),j="authorizedPromoFriends",w=()=>({frameId:e})=>({uiElement:{name:j,ownerName:y,frameUuid:e}}),_=()=>({frameId:e})=>({uiElement:{name:j,ownerName:y,frameUuid:e},action:"close"}),C="fullscreenFriendsPopup",I="promoBlockFrame",k=()=>({frameId:e},t)=>(0,u.f_)({state:t,uuid:e,name:I}),O="promoBlock",S="fullScreenBanner",T=()=>({frameId:e})=>({uiElement:{name:O,ownerName:S,frameUuid:e},payload:{promoItem:{id:C,name:"mobilePromoFriends"}}}),E=()=>({frameId:e},t,s)=>{if(null==s?void 0:s.action)return{action:"tap",uiElement:{name:s.action,ownerName:O,frameUuid:e},payload:{promoItem:{id:C,name:"mobilePromoFriends",link:s.link}}}}},90493:(e,t,s)=>{"use strict";s.d(t,{F:()=>we,e:()=>n});var r={};s.r(r);var i={};s.r(i),s.d(i,{generators:()=>R,showUserProfileFeedMediaItem:()=>k,showUserProfileFeedPhoto:()=>M,showUserProfileFeedReviewItem:()=>S,tapUserProfileFeedItemHeader:()=>N,tapUserProfileFeedLikeButton:()=>L,tapUserProfileFeedPhoto:()=>P});var a={};s.r(a),s.d(a,{userProfileFeedMediaItem:()=>H,userProfileFeedResponse:()=>F,userProfileFeedReviewItem:()=>B});var n={};s.r(n),s.d(n,{Types:()=>r,bss:()=>i,changeReviewLike:()=>C,invalidateUserProfileFeedQuery:()=>y,snippets:()=>a,updatePublicProfileFeedCacheAfterLike:()=>_,useUserProfileFeed:()=>v,useUserProfileFeedQuery:()=>d});var o=s(85608),c=s(78170);const{use:d,setQueryData:l,withQueryData:u,invalidate:p}=(0,c.r)("userProfileFeed",(e=>[[e.id,e.page_size,e.locale,e.preview_sizes],({services:t,context:s,config:r})=>(0,o.sH)(void 0,void 0,void 0,(function*(){const i=r.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;return yield t.publicProfileApi.getContentFeed(Object.assign(Object.assign({},e),{accessToken:i,page_token:s.pageParam?`${s.pageParam}`:void 0}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>e.next_page_token});var m=s(79594),g=s(57744),h=s(7335),f=s(33592);const b=[...s(37397).$,"64x64"].join(","),v=e=>{const t=(0,m.d4)(g.u);return d({id:e,locale:t,page_size:f.DR,preview_sizes:b},{enabled:!!e})},y=e=>(0,h.eU)(g.u,(t=>p({id:e,locale:t,page_size:f.DR,preview_sizes:b})));var x=s(12017),j=s(32380),w=s(35023);const _=(0,x.n5)("updatePublicProfileFeedCacheAfterLike",(({isLiked:e,publicUserId:t,reviewId:s})=>(0,h.eU)(g.u,(r=>u({page_size:f.DR,preview_sizes:b,id:t,locale:r},(i=>{var a;if(!i)return(0,x.lQ)();const n=null==i?void 0:i.pages.findIndex((e=>e.content_feed.find((e=>{var t;return(null===(t=e.review)||void 0===t?void 0:t.id)===s})))),o=null!==(a=i.pages.map(((t,r)=>r!==n?t:Object.assign(Object.assign({},t),{content_feed:t.content_feed.map((t=>{var r,i,a;return(null===(r=t.review)||void 0===r?void 0:r.id)!==s?t:Object.assign(Object.assign({},t),{review:Object.assign(Object.assign({},t.review),{likes_count:(i=t.review.likes_count,a=!e,a?i+1:i>0?i-1:0),additional_data:Object.assign(Object.assign({},t.review.additional_data),{is_liked:!e})})})}))}))))&&void 0!==a?a:[];return l({page_size:f.DR,preview_sizes:b,id:t,locale:r},{pages:o,pageParams:i.pageParams})})))))),C=(0,x.n5)("changeReviewLike",(({reviewId:e,isLiked:t,publicUserId:s})=>{const r=(0,w.W7)();return(0,x.K2)(_({reviewId:e,isLiked:t,publicUserId:s}),(0,j.u)({id:e,value:!t,statusId:r}))}));var I=s(34438);const k=({userId:e,isFriend:t,item:s,position:r})=>({frameId:i})=>({uiElement:{name:t?"friendCardActivity":"profileCardActivity",frameUuid:i,ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",position:r},payload:{activityItem:{authUser:e.toString(),entity:{id:s.object.id,type:s.object.type}}}}),O=({showReviewCardMini:e,isFriend:t})=>e?t?"friendCardActivity":"profileCardActivity":"reviewCardFull",S=({userId:e,isFriend:t,item:s,showReviewCardMini:r,position:i})=>({frameId:a})=>({uiElement:{name:O({showReviewCardMini:r,isFriend:t}),frameUuid:a,ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",position:i},payload:{reviewItem:(0,I.o)({review:s}),activityItem:{authUser:e.toString(),entity:{id:s.object.id,type:s.object.type}}}}),T=e=>({name:"photoCardMini",frameUuid:e.frameId,position:e.position,ownerName:e.isFriend?"friendCardActivity":"profileCardActivity"}),E=(e,t)=>{const{type:s,item:r,photo:i,userId:a}=e,n={photoId:i.id},o={authUser:a.toString(),entity:{id:r.object.id,type:r.object.type}};return"review"===s?{uiElement:T(Object.assign(Object.assign({},e),{frameId:t})),payload:{activityItem:o,reviewItem:(0,I.o)({review:r}),photo:n}}:{uiElement:T(Object.assign(Object.assign({},e),{frameId:t})),payload:{activityItem:o,photo:n}}},M=e=>({frameId:t})=>E(e,t),P=e=>({frameId:t})=>{const s=E(e,t);return Object.assign({action:"tap"},s)},L=({position:e,ownerName:t})=>({frameId:s},r,i)=>{if(!i)return;const{item:a}=i,n=(0,I.o)({review:a});return n?{uiElement:{name:a.additional_data.is_liked?"unlikeButton":"likeButton",frameUuid:s,ownerName:t,position:e},action:"tap",payload:{reviewItem:n,activityItem:{authUser:a.user.id.toString(),entity:{id:a.object.id,type:a.object.type}}}}:void 0},N=({position:e,isFriend:t,userId:s})=>({frameId:r},i,a)=>{if(!a)return;const{item:n}=a;return{uiElement:{position:e,name:"placeCardLink",ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:r},action:"tap",payload:{activityItem:{authUser:s.toString(),entity:{id:n.object.id,type:n.object.type}}}}};var A=s(60545);const R={actions:{userProfileFeedMediaPhoto:({isFriend:e,position:t,photoId:s})=>(0,A.gD)({uiElement:{name:"photoCardMini",ownerName:e?"friendCardActivity":"profileCardActivity",position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)},photo:{photoId:s}}})(),userProfileFeedItemHeader:e=>(0,A.gD)({uiElement:{name:"placeCardLink",ownerName:"friendCardActivitiesList",frameUuid:expect.any(String),position:expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(e),likeReview:e=>(0,A.gD)({uiElement:{name:"likeButton",ownerName:"profileCardActivity",frameUuid:expect.any(String),position:expect.any(Number)},payload:{reviewItem:expect.any(Object),activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(e)},views:{userProfileFeedReviewItem:({isFriend:e,reviewId:t,position:s})=>(0,A.m3)({uiElement:{name:e?"friendCardActivity":"profileCardActivity",ownerName:e?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:expect.any(String),position:s||expect.any(Number)},payload:{reviewItem:{reviewId:t||expect.any(String),source:expect.stringMatching(/^(flamp|4sq|2gis)$/),rating:expect.any(Number),author:expect.any(String),rateOnly:expect.any(Boolean),createdAt:{timestamp:expect.any(Number),utcOffset:expect.stringMatching(/^(\+|-)\d\d:\d\d$/)},owner:{entity:{type:expect.any(String),id:expect.any(String)}},gallerySize:expect.any(Number)},activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(),userProfileFeedMediaItem:({isFriend:e,position:t})=>(0,A.m3)({uiElement:{name:e?"friendCardActivity":"profileCardActivity",ownerName:e?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:expect.any(String),position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(),userProfileFeedMediaPhoto:({isFriend:e,position:t,photoId:s})=>(0,A.m3)({uiElement:{name:"photoCardMini",ownerName:e?"friendCardActivity":"profileCardActivity",position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)},photo:{photoId:s}}})()}};var z=s(70249),U=s(41882);const B=Object.assign(Object.assign({},U.Ok),{photos:[]}),H={object:{id:"media_id",type:"branch",address:"address",name:"media_name",is_deleted:!0},date:"2019-12-09T16:17:36.0+07:00",items:[{photo:z.p4}]},F={content_feed:[{review:B},{media:H}],next_page_token:"next_page_token"};var D=s(31085),V=s(71832),Z=s(51029),$=s(82882),q=s(14041),W=s(21959),G=s(70143),Q=s(68260),K=s(46579),Y=s(64433),X=s(9482),J=s(8365);const ee=({item:e,onLikeClick:t,publicUserId:s,isFriendProfile:r,onHeaderClick:i,position:a})=>{var n;const{isSearchBot:o}=(0,K.U)(),c=null===(n=(0,m.d4)(W.ug).data)||void 0===n?void 0:n.user_id,d=(0,Y.I)(G.t,{reviewId:e.id,publicUserId:s}),l=(0,Y.I)(X.C,e.id),{useBssHandler:u}=(0,J.E)(),p=u(L,{ownerName:r?"friendCardActivity":"profileCardActivity",position:a});return(0,D.jsx)(Q.a,{onHeaderClick:i,isSearchBot:o,showObjectInsteadUser:!0,review:e,onComplainClick:l,bssShowFunction:({showReviewCardMini:t})=>S({userId:e.user.id,isFriend:r,item:e,showReviewCardMini:t,position:a}),bssShowPhotoItemFunction:t=>M({position:t.position,photo:t.image,item:e,type:"review",isFriend:r,userId:e.user.id}),bssTapPhotoItemFunction:t=>P({position:t.position,photo:t.image,item:e,type:"review",isFriend:r,userId:e.user.id}),onLikeClick:()=>{var s;p({item:e}),t(e.id,null!==(s=e.additional_data.is_liked)&&void 0!==s&&s)},onAllCommentsClick:d,userId:c})};var te=s(23098),se=s(4),re=s(99259),ie=s(70498),ae=s(89268),ne=s(84175),oe=s(82781),ce=s(80552),de=s(41411);const le=e=>{if(e.object.logo_urls)return e.object.logo_urls["64x64"]};var ue=s(62797),pe=s(93282),me=s(12869),ge=s(63041),he=s(24872);const fe=({item:e,userId:t,isFriendProfile:s,onHeaderClick:r,position:i})=>{const{css:a,s:n}=(0,ne.I)(be),o=(0,ae.F)(),c=(0,oe.c)(),d=(0,m.wA)(),{bssRef:l}=(0,J.E)(k({userId:t,item:e,isFriend:s,position:i})),u=(e=>{const t=e.items.reduce(((e,t)=>[...e,t.photo]),[]);if(t&&t.length)return(0,ue.E)(t,void 0,"2gis")})(e),p=(0,Y.I)(pe.C);return(0,D.jsxs)("div",Object.assign({ref:l,className:a(n.container)},{children:[(0,D.jsxs)("div",Object.assign({onClick:()=>{r(),d((0,x.K2)((0,ge.UP)({id:e.object.id,type:e.object.type}),(0,he.TE)({entityId:e.object.id,onlyIfOutOfViewpoint:!0})))},className:a(n.header)},{children:[(0,D.jsx)("div",Object.assign({className:a(n.avatar)},{children:(0,D.jsx)(te.e,{src:le(e),initials:()=>(0,D.jsx)(se.U,{backgroundSeed:e.object.id,userName:e.object.name.toUpperCase()})})})),(0,D.jsxs)("div",Object.assign({className:a(n.title)},{children:[(0,D.jsx)("span",Object.assign({className:a(n.name)},{children:e.object.name})),!!e.date&&(0,D.jsxs)("div",Object.assign({className:a(n.dateAndPlace)},{children:[(0,D.jsx)("span",Object.assign({className:a(n.counter)},{children:c._nt(["%% фото","%% фото","%% фото"],e.items.length)}))," ",(0,de.l)({isoDate:e.date,currentDate:new Date},{tp:c,dateFns:o})]}))]}))]})),(0,D.jsx)("div",Object.assign({className:a(n.slider)},{children:u&&(0,D.jsx)(me.M,{trackBSSSource:"profileFeed",onComplain:p,galleryMedia:u.photosForGallery,previews:u.photos,object:e.object,bssActionItemFunction:r=>P({position:r.position,photo:r.image,item:e,type:"media",isFriend:s,userId:t}),bssShowItemFunction:r=>M({position:r.position,photo:r.image,item:e,type:"media",isFriend:s,userId:t})})}))]}))},be=(0,ne.r)((({mobile:e})=>({container:{padding:"12px 0",boxShadow:ie.E.innerBorderBottomBase,"&:last-child":{boxShadow:"none",paddingBottom:24}},photo:{boxSizing:"border-box",overflow:"hidden",backgroundRepeat:"no-repeat",position:"relative"},avatar:{width:"24px",height:"24px",borderRadius:"50%",marginEnd:"8px",overflow:"hidden",display:"inline-block",verticalAlign:"top"},header:{padding:e?"0 8px":"0 24px"},name:{textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",maxWidth:264},title:Object.assign({display:"inline-block",whiteSpace:"normal",cursor:"pointer",maxWidth:264},ce._w),dateAndPlace:Object.assign(Object.assign({},ce.EX),{color:re.T.gray_929292}),slider:{marginTop:12},counter:{color:re.T.black}}))),ve=({item:e,onLikeClick:t,publicUserId:s,isFriendProfile:r,userId:i,position:a})=>{const{useBssHandler:n}=(0,J.E)(),o=n(N,{position:a,userId:i,isFriend:r}),c=()=>{e.review&&o({item:e.review}),e.media&&o({item:e.media})};return e.review?(0,D.jsx)(ee,{onHeaderClick:c,isFriendProfile:r,publicUserId:s,onLikeClick:t,item:e.review,position:a}):e.media?(0,D.jsx)(fe,{onHeaderClick:c,userId:i,isFriendProfile:r,item:e.media,position:a}):null};var ye=s(35774),xe=s(31106),je=s(91818);const we=({publicUserId:e,userId:t,isFriendProfile:s})=>{const{data:r,isLoading:i,isSuccess:a,fetchNextPage:n,isFetchingNextPage:o,hasNextPage:c}=v(e),{s:d}=(0,ne.I)(_e),l=null==r?void 0:r.pages.reduce(((e,t)=>[...e,...t.content_feed]),[]),u=(0,m.d4)(W.x3),p=(0,oe.c)(),g=(0,m.wA)();(0,q.useEffect)((()=>{var e;"handlePublicProfileReviewLike"===(null===(e=(0,je.G7)())||void 0===e?void 0:e.key)&&a&&u&&g((0,je.cZ)())}),[r,g,u,a,e]);const h=(t,s)=>{g((0,je.oC)("handlePublicProfileReviewLike",{reviewId:t,isLiked:s,userId:e},"manual"))};return a&&0===r.pages[0].content_feed.length?(0,D.jsx)(ye.d,{image:(0,D.jsx)(xe.P,{}),title:p._t("Пользователь пока не добавил фото и отзывы"),styles:d.emptyFeed,titleStyle:d.emptyFeedTitle,imageStyle:d.emptyFeedImage}):(0,D.jsx)(V.O,{data:l,isLoading:i,fetchNextPage:n,hasNextPage:!!c,isFetchingNextPage:o,renderItem:(r,i)=>(0,D.jsx)(ve,{userId:t,isFriendProfile:s,publicUserId:e,onLikeClick:h,item:r,position:i+1},(e=>e.review?`profile_feed_review_${e.review.id}`:e.media?`profile_feed_media_${e.media.object.id}`:void 0)(r)),renderSkeleton:()=>(0,D.jsx)(Z._,{ContentSkeleton:$.g})})},_e=(0,ne.r)({emptyFeed:{padding:"0 24px"},emptyFeedTitle:Object.assign({},ce.Hg),emptyFeedImage:{marginBottom:0}})},61016:(e,t,s)=>{var r={"./ar.po":[60720,5056],"./az.po":[11432,2568],"./en.po":[72096,3360],"./hy.po":[24548,4768],"./ka.po":[5791,1851],"./kk.po":[18577,2537],"./uz.po":[77068,6340]};function i(e){if(!s.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return s.e(t[1]).then((()=>s.t(i,23)))}i.keys=()=>Object.keys(r),i.id=61016,e.exports=i},53047:(e,t,s)=>{var r={"./26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet.svg":96744,"./26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_closed.svg":2255,"./26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_hover.svg":38775,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00A989_marker.svg":23142,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00B305_marker.svg":61371,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_198700_marker.svg":11096,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_1D66EE_marker.svg":57380,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_4F92F8_marker.svg":23908,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_738AB3_marker.svg":21949,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_7435D2_marker.svg":52082,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_9E578A_marker.svg":75626,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_BA6612_marker.svg":1373,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_DBAF00_marker.svg":23738,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E2658B_marker.svg":6195,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E7750B_marker.svg":71749,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_F83A3A_marker.svg":28157,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial.svg":53184,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_closed.svg":41511,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_hover.svg":92543,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo.svg":62702,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo_hover.svg":78517,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet.svg":81118,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet_hover.svg":42501,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet.svg":89059,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet_hover.svg":89508,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet.svg":10733,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet_hover.svg":25454,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_bigbullet.svg":63923,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_middlebullet.svg":35796,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_smallbullet.svg":7672,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_bigbullet.svg":61853,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_middlebullet.svg":69962,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_smallbullet.svg":88206,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_bigbullet.svg":57846,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_middlebullet.svg":89355,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_smallbullet.svg":85733,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-home.svg":81123,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-personal.svg":8018,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-public.svg":7837,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-work.svg":59465,"./26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet.svg":32385,"./26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_closed.svg":47844,"./26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_hover.svg":95778,"./26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial-logo.svg":43438,"./26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial.svg":18574,"./26015706-6204-4b41-bae9-c84dcd126160/icons/pin.svg":43639,"./26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet.svg":82275,"./26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_closed.svg":45802,"./26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_hover.svg":27044,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-100.svg":87973,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-110.svg":63434,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-120.svg":77919,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-130.svg":9692,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-140.svg":32721,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-20.svg":24002,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-30.svg":47549,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-40.svg":80880,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-50.svg":90835,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-60.svg":77662,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-70.svg":36681,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-80.svg":24700,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-90.svg":74527,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-bus.svg":1358,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-line.svg":75106,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-parking.svg":79452,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-tl.svg":13700,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera.svg":50315,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-comment.svg":51389,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-crash.svg":63263,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-other.svg":5712,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-restriction.svg":88388,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-roadwork.svg":14967,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/generalization.json":51295,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/style.json":37572,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/generalization.json":14557,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/style.json":39386,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/generalization.json":79259,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/style.json":95856,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/generalization.json":96237,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/style.json":68682,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/pin/style.json":24294,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/generalization.json":23505,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/style.json":84862,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet.svg":93007,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_closed.svg":33478,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_hover.svg":18800,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial.svg":7713,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_closed.svg":41284,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_hover.svg":68610,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet.svg":67277,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet_hover.svg":67598,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet.svg":90074,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet_hover.svg":77857,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet.svg":80414,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet_hover.svg":19845,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet.svg":78632,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_closed.svg":1071,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_hover.svg":47895,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial-logo.svg":89841,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial.svg":33603,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin.svg":25716,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet.svg":50308,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_closed.svg":10347,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_hover.svg":87795,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/generalization.json":4314,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/style.json":60291,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/generalization.json":67082,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/style.json":13267,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/pin/style.json":65553,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/bar_marker.svg":12756,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/culture_marker.svg":2111,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/education_marker.svg":61651,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/hospital_marker.svg":49491,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/kindergarten_marker.svg":7201,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/pharmacy_marker.svg":66356,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/sport_marker.svg":96423,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/supermarket_marker.svg":88326,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/bar_marker.svg":64334,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/culture_marker.svg":39217,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/education_marker.svg":39833,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/hospital_marker.svg":79145,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/kindergarten_marker.svg":49047,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/pharmacy_marker.svg":64634,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/sport_marker.svg":53901,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/supermarket_marker.svg":90688,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-hover.svg":36244,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-pik.svg":34814,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-visited.svg":64112,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large.svg":19977,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-hover.svg":85676,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-pik.svg":41590,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-visited.svg":83336,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium.svg":92145,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial-logo.svg":11820,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial.svg":58324,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin.svg":79225,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-hover.svg":37308,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-pik.svg":33958,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-visited.svg":59384,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small.svg":51009,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/generalization.json":66857,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/style.json":61110,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureNormal/style.json":38421,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureSelected/style.json":22711,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/pin/style.json":88728,"./default/icons/bigbullet.svg":84690,"./default/icons/bigbullet_closed.svg":41053,"./default/icons/bigbullet_closed_hover.svg":54334,"./default/icons/bigbullet_hover.svg":29513,"./default/icons/coloredPersonal/personal_00A989_marker.svg":68328,"./default/icons/coloredPersonal/personal_00B305_marker.svg":22413,"./default/icons/coloredPersonal/personal_198700_marker.svg":36598,"./default/icons/coloredPersonal/personal_1D66EE_marker.svg":13942,"./default/icons/coloredPersonal/personal_4F92F8_marker.svg":29442,"./default/icons/coloredPersonal/personal_738AB3_marker.svg":30511,"./default/icons/coloredPersonal/personal_7435D2_marker.svg":7136,"./default/icons/coloredPersonal/personal_9E578A_marker.svg":5968,"./default/icons/coloredPersonal/personal_BA6612_marker.svg":54599,"./default/icons/coloredPersonal/personal_DBAF00_marker.svg":67588,"./default/icons/coloredPersonal/personal_E2658B_marker.svg":61113,"./default/icons/coloredPersonal/personal_E7750B_marker.svg":24403,"./default/icons/coloredPersonal/personal_F83A3A_marker.svg":73083,"./default/icons/commercial.svg":38306,"./default/icons/commercial_closed.svg":11693,"./default/icons/commercial_hover.svg":46361,"./default/icons/commercial_immersive.svg":44962,"./default/icons/commercial_immersive_hover.svg":34073,"./default/icons/commercial_logo.svg":96492,"./default/icons/commercial_logo_hover.svg":53739,"./default/icons/commercial_logo_immersive.svg":81972,"./default/icons/commercial_logo_immersive_hover.svg":14499,"./default/icons/exchange/high_bigbullet.svg":38989,"./default/icons/exchange/high_middlebullet.svg":9722,"./default/icons/exchange/high_smallbullet.svg":24318,"./default/icons/exchange/low_bigbullet.svg":78399,"./default/icons/exchange/low_middlebullet.svg":50584,"./default/icons/exchange/low_smallbullet.svg":61172,"./default/icons/exchange/medium_bigbullet.svg":7380,"./default/icons/exchange/medium_middlebullet.svg":8309,"./default/icons/exchange/medium_smallbullet.svg":97119,"./default/icons/fav-home.svg":93217,"./default/icons/fav-personal.svg":91188,"./default/icons/fav-public.svg":76831,"./default/icons/fav-work.svg":67691,"./default/icons/middlebullet.svg":89647,"./default/icons/middlebullet_closed.svg":7814,"./default/icons/middlebullet_hover.svg":89072,"./default/icons/pin-commercial-logo.svg":86268,"./default/icons/pin-commercial.svg":64804,"./default/icons/pin.svg":73705,"./default/icons/smallbullet.svg":19921,"./default/icons/smallbullet_closed.svg":96948,"./default/icons/smallbullet_hover.svg":80658,"./default/icons/tUgc-camera-100.svg":69275,"./default/icons/tUgc-camera-110.svg":5656,"./default/icons/tUgc-camera-120.svg":98737,"./default/icons/tUgc-camera-130.svg":46246,"./default/icons/tUgc-camera-140.svg":96959,"./default/icons/tUgc-camera-20.svg":68496,"./default/icons/tUgc-camera-30.svg":36979,"./default/icons/tUgc-camera-40.svg":40578,"./default/icons/tUgc-camera-50.svg":78845,"./default/icons/tUgc-camera-60.svg":47764,"./default/icons/tUgc-camera-70.svg":72183,"./default/icons/tUgc-camera-80.svg":14150,"./default/icons/tUgc-camera-90.svg":66641,"./default/icons/tUgc-camera-bus.svg":31716,"./default/icons/tUgc-camera-line.svg":64960,"./default/icons/tUgc-camera-parking.svg":44450,"./default/icons/tUgc-camera-tl.svg":90678,"./default/icons/tUgc-camera.svg":82633,"./default/icons/tUgc-comment.svg":19347,"./default/icons/tUgc-crash.svg":35413,"./default/icons/tUgc-other.svg":5098,"./default/icons/tUgc-restriction.svg":1798,"./default/icons/tUgc-roadwork.svg":35949,"./default/markersGroup/default/generalization.json":84195,"./default/markersGroup/default/style.json":15480,"./default/markersGroup/exchange/generalization.json":74249,"./default/markersGroup/exchange/style.json":94358,"./default/markersGroup/favorites/generalization.json":78327,"./default/markersGroup/favorites/style.json":1052,"./default/markersGroup/fewmarkers/generalization.json":97201,"./default/markersGroup/fewmarkers/style.json":48670,"./default/markersGroup/pin/style.json":14354,"./default/markersGroup/tUgc/generalization.json":59765,"./default/markersGroup/tUgc/style.json":95090,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet.svg":27624,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_closed.svg":63407,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_hover.svg":20151,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00A989_marker.svg":81446,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00B305_marker.svg":51227,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_198700_marker.svg":12984,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_1D66EE_marker.svg":43044,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_4F92F8_marker.svg":54980,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_738AB3_marker.svg":34205,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_7435D2_marker.svg":48274,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_9E578A_marker.svg":52234,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_BA6612_marker.svg":18333,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_DBAF00_marker.svg":51194,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E2658B_marker.svg":99091,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E7750B_marker.svg":77221,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_F83A3A_marker.svg":16541,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial.svg":4288,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_closed.svg":7207,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_hover.svg":67199,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo.svg":878,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo_hover.svg":26613,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet.svg":53502,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet_hover.svg":87813,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet.svg":3715,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet_hover.svg":91460,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet.svg":61229,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet_hover.svg":3598,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_bigbullet.svg":78739,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_middlebullet.svg":99252,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_smallbullet.svg":42104,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_bigbullet.svg":3165,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_middlebullet.svg":65546,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_smallbullet.svg":37902,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_bigbullet.svg":92662,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_middlebullet.svg":60331,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_smallbullet.svg":65253,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-home.svg":71555,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-personal.svg":23666,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-public.svg":79613,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-work.svg":98473,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet.svg":20225,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_closed.svg":7780,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_hover.svg":47202,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial-logo.svg":96462,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial.svg":78446,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin.svg":57239,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar.svg":68368,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar_hover.svg":90607,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe.svg":70422,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe_hover.svg":63437,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy.svg":62004,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy_hover.svg":5987,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go.svg":91393,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go_hover.svg":75778,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee.svg":23441,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee_hover.svg":79986,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood.svg":663,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood_hover.svg":37480,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza.svg":85513,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza_hover.svg":41146,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi.svg":22945,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi_hover.svg":17154,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine.svg":28034,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine_hover.svg":73625,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet.svg":85251,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_closed.svg":22282,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_hover.svg":92164,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-100.svg":17989,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-110.svg":58218,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-120.svg":81535,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-130.svg":31708,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-140.svg":76529,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-20.svg":4290,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-30.svg":42557,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-40.svg":32208,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-50.svg":17043,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-60.svg":82686,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-70.svg":16969,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-80.svg":76700,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-90.svg":44927,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-bus.svg":43854,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-line.svg":63746,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-parking.svg":21852,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-tl.svg":66788,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera.svg":35243,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-comment.svg":15453,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-crash.svg":10559,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-other.svg":55568,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-restriction.svg":9412,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-roadwork.svg":75607,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/_rubric/style.json":20605,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/generalization.json":34875,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/style.json":26160,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/generalization.json":1137,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/style.json":65982,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/generalization.json":18303,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/style.json":22980,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/generalization.json":35305,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/style.json":98166,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/pin/style.json":32250,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/generalization.json":5293,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/style.json":28650,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet.svg":96744,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_closed.svg":2255,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_hover.svg":38775,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00A989_marker.svg":23142,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00B305_marker.svg":61371,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_198700_marker.svg":11096,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_1D66EE_marker.svg":57380,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_4F92F8_marker.svg":23908,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_738AB3_marker.svg":21949,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_7435D2_marker.svg":52082,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_9E578A_marker.svg":75626,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_BA6612_marker.svg":1373,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_DBAF00_marker.svg":23738,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E2658B_marker.svg":6195,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E7750B_marker.svg":71749,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_F83A3A_marker.svg":28157,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial.svg":53184,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_closed.svg":41511,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_hover.svg":92543,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo.svg":62702,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo_hover.svg":78517,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet.svg":81118,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet_hover.svg":42501,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet.svg":89059,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet_hover.svg":89508,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet.svg":10733,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet_hover.svg":25454,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_bigbullet.svg":63923,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_middlebullet.svg":35796,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_smallbullet.svg":7672,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_bigbullet.svg":61853,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_middlebullet.svg":69962,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_smallbullet.svg":88206,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_bigbullet.svg":57846,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_middlebullet.svg":89355,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_smallbullet.svg":85733,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-home.svg":81123,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-personal.svg":8018,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-public.svg":7837,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-work.svg":59465,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet.svg":32385,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_closed.svg":47844,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_hover.svg":95778,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial-logo.svg":43438,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial.svg":18574,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/pin.svg":43639,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet.svg":82275,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_closed.svg":45802,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_hover.svg":27044,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-100.svg":87973,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-110.svg":63434,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-120.svg":77919,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-130.svg":9692,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-140.svg":32721,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-20.svg":24002,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-30.svg":47549,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-40.svg":80880,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-50.svg":90835,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-60.svg":77662,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-70.svg":36681,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-80.svg":24700,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-90.svg":74527,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-bus.svg":1358,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-line.svg":75106,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-parking.svg":79452,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-tl.svg":13700,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera.svg":50315,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-comment.svg":51389,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-crash.svg":63263,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-other.svg":5712,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-restriction.svg":88388,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-roadwork.svg":14967,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/generalization.json":51295,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/style.json":37572,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/generalization.json":14557,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/style.json":39386,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/generalization.json":79259,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/style.json":95856,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/generalization.json":96237,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/style.json":68682,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/pin/style.json":24294,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/generalization.json":23505,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/style.json":84862,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet.svg":93007,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_closed.svg":33478,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_hover.svg":18800,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial.svg":7713,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_closed.svg":41284,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_hover.svg":68610,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet.svg":67277,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet_hover.svg":67598,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet.svg":90074,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet_hover.svg":77857,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet.svg":80414,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet_hover.svg":19845,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet.svg":78632,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_closed.svg":1071,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_hover.svg":47895,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial-logo.svg":89841,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial.svg":33603,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin.svg":25716,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet.svg":50308,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_closed.svg":10347,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_hover.svg":87795,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/generalization.json":4314,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/style.json":60291,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/generalization.json":67082,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/style.json":13267,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/pin/style.json":65553,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/bar_marker.svg":12756,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/culture_marker.svg":2111,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/education_marker.svg":61651,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/hospital_marker.svg":49491,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/kindergarten_marker.svg":7201,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/pharmacy_marker.svg":66356,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/sport_marker.svg":96423,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/supermarket_marker.svg":88326,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/bar_marker.svg":64334,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/culture_marker.svg":39217,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/education_marker.svg":39833,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/hospital_marker.svg":79145,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/kindergarten_marker.svg":49047,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/pharmacy_marker.svg":64634,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/sport_marker.svg":53901,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/supermarket_marker.svg":90688,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-hover.svg":36244,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-pik.svg":34814,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-visited.svg":64112,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large.svg":19977,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-hover.svg":85676,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-pik.svg":41590,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-visited.svg":83336,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium.svg":92145,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial-logo.svg":11820,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial.svg":58324,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin.svg":79225,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-hover.svg":37308,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-pik.svg":33958,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-visited.svg":59384,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small.svg":51009,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/generalization.json":66857,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/style.json":61110,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureNormal/style.json":38421,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureSelected/style.json":22711,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/pin/style.json":88728,"shared/lib/markers/styles/default/icons/bigbullet.svg":84690,"shared/lib/markers/styles/default/icons/bigbullet_closed.svg":41053,"shared/lib/markers/styles/default/icons/bigbullet_closed_hover.svg":54334,"shared/lib/markers/styles/default/icons/bigbullet_hover.svg":29513,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_00A989_marker.svg":68328,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_00B305_marker.svg":22413,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_198700_marker.svg":36598,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_1D66EE_marker.svg":13942,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_4F92F8_marker.svg":29442,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_738AB3_marker.svg":30511,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_7435D2_marker.svg":7136,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_9E578A_marker.svg":5968,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_BA6612_marker.svg":54599,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_DBAF00_marker.svg":67588,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_E2658B_marker.svg":61113,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_E7750B_marker.svg":24403,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_F83A3A_marker.svg":73083,"shared/lib/markers/styles/default/icons/commercial.svg":38306,"shared/lib/markers/styles/default/icons/commercial_closed.svg":11693,"shared/lib/markers/styles/default/icons/commercial_hover.svg":46361,"shared/lib/markers/styles/default/icons/commercial_immersive.svg":44962,"shared/lib/markers/styles/default/icons/commercial_immersive_hover.svg":34073,"shared/lib/markers/styles/default/icons/commercial_logo.svg":96492,"shared/lib/markers/styles/default/icons/commercial_logo_hover.svg":53739,"shared/lib/markers/styles/default/icons/commercial_logo_immersive.svg":81972,"shared/lib/markers/styles/default/icons/commercial_logo_immersive_hover.svg":14499,"shared/lib/markers/styles/default/icons/exchange/high_bigbullet.svg":38989,"shared/lib/markers/styles/default/icons/exchange/high_middlebullet.svg":9722,"shared/lib/markers/styles/default/icons/exchange/high_smallbullet.svg":24318,"shared/lib/markers/styles/default/icons/exchange/low_bigbullet.svg":78399,"shared/lib/markers/styles/default/icons/exchange/low_middlebullet.svg":50584,"shared/lib/markers/styles/default/icons/exchange/low_smallbullet.svg":61172,"shared/lib/markers/styles/default/icons/exchange/medium_bigbullet.svg":7380,"shared/lib/markers/styles/default/icons/exchange/medium_middlebullet.svg":8309,"shared/lib/markers/styles/default/icons/exchange/medium_smallbullet.svg":97119,"shared/lib/markers/styles/default/icons/fav-home.svg":93217,"shared/lib/markers/styles/default/icons/fav-personal.svg":91188,"shared/lib/markers/styles/default/icons/fav-public.svg":76831,"shared/lib/markers/styles/default/icons/fav-work.svg":67691,"shared/lib/markers/styles/default/icons/middlebullet.svg":89647,"shared/lib/markers/styles/default/icons/middlebullet_closed.svg":7814,"shared/lib/markers/styles/default/icons/middlebullet_hover.svg":89072,"shared/lib/markers/styles/default/icons/pin-commercial-logo.svg":86268,"shared/lib/markers/styles/default/icons/pin-commercial.svg":64804,"shared/lib/markers/styles/default/icons/pin.svg":73705,"shared/lib/markers/styles/default/icons/smallbullet.svg":19921,"shared/lib/markers/styles/default/icons/smallbullet_closed.svg":96948,"shared/lib/markers/styles/default/icons/smallbullet_hover.svg":80658,"shared/lib/markers/styles/default/icons/tUgc-camera-100.svg":69275,"shared/lib/markers/styles/default/icons/tUgc-camera-110.svg":5656,"shared/lib/markers/styles/default/icons/tUgc-camera-120.svg":98737,"shared/lib/markers/styles/default/icons/tUgc-camera-130.svg":46246,"shared/lib/markers/styles/default/icons/tUgc-camera-140.svg":96959,"shared/lib/markers/styles/default/icons/tUgc-camera-20.svg":68496,"shared/lib/markers/styles/default/icons/tUgc-camera-30.svg":36979,"shared/lib/markers/styles/default/icons/tUgc-camera-40.svg":40578,"shared/lib/markers/styles/default/icons/tUgc-camera-50.svg":78845,"shared/lib/markers/styles/default/icons/tUgc-camera-60.svg":47764,"shared/lib/markers/styles/default/icons/tUgc-camera-70.svg":72183,"shared/lib/markers/styles/default/icons/tUgc-camera-80.svg":14150,"shared/lib/markers/styles/default/icons/tUgc-camera-90.svg":66641,"shared/lib/markers/styles/default/icons/tUgc-camera-bus.svg":31716,"shared/lib/markers/styles/default/icons/tUgc-camera-line.svg":64960,"shared/lib/markers/styles/default/icons/tUgc-camera-parking.svg":44450,"shared/lib/markers/styles/default/icons/tUgc-camera-tl.svg":90678,"shared/lib/markers/styles/default/icons/tUgc-camera.svg":82633,"shared/lib/markers/styles/default/icons/tUgc-comment.svg":19347,"shared/lib/markers/styles/default/icons/tUgc-crash.svg":35413,"shared/lib/markers/styles/default/icons/tUgc-other.svg":5098,"shared/lib/markers/styles/default/icons/tUgc-restriction.svg":1798,"shared/lib/markers/styles/default/icons/tUgc-roadwork.svg":35949,"shared/lib/markers/styles/default/markersGroup/default/generalization.json":84195,"shared/lib/markers/styles/default/markersGroup/default/style.json":15480,"shared/lib/markers/styles/default/markersGroup/exchange/generalization.json":74249,"shared/lib/markers/styles/default/markersGroup/exchange/style.json":94358,"shared/lib/markers/styles/default/markersGroup/favorites/generalization.json":78327,"shared/lib/markers/styles/default/markersGroup/favorites/style.json":1052,"shared/lib/markers/styles/default/markersGroup/fewmarkers/generalization.json":97201,"shared/lib/markers/styles/default/markersGroup/fewmarkers/style.json":48670,"shared/lib/markers/styles/default/markersGroup/pin/style.json":14354,"shared/lib/markers/styles/default/markersGroup/tUgc/generalization.json":59765,"shared/lib/markers/styles/default/markersGroup/tUgc/style.json":95090,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet.svg":27624,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_closed.svg":63407,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_hover.svg":20151,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00A989_marker.svg":81446,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00B305_marker.svg":51227,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_198700_marker.svg":12984,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_1D66EE_marker.svg":43044,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_4F92F8_marker.svg":54980,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_738AB3_marker.svg":34205,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_7435D2_marker.svg":48274,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_9E578A_marker.svg":52234,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_BA6612_marker.svg":18333,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_DBAF00_marker.svg":51194,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E2658B_marker.svg":99091,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E7750B_marker.svg":77221,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_F83A3A_marker.svg":16541,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial.svg":4288,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_closed.svg":7207,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_hover.svg":67199,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo.svg":878,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo_hover.svg":26613,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet.svg":53502,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet_hover.svg":87813,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet.svg":3715,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet_hover.svg":91460,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet.svg":61229,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet_hover.svg":3598,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_bigbullet.svg":78739,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_middlebullet.svg":99252,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_smallbullet.svg":42104,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_bigbullet.svg":3165,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_middlebullet.svg":65546,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_smallbullet.svg":37902,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_bigbullet.svg":92662,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_middlebullet.svg":60331,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_smallbullet.svg":65253,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-home.svg":71555,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-personal.svg":23666,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-public.svg":79613,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-work.svg":98473,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet.svg":20225,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_closed.svg":7780,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_hover.svg":47202,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial-logo.svg":96462,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial.svg":78446,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin.svg":57239,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar.svg":68368,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar_hover.svg":90607,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe.svg":70422,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe_hover.svg":63437,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy.svg":62004,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy_hover.svg":5987,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go.svg":91393,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go_hover.svg":75778,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee.svg":23441,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee_hover.svg":79986,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood.svg":663,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood_hover.svg":37480,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza.svg":85513,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza_hover.svg":41146,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi.svg":22945,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi_hover.svg":17154,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine.svg":28034,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine_hover.svg":73625,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet.svg":85251,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_closed.svg":22282,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_hover.svg":92164,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-100.svg":17989,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-110.svg":58218,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-120.svg":81535,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-130.svg":31708,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-140.svg":76529,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-20.svg":4290,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-30.svg":42557,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-40.svg":32208,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-50.svg":17043,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-60.svg":82686,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-70.svg":16969,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-80.svg":76700,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-90.svg":44927,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-bus.svg":43854,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-line.svg":63746,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-parking.svg":21852,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-tl.svg":66788,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera.svg":35243,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-comment.svg":15453,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-crash.svg":10559,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-other.svg":55568,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-restriction.svg":9412,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-roadwork.svg":75607,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/_rubric/style.json":20605,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/generalization.json":34875,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/style.json":26160,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/generalization.json":1137,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/style.json":65982,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/generalization.json":18303,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/style.json":22980,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/generalization.json":35305,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/style.json":98166,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/pin/style.json":32250,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/generalization.json":5293,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/style.json":28650};function i(e){var t=a(e);return s(t)}function a(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=53047},96744:(e,t,s)=>{"use strict";e.exports=s.p+"images/7e1f100624beb19f87cd.svg"},2255:(e,t,s)=>{"use strict";e.exports=s.p+"images/3904bbd600574de4ba2e.svg"},38775:(e,t,s)=>{"use strict";e.exports=s.p+"images/80c4ad61d594a8ace86c.svg"},23142:(e,t,s)=>{"use strict";e.exports=s.p+"images/b3e54b728bc9530c6e3b.svg"},61371:(e,t,s)=>{"use strict";e.exports=s.p+"images/94deac35d3b02c13ed9a.svg"},11096:(e,t,s)=>{"use strict";e.exports=s.p+"images/885ee026114eb62f1c9a.svg"},57380:(e,t,s)=>{"use strict";e.exports=s.p+"images/1b2be2bc10dfa87cdca8.svg"},23908:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9ce49db74b9f157a017.svg"},21949:(e,t,s)=>{"use strict";e.exports=s.p+"images/7f9281479dc562a98dfe.svg"},52082:(e,t,s)=>{"use strict";e.exports=s.p+"images/4dc35d2da56d08559e5e.svg"},75626:(e,t,s)=>{"use strict";e.exports=s.p+"images/f622d9aa2e53adbebb5e.svg"},1373:(e,t,s)=>{"use strict";e.exports=s.p+"images/fc809cedaa245622208a.svg"},23738:(e,t,s)=>{"use strict";e.exports=s.p+"images/2f7c82f0720516e5610b.svg"},6195:(e,t,s)=>{"use strict";e.exports=s.p+"images/dd10aa6c836439033e2b.svg"},71749:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7999a606d43f90dd552.svg"},28157:(e,t,s)=>{"use strict";e.exports=s.p+"images/39f5c4f0fed45b4fe215.svg"},53184:(e,t,s)=>{"use strict";e.exports=s.p+"images/85c29a658e3e7a42673a.svg"},41511:(e,t,s)=>{"use strict";e.exports=s.p+"images/caaa3878618da105a9e2.svg"},92543:(e,t,s)=>{"use strict";e.exports=s.p+"images/9dde80eff7a6aa6cadbe.svg"},62702:(e,t,s)=>{"use strict";e.exports=s.p+"images/26edaee043c8427f42d6.svg"},78517:(e,t,s)=>{"use strict";e.exports=s.p+"images/8a26f4b75f2cf7dbffdd.svg"},81118:(e,t,s)=>{"use strict";e.exports=s.p+"images/710f7a4f431e711d6ca6.svg"},42501:(e,t,s)=>{"use strict";e.exports=s.p+"images/bcc540223379dce781e9.svg"},89059:(e,t,s)=>{"use strict";e.exports=s.p+"images/e40ad43dfbc2bdb11ac5.svg"},89508:(e,t,s)=>{"use strict";e.exports=s.p+"images/8eee11623d6663403f4d.svg"},10733:(e,t,s)=>{"use strict";e.exports=s.p+"images/8039c4416588f518e363.svg"},25454:(e,t,s)=>{"use strict";e.exports=s.p+"images/bc8cf5f70d8cb302d1c6.svg"},63923:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f290e688d71d369e95f.svg"},35796:(e,t,s)=>{"use strict";e.exports=s.p+"images/7aeea24fdc37d214a06d.svg"},7672:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb6d076710465f8c3234.svg"},61853:(e,t,s)=>{"use strict";e.exports=s.p+"images/5279d81e4f49daaf248a.svg"},69962:(e,t,s)=>{"use strict";e.exports=s.p+"images/4860cf22b5d40e387424.svg"},88206:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6b472d08d713fb6d31.svg"},57846:(e,t,s)=>{"use strict";e.exports=s.p+"images/35b9b7334b47a59cca09.svg"},89355:(e,t,s)=>{"use strict";e.exports=s.p+"images/c78f76ce6dbf2e7cef0e.svg"},85733:(e,t,s)=>{"use strict";e.exports=s.p+"images/2c22de944823fc5c37d8.svg"},81123:(e,t,s)=>{"use strict";e.exports=s.p+"images/0b44156a764b58ed464d.svg"},8018:(e,t,s)=>{"use strict";e.exports=s.p+"images/e0fa3c03875210e8e540.svg"},7837:(e,t,s)=>{"use strict";e.exports=s.p+"images/e05860320843ba654bb4.svg"},59465:(e,t,s)=>{"use strict";e.exports=s.p+"images/7a71d5ab347ce67a8594.svg"},32385:(e,t,s)=>{"use strict";e.exports=s.p+"images/aa5ddd67ca56903b22c3.svg"},47844:(e,t,s)=>{"use strict";e.exports=s.p+"images/9a3f082eb7e6e5fb244e.svg"},95778:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4dc7a2f97845c70640a.svg"},43438:(e,t,s)=>{"use strict";e.exports=s.p+"images/201e00fd50fc60c3afbb.svg"},18574:(e,t,s)=>{"use strict";e.exports=s.p+"images/c054613c00393b10ed08.svg"},43639:(e,t,s)=>{"use strict";e.exports=s.p+"images/3a973c81de1bab7127c0.svg"},82275:(e,t,s)=>{"use strict";e.exports=s.p+"images/aa4a20139d0978155138.svg"},45802:(e,t,s)=>{"use strict";e.exports=s.p+"images/3fdea3d3a1843d5d096c.svg"},27044:(e,t,s)=>{"use strict";e.exports=s.p+"images/d85f16d1e7f3383ccc98.svg"},87973:(e,t,s)=>{"use strict";e.exports=s.p+"images/4cc5f6d197d11a282a58.svg"},63434:(e,t,s)=>{"use strict";e.exports=s.p+"images/2cf8256f77f4e030d2a1.svg"},77919:(e,t,s)=>{"use strict";e.exports=s.p+"images/bbbc00bb8cfce525f319.svg"},9692:(e,t,s)=>{"use strict";e.exports=s.p+"images/896c6f8d95867a66d131.svg"},32721:(e,t,s)=>{"use strict";e.exports=s.p+"images/e5d2b069acf2e0508dc7.svg"},24002:(e,t,s)=>{"use strict";e.exports=s.p+"images/9054ec27ca3d1be3c9cc.svg"},47549:(e,t,s)=>{"use strict";e.exports=s.p+"images/f40f26ff38dc20f7abb8.svg"},80880:(e,t,s)=>{"use strict";e.exports=s.p+"images/a28d9e2897d924546d43.svg"},90835:(e,t,s)=>{"use strict";e.exports=s.p+"images/82c722a06341fb4c9917.svg"},77662:(e,t,s)=>{"use strict";e.exports=s.p+"images/b0a495897c1210c5671e.svg"},36681:(e,t,s)=>{"use strict";e.exports=s.p+"images/b270b338bc845da256e5.svg"},24700:(e,t,s)=>{"use strict";e.exports=s.p+"images/6568e27154b3425a8043.svg"},74527:(e,t,s)=>{"use strict";e.exports=s.p+"images/829ae8d7bb3b233818bc.svg"},1358:(e,t,s)=>{"use strict";e.exports=s.p+"images/817c8dc2469eb3a5a4d6.svg"},75106:(e,t,s)=>{"use strict";e.exports=s.p+"images/0c443d48b2dadb7e13f0.svg"},79452:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb731c28c9baedebc709.svg"},13700:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3c10cd8934e638b2053.svg"},50315:(e,t,s)=>{"use strict";e.exports=s.p+"images/42aed12213c365efd46b.svg"},51389:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4f4af71969ef8e8c2d3.svg"},63263:(e,t,s)=>{"use strict";e.exports=s.p+"images/ad0093a418b39dc4519a.svg"},5712:(e,t,s)=>{"use strict";e.exports=s.p+"images/1ece557d6509bf97f8fe.svg"},88388:(e,t,s)=>{"use strict";e.exports=s.p+"images/6bf9122fd9bf7117b752.svg"},14967:(e,t,s)=>{"use strict";e.exports=s.p+"images/c1c8e2190d088ccb636c.svg"},93007:(e,t,s)=>{"use strict";e.exports=s.p+"images/88c99dfb3d9e7cc8c458.svg"},33478:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f75dece6a7fc45d10b4.svg"},18800:(e,t,s)=>{"use strict";e.exports=s.p+"images/9055146618042447ed1a.svg"},7713:(e,t,s)=>{"use strict";e.exports=s.p+"images/88f816f3298a2a2f14e4.svg"},41284:(e,t,s)=>{"use strict";e.exports=s.p+"images/06d6b821284bffee8c3a.svg"},68610:(e,t,s)=>{"use strict";e.exports=s.p+"images/0d7402729bb766d6872a.svg"},67277:(e,t,s)=>{"use strict";e.exports=s.p+"images/e431fad2d86dae032b11.svg"},67598:(e,t,s)=>{"use strict";e.exports=s.p+"images/bab8dd3f114c555f7344.svg"},90074:(e,t,s)=>{"use strict";e.exports=s.p+"images/9dd9e381c01f259dae71.svg"},77857:(e,t,s)=>{"use strict";e.exports=s.p+"images/c3581135c999a429d206.svg"},80414:(e,t,s)=>{"use strict";e.exports=s.p+"images/40b206937daf612735b4.svg"},19845:(e,t,s)=>{"use strict";e.exports=s.p+"images/2ef539c753f0aefc08c0.svg"},78632:(e,t,s)=>{"use strict";e.exports=s.p+"images/351fd6022bd4983eded9.svg"},1071:(e,t,s)=>{"use strict";e.exports=s.p+"images/955303f816ebc94633f4.svg"},47895:(e,t,s)=>{"use strict";e.exports=s.p+"images/cb523f21065b85751c21.svg"},89841:(e,t,s)=>{"use strict";e.exports=s.p+"images/5a7151369dfa0077124c.svg"},33603:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3b0cfbc02514ee56e21.svg"},25716:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4a016981a196b23be65.svg"},50308:(e,t,s)=>{"use strict";e.exports=s.p+"images/e864a238c793f03187c0.svg"},10347:(e,t,s)=>{"use strict";e.exports=s.p+"images/08d09cfff4720bdfa0ad.svg"},87795:(e,t,s)=>{"use strict";e.exports=s.p+"images/1081f7a1698485256521.svg"},12756:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4c5586ac759a7fafe21.svg"},2111:(e,t,s)=>{"use strict";e.exports=s.p+"images/8f66658f2462ec47b1a2.svg"},61651:(e,t,s)=>{"use strict";e.exports=s.p+"images/b7839eb7aa011b1c7e11.svg"},49491:(e,t,s)=>{"use strict";e.exports=s.p+"images/28d3d0c9fd4375a4b4b8.svg"},7201:(e,t,s)=>{"use strict";e.exports=s.p+"images/3adfea6e61b6cd7f7361.svg"},66356:(e,t,s)=>{"use strict";e.exports=s.p+"images/ed5f2e3e9fdb8c622e3e.svg"},96423:(e,t,s)=>{"use strict";e.exports=s.p+"images/20dc92168ae9bd0f87ac.svg"},88326:(e,t,s)=>{"use strict";e.exports=s.p+"images/2a5e80ae7855b92fedf8.svg"},64334:(e,t,s)=>{"use strict";e.exports=s.p+"images/efd116d81669767627a0.svg"},39217:(e,t,s)=>{"use strict";e.exports=s.p+"images/338700a489ceefc6c85f.svg"},39833:(e,t,s)=>{"use strict";e.exports=s.p+"images/d10d9d0b8a0182e14f7f.svg"},79145:(e,t,s)=>{"use strict";e.exports=s.p+"images/1fa3238adbdd5caae684.svg"},49047:(e,t,s)=>{"use strict";e.exports=s.p+"images/5bf5b88aa46c733bb3e8.svg"},64634:(e,t,s)=>{"use strict";e.exports=s.p+"images/e70c43c2d4510c40f9d2.svg"},53901:(e,t,s)=>{"use strict";e.exports=s.p+"images/f17fca119c33fc126564.svg"},90688:(e,t,s)=>{"use strict";e.exports=s.p+"images/efd7fa5820b4b708773d.svg"},36244:(e,t,s)=>{"use strict";e.exports=s.p+"images/08467c73e69e4a1fce3e.svg"},34814:(e,t,s)=>{"use strict";e.exports=s.p+"images/3dd82822a9cacaa52d84.svg"},64112:(e,t,s)=>{"use strict";e.exports=s.p+"images/4232e47dcccc890c6b0e.svg"},19977:(e,t,s)=>{"use strict";e.exports=s.p+"images/6fdcee12f8fbf04a8390.svg"},85676:(e,t,s)=>{"use strict";e.exports=s.p+"images/5d706e374de2a8d16581.svg"},41590:(e,t,s)=>{"use strict";e.exports=s.p+"images/3e1640ee3a21e5ca02d3.svg"},83336:(e,t,s)=>{"use strict";e.exports=s.p+"images/e47dd5b37e94d2abb68a.svg"},92145:(e,t,s)=>{"use strict";e.exports=s.p+"images/16a4986fce0a0a61d863.svg"},11820:(e,t,s)=>{"use strict";e.exports=s.p+"images/5a7151369dfa0077124c.svg"},58324:(e,t,s)=>{"use strict";e.exports=s.p+"images/49ad0134997a04437d25.svg"},79225:(e,t,s)=>{"use strict";e.exports=s.p+"images/ac194aa702f0f69961e1.svg"},37308:(e,t,s)=>{"use strict";e.exports=s.p+"images/5b31a51a613cbb23c4c8.svg"},33958:(e,t,s)=>{"use strict";e.exports=s.p+"images/400f629c2275010feb06.svg"},59384:(e,t,s)=>{"use strict";e.exports=s.p+"images/05e3625f19323c81feed.svg"},51009:(e,t,s)=>{"use strict";e.exports=s.p+"images/f9866f08ca81e8f0cf17.svg"},84690:(e,t,s)=>{"use strict";e.exports=s.p+"images/f868d15d81a1ff882a5f.svg"},41053:(e,t,s)=>{"use strict";e.exports=s.p+"images/3cb27301491ff545960f.svg"},54334:(e,t,s)=>{"use strict";e.exports=s.p+"images/5f9a51db381998ba6896.svg"},29513:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4025da3c59b1cdda1c9.svg"},68328:(e,t,s)=>{"use strict";e.exports=s.p+"images/b3e54b728bc9530c6e3b.svg"},22413:(e,t,s)=>{"use strict";e.exports=s.p+"images/94deac35d3b02c13ed9a.svg"},36598:(e,t,s)=>{"use strict";e.exports=s.p+"images/885ee026114eb62f1c9a.svg"},13942:(e,t,s)=>{"use strict";e.exports=s.p+"images/1b2be2bc10dfa87cdca8.svg"},29442:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9ce49db74b9f157a017.svg"},30511:(e,t,s)=>{"use strict";e.exports=s.p+"images/7f9281479dc562a98dfe.svg"},7136:(e,t,s)=>{"use strict";e.exports=s.p+"images/4dc35d2da56d08559e5e.svg"},5968:(e,t,s)=>{"use strict";e.exports=s.p+"images/f622d9aa2e53adbebb5e.svg"},54599:(e,t,s)=>{"use strict";e.exports=s.p+"images/fc809cedaa245622208a.svg"},67588:(e,t,s)=>{"use strict";e.exports=s.p+"images/2f7c82f0720516e5610b.svg"},61113:(e,t,s)=>{"use strict";e.exports=s.p+"images/dd10aa6c836439033e2b.svg"},24403:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7999a606d43f90dd552.svg"},73083:(e,t,s)=>{"use strict";e.exports=s.p+"images/39f5c4f0fed45b4fe215.svg"},38306:(e,t,s)=>{"use strict";e.exports=s.p+"images/ce67fb0eefccd4b9c689.svg"},11693:(e,t,s)=>{"use strict";e.exports=s.p+"images/caaa3878618da105a9e2.svg"},46361:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9cc6ee5ca8e55068b49.svg"},44962:(e,t,s)=>{"use strict";e.exports=s.p+"images/287cbf758f690d451c51.svg"},34073:(e,t,s)=>{"use strict";e.exports=s.p+"images/0d89692bd1f0cc478c9f.svg"},96492:(e,t,s)=>{"use strict";e.exports=s.p+"images/5727935d5037a078efe4.svg"},53739:(e,t,s)=>{"use strict";e.exports=s.p+"images/a70d3e3cdc68d06c0d5e.svg"},81972:(e,t,s)=>{"use strict";e.exports=s.p+"images/b31cf0edcfcb29738e97.svg"},14499:(e,t,s)=>{"use strict";e.exports=s.p+"images/55d6eb5f4c6bfecc4792.svg"},38989:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f290e688d71d369e95f.svg"},9722:(e,t,s)=>{"use strict";e.exports=s.p+"images/7aeea24fdc37d214a06d.svg"},24318:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb6d076710465f8c3234.svg"},78399:(e,t,s)=>{"use strict";e.exports=s.p+"images/5279d81e4f49daaf248a.svg"},50584:(e,t,s)=>{"use strict";e.exports=s.p+"images/4860cf22b5d40e387424.svg"},61172:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6b472d08d713fb6d31.svg"},7380:(e,t,s)=>{"use strict";e.exports=s.p+"images/35b9b7334b47a59cca09.svg"},8309:(e,t,s)=>{"use strict";e.exports=s.p+"images/c78f76ce6dbf2e7cef0e.svg"},97119:(e,t,s)=>{"use strict";e.exports=s.p+"images/2c22de944823fc5c37d8.svg"},93217:(e,t,s)=>{"use strict";e.exports=s.p+"images/0b44156a764b58ed464d.svg"},91188:(e,t,s)=>{"use strict";e.exports=s.p+"images/e0fa3c03875210e8e540.svg"},76831:(e,t,s)=>{"use strict";e.exports=s.p+"images/e05860320843ba654bb4.svg"},67691:(e,t,s)=>{"use strict";e.exports=s.p+"images/7a71d5ab347ce67a8594.svg"},89647:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7f47b48f8d97652ab10.svg"},7814:(e,t,s)=>{"use strict";e.exports=s.p+"images/5842839dfa553764b052.svg"},89072:(e,t,s)=>{"use strict";e.exports=s.p+"images/d4ef5c4a91c3599ce43d.svg"},86268:(e,t,s)=>{"use strict";e.exports=s.p+"images/f0af392c47b911e2f9f8.svg"},64804:(e,t,s)=>{"use strict";e.exports=s.p+"images/5ae1eeb66a5e7b06b7ce.svg"},73705:(e,t,s)=>{"use strict";e.exports=s.p+"images/69bf93dc7155ce4fdfea.svg"},19921:(e,t,s)=>{"use strict";e.exports=s.p+"images/87d0e45a574806aa6b19.svg"},96948:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3ff7871a39f40453cec.svg"},80658:(e,t,s)=>{"use strict";e.exports=s.p+"images/67d4a90a43a794db79fa.svg"},69275:(e,t,s)=>{"use strict";e.exports=s.p+"images/4cc5f6d197d11a282a58.svg"},5656:(e,t,s)=>{"use strict";e.exports=s.p+"images/2cf8256f77f4e030d2a1.svg"},98737:(e,t,s)=>{"use strict";e.exports=s.p+"images/bbbc00bb8cfce525f319.svg"},46246:(e,t,s)=>{"use strict";e.exports=s.p+"images/896c6f8d95867a66d131.svg"},96959:(e,t,s)=>{"use strict";e.exports=s.p+"images/e5d2b069acf2e0508dc7.svg"},68496:(e,t,s)=>{"use strict";e.exports=s.p+"images/9054ec27ca3d1be3c9cc.svg"},36979:(e,t,s)=>{"use strict";e.exports=s.p+"images/f40f26ff38dc20f7abb8.svg"},40578:(e,t,s)=>{"use strict";e.exports=s.p+"images/a28d9e2897d924546d43.svg"},78845:(e,t,s)=>{"use strict";e.exports=s.p+"images/82c722a06341fb4c9917.svg"},47764:(e,t,s)=>{"use strict";e.exports=s.p+"images/b0a495897c1210c5671e.svg"},72183:(e,t,s)=>{"use strict";e.exports=s.p+"images/b270b338bc845da256e5.svg"},14150:(e,t,s)=>{"use strict";e.exports=s.p+"images/6568e27154b3425a8043.svg"},66641:(e,t,s)=>{"use strict";e.exports=s.p+"images/829ae8d7bb3b233818bc.svg"},31716:(e,t,s)=>{"use strict";e.exports=s.p+"images/817c8dc2469eb3a5a4d6.svg"},64960:(e,t,s)=>{"use strict";e.exports=s.p+"images/0c443d48b2dadb7e13f0.svg"},44450:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb731c28c9baedebc709.svg"},90678:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3c10cd8934e638b2053.svg"},82633:(e,t,s)=>{"use strict";e.exports=s.p+"images/42aed12213c365efd46b.svg"},19347:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4f4af71969ef8e8c2d3.svg"},35413:(e,t,s)=>{"use strict";e.exports=s.p+"images/ad0093a418b39dc4519a.svg"},5098:(e,t,s)=>{"use strict";e.exports=s.p+"images/1ece557d6509bf97f8fe.svg"},1798:(e,t,s)=>{"use strict";e.exports=s.p+"images/6bf9122fd9bf7117b752.svg"},35949:(e,t,s)=>{"use strict";e.exports=s.p+"images/c1c8e2190d088ccb636c.svg"},27624:(e,t,s)=>{"use strict";e.exports=s.p+"images/536b8ae2776c9627c4f7.svg"},63407:(e,t,s)=>{"use strict";e.exports=s.p+"images/3904bbd600574de4ba2e.svg"},20151:(e,t,s)=>{"use strict";e.exports=s.p+"images/80c4ad61d594a8ace86c.svg"},81446:(e,t,s)=>{"use strict";e.exports=s.p+"images/b3e54b728bc9530c6e3b.svg"},51227:(e,t,s)=>{"use strict";e.exports=s.p+"images/94deac35d3b02c13ed9a.svg"},12984:(e,t,s)=>{"use strict";e.exports=s.p+"images/885ee026114eb62f1c9a.svg"},43044:(e,t,s)=>{"use strict";e.exports=s.p+"images/1b2be2bc10dfa87cdca8.svg"},54980:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9ce49db74b9f157a017.svg"},34205:(e,t,s)=>{"use strict";e.exports=s.p+"images/7f9281479dc562a98dfe.svg"},48274:(e,t,s)=>{"use strict";e.exports=s.p+"images/4dc35d2da56d08559e5e.svg"},52234:(e,t,s)=>{"use strict";e.exports=s.p+"images/f622d9aa2e53adbebb5e.svg"},18333:(e,t,s)=>{"use strict";e.exports=s.p+"images/fc809cedaa245622208a.svg"},51194:(e,t,s)=>{"use strict";e.exports=s.p+"images/2f7c82f0720516e5610b.svg"},99091:(e,t,s)=>{"use strict";e.exports=s.p+"images/dd10aa6c836439033e2b.svg"},77221:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7999a606d43f90dd552.svg"},16541:(e,t,s)=>{"use strict";e.exports=s.p+"images/39f5c4f0fed45b4fe215.svg"},4288:(e,t,s)=>{"use strict";e.exports=s.p+"images/6ccb1a17081cc1c88315.svg"},7207:(e,t,s)=>{"use strict";e.exports=s.p+"images/caaa3878618da105a9e2.svg"},67199:(e,t,s)=>{"use strict";e.exports=s.p+"images/9dde80eff7a6aa6cadbe.svg"},878:(e,t,s)=>{"use strict";e.exports=s.p+"images/31351b5039da4a03f0aa.svg"},26613:(e,t,s)=>{"use strict";e.exports=s.p+"images/8a26f4b75f2cf7dbffdd.svg"},53502:(e,t,s)=>{"use strict";e.exports=s.p+"images/710f7a4f431e711d6ca6.svg"},87813:(e,t,s)=>{"use strict";e.exports=s.p+"images/bcc540223379dce781e9.svg"},3715:(e,t,s)=>{"use strict";e.exports=s.p+"images/e40ad43dfbc2bdb11ac5.svg"},91460:(e,t,s)=>{"use strict";e.exports=s.p+"images/8eee11623d6663403f4d.svg"},61229:(e,t,s)=>{"use strict";e.exports=s.p+"images/8039c4416588f518e363.svg"},3598:(e,t,s)=>{"use strict";e.exports=s.p+"images/bc8cf5f70d8cb302d1c6.svg"},78739:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f290e688d71d369e95f.svg"},99252:(e,t,s)=>{"use strict";e.exports=s.p+"images/7aeea24fdc37d214a06d.svg"},42104:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb6d076710465f8c3234.svg"},3165:(e,t,s)=>{"use strict";e.exports=s.p+"images/5279d81e4f49daaf248a.svg"},65546:(e,t,s)=>{"use strict";e.exports=s.p+"images/4860cf22b5d40e387424.svg"},37902:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6b472d08d713fb6d31.svg"},92662:(e,t,s)=>{"use strict";e.exports=s.p+"images/35b9b7334b47a59cca09.svg"},60331:(e,t,s)=>{"use strict";e.exports=s.p+"images/c78f76ce6dbf2e7cef0e.svg"},65253:(e,t,s)=>{"use strict";e.exports=s.p+"images/2c22de944823fc5c37d8.svg"},71555:(e,t,s)=>{"use strict";e.exports=s.p+"images/0b44156a764b58ed464d.svg"},23666:(e,t,s)=>{"use strict";e.exports=s.p+"images/e0fa3c03875210e8e540.svg"},79613:(e,t,s)=>{"use strict";e.exports=s.p+"images/e05860320843ba654bb4.svg"},98473:(e,t,s)=>{"use strict";e.exports=s.p+"images/7a71d5ab347ce67a8594.svg"},20225:(e,t,s)=>{"use strict";e.exports=s.p+"images/3f6478d8d82df4cb2ec2.svg"},7780:(e,t,s)=>{"use strict";e.exports=s.p+"images/9a3f082eb7e6e5fb244e.svg"},47202:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4dc7a2f97845c70640a.svg"},96462:(e,t,s)=>{"use strict";e.exports=s.p+"images/5a7151369dfa0077124c.svg"},78446:(e,t,s)=>{"use strict";e.exports=s.p+"images/49ad0134997a04437d25.svg"},57239:(e,t,s)=>{"use strict";e.exports=s.p+"images/ac194aa702f0f69961e1.svg"},68368:(e,t,s)=>{"use strict";e.exports=s.p+"images/3ad58dddbcc45e039f71.svg"},90607:(e,t,s)=>{"use strict";e.exports=s.p+"images/2bc91ce54fe2c314c713.svg"},70422:(e,t,s)=>{"use strict";e.exports=s.p+"images/33a467543d8faa162fdb.svg"},63437:(e,t,s)=>{"use strict";e.exports=s.p+"images/8a52b7b2a153d82eac82.svg"},62004:(e,t,s)=>{"use strict";e.exports=s.p+"images/28afd01272bdcff4ee5b.svg"},5987:(e,t,s)=>{"use strict";e.exports=s.p+"images/822c3c8b4c3311b4a798.svg"},91393:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6c0edb9309b529db68.svg"},75778:(e,t,s)=>{"use strict";e.exports=s.p+"images/216a0031b45a5bf85fb4.svg"},23441:(e,t,s)=>{"use strict";e.exports=s.p+"images/8c80d29aa8a7a3fadd37.svg"},79986:(e,t,s)=>{"use strict";e.exports=s.p+"images/b833ee2aaf9ed6122803.svg"},663:(e,t,s)=>{"use strict";e.exports=s.p+"images/9302ab0d4432d5312550.svg"},37480:(e,t,s)=>{"use strict";e.exports=s.p+"images/f32d1647e76dfc302138.svg"},85513:(e,t,s)=>{"use strict";e.exports=s.p+"images/f6606122686586bc7a13.svg"},41146:(e,t,s)=>{"use strict";e.exports=s.p+"images/da423a15e99c63c84f71.svg"},22945:(e,t,s)=>{"use strict";e.exports=s.p+"images/7800d33f91d865bbfd71.svg"},17154:(e,t,s)=>{"use strict";e.exports=s.p+"images/1054c98d9013c9f44c7c.svg"},28034:(e,t,s)=>{"use strict";e.exports=s.p+"images/6d1fcb82b802d0cf05f4.svg"},73625:(e,t,s)=>{"use strict";e.exports=s.p+"images/c51932906d2a90de2411.svg"},85251:(e,t,s)=>{"use strict";e.exports=s.p+"images/c29b3f0a98b8103ba560.svg"},22282:(e,t,s)=>{"use strict";e.exports=s.p+"images/3fdea3d3a1843d5d096c.svg"},92164:(e,t,s)=>{"use strict";e.exports=s.p+"images/d85f16d1e7f3383ccc98.svg"},17989:(e,t,s)=>{"use strict";e.exports=s.p+"images/4cc5f6d197d11a282a58.svg"},58218:(e,t,s)=>{"use strict";e.exports=s.p+"images/2cf8256f77f4e030d2a1.svg"},81535:(e,t,s)=>{"use strict";e.exports=s.p+"images/bbbc00bb8cfce525f319.svg"},31708:(e,t,s)=>{"use strict";e.exports=s.p+"images/896c6f8d95867a66d131.svg"},76529:(e,t,s)=>{"use strict";e.exports=s.p+"images/e5d2b069acf2e0508dc7.svg"},4290:(e,t,s)=>{"use strict";e.exports=s.p+"images/9054ec27ca3d1be3c9cc.svg"},42557:(e,t,s)=>{"use strict";e.exports=s.p+"images/f40f26ff38dc20f7abb8.svg"},32208:(e,t,s)=>{"use strict";e.exports=s.p+"images/a28d9e2897d924546d43.svg"},17043:(e,t,s)=>{"use strict";e.exports=s.p+"images/82c722a06341fb4c9917.svg"},82686:(e,t,s)=>{"use strict";e.exports=s.p+"images/b0a495897c1210c5671e.svg"},16969:(e,t,s)=>{"use strict";e.exports=s.p+"images/b270b338bc845da256e5.svg"},76700:(e,t,s)=>{"use strict";e.exports=s.p+"images/6568e27154b3425a8043.svg"},44927:(e,t,s)=>{"use strict";e.exports=s.p+"images/829ae8d7bb3b233818bc.svg"},43854:(e,t,s)=>{"use strict";e.exports=s.p+"images/817c8dc2469eb3a5a4d6.svg"},63746:(e,t,s)=>{"use strict";e.exports=s.p+"images/0c443d48b2dadb7e13f0.svg"},21852:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb731c28c9baedebc709.svg"},66788:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3c10cd8934e638b2053.svg"},35243:(e,t,s)=>{"use strict";e.exports=s.p+"images/42aed12213c365efd46b.svg"},15453:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4f4af71969ef8e8c2d3.svg"},10559:(e,t,s)=>{"use strict";e.exports=s.p+"images/ad0093a418b39dc4519a.svg"},55568:(e,t,s)=>{"use strict";e.exports=s.p+"images/1ece557d6509bf97f8fe.svg"},9412:(e,t,s)=>{"use strict";e.exports=s.p+"images/6bf9122fd9bf7117b752.svg"},75607:(e,t,s)=>{"use strict";e.exports=s.p+"images/c1c8e2190d088ccb636c.svg"},51295:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":1,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":2,"margin":0,"degradation":2},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":6},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":0,"degradation":20},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},37572:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.455]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.455]}}},"zIndex":1}')},14557:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},39386:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},79259:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},95856:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},96237:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":12,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},68682:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.46]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.46]}}},"zIndex":1}')},24294:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},23505:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},84862:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')},4314:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":1,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":2,"margin":0,"degradation":2},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":6},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":0,"degradation":20},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},60291:e=>{"use strict";e.exports=JSON.parse('{"zIndex":1,"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[36,36],"offset":[0.5,0.5]},"hover":{"img":"commercial_hover.svg","size":[40,40],"offset":[0.45,0.425]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}}}}')},67082:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":1,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":2,"margin":0,"degradation":2},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":6},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":0,"degradation":20},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},13267:e=>{"use strict";e.exports=JSON.parse('{"zIndex":1,"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[36,36],"offset":[0.5,0.5]},"hover":{"img":"commercial_hover.svg","size":[40,40],"offset":[0.45,0.425]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}}}}')},65553:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[30,48],"offset":[0.5,0.5]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[34,54],"offset":[0.5,0.5]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},66857:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":30},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":35},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":40},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":45},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":45},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":50},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":55},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":36,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":24,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":20,"margin":0,"degradation":0}],"labelMargin":60}}')},61110:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"small.svg","size":[10,10],"offset":[0.5,0.5]},"hover":{"img":"small-hover.svg","size":[10,10],"offset":[0.5,0.5]},"visited":{"img":"small-visited.svg","size":[10,10],"offset":[0.5,0.5]},"normal-pik":{"img":"small-pik.svg","size":[10,10],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"medium.svg","size":[12,12],"offset":[0.5,0.5]},"hover":{"img":"medium-hover.svg","size":[12,12],"offset":[0.5,0.5]},"visited":{"img":"medium-visited.svg","size":[12,12],"offset":[0.5,0.5]},"normal-pik":{"img":"medium-pik.svg","size":[12,12],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"large.svg","size":[18,18],"offset":[0.5,0.5]},"hover":{"img":"large-hover.svg","size":[18,18],"offset":[0.5,0.5]},"visited":{"img":"large-visited.svg","size":[18,18],"offset":[0.5,0.5]},"normal-pik":{"img":"large-pik.svg","size":[18,18],"offset":[0.5,0.5]}}},"zIndex":1}')},38421:e=>{"use strict";e.exports=JSON.parse('{"icons":{"supermarket_normal":{"normal":{"img":"infrastructure/normal/supermarket_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"education_normal":{"normal":{"img":"infrastructure/normal/education_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"kindergarten_normal":{"normal":{"img":"infrastructure/normal/kindergarten_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"hospital_normal":{"normal":{"img":"infrastructure/normal/hospital_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"pharmacy_normal":{"normal":{"img":"infrastructure/normal/pharmacy_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"sport_normal":{"normal":{"img":"infrastructure/normal/sport_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"culture_normal":{"normal":{"img":"infrastructure/normal/culture_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"bar_normal":{"normal":{"img":"infrastructure/normal/bar_marker.svg","size":[24,24],"offset":[0.5,0.5]}}},"zIndex":1}')},22711:e=>{"use strict";e.exports=JSON.parse('{"icons":{"supermarket_selected":{"normal":{"img":"infrastructure/selected/supermarket_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"education_selected":{"normal":{"img":"infrastructure/selected/education_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"kindergarten_selected":{"normal":{"img":"infrastructure/selected/kindergarten_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"hospital_selected":{"normal":{"img":"infrastructure/selected/hospital_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"pharmacy_selected":{"normal":{"img":"infrastructure/selected/pharmacy_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"sport_selected":{"normal":{"img":"infrastructure/selected/sport_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"culture_selected":{"normal":{"img":"infrastructure/selected/culture_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"bar_selected":{"normal":{"img":"infrastructure/selected/bar_marker.svg","size":[36,36],"offset":[0.5,0.5]}}},"zIndex":2}')},88728:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},84195:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":15,"margin":30,"degradation":40},{"type":"middlebullet","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":8,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":23},"15":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"16":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":15},"17":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0}}')},15480:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[20,21],"offset":[0.5,0.42]},"hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"active":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"active_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"closed":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"closed_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"deleted":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"deleted_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[26,26],"offset":[0.5,0.39]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"active":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"active_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"closed":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"closed_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"deleted":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"deleted_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[32,32],"offset":[0.5,0.42]},"hover":{"img":"bigbullet_hover.svg","size":[32,32],"offset":[0.5,0.42]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial":{"normal":{"img":"commercial.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_hover.svg","size":[42,42],"offset":[0.5,0.43]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_logo_hover.svg","size":[42,42],"offset":[0.5,0.43]}},"commercial_immersive":{"normal":{"img":"commercial_immersive.svg","size":[42,46],"offset":[0.5,0.43]},"hover":{"img":"commercial_immersive_hover.svg","size":[42,46],"offset":[0.5,0.43]}},"commercial_logo_immersive":{"normal":{"img":"commercial_logo_immersive.svg","size":[42,46],"offset":[0.5,0.43]},"hover":{"img":"commercial_logo_immersive_hover.svg","size":[42,46],"offset":[0.5,0.43]}},"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},74249:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},94358:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},78327:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},1052:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},97201:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":12,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},48670:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[20,21],"offset":[0.5,0.42]},"hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"active":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"active_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"closed":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"closed_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"deleted":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"deleted_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[26,26],"offset":[0.5,0.39]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"active":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"active_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"closed":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"closed_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"deleted":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"deleted_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[32,32],"offset":[0.5,0.42]},"hover":{"img":"bigbullet_hover.svg","size":[32,32],"offset":[0.5,0.42]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial":{"normal":{"img":"commercial.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_hover.svg","size":[42,42],"offset":[0.5,0.43]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_logo_hover.svg","size":[42,42],"offset":[0.5,0.43]}},"commercial_immersive":{"normal":{"img":"commercial_immersive.svg","size":[42,46],"offset":[0.5,0.43]},"hover":{"img":"commercial_immersive_hover.svg","size":[42,46],"offset":[0.5,0.43]}},"commercial_logo_immersive":{"normal":{"img":"commercial_logo_immersive.svg","size":[42,46],"offset":[0.5,0.43]},"hover":{"img":"commercial_logo_immersive_hover.svg","size":[42,46],"offset":[0.5,0.43]}},"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},14354:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},59765:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},95090:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')},20605:e=>{"use strict";e.exports=JSON.parse('{"icons":{"bar":{"commercial_normal":{"img":"rubric/marker_bar.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_bar_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_bar.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_bar_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"cafe":{"commercial_normal":{"img":"rubric/marker_cafe.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_cafe_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_cafe.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_cafe_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"candy":{"commercial_normal":{"img":"rubric/marker_candy.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_candy_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_candy.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_candy_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"coffe_to_go":{"commercial_normal":{"img":"rubric/marker_coffe_to_go.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_coffe_to_go_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_coffe_to_go.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_coffe_to_go_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"coffee":{"commercial_normal":{"img":"rubric/marker_coffee.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_coffee_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_coffee.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_coffee_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"fastfood":{"commercial_normal":{"img":"rubric/marker_fastfood.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_fastfood_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_fastfood.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_fastfood_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"pizza":{"commercial_normal":{"img":"rubric/marker_pizza.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_pizza_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_pizza.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_pizza_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"sushi":{"commercial_normal":{"img":"rubric/marker_sushi.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_sushi_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_sushi.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_sushi_hover.svg","size":[24,24],"offset":[0.5,0.455]}}},"zIndex":1}')},34875:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":15,"margin":30,"degradation":40},{"type":"middlebullet","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":8,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":23},"15":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"16":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":15},"17":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0}}')},26160:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[24,24],"offset":[0.42,0.42]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[26,26],"offset":[0.43,0.43]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.455]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.455]}}},"zIndex":1}')},1137:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},65982:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},18303:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},22980:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},35305:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":12,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},98166:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[24,24],"offset":[0.42,0.42]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[26,26],"offset":[0.43,0.43]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.46]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.46]}}},"zIndex":1}')},32250:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},5293:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},28650:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')}},e=>{e.O(0,[4121,9114,4644,3126,2315],(()=>e(e.s=28956))),e.O()}]);